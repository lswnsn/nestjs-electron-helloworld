(self.webpackChunk_oamcu_web=self.webpackChunk_oamcu_web||[]).push([[537],{99537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AlarmActiveModule:()=>t_.AlarmActiveModule,AlarmHistoryModule:()=>n_.AlarmHistoryModule,CellsMappingModule:()=>u.CellsMappingModule,CellsStatusModule:()=>d.CellsStatusModule,CertificateAutomaticModule:()=>lN,CertificateCrlModule:()=>rL,CertificateOperatorModule:()=>Ck,ConfigurationCompareObjectsModule:()=>e_,ConfigurationErrorsModule:()=>uw,ConfigurationParameterSearchModule:()=>PP,CuDashboardModule:()=>i.CuDashboardModule,CuStatusModule:()=>o.CuStatusModule,DiagnosticCplaneModule:()=>JU,DiagnosticIpConnectivityModule:()=>gj,DiagnosticIpSecurityAssociationModule:()=>sB,DiagnosticPmtuDiscoveryModule:()=>i$,DiagnosticSnapshotModule:()=>bD.y,DusStatusModule:()=>s.DusStatusModule,FaultTogglingModule:()=>i_.FaultTogglingModule,IpsecPskConfigurationModule:()=>AS,LazySplitViewLibModule:()=>Sw,NetworkSlicingModule:()=>c.NetworkSlicingModule,NgLinkModule:()=>p.s,OperatorAccountManagementModule:()=>rD,ParameterEditorModule:()=>Ty,PasswordExpiredModule:()=>I$,PmV2Module:()=>zT,ServiceAccountModule:()=>fD,SessionsModule:()=>K$,TracingModule:()=>iU,UiSettingsModule:()=>h$,VmStatusModule:()=>a.VmStatusModule,X2StatusModule:()=>r.X2StatusModule,XnLinksStatusModule:()=>l.XnLinksStatusModule});var i=n(37212),o=n(16600),s=n(79428),a=n(1496),r=n(65206),l=n(43120),c=n(78392),d=n(20837),u=n(7324),p=n(53846),g=n(62800),h=n(374),m=n(12057),f=n(12021),b=(()=>(function(e){e.ToggleParameterEditorTreePanel="[User] [ParameterEditorTreePanel] Toggle tree panel",e.SetTreeObjectsFilter="[User] [ParameterEditorTreePanel] Set tree objects filter"}(b||(b={})),b))();const C=(0,g.PH)(b.ToggleParameterEditorTreePanel),v=(0,g.PH)(b.SetTreeObjectsFilter,(0,g.Ky)()),y="treePanel",S=(0,g.Lq)({togglePanelTree:!1,treeFilterValue:""},(0,g.on)(C,e=>Object.assign(Object.assign({},e),{togglePanelTree:!e.togglePanelTree})),(0,g.on)(v,(e,t)=>Object.assign(Object.assign({},e),{treeFilterValue:t.treeFilterValue})));function P(e,t){return S(e,t)}const O=(0,g.ZF)(y),x=(0,g.P1)(O,e=>e.togglePanelTree),w=(0,g.P1)(O,e=>e.treeFilterValue);var A=n(88002),_=n(23815),T=n.n(_),I=n(23607),E=(()=>(function(e){e.FetchPlanTreeUpdate="[PlansTreeAction] Fetch plan tree update",e.SelectMoLite="[User] [Effect] Select MoLite",e.SelectMoLiteToComparision="[User] [Effect] Select MoLite to comparision",e.PlanTreeError="[Effect] Plans trees error",e.SubscribeOnPlanTreeChanges="[PlansTreeEffect] Subscribe on plans tree changes",e.UnsubscribeFromPlanTreeChanges="[PlansTreeEffect] Unsubscribe from plans tree changes",e.AddPlanTreeNodes="[Effect] Add plan tree nodes",e.ReplacePlanTreeNodes="[Effect] Replace plan tree nodes",e.UpdatePlanTreeNodes="[Effect] Update plan tree nodes",e.RemovePlanTreeNodes="[Effect] Remove plan tree nodes",e.ChangePlanTreeRevision="[Effect] Change plan tree revision",e.ClearPlanTree="[Effect] Clear plan tree",e.SetFetchingTreeDataStatus="[Effect] Set fetching tree data status",e.SetExpandedNodeIds="[PlansTreeAction] Set expanded nodes Ids",e.SetMoLiteDeletability="[PlansTreeAction] Set selected moLite deletability",e.SetMoLiteOperationRoles="[PlansTreeAction] Set seletcted moLite operationRoles",e.SetChildMoLiteOperationRoles="[PlansTreeAction] Set child moLite operationRoles"}(E||(E={})),E))();const M=(0,g.PH)(E.ReplacePlanTreeNodes,(0,g.Ky)()),k=(0,g.PH)(E.FetchPlanTreeUpdate,(0,g.Ky)()),N=(0,g.PH)(E.SelectMoLite,(0,g.Ky)()),L=(0,g.PH)(E.SelectMoLiteToComparision,(0,g.Ky)()),D=(0,g.PH)(E.PlanTreeError,(0,g.Ky)()),Z=(0,g.PH)(E.SubscribeOnPlanTreeChanges,(0,g.Ky)()),R=(0,g.PH)(E.UnsubscribeFromPlanTreeChanges),U=(0,g.PH)(E.AddPlanTreeNodes,(0,g.Ky)()),F=(0,g.PH)(E.UpdatePlanTreeNodes,(0,g.Ky)()),j=(0,g.PH)(E.RemovePlanTreeNodes,(0,g.Ky)()),$=(0,g.PH)(E.ChangePlanTreeRevision,(0,g.Ky)()),q=(0,g.PH)(E.SetFetchingTreeDataStatus,(0,g.Ky)()),B=(0,g.PH)(E.ClearPlanTree),G=(0,g.PH)(E.SetExpandedNodeIds,(0,g.Ky)()),V=(0,g.PH)(E.SetMoLiteDeletability,(0,g.Ky)()),Y=(0,g.PH)(E.SetMoLiteOperationRoles,(0,g.Ky)()),J=(0,g.PH)(E.SetChildMoLiteOperationRoles,(0,g.Ky)()),H=(0,I.H)({selectId:e=>e.moUuid,sortComparer:function(e,t){const[n,i]=e.name.split("-"),[o,s]=t.name.split("-");return n===o?parseInt(i,10)-parseInt(s,10):n>o?1:-1}}),W=H.getInitialState({isFetchingTreeData:!1,isSelectedObjectDeletable:!1,expandedNodeIds:[],planId:void 0,operationRoles:[],childMoOperationRoles:[]}),Q=(0,g.Lq)(W,(0,g.on)(U,(e,{nodes:t,planId:n})=>H.addMany(t,Object.assign(Object.assign({},e),{planId:n}))),(0,g.on)(M,(e,{nodes:t,planId:n})=>H.setAll(t,Object.assign(Object.assign({},e),{planId:n}))),(0,g.on)(F,(e,{nodes:t})=>H.updateMany(t.map(e=>({id:e.moUuid,changes:e})),e)),(0,g.on)(j,(e,{nodeIds:t})=>H.removeMany(t,e)),(0,g.on)($,(e,{revision:t})=>Object.assign(Object.assign({},e),{treeRevision:t})),(0,g.on)(B,e=>H.removeAll(Object.assign(Object.assign({},e),{selectedMoUuid:void 0,expandedNodeIds:[],planId:void 0}))),(0,g.on)(q,(e,{fetchingTreeDataStatus:t})=>Object.assign(Object.assign({},e),{isFetchingTreeData:t})),(0,g.on)(N,(e,{moUuid:t})=>Object.assign(Object.assign({},e),{selectedMoUuid:t})),(0,g.on)(V,(e,{isDeletable:t})=>Object.assign(Object.assign({},e),{isSelectedObjectDeletable:t})),(0,g.on)(G,(e,{expandedNodeIds:t})=>Object.assign(Object.assign({},e),{expandedNodeIds:t})),(0,g.on)(Y,(e,{operationRoles:t})=>Object.assign(Object.assign({},e),{operationRoles:t})),(0,g.on)(J,(e,{childMoOperationRoles:t})=>Object.assign(Object.assign({},e),{childMoOperationRoles:t})));function z(e,t){return Q(e,t)}function K(e,t){if(!t)return"";let n=t.name,i=t.parentMoUuid;for(;!(0,_.isNil)(i);){const t=e[i];if(!t)break;n=`${t.name}/${n}`,i=t.parentMoUuid}return n}const{selectAll:X,selectEntities:ee}=H.getSelectors(),te=(0,g.ZF)("plansTree"),ne=(0,g.P1)(te,X),ie=(0,g.P1)(te,ee),oe=(0,g.P1)(ne,te,(e,t)=>({planId:t.planId,nodes:e})),se=((0,g.P1)(te,e=>e.treeRevision),(0,g.P1)(te,e=>e.isFetchingTreeData)),ae=(0,g.P1)(te,e=>e.selectedMoUuid),re=(0,g.P1)(ae,ie,(e,t)=>(0,_.isNil)(e)?void 0:t[e]),le=(0,g.P1)(ae,ne,(e,t)=>(0,_.isNil)(e)?[]:t.filter(t=>t.parentMoUuid===e)),ce=(0,g.P1)(ie,re,(e,t)=>K(e,t)),de=(0,g.P1)(ne,re,ie,(e,t,n)=>{if(!t)return;const i=t.name.split("-")[0];return e.filter(e=>e.name.startsWith(`${i}-`)&&e.name!==t.name).map(e=>({distname:K(n,e),mo:e}))}),ue=(0,g.P1)(te,e=>e.expandedNodeIds),pe=(0,g.P1)(te,e=>e.isSelectedObjectDeletable),ge=(0,g.P1)(te,e=>e.operationRoles),he=(0,g.P1)(te,e=>e.childMoOperationRoles);var me=n(32468);const fe=(0,g.PH)("[ParameterDetailsEffect] Save parameter details data",(0,g.Ky)()),be=(0,g.PH)("[ParameterDetailsEffect] Save managed object details data",(0,g.Ky)()),Ce=(0,g.PH)("[ParameterDetailsEffect] Clear parameter details data"),ve=(0,g.PH)("[ParameterDetailsEffect] Clear managed object details data"),ye=(0,g.PH)("[USER] [SelectedParameterDetails] Set selected parameter details",(0,g.Ky)()),Se=(0,g.PH)("[USER] [Objects Quantity] Selected objects quantity row",(0,g.Ky)());var Pe=n(74788),Oe=n(92133),xe=n(87571),we=n(19182),Ae=n(79765),_e=n(46782),Te=n(59328),Ie=n(68307),Ee=n(15257),Me=(()=>(function(e){e.New="new",e.Changed="changed",e.Unchanged="unchanged",e.Deleted="deleted"}(Me||(Me={})),Me))();function ke(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ne(){return{moUuid:"",parentMoUuid:"",hasChildren:!1,hasDefinitionErrors:!1,hasChildrenDefinitionErrors:!1,hasRelationErrors:!1,hasChildrenRelationErrors:!1,children:[],name:"",niddId:"",state:Me.New,isExpanded:!1}}function Le(e,t){const n=[];let i=e;for(;i;){const e=De(i);i=e?t[e]:null,i&&n.push(i)}return n}function De(e){return e.parentMoUuid}function Ze(e){return e.hasDefinitionErrors||e.hasRelationErrors||e.hasChildrenDefinitionErrors||e.hasChildrenRelationErrors}function Re(e,t){(e.hasDefinitionErrors||e.hasChildrenDefinitionErrors)&&(t.hasChildrenDefinitionErrors=!0),(e.hasRelationErrors||e.hasChildrenRelationErrors)&&(t.hasChildrenRelationErrors=!0)}var Ue=(()=>(function(e){e.ManagedObjectLoaded="[ManagedObject] ManagedObject fetched",e.ManagedObjectToComparisionLoaded="[ManagedObject] ManagedObject to comparison fetched",e.SetManagedObject="[ManagedObject] Set managed object",e.SetManagedObjectToComparision="[ManagedObject] Set managed object to comparison",e.ManagedObjectToCopyLoaded="[ManagedObject] ManagedObject to copy loaded",e.ClearManagedObject="[ManagedObject] Clear ManagedObject",e.ClearComparedManagedObject="[ManagedObject] Clear compared ManagedObject",e.ManagedObjectLoadFailed="[ManagedObject] ManagedObject load failed",e.DeleteManagedObject="[User] [ManagedObject] Delete Managed Object",e.DeleteManagedObjectOngoing="[ManagedObject] Delete Managed Object Ongoing",e.DeleteManagedObjectSuccess="[ManagedObject] Delete Managed Object Success",e.DeleteManagedObjectFailure="[ManagedObject] Delete Managed Object Failure",e.DeleteManagedObjectHttpError="[ManagedObject] Delete Managed Object Http Error",e.AddManagedObject="[User] [ManagedObject] Add Managed Object",e.AddManagedObjectSuccess="[ManagedObject] Add Managed Object success",e.AddManagedObjectFailure="[ManagedObject] Add Managed Object failure",e.AddManagedObjectHttpError="[ManagedObject] Add Managed Object Http Error",e.ManageObjectCopySources="[ManagedObject] Manage Object Copy Sources",e.ManagedObjectCopySourcesHttpError="[ManagedObject] Manage Object Copy Sources Http Error",e.ManagedObjectDeleteActionSuccess="[ManagedObject] Manage Object Delete Action Success",e.ManagedObjectDeleteActionFailure="[ManagedObject] Manage Object Delete Action Failure",e.ClearManageObjectCopySources="[ManagedObject] Clear Manage Object Copy Sources",e.CopyManagedObject="[User] [ManagedObject] Copy Managed Object",e.CopyManagedObjectSuccess="[User] [ManagedObject] Copy Managed Object success",e.CopyManagedObjectHttpError="[ManagedObject] Copy Managed Object Http Error",e.CopyManagedObjectFailure="[ManagedObject] Copy Managed Object failure",e.RevertManagedObject="[User] [ManagedObject] Revert Managed Object",e.RevertManagedObjectOngoing="[ManagedObject] Revert Managed Object Ongoing",e.RevertManagedObjectSuccess="[ManagedObject] Revert Managed Object Success",e.RevertManagedObjectFailure="[ManagedObject] Revert Managed Object Failure",e.RevertManagedObjectHttpError="[ManagedObject] Revert Managed Object Http Error",e.IsLoadingData="[ManagedObject] Is Loading Data"}(Ue||(Ue={})),Ue))();const Fe=(0,g.PH)(Ue.ManagedObjectLoaded,(0,g.Ky)()),je=(0,g.PH)(Ue.ManagedObjectToComparisionLoaded,(0,g.Ky)()),$e=(0,g.PH)(Ue.ManagedObjectToCopyLoaded,(0,g.Ky)()),qe=(0,g.PH)(Ue.ClearManagedObject),Be=(0,g.PH)(Ue.ClearComparedManagedObject),Ge=((0,g.PH)(Ue.ManagedObjectLoadFailed,(0,g.Ky)()),(0,g.PH)(Ue.DeleteManagedObject,(0,g.Ky)())),Ve=(0,g.PH)(Ue.DeleteManagedObjectOngoing,(0,g.Ky)()),Ye=(0,g.PH)(Ue.DeleteManagedObjectSuccess,(0,g.Ky)()),Je=(0,g.PH)(Ue.DeleteManagedObjectFailure,(0,g.Ky)()),He=(0,g.PH)(Ue.DeleteManagedObjectHttpError,(0,g.Ky)()),We=(0,g.PH)(Ue.RevertManagedObject,(0,g.Ky)()),Qe=(0,g.PH)(Ue.RevertManagedObjectOngoing,(0,g.Ky)()),ze=(0,g.PH)(Ue.RevertManagedObjectSuccess,(0,g.Ky)()),Ke=(0,g.PH)(Ue.RevertManagedObjectFailure,(0,g.Ky)()),Xe=(0,g.PH)(Ue.RevertManagedObjectHttpError,(0,g.Ky)()),et=(0,g.PH)(Ue.ManageObjectCopySources,(0,g.Ky)()),tt=(0,g.PH)(Ue.ManagedObjectCopySourcesHttpError,(0,g.Ky)()),nt=(0,g.PH)(Ue.ClearManageObjectCopySources),it=(0,g.PH)(Ue.AddManagedObject,(0,g.Ky)()),ot=(0,g.PH)(Ue.CopyManagedObject,(0,g.Ky)()),st=(0,g.PH)(Ue.CopyManagedObjectSuccess,(0,g.Ky)()),at=(0,g.PH)(Ue.CopyManagedObjectFailure,(0,g.Ky)()),rt=(0,g.PH)(Ue.CopyManagedObjectHttpError,(0,g.Ky)()),lt=(0,g.PH)(Ue.AddManagedObjectSuccess,(0,g.Ky)()),ct=(0,g.PH)(Ue.AddManagedObjectFailure,(0,g.Ky)()),dt=(0,g.PH)(Ue.AddManagedObjectHttpError,(0,g.Ky)()),ut=(0,g.PH)(Ue.ManagedObjectDeleteActionSuccess),pt=(0,g.PH)(Ue.ManagedObjectDeleteActionFailure,(0,g.Ky)()),gt=(0,g.PH)(Ue.IsLoadingData,(0,g.Ky)());var ht=n(49706),mt=n(40339),ft=n(9112),bt=(()=>(function(e){e.SetParentNiddId="[NewManagedObjectCreation] Set parent Nidd Id",e.SetAvailableChildren="[NewManagedObjectCreation] Set available children",e.RecalculatePossibleChildren="[NewManagedObjectCreation] Recalculate possible children",e.ClearNewManagedObjectCreation="[NewManagedObjectCreation] Clear new managed object creation"}(bt||(bt={})),bt))();const Ct=(0,g.PH)(bt.SetParentNiddId,(0,g.Ky)()),vt=(0,g.PH)(bt.SetAvailableChildren,(0,g.Ky)()),yt=(0,g.PH)(bt.RecalculatePossibleChildren,(0,g.Ky)()),St=(0,g.PH)(bt.ClearNewManagedObjectCreation,(0,g.Ky)()),Pt="newManagedObjectCreation",Ot={parentNiddId:void 0,availableChildren:[]},xt=(0,g.Lq)(Ot,(0,g.on)(Ct,(e,t)=>Object.assign(Object.assign({},e),{parentNiddId:t.parentNiddId})),(0,g.on)(vt,(e,t)=>Object.assign(Object.assign({},e),{availableChildren:t.availableChildren})),(0,g.on)(St,()=>Ot));function wt(e,t){return xt(e,t)}const At=(0,g.ZF)(Pt),_t=(0,g.P1)(At,e=>e.availableChildren),Tt=(0,g.P1)(_t,e=>!(0,_.isEmpty)(e)),It=(0,g.P1)(At,e=>e.parentNiddId);var Et=(()=>(function(e){e.AddManagedObject="AddManagedObject",e.RemoveManagedObject="RemoveManagedObject",e.RevertManagedObject="RevertManagedObject",e.UpdateParameter="UpdateParameter",e.AddMultipleParameterElement="AddMultipleParameterElement",e.RemoveMultipleParameterElement="RemoveMultipleParameterElement",e.RevertMultipleParameterElement="RevertMultipleParameterElement",e.CopyManagedObject="CopyManagedObject"}(Et||(Et={})),Et))(),Mt=n(4207),kt=n(22723);function Nt({id:e,identifyingData:t}){return`${e}_${Object.keys(t).sort().map(e=>`${e}-${t[e]}`).join("_")}`}const Lt="actionProgress",Dt=(0,I.H)({selectId:Nt,sortComparer:(e,t)=>e.id.localeCompare(t.id)}),Zt=Dt.getInitialState({}),Rt=(0,g.Lq)(Zt,(0,g.on)(kt.bF,(e,t)=>Dt.upsertOne(t,e)),(0,g.on)(kt.Wt,(e,t)=>{const n=t.actionProgresses.map(e=>Nt(e));return Dt.removeMany(n,e)}));function Ut(e,t){return Rt(e,t)}const Ft=(0,g.ZF)(Lt),{selectIds:jt,selectAll:$t}=Dt.getSelectors(Ft),qt=(0,g.P1)(jt,e=>e.map(e=>e.toString())),Bt=(0,g.P1)($t,e=>e.filter(e=>e.id===Et.RemoveManagedObject));let Gt=(()=>{class e{constructor(e,t,n){this.button=e,this.renderer=t,this.store=n,this.defaultLoadingClassNames="mdi-loading",this.defaultSpinClassNames="mdi-spin",this.iconHandlerClassName="icon-handler",this.iconClassNameRegex=/mdi-[\w-]+/,this.isSpinning=!1,this.ngUnsubscribe$=new Ae.xQ,this.actionInProgressChanged=new Pe.vpe}set sharedSpinner(e){this.config||(this.config=e)}ngAfterContentInit(){if(!this.config)throw new Error("Config is not defined");if(this.iconHandler=(0,_.first)(this.button.nativeElement.getElementsByClassName(this.iconHandlerClassName)),!this.iconHandler)throw new Error("Icon handler class name is not defined");this.config=(0,_.defaults)(this.config,{loadingIconClassName:this.defaultLoadingClassNames,spinClassName:this.defaultSpinClassNames,baseIconClassName:this.config.baseIconClassName||this.getButtonClassName()}),this.store.pipe((0,_e.R)(this.ngUnsubscribe$),(0,g.Ys)(qt)).subscribe(e=>{e.includes(Nt({id:this.config.id,identifyingData:this.config.identifyingData}))?(this.isSpinning=!0,this.removeClass(this.config.baseIconClassName),this.addClass(this.config.loadingIconClassName),this.addClass(this.config.spinClassName)):(this.removeClass(this.config.spinClassName),this.removeClass(this.config.loadingIconClassName),this.addClass(this.config.baseIconClassName),this.isSpinning=!1),this.actionInProgressChanged.emit(this.isSpinning)})}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}getButtonClassName(){if(!this.iconHandler)return"";const e=(0,_.first)(this.iconHandler.classList.value.match(this.iconClassNameRegex));if(!e)throw new Error("Button icon class name cannot be determined. Please, provide it in config");return e}addClass(e){this.renderer.addClass(this.iconHandler,e)}removeClass(e){this.renderer.removeClass(this.iconHandler,e)}setDisabledProperty(e=!1){this.renderer.setProperty(this.button.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(Pe.SBq),Pe.Y36(Pe.Qsj),Pe.Y36(g.yh))},e.\u0275dir=Pe.lG2({type:e,selectors:[["","uiWebemSpinner",""]],inputs:{sharedSpinner:["uiWebemSpinner","sharedSpinner"]},outputs:{actionInProgressChanged:"actionInProgressChanged"}}),e})();var Vt=n(31829),Yt=n(99390);let Jt=(()=>{class e{constructor(e){this.roleAccessPeService=e}set configurationMoRoleAccessControlNative(e){this.disableButton(!this.roleAccessPeService.isMoEditableForCurrentRole(e))}set configurationChildMoRoleAccessControlNative(e){this.disableButton(!this.roleAccessPeService.isAnyChildMoEditableForCurrentRole(e))}disableButton(e){e&&(this.disabled=!0,this.title=Vt.D2)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(Yt.El))},e.\u0275dir=Pe.lG2({type:e,selectors:[["","configurationChildMoRoleAccessControlNative",""],["","configurationMoRoleAccessControlNative",""]],hostVars:2,hostBindings:function(e,t){2&e&&Pe.Ikx("disabled",t.disabled)("title",t.title)},inputs:{disabled:"disabled",title:"title",configurationMoRoleAccessControlNative:"configurationMoRoleAccessControlNative",configurationChildMoRoleAccessControlNative:"configurationChildMoRoleAccessControlNative"}}),e})(),Ht=(()=>{class e{transform(e){return"deleted"===e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isObjectDeleted",type:e,pure:!0}),e})(),Wt=(()=>{class e{transform(e){return"changed"===e||"deleted"===e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isObjectChangedOrDeleted",type:e,pure:!0}),e})(),Qt=(()=>{class e{transform(e){return"changed"===e||"new"===e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isObjectChangedOrNew",type:e,pure:!0}),e})(),zt=(()=>{class e{transform(e){return e===ht.tX.ACTIVE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isActivePlanSelected",type:e,pure:!0}),e})(),Kt=(()=>{class e{transform(e){return e===ht.tX.DELTA}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isDeltaPlanSelected",type:e,pure:!0}),e})();const Xt=["mo_node"],en=["treeComponent"],tn=function(e,t,n){return{$implicit:e,index:t,node:n}};function nn(e,t){if(1&e&&Pe.GkF(0,6),2&e){const e=t.$implicit,n=t.index;Pe.oxw();const i=Pe.MAs(7);Pe.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",Pe.kEZ(2,tn,e,n,e))}}function on(e,t){1&e&&Pe.GkF(0)}const sn=function(e){return{"icon-mo-lite-definition-error-focused":e}};function an(e,t){if(1&e&&Pe._UZ(0,"i",18),2&e){const e=Pe.oxw(2).$implicit;Pe.Q6J("ngClass",Pe.VKq(1,sn,e.isActive))}}const rn=function(e){return{"icon-mo-lite-relation-error-focused":e}};function ln(e,t){if(1&e&&Pe._UZ(0,"i",20),2&e){const e=Pe.oxw(3).$implicit;Pe.Q6J("ngClass",Pe.VKq(1,rn,e.isActive))}}function cn(e,t){if(1&e&&Pe.YNc(0,ln,1,3,"i",19),2&e){const e=Pe.oxw(2).$implicit;Pe.Q6J("ngIf",e.data.hasRelationErrors||!e.isExpanded&&e.data.hasChildrenRelationErrors)}}function dn(e,t){1&e&&Pe._UZ(0,"i",21)}const un=function(e,t){return{planId:e,moUuid:t}},pn=function(e,t){return{id:e,identifyingData:t}};function gn(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"button",31),Pe.NdJ("actionInProgressChanged",function(t){return Pe.CHM(e),Pe.oxw(5).revertObjectActionInProgressChanged(t)})("click",function(t){Pe.CHM(e);const n=Pe.oxw(4).$implicit;return Pe.oxw().revertedManagedObject(t,n.data)}),Pe.ALo(1,"async"),Pe._UZ(2,"i",32),Pe.qZA()}if(2&e){const e=Pe.oxw().ngIf,t=Pe.oxw(2).ngIf,n=Pe.oxw(2);Pe.Q6J("uiWebemSpinner",Pe.WLB(8,pn,n.spinners.RevertManagedObject,Pe.WLB(5,un,e.planId,e.moUuid)))("disabled",!t.isObjectChangedOrDeleted||n.isAddObjectInProgress||n.isRemoveObjectInProgress||n.isRevertObjectInProgress)("configurationMoRoleAccessControlNative",Pe.lcZ(1,3,n.selectedMoLiteOperationRoles$))}}const hn=function(e,t){return{planId:e,parentMoUuid:t,missingClassName:void 0}},mn=function(e,t){return{planId:e,parentMoUuid:t}};function fn(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"button",24),Pe.NdJ("actionInProgressChanged",function(t){return Pe.CHM(e),Pe.oxw(4).addObjectActionInProgressChanged(t)})("click",function(t){return Pe.CHM(e),Pe.oxw(4).handleAddManagedObjectClicked(t)}),Pe.ALo(2,"async"),Pe._UZ(3,"i",25),Pe.qZA(),Pe.TgZ(4,"button",26),Pe.NdJ("actionInProgressChanged",function(t){return Pe.CHM(e),Pe.oxw(4).copyObjectActionInProgressChanged(t)})("click",function(t){return Pe.CHM(e),Pe.oxw(4).handleCopyManagedObjectClicked(t)}),Pe.ALo(5,"async"),Pe._UZ(6,"i",27),Pe.qZA(),Pe.TgZ(7,"button",28),Pe.NdJ("actionInProgressChanged",function(t){return Pe.CHM(e),Pe.oxw(4).removeObjectActionInProgressChanged(t)})("click",function(){Pe.CHM(e);const t=Pe.oxw(3).$implicit;return Pe.oxw().deletedManagedObject(t.data)}),Pe.ALo(8,"async"),Pe.ALo(9,"async"),Pe._UZ(10,"i",29),Pe.qZA(),Pe.YNc(11,gn,3,11,"button",30),Pe.ALo(12,"isDeltaPlanSelected"),Pe.ALo(13,"async"),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw(2).ngIf,i=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("uiWebemSpinner",Pe.WLB(25,pn,i.spinners.AddManagedObject,Pe.WLB(22,hn,e.planId,e.moUuid)))("disabled",n.isObjectDeleted||e.isAddObjectDisabled||i.isAddObjectInProgress||i.isRemoveObjectInProgress||i.isRevertObjectInProgress)("configurationChildMoRoleAccessControlNative",Pe.lcZ(2,10,i.childMoOperationRoles$)),Pe.xp6(3),Pe.Q6J("uiWebemSpinner",Pe.WLB(31,pn,i.spinners.CopyManagedObject,Pe.WLB(28,mn,e.planId,e.moUuid)))("disabled",n.isObjectDeleted||e.isAddObjectDisabled||i.isCopyObjectInProgress||i.isRemoveObjectInProgress||i.isRevertObjectInProgress)("configurationChildMoRoleAccessControlNative",Pe.lcZ(5,12,i.childMoOperationRoles$)),Pe.xp6(3),Pe.Q6J("uiWebemSpinner",Pe.WLB(37,pn,i.spinners.RemoveManagedObject,Pe.WLB(34,un,e.planId,e.moUuid)))("disabled",!Pe.lcZ(8,14,i.isSelectedMoDeletable)||n.isObjectDeleted||i.isAddObjectInProgress||i.isRemoveObjectInProgress||i.isRevertObjectInProgress)("configurationMoRoleAccessControlNative",Pe.lcZ(9,16,i.selectedMoLiteOperationRoles$)),Pe.xp6(4),Pe.Q6J("ngIf",Pe.lcZ(12,18,Pe.lcZ(13,20,i.selectedPlanOrigin$)))}}const bn=function(e,t,n,i){return{moUuid:e,parentMoUuid:t,planId:n,isAddObjectDisabled:i}};function Cn(e,t){if(1&e&&(Pe.TgZ(0,"div",22),Pe.YNc(1,fn,14,40,"ng-container",23),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.qZA()),2&e){const e=Pe.oxw(2).$implicit,t=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",Pe.l5B(5,bn,e.data.moUuid,e.data.parentMoUuid,Pe.lcZ(2,1,t.selectedPlanId$),!Pe.lcZ(3,3,t.hasSelectedNodeChildrenNiddIds$)))}}const vn=function(e){return{"tree-node-content-object-deleted":e}};function yn(e,t){if(1&e&&(Pe.TgZ(0,"div",9),Pe._UZ(1,"tree-node-expander",10),Pe.YNc(2,on,1,0,"ng-container",11),Pe.YNc(3,an,1,3,"ng-template",null,12,Pe.W1O),Pe.YNc(5,cn,1,1,"ng-template",null,13,Pe.W1O),Pe.YNc(7,dn,1,0,"i",14),Pe.ALo(8,"isObjectChangedOrNew"),Pe.TgZ(9,"div",15),Pe._UZ(10,"tree-node-content",16),Pe.qZA(),Pe.YNc(11,Cn,4,10,"div",17),Pe.ALo(12,"async"),Pe.ALo(13,"isActivePlanSelected"),Pe.ALo(14,"async"),Pe.qZA()),2&e){const e=t.ngIf,n=Pe.MAs(4),i=Pe.MAs(6),o=Pe.oxw(),s=o.$implicit,a=o.$implicit,r=Pe.oxw();Pe.xp6(1),Pe.Q6J("node",s),Pe.xp6(1),Pe.Q6J("ngIf",s.data.hasDefinitionErrors||!s.isExpanded&&s.data.hasChildrenDefinitionErrors)("ngIfThen",n)("ngIfElse",i),Pe.xp6(5),Pe.Q6J("ngIf",Pe.lcZ(8,9,s.data.state)),Pe.xp6(3),Pe.Q6J("node",s)("index",a)("ngClass",Pe.VKq(17,vn,e.isObjectDeleted)),Pe.xp6(1),Pe.Q6J("ngIf",!Pe.lcZ(12,11,r.isSelectedDeltaPlanOutdated$)&&s.isActive&&!Pe.lcZ(13,13,Pe.lcZ(14,15,r.selectedPlanOrigin$)))}}const Sn=function(e,t){return{isObjectDeleted:e,isObjectChangedOrDeleted:t}};function Pn(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",7),Pe.NdJ("click",function(t){return Pe.CHM(e).$implicit.mouseAction("click",t)})("dblclick",function(t){return Pe.CHM(e).$implicit.mouseAction("dblClick",t)})("contextmenu",function(t){return Pe.CHM(e).$implicit.mouseAction("contextMenu",t)})("treeDrop",function(t){return Pe.CHM(e).$implicit.onDrop(t)}),Pe.YNc(1,yn,15,19,"div",8),Pe.ALo(2,"isObjectDeleted"),Pe.ALo(3,"isObjectChangedOrDeleted"),Pe.qZA()}if(2&e){const e=t.$implicit;Pe.Udp("padding-left",e.getNodePadding()),Pe.ekj("node-content-wrapper-active",e.isActive)("node-content-wrapper-focused",e.isFocused),Pe.Q6J("treeAllowDrop",e.allowDrop)("treeDrag",e)("treeDragEnabled",!1),Pe.xp6(1),Pe.Q6J("ngIf",Pe.WLB(14,Sn,Pe.lcZ(2,10,e.data.state),Pe.lcZ(3,12,e.data.state)))}}let On=(()=>{class e{constructor(e){this.store=e,this.selectManagedObject=new Pe.vpe,this.removeManagedObject=new Pe.vpe,this.revertManagedObject=new Pe.vpe,this.addManagedObject=new Pe.vpe,this.copyManagedObject=new Pe.vpe,this.spinners=Et,this.isAddObjectInProgress=!1,this.isCopyObjectInProgress=!1,this.isRemoveObjectInProgress=!1,this.isRevertObjectInProgress=!1,this.ngUnsubscribe=new Ae.xQ}ngOnInit(){this.options={idField:"moUuid",actionMapping:{mouse:{click:(e,t,n)=>{this.nodeSelected(t),mt.iM.ACTIVATE(e,t,n)},dblClick:mt.iM.TOGGLE_EXPANDED},keys:{[mt.tW.ENTER]:(e,t,n)=>{this.nodeSelected(t),mt.iM.ACTIVATE(e,t,n)}}},nodeHeight:20,levelPadding:12,useVirtualScroll:!0,scrollOnActivate:!0},this.selectedPlanOrigin$=this.store.select(me.DM),this.selectedPlanId$=this.store.select(me.oI),this.hasSelectedNodeChildrenNiddIds$=this.store.select(Tt),this.selectedMoId=this.store.select(ae),this.isSelectedMoDeletable=this.store.select(pe),this.selectedMoLiteOperationRoles$=this.store.select(ge),this.childMoOperationRoles$=this.store.select(he),this.isSelectedDeltaPlanOutdated$=(0,ft.aj)([this.selectedPlanOrigin$,this.store.select(me.gb)]).pipe((0,A.U)(([e,t])=>e===ht.tX.DELTA&&t))}ngAfterViewInit(){this.selectedMoId.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.moId=e,this.moId&&setTimeout(()=>{const e=this.treeComponent.treeModel.getNodeById(this.moId);e&&e.setActiveAndVisible()},0)}),this.store.select(ue).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{e.forEach(e=>{const t=this.treeComponent.treeModel.getNodeById(e);t&&t.expand()})})}ngOnDestroy(){const e=Object.entries(this.treeComponent.treeModel.expandedNodeIds).filter(([,e])=>e).map(([e])=>e);this.store.dispatch(G({expandedNodeIds:e})),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}nodeSelected(e){this.selectManagedObject.emit(e.data.moUuid),this.store.dispatch(N({moUuid:e.data.moUuid}))}filterTree(e){this.treeComponent.treeModel.filterNodes(e,!!e)}setExpandedNodes(e){this.treeComponent.treeModel.expandedNodeIds=e}collapseAll(){this.setExpandedNodes({})}expandAll(){const e={};for(const t of this.treeComponent.treeModel.roots)this.updateNode(t,e,!0);this.setExpandedNodes(e)}updateNode(e,t,n){var i;null===(i=e.children)||void 0===i||i.forEach(e=>{this.updateNode(e,t,n)}),e.hasChildren&&Object.assign(t,{[e.id]:n})}isEmptyTree(){return this.treeComponent.treeModel.isEmptyTree()}deletedManagedObject(e){this.removeManagedObject.emit({moUuid:e.moUuid,name:e.name,state:e.state,parentMoUuid:e.parentMoUuid})}revertedManagedObject(e,t){this.revertManagedObject.emit(t.moUuid),e.stopPropagation()}handleAddManagedObjectClicked(e){this.addManagedObject.emit(e)}handleCopyManagedObjectClicked(e){this.copyManagedObject.emit(e)}addObjectActionInProgressChanged(e){this.isAddObjectInProgress=e}copyObjectActionInProgressChanged(e){this.isCopyObjectInProgress=e}removeObjectActionInProgressChanged(e){this.isRemoveObjectInProgress=e}revertObjectActionInProgressChanged(e){this.isRevertObjectInProgress=e}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-plans-configurator"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(Xt,5),Pe.Gf(en,7)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.moNodeTemplate=e.first),Pe.iGM(e=Pe.CRH())&&(t.treeComponent=e.first)}},inputs:{nodes:"nodes"},outputs:{selectManagedObject:"selectManagedObject",removeManagedObject:"removeManagedObject",revertManagedObject:"revertManagedObject",addManagedObject:"addManagedObject",copyManagedObject:"copyManagedObject"},decls:8,vars:2,consts:[[1,"scroll-container"],["container",""],[3,"nodes","options"],["treeComponent",""],["treeNodeWrapperTemplate",""],["node_wrapper",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node-content-wrapper",3,"treeAllowDrop","treeDrag","treeDragEnabled","click","dblclick","contextmenu","treeDrop"],["class","node-content-flex",4,"ngIf"],[1,"node-content-flex"],[1,"tree-node-expander",3,"node"],[4,"ngIf","ngIfThen","ngIfElse"],["definitionErrorsIcon",""],["relationErrorsIcon",""],["class","mdi mdi-pencil icon-mo-lite-edited",4,"ngIf"],[1,"tree-node-content-wrapper"],["id","tree-node-content",1,"tree-node-content",3,"node","index","ngClass"],["class","right-buttons-wrapper",4,"ngIf"],[1,"mdi","mdi-alert","icon-mo-lite","icon-mo-lite-definition-error",3,"ngClass"],["class","mdi mdi-alert icon-mo-lite icon-mo-lite-relation-error",3,"ngClass",4,"ngIf"],[1,"mdi","mdi-alert","icon-mo-lite","icon-mo-lite-relation-error",3,"ngClass"],[1,"mdi","mdi-pencil","icon-mo-lite-edited"],[1,"right-buttons-wrapper"],[4,"ngIf"],["title","Add new object","id","webem-parameter-editor-add-object-overlay-button","pButton","",3,"uiWebemSpinner","disabled","configurationChildMoRoleAccessControlNative","actionInProgressChanged","click"],[1,"icon-handler","add-object-icon","mdi","mdi-plus-circle-outline"],["title","Copy existing object","id","webem-parameter-editor-copy-object-overlay-button","pButton","",3,"uiWebemSpinner","disabled","configurationChildMoRoleAccessControlNative","actionInProgressChanged","click"],[1,"icon-handler","copy-object-icon","mdi","mdi-content-copy"],["title","Remove object","id","webem-parameter-editor-remove-object-overlay-button","pButton","",3,"uiWebemSpinner","disabled","configurationMoRoleAccessControlNative","actionInProgressChanged","click"],[1,"icon-handler","mdi","mdi-delete-forever"],["title","Revert object","id","webem-parameter-editor-revert-object-overlay-button","pButton","",3,"uiWebemSpinner","disabled","configurationMoRoleAccessControlNative","actionInProgressChanged","click",4,"ngIf"],["title","Revert object","id","webem-parameter-editor-revert-object-overlay-button","pButton","",3,"uiWebemSpinner","disabled","configurationMoRoleAccessControlNative","actionInProgressChanged","click"],[1,"icon-handler","mdi","mdi-restore"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0,1),Pe.TgZ(2,"tree-root",2,3),Pe.YNc(4,nn,1,6,"ng-template",null,4,Pe.W1O),Pe.qZA(),Pe.qZA(),Pe.YNc(6,Pn,4,17,"ng-template",null,5,Pe.W1O)),2&e&&(Pe.xp6(2),Pe.Q6J("nodes",t.nodes)("options",t.options))},directives:[mt.qr,m.tP,mt.O2,mt.Vh,m.O5,mt.kj,mt.rO,m.mk,Mt.Hq,Gt,Jt],pipes:[Ht,Wt,Qt,m.Ov,zt,Kt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;position:relative;height:100%;width:100%}.scroll-container[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;position:absolute}.node-content-wrapper[_ngcontent-%COMP%]{height:22px;transition:none;display:flex;align-items:center;border-radius:0}.node-content-wrapper[_ngcontent-%COMP%] > .node-content-flex[_ngcontent-%COMP%]{flex-shrink:1;flex-grow:1;display:flex;align-items:center;overflow:hidden}[_nghost-%COMP%]     .p-button-label{padding:0!important;width:15px}.tree-node-expander[_ngcontent-%COMP%]{width:11px}.tree-node-expander[_ngcontent-%COMP%] >.toggle-children-wrapper{font-family:Material Design Icons,monospace;font-size:21px;line-height:1em;padding:0}.tree-node-expander[_ngcontent-%COMP%] >.toggle-children-wrapper .toggle-children{transform:none;background-image:none;width:auto;height:auto;display:inherit;position:inherit;top:0;margin-right:-4px;margin-left:-6px}.tree-node-expander[_ngcontent-%COMP%] >.toggle-children-wrapper.toggle-children-wrapper-collapsed>.toggle-children:before{content:"\uf35f"}.tree-node-expander[_ngcontent-%COMP%] >.toggle-children-wrapper.toggle-children-wrapper-expanded>.toggle-children:before{content:"\uf35d"}.node-content-wrapper-active.node-content-wrapper-focused[_ngcontent-%COMP%], .node-content-wrapper-active.node-content-wrapper-focused[_ngcontent-%COMP%]:hover{transition:none;background-color:#124191;color:#fff}.node-content-wrapper[_ngcontent-%COMP%]:hover{background-color:#ccf4ff;box-shadow:none}.tree-node-content-wrapper[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tree-node-content[_ngcontent-%COMP%]{margin-left:2px}.tree-node-content-object-deleted[_ngcontent-%COMP%]{text-decoration:line-through}.icon-mo-lite[_ngcontent-%COMP%]{height:1em;line-height:1em}.icon-mo-lite-definition-error[_ngcontent-%COMP%]{color:#da1914;margin-left:2px}.icon-mo-lite-relation-error[_ngcontent-%COMP%]{color:#fc0;margin-left:2px}.icon-mo-lite-edited[_ngcontent-%COMP%]{margin-left:2px}.icon-mo-lite-definition-error-focused[_ngcontent-%COMP%], .icon-mo-lite-relation-error-focused[_ngcontent-%COMP%]{color:#fff}.right-buttons-wrapper[_ngcontent-%COMP%]{white-space:nowrap;flex-shrink:0;height:22px}.right-buttons-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px;color:#fff;background-color:transparent;border:none;padding:0;margin:0;all:unset}.right-buttons-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#98a2ae;cursor:auto}.right-buttons-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.right-buttons-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:first-child){margin-left:8px}.right-buttons-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .add-object-icon[_ngcontent-%COMP%]{margin-left:6px;margin-right:-6px}.right-buttons-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .copy-object-icon[_ngcontent-%COMP%]{margin-left:6px;font-size:13px}'],changeDetection:0}),e})();var xn=n(24751),wn=n(60697),An=(()=>(function(e){e.DownloadNiddFromServer="[User] [Nidd] Load nidd from server",e.NiddLoaded="[Nidd] Nidd loaded",e.NiddDownloadError="[Nidd] Error while downloading NIDD"}(An||(An={})),An))();const _n=(0,g.PH)(An.DownloadNiddFromServer),Tn=(0,g.PH)(An.NiddDownloadError,(0,g.Ky)()),In=(0,g.PH)(An.NiddLoaded,(0,g.Ky)()),En=(0,I.H)({selectId:e=>e.niddId}),Mn=En.getInitialState(),kn=(0,g.Lq)(Mn,(0,g.on)(In,(e,{definitions:t})=>En.setAll(t,e)));function Nn(e,t){return kn(e,t)}const{selectAll:Ln,selectEntities:Dn,selectTotal:Zn}=En.getSelectors(),Rn=(0,g.ZF)("nidd"),Un=(0,g.P1)(Rn,Ln),Fn=(0,g.P1)(Rn,Dn),jn=(0,g.P1)(Rn,Zn),$n=e=>(0,g.P1)(Un,t=>t.find(t=>t.className===e)),qn=(0,g.P1)(jn,e=>Boolean(e));function Bn(e){return t=>0===e.length?null:e.some(e=>e===t.value)?{excludedWords:{value:t.value}}:null}var Gn=(()=>(function(e){e.Simple="simple",e.Complex="complex",e.SimpleList="simpleList"}(Gn||(Gn={})),Gn))(),Vn=(()=>(function(e){e.Unchanged="unchanged",e.Deleted="deleted",e.Changed="changed"}(Vn||(Vn={})),Vn))(),Yn=(()=>(function(e){e.Boolean="boolean",e.String="string",e.Enumeration="enumeration",e.Number="number",e.BitMask="bitMask"}(Yn||(Yn={})),Yn))(),Jn=n(23930),Hn=(()=>(function(e){e.Mandatory="mandatory",e.Optional="optional",e.SetBySystem="Value set by the system"}(Hn||(Hn={})),Hn))(),Wn=(()=>(function(e){e.Unmodifiable="unmodifiable",e.Online="onLine",e.ConditionalBtsRestart="Conditional BTS restart",e.BtsRestartNeeded="BTS restart needed",e.ObjectLocking="objectLocking"}(Wn||(Wn={})),Wn))();const Qn={[Gn.Simple]:ht.bm.SIMPLE,[Gn.SimpleList]:ht.bm.SIMPLE_LIST,[Gn.Complex]:ht.bm.COMPLEX};function zn(e){if(e.parameterContainerType===Gn.Complex)return Kn(e);const t=Kn(e);return t[`${t.parameterValueType}ParameterDef`]}function Kn(e){return e[`${e.parameterContainerType}ParameterDef`]}function Xn(e){if(e.parameterContainerType!==Gn.Complex)return Kn(e).parameterValueType}function ei(e){return function(e,t){return zn(function(e,t){return Object.values(e.parameters).find(e=>e.name===t)}(e,t))}(e,e.instanceIdParameter)}function ti(e){return e===Yn.Number}function ni(e){return""===e||(0,_.isUndefined)(e)||(0,_.isNull)(e)}function ii(e){return e===Yn.Enumeration}function oi(e){return e.maxValue}function si(e){return e.minValue}function ai(e){return e.step}function ri(e){return parseFloat(e.toPrecision(12))}function li(e,t){const n=function*(e,t){const n=si(e),i=oi(e);let o=n;const s=ai(e)||1;for(;o<=i;)t.find(e=>e===o.toString())||(yield o),o+=s}(ei(e),t).next();if(!(0,_.isNil)(n.value))return`${n.value}`}function ci(e){if(e.definition&&!(0,_.isNil)(e.definition.defaultValue)){if(e.rowType===ht.bm.ENUMERATION_LIST)return[di(e.definition)];switch(e.parameterValueType){case Yn.String:return e.definition.defaultValue;case Yn.Enumeration:return di(e.definition);case Yn.BitMask:return e.definition.defaultValue.reduce((e,t,n)=>(t&&e.push(n.toString(10)),e),[]);case Yn.Boolean:case Yn.Number:default:return e.definition.defaultValue.toString()}}}function di(e){return(0,_.find)(e.enumValues,{value:e.defaultValue}).name}function ui(e){return e.creationPriority===Hn.Mandatory}function pi(e){return e.creationPriority===Hn.SetBySystem}function gi(e){return!!e.hidden}function hi(e){return!pi(e)}function mi(e){return e.modificationType!==Wn.Unmodifiable}const fi=/^(0|[1-9]\d*)$/;function bi(e,t){const n=ei(e);return[xn.kI.required,xn.kI.pattern(fi),xn.kI.min(si(n)),xn.kI.max(oi(n)),Bn(t)]}var Ci=n(79468);function vi(e){const t=(null==e?void 0:e.length)>100;return{virtualScroll:t,itemSize:t?20:0}}function yi({nidd:e,availableChildren:t,parentMoUuid:n},i){return t.reduce((t,o)=>{const s=e[o.niddId];return s&&i.isMoEditableForCurrentRole(s.modificationProperty.operationRoles)?[...t,{label:s.className,value:{niddId:s.niddId,parentMoUuid:n}}]:t},[]).sort(Si)}function Si(e,t){return e.label<t.label?-1:1}function Pi({niddId:e,availableChildren:t}){const n=t.find(t=>t.niddId===e);return n?n.takenInstanceIds:[]}var Oi=n(22062),xi=n(50103),wi=n(12332),Ai=n(25927);let _i=(()=>{class e{constructor(){this.validationMessageDisplay=Ai.t.SHOW_MESSAGE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Pe.lG2({type:e,inputs:{group:"group",controlName:"controlName",id:"id",label:"label",validationMessageDisplay:"validationMessageDisplay",validationMessages:"validationMessages"}}),e})(),Ti=(()=>{class e extends _i{constructor(){super(...arguments),this.ngUnsubscribe=new Ae.xQ,this.onValueChange=e=>()=>{this.currentValidationMessage=null;const[t=null]=function(e){return e.errors&&Object.keys(e.errors)||[]}(e);!e.pristine&&t&&(this.currentValidationMessage=this.validationMessages[t])}}ngOnInit(){const{[this.controlName]:e}=this.group.controls;this.group.controls[this.controlName].valueChanges.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(this.onValueChange(e))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}isRequired(){return this.validationMessages&&this.validationMessages.required}getLabel(){return this.label?this.label+":":""}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Pe.n5z(e)))(n||e)}}(),e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ng-component"]],features:[Pe.qOj],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var Ii=n(81763),Ei=n(13928);function Mi(e,t){1&e&&Pe._UZ(0,"i",2)}const ki=function(e){return{disabled:e}};let Ni=(()=>{class e{constructor(){this.isMandatory=!1,this.fieldId="",this.label="",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-form-label"]],inputs:{isMandatory:"isMandatory",fieldId:"fieldId",label:"label",disabled:"disabled"},decls:3,vars:6,consts:[[1,"input-label",3,"ngClass"],["class","mdi mdi-asterisk mandatory-icon",4,"ngIf"],[1,"mdi","mdi-asterisk","mandatory-icon"]],template:function(e,t){1&e&&(Pe.TgZ(0,"label",0),Pe._uU(1),Pe.YNc(2,Mi,1,0,"i",1),Pe.qZA()),2&e&&(Pe.Q6J("ngClass",Pe.VKq(4,ki,t.disabled)),Pe.uIk("for",t.fieldId),Pe.xp6(1),Pe.hij(" ",t.label," "),Pe.xp6(1),Pe.Q6J("ngIf",t.isMandatory))},directives:[m.mk,m.O5],styles:[".input-label[_ngcontent-%COMP%]{font-size:11px;color:#4d5766;width:100%;cursor:pointer}.input-label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle}.input-label.disabled[_ngcontent-%COMP%]{color:#bec8d2}.mandatory-icon[_ngcontent-%COMP%]{vertical-align:text-top;font-size:8px}"]}),e})();function Li(e,t){if(1&e&&Pe._UZ(0,"ui-webem-form-label",6),2&e){const e=Pe.oxw();Pe.Q6J("fieldId",e.id)("isMandatory",e.isRequired())("label",e.getLabel())}}function Di(e,t){1&e&&Pe._UZ(0,"i",7)}let Zi=(()=>{class e extends Ti{constructor(){super(),this.placeholder="<Enter data>",this.inputValueType=Ii.R.TEXT,this.readOnly=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-form-input"]],inputs:{placeholder:"placeholder",inputValueType:"inputValueType",maxlength:"maxlength",readOnly:"readOnly"},features:[Pe.qOj],decls:7,vars:11,consts:[[3,"formGroup"],[3,"fieldId","isMandatory","label",4,"ngIf"],["autocomplete","off","pInputText","",3,"formControlName","id","placeholder","type","maxlength","readOnly"],[1,"validation-error-icon"],["class","mdi mdi-alert",4,"ngIf"],[3,"displayOption","message"],[3,"fieldId","isMandatory","label"],[1,"mdi","mdi-alert"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div"),Pe.YNc(2,Li,1,3,"ui-webem-form-label",1),Pe._UZ(3,"input",2),Pe.TgZ(4,"span",3),Pe.YNc(5,Di,1,0,"i",4),Pe.qZA(),Pe.qZA(),Pe._UZ(6,"ui-webem-form-validation-message",5),Pe.qZA()),2&e&&(Pe.Q6J("formGroup",t.group),Pe.xp6(2),Pe.Q6J("ngIf",t.label),Pe.xp6(1),Pe.Q6J("formControlName",t.controlName)("id",t.id)("placeholder",t.placeholder)("type",t.inputValueType)("maxlength",t.maxlength)("readOnly",t.readOnly),Pe.xp6(2),Pe.Q6J("ngIf",t.currentValidationMessage),Pe.xp6(1),Pe.Q6J("displayOption",t.validationMessageDisplay)("message",t.currentValidationMessage?t.currentValidationMessage:""))},directives:[xn.JL,xn.sg,m.O5,xn.Fj,Ei.o,xn.JJ,xn.u,xn.nD,Ai.M,Ni],styles:["[_nghost-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{width:100%;padding-right:25px}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.validation-error-icon[_ngcontent-%COMP%]{margin-left:-22px;font-size:14px;width:14px;display:inline-block}.validation-error-icon[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#da1914;vertical-align:middle}"]}),e})();var Ri=n(33013),Ui=n(88361);const Fi=["overlayPanel"],ji=["classNamesDropdown"],$i=function(e){return[e]};function qi(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-overlay-panel",1,2),Pe.TgZ(2,"form",3),Pe.NdJ("ngSubmit",function(){return Pe.CHM(e),Pe.oxw().onCreateObject()}),Pe.TgZ(3,"div",4),Pe.TgZ(4,"b",5),Pe._uU(5,"Add new object"),Pe.qZA(),Pe.qZA(),Pe.TgZ(6,"div",6),Pe.TgZ(7,"label",7),Pe._uU(8,"Class name:"),Pe.qZA(),Pe._UZ(9,"p-dropdown",8,9),Pe.qZA(),Pe.TgZ(11,"div",6),Pe._UZ(12,"p-checkbox",10),Pe.qZA(),Pe.TgZ(13,"div",6),Pe._UZ(14,"ui-webem-form-input",11),Pe.qZA(),Pe.qZA(),Pe.TgZ(15,"div",12),Pe.TgZ(16,"p-footer"),Pe.TgZ(17,"ui-webem-button",13),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().onCreateObject()}),Pe._uU(18," > "),Pe.qZA(),Pe.TgZ(19,"ui-webem-button",14),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.MAs(1).hide()}),Pe._uU(20," > "),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.MAs(10),i=Pe.oxw();Pe.Q6J("dismissable",!0)("componentsToHideBeforeOverlayPanel",Pe.VKq(16,$i,n)),Pe.xp6(2),Pe.Q6J("formGroup",i.form),Pe.xp6(7),Pe.Q6J("options",e)("filter",!0)("resetFilterOnHide",!0)("scrollHeight","80px"),Pe.xp6(3),Pe.Q6J("binary",!0),Pe.xp6(2),Pe.Q6J("group",i.form)("id","webem-pe-add-object-id-input")("validationMessages",i.objectIdValidationMessages),Pe.xp6(3),Pe.Q6J("disabled",!i.classNamesDropdownControl.value||!i.objectIdInputControl.value||i.form.invalid)("model",i.okActionButtonModel)("options",i.buttonOptions),Pe.xp6(2),Pe.Q6J("model",i.cancelActionButtonModel)("options",i.buttonOptions)}}let Bi=(()=>{class e{constructor(e,t){this.store=e,this.roleAccessPeService=t,this.buttonOptions={forceWidth:"70px"},this.okActionButtonModel={title:"",label:"OK",theme:wn.bnJ.Accent},this.cancelActionButtonModel={title:"",label:"Cancel"},this.objectIdValidationMessages=Ci.p,this.emptyDropdownValue=null,this.ngUnsubscribe$=new Ae.xQ,this.classNamesDropdownControl=new xn.NI(this.emptyDropdownValue),this.checkboxControl=new xn.NI,this.objectIdInputControl=new xn.NI,this.form=new xn.cw({classNamesDropdown:this.classNamesDropdownControl,checkbox:this.checkboxControl,objectId:this.objectIdInputControl})}ngOnInit(){this.childrenOptions$=(0,ft.aj)([this.store.select(_t),this.store.select(ae),this.store.select(Fn)]).pipe((0,A.U)(([e,t,n])=>t?yi({nidd:n,availableChildren:e,parentMoUuid:t},this.roleAccessPeService):[])),(0,ft.aj)([this.store.select(_t),this.store.select(Fn),this.classNamesDropdownControl.valueChanges]).pipe((0,_e.R)(this.ngUnsubscribe$)).subscribe(([e,t,n])=>{n&&this.updateInstanceIdInput({availableChildren:e,nidd:t,dropdownOption:n})})}toggleOverlay(e){this.resetInputs(),this.overlayPanel.toggle(e)}onCreateObject(){const{classNamesDropdown:e,checkbox:t,objectId:n}=this.form.value;e&&""!==n&&(this.store.dispatch(it({request:{parentMoUuid:e.parentMoUuid,niddId:e.niddId,instanceId:Number.parseInt(n,10),includeDefaults:t},keepInfiniteSpinner:!0})),this.overlayPanel.hide())}updateInstanceIdInput({availableChildren:e,nidd:t,dropdownOption:n}){const i=t[n.niddId];if(!i)return;this.checkboxControl.enable(),this.objectIdInputControl.enable();const o=Pi({niddId:n.niddId,availableChildren:e});this.objectIdInputControl.setValidators(bi(i,o));const s=li(i,o);this.form.patchValue({objectId:s})}hideClassNamesDropdown(){this.classNamesDropdown.overlayVisible&&(this.classNamesDropdown.overlayVisible=!1)}resetInputs(){this.form.setValue({classNamesDropdown:this.emptyDropdownValue,checkbox:!1,objectId:""}),this.checkboxControl.disable(),this.objectIdInputControl.disable()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Yt.El))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-add-object-overlay-panel"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(Fi,5),Pe.Gf(ji,5)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.overlayPanel=e.first),Pe.iGM(e=Pe.CRH())&&(t.classNamesDropdown=e.first)}},decls:2,vars:3,consts:[["styleClass","add-object-overlay-panel",3,"dismissable","componentsToHideBeforeOverlayPanel",4,"ngIf"],["styleClass","add-object-overlay-panel",3,"dismissable","componentsToHideBeforeOverlayPanel"],["overlayPanel",""],[1,"p-dialog-content",3,"formGroup","ngSubmit"],[1,"content-row","add-object-overlay-header"],["id","add-new-object-title"],[1,"content-row"],["for","webem-pe-add-object-classname-dropdown"],["id","webem-pe-add-object-classname-dropdown","placeholder","Select class name","formControlName","classNamesDropdown",3,"options","filter","resetFilterOnHide","scrollHeight"],["classNamesDropdown",""],["id","webem-pe-add-object-load-default-values-dropdown","label","Load default values","formControlName","checkbox",3,"binary"],["label","Object ID","controlName","objectId","placeholder","<ID>",3,"group","id","validationMessages"],[1,"p-dialog-footer"],["id","webem-pe-add-object-ok-button",1,"add-object-action-button",3,"disabled","model","options","action"],["id","webem-pe-add-object-cancel-button",1,"add-object-action-button",3,"model","options","action"]],template:function(e,t){1&e&&(Pe.YNc(0,qi,21,18,"ui-webem-overlay-panel",0),Pe.ALo(1,"async")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.childrenOptions$))},directives:[m.O5,Oi.o,xn._Y,xn.JL,xn.sg,xi.Lt,xn.JJ,xn.u,wi.XZ,Zi,Ri.$_,Ui.r],pipes:[m.Ov],styles:[".add-object-overlay-panel.p-overlaypanel{margin-top:-15px}  .add-object-overlay-panel.p-overlaypanel .p-dialog .p-dialog-content{width:250px;display:flex;flex-direction:column;padding-bottom:0}  .add-object-overlay-panel.p-overlaypanel .p-dialog .p-dialog-content .content-row{flex-grow:1;margin-bottom:20px;display:flex;flex-direction:column}  .add-object-overlay-panel.p-overlaypanel .p-dialog .p-dialog-content .content-row>*{flex-grow:1}  .add-object-overlay-panel.p-overlaypanel .p-dialog .p-dialog-content .content-row:last-of-type{margin-bottom:0}  .add-object-overlay-panel.p-overlaypanel .p-dialog .p-dialog-content .p-dropdown-empty-message{border-left:3px solid transparent;padding:3px 5px}  .add-object-overlay-panel.p-overlaypanel .p-dialog .p-dialog-content .add-object-overlay-header{font-size:16px;color:#000}.add-object-action-button[_ngcontent-%COMP%]{padding-right:8px}"]}),e})();var Gi=n(47702),Vi=n(66904);const Yi="managedObject",Ji=(0,I.H)({selectId:e=>e.distname}),Hi={selectedManagedObject:void 0,selectedManagedObjectToComparision:void 0,selectedManagedObjectToCopy:Ji.getInitialState(),isLoadingData:!0},Wi=(0,g.Lq)(Hi,(0,g.on)(Fe,(e,t)=>Object.assign(Object.assign({},e),{selectedManagedObject:t.payload})),(0,g.on)(je,(e,t)=>Object.assign(Object.assign({},e),{selectedManagedObjectToComparision:t.payload})),(0,g.on)($e,(e,t)=>Object.assign(Object.assign({},e),{selectedManagedObjectToCopy:Ji.setAll(t.payload,e.selectedManagedObjectToCopy)})),(0,g.on)(gt,(e,t)=>Object.assign(Object.assign({},e),{isLoadingData:t.isLoadingData})),(0,g.on)(qe,e=>Object.assign(Object.assign({},e),{selectedManagedObject:void 0})),(0,g.on)(Be,e=>Object.assign(Object.assign({},e),{selectedManagedObjectToComparision:void 0})),(0,g.on)(nt,e=>Object.assign(Object.assign({},e),{selectedManagedObjectToCopy:Ji.getInitialState()})));function Qi(e,t){return Wi(e,t)}const zi=(0,g.P1)((0,g.ZF)(Yi),e=>e&&e.selectedManagedObject),Ki=(0,g.P1)((0,g.ZF)(Yi),e=>e&&e.selectedManagedObjectToComparision),Xi=(0,g.P1)((0,g.ZF)(Yi),e=>Ji.getSelectors().selectAll(e.selectedManagedObjectToCopy));var eo=n(72528);const to=["pDialogContent"],no=["overlayPanel"],io=["classNamesDropdown"],oo=["planNamesDropdown"],so=["distNamesDropdown"];function ao(e,t){if(1&e&&(Pe.TgZ(0,"span",20),Pe._uU(1),Pe.qZA()),2&e){const e=t.$implicit;Pe.s9C("title",e.label),Pe.xp6(1),Pe.Oqu(e.label)}}function ro(e,t){if(1&e&&(Pe.TgZ(0,"span",20),Pe._uU(1),Pe.qZA()),2&e){const e=t.$implicit;Pe.s9C("title",e.label),Pe.xp6(1),Pe.Oqu(e.label)}}const lo=function(e,t,n){return[e,t,n]};let co=(()=>{class e{constructor(e,t,n){this.store=e,this.roleAccessService=t,this.roleAccessPeService=n,this.buttonOptions={forceWidth:"70px"},this.scrollHeight="120px",this.okActionButtonModel={label:"OK",theme:wn.bnJ.Accent},this.cancelActionButtonModel={label:"Cancel"},this.objectIdValidationMessages=Ci.p,this.emptyDropdownValue=null,this.ngUnsubscribe$=new Ae.xQ,this.classNamesDropdownControl=new xn.NI(this.emptyDropdownValue),this.planNamesDropdownControl=new xn.NI(this.emptyDropdownValue),this.distNamesDropdownControl=new xn.NI(this.emptyDropdownValue),this.checkboxControl=new xn.NI,this.objectIdInputControl=new xn.NI,this.form=new xn.cw({classNamesDropdown:this.classNamesDropdownControl,planNamesDropdown:this.planNamesDropdownControl,distNamesDropdown:this.distNamesDropdownControl,checkbox:this.checkboxControl,objectId:this.objectIdInputControl}),this.maxOverLayWidth=0,this.itemSize=0,this.virtualScroll=!1}onDistNamesDropdownShow(e){const t=[...e.element.querySelectorAll("p-dropdownitem>li>span")],n=Math.max(...t.map(e=>e.offsetWidth));n<=this.getOverLayTopDivWidth()||n<=this.maxOverLayWidth||(this.maxOverLayWidth||(this.maxOverLayWidth=.7*(window.document.body.offsetWidth-this.overlayPanel.pDialog.nativeElement.parentElement.parentElement.offsetLeft),this.overlayPanel.pDialog.nativeElement.style.maxWidth=this.maxOverLayWidth+"px"),this.setOverLayTopDivWidth(Math.min(n,this.maxOverLayWidth)+"px"))}onDistNamesDropdownHide(){this.setOverLayTopDivWidth("auto")}setOverLayTopDivWidth(e){this.pDialogContent.nativeElement.parentElement.parentElement.parentElement.style.width=e}getOverLayTopDivWidth(){return this.pDialogContent.nativeElement.parentElement.parentElement.parentElement.offsetWidth}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}ngOnInit(){this.store.select(me.ji).pipe((0,_e.R)(this.ngUnsubscribe$)).subscribe(e=>{this.selectedPlan=e}),this.store.select(Vi.xo).pipe((0,A.U)(e=>e.filter(e=>e.from!==ht.tX.INACTIVE&&!this.roleAccessService.isForbiddenForCurrentRole(e.from)).map(e=>({label:e.planName,value:e}))),(0,_e.R)(this.ngUnsubscribe$)).subscribe(e=>{this.planDropdownOptions=e}),this.store.pipe((0,g.Ys)(Xi),(0,A.U)(e=>e.map(e=>({label:e.distname,value:e}))),(0,_e.R)(this.ngUnsubscribe$)).subscribe(e=>{this.isAnyManagedObjectAvailable=!!e.length,this.isAnyManagedObjectAvailable?this.distNamesDropdownControl.enable():this.distNamesDropdownControl.disable(),this.selectedManagedObjectToCopy=e;const{virtualScroll:t,itemSize:n}=vi(this.selectedManagedObjectToCopy);this.virtualScroll=t,this.itemSize=n}),(0,ft.aj)([this.store.select(_t),this.store.select(ae),this.store.select(Fn)]).pipe((0,A.U)(([e,t,n])=>t?yi({nidd:n,availableChildren:e,parentMoUuid:t},this.roleAccessPeService):[]),(0,_e.R)(this.ngUnsubscribe$)).subscribe(e=>{this.childrenOptions=e}),(0,ft.aj)([this.store.select(_t),this.store.select(Fn),this.classNamesDropdownControl.valueChanges]).pipe((0,_e.R)(this.ngUnsubscribe$)).subscribe(([e,t,n])=>{n&&this.updateInstanceIdInput({availableChildren:e,nidd:t,dropdownOption:n})})}toggleOverlay(e){this.resetInputs(),this.overlayPanel.toggle(e)}onCopyObject(){const{classNamesDropdown:e,distNamesDropdown:t,checkbox:n,objectId:i}=this.form.value;this.store.dispatch(ot({request:{parentMoUuid:e.parentMoUuid,moUuid:t.moUuid,sourcePlanId:t.planId,newInstanceId:i,includeChildrenObjects:n},keepInfiniteSpinner:!0})),this.overlayPanel.hide(),this.clearSourceManagedObject()}getDistnames(){const e=this.classNamesDropdownControl.value,t=this.planNamesDropdownControl.value;this.selectedPlan&&e&&t&&(this.distNamesDropdownControl.setValue(this.emptyDropdownValue),this.distNamesDropdownControl.enable(),this.store.dispatch(et({request:{sourcePlan:t,targetPlan:this.selectedPlan,moUuid:e.parentMoUuid,childNiddId:e.niddId}})))}updateInstanceIdInput({availableChildren:e,nidd:t,dropdownOption:n}){const i=t[n.niddId];if(!i)return;this.objectIdInputControl.enable();const o=Pi({niddId:n.niddId,availableChildren:e});this.objectIdInputControl.setValidators(bi(i,o));const s=li(i,o);this.form.patchValue({objectId:s})}resetInputs(){this.clearSourceManagedObject(),this.form.setValue({classNamesDropdown:this.emptyDropdownValue,planNamesDropdown:this.emptyDropdownValue,distNamesDropdown:this.emptyDropdownValue,checkbox:!1,objectId:""}),this.objectIdInputControl.disable(),this.distNamesDropdownControl.disable()}clearSourceManagedObject(){this.store.dispatch(nt())}hidePlanNamesDropdown(){this.planNamesDropdown.overlayVisible&&(this.planNamesDropdown.overlayVisible=!1)}hideClassNamesDropdown(){this.classNamesDropdown.overlayVisible&&(this.classNamesDropdown.overlayVisible=!1)}hideDistNamesDropdown(){this.distNamesDropdown.overlayVisible&&(this.distNamesDropdown.overlayVisible=!1)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(eo.Q),Pe.Y36(Yt.El))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-copy-object-overlay-panel"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(to,5),Pe.Gf(no,5),Pe.Gf(io,5),Pe.Gf(oo,5),Pe.Gf(so,5)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.pDialogContent=e.first),Pe.iGM(e=Pe.CRH())&&(t.overlayPanel=e.first),Pe.iGM(e=Pe.CRH())&&(t.classNamesDropdown=e.first),Pe.iGM(e=Pe.CRH())&&(t.planNamesDropdown=e.first),Pe.iGM(e=Pe.CRH())&&(t.distNamesDropdown=e.first)}},decls:28,vars:32,consts:[["styleClass","copy-object-overlay-panel",3,"header","componentsToHideBeforeOverlayPanel","dismissable"],["overlayPanel",""],[1,"p-dialog-content",3,"formGroup","ngSubmit"],["pDialogContent",""],[1,"content-row"],["for","webem-pe-copy-object-classname-dropdown"],["id","webem-pe-copy-object-classname-dropdown","placeholder","Select object class","formControlName","classNamesDropdown",3,"options","filter","resetFilterOnHide","required","onChange"],["classNamesDropdown",""],["for","webem-pe-copy-object-planname-dropdown"],["id","webem-pe-copy-object-planname-dropdown","placeholder","Select plan","formControlName","planNamesDropdown",3,"title","options","required","onChange","onShow","onHide"],["planNamesDropdown",""],["pTemplate","item"],["for","webem-pe-copy-object-distnames-dropdown"],["id","webem-pe-copy-object-distnames-dropdown","formControlName","distNamesDropdown",3,"title","options","scrollHeight","virtualScroll","itemSize","placeholder","required","onShow","onHide"],["distNamesDropdown",""],["id","webem-pe-copy-object-copy-with-subtree-dropdown","label","Copy object with subtree","formControlName","checkbox",3,"binary","required"],["label","Object ID","controlName","objectId","placeholder","<ID>",3,"group","id","validationMessages"],[1,"p-dialog-footer"],["id","webem-pe-copy-object-ok-button",1,"copy-object-action-button",3,"disabled","model","options","action"],["id","webem-pe-copy-object-cancel-button",1,"copy-object-action-button",3,"model","options","action"],[3,"title"]],template:function(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-overlay-panel",0,1),Pe.TgZ(2,"form",2,3),Pe.NdJ("ngSubmit",function(){return t.onCopyObject()}),Pe.TgZ(4,"div",4),Pe.TgZ(5,"label",5),Pe._uU(6,"Object name:"),Pe.qZA(),Pe.TgZ(7,"p-dropdown",6,7),Pe.NdJ("onChange",function(){return t.getDistnames()}),Pe.qZA(),Pe.qZA(),Pe.TgZ(9,"div",4),Pe.TgZ(10,"label",8),Pe._uU(11,"Plan name:"),Pe.qZA(),Pe.TgZ(12,"p-dropdown",9,10),Pe.NdJ("onChange",function(){return t.getDistnames()})("onShow",function(e){return t.onDistNamesDropdownShow(e)})("onHide",function(){return t.onDistNamesDropdownHide()}),Pe.YNc(14,ao,2,2,"ng-template",11),Pe.qZA(),Pe.qZA(),Pe.TgZ(15,"div",4),Pe.TgZ(16,"label",12),Pe._uU(17,"Object distinguished name:"),Pe.qZA(),Pe.TgZ(18,"p-dropdown",13,14),Pe.NdJ("onShow",function(e){return t.onDistNamesDropdownShow(e)})("onHide",function(){return t.onDistNamesDropdownHide()}),Pe.YNc(20,ro,2,2,"ng-template",11),Pe.qZA(),Pe.qZA(),Pe.TgZ(21,"div",4),Pe._UZ(22,"p-checkbox",15),Pe.qZA(),Pe._UZ(23,"ui-webem-form-input",16),Pe.qZA(),Pe.TgZ(24,"div",17),Pe.TgZ(25,"p-footer"),Pe.TgZ(26,"ui-webem-button",18),Pe.NdJ("action",function(){return t.onCopyObject()}),Pe.qZA(),Pe.TgZ(27,"ui-webem-button",19),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.MAs(1).hide(),t.clearSourceManagedObject()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.MAs(8),n=Pe.MAs(13),i=Pe.MAs(19);Pe.Q6J("header","Copy existing object")("componentsToHideBeforeOverlayPanel",Pe.kEZ(28,lo,e,n,i))("dismissable",!0),Pe.xp6(2),Pe.Q6J("formGroup",t.form),Pe.xp6(5),Pe.Q6J("options",t.childrenOptions)("filter",!0)("resetFilterOnHide",!0)("required",!0),Pe.xp6(5),Pe.s9C("title",null==t.planNamesDropdownControl||null==t.planNamesDropdownControl.value?null:t.planNamesDropdownControl.value.planName),Pe.Q6J("options",t.planDropdownOptions)("required",!0),Pe.xp6(6),Pe.s9C("title",null==t.distNamesDropdownControl||null==t.distNamesDropdownControl.value?null:t.distNamesDropdownControl.value.distname),Pe.Q6J("options",t.selectedManagedObjectToCopy)("scrollHeight",t.scrollHeight)("virtualScroll",t.virtualScroll)("itemSize",t.itemSize)("placeholder",t.isAnyManagedObjectAvailable?"Select object distinguished name":"No matching results")("required",!0),Pe.xp6(4),Pe.Q6J("binary",!0)("required",!0),Pe.xp6(1),Pe.Q6J("group",t.form)("id","webem-pe-copy-object-id-input")("validationMessages",t.objectIdValidationMessages),Pe.xp6(3),Pe.Q6J("disabled",t.form.invalid||!t.isAnyManagedObjectAvailable)("model",t.okActionButtonModel)("options",t.buttonOptions),Pe.xp6(1),Pe.Q6J("model",t.cancelActionButtonModel)("options",t.buttonOptions)}},directives:[Oi.o,xn._Y,xn.JL,xn.sg,xi.Lt,xn.JJ,xn.u,xn.Q7,Ri.jx,wi.XZ,Zi,Ri.$_,Ui.r],styles:[".p-dialog-content[_ngcontent-%COMP%]{width:100%;min-width:250px;display:flex;flex-direction:column}.p-dialog-content[_ngcontent-%COMP%]   .content-row[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:15px;display:flex;flex-direction:column}.p-dialog-content[_ngcontent-%COMP%]   .content-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-grow:1}  .copy-object-overlay-panel.p-overlaypanel{margin-top:-15px}  .copy-object-overlay-panel.p-overlaypanel .p-dialog-header{font-size:16px}  .copy-object-overlay-panel.p-overlaypanel .p-dialog-titlebar{font-size:16px;color:#000}.copy-object-action-button[_ngcontent-%COMP%]{padding-right:8px}"]}),e})();var uo=(()=>(function(e){e.SetComparedObjectsDetails="[USER] [SelectedParameterDetails] Set selected parameter details",e.ResetComparedObjectsDetails="[USER] [SelectedParameterDetails] Reset selected parameter details"}(uo||(uo={})),uo))();const po=(0,g.PH)(uo.SetComparedObjectsDetails,(0,g.Ky)()),go=(0,g.PH)(uo.ResetComparedObjectsDetails);var ho=n(7067),mo=n(43286);function fo(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"div",2),Pe.TgZ(2,"div",3),Pe.TgZ(3,"form",4),Pe.NdJ("ngSubmit",function(){const t=Pe.CHM(e).ngIf;return Pe.oxw().submit(t.niddId)}),Pe._UZ(4,"ui-webem-form-input",5),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(5,"div",6),Pe.TgZ(6,"p-footer"),Pe.TgZ(7,"ui-webem-button",7),Pe.NdJ("action",function(){const t=Pe.CHM(e).ngIf;return Pe.oxw().submit(t.niddId)}),Pe.qZA(),Pe.TgZ(8,"ui-webem-button",8),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(),Pe.MAs(1).hide()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.BQk()}if(2&e){const e=Pe.oxw();Pe.xp6(3),Pe.Q6J("formGroup",e.form),Pe.xp6(1),Pe.Q6J("group",e.form)("id","webem-pe-base-object-id-input")("validationMessages",e.objectIdValidationMessages),Pe.xp6(3),Pe.Q6J("disabled",e.form.invalid)("model",e.okActionButtonModel)("options",e.buttonOptions),Pe.xp6(1),Pe.Q6J("model",e.cancelActionButtonModel)("options",e.buttonOptions)}}let bo=(()=>{class e{constructor(e){this.store=e,this.buttonOptions={forceWidth:"70px"},this.okActionButtonModel={title:"",label:"OK",theme:wn.bnJ.Accent},this.cancelActionButtonModel={title:"",label:"Cancel"},this.objectIdValidationMessages=Ci.p,this.baseObjectIdInput=new xn.NI(1),this.form=new xn.cw({baseObjectId:this.baseObjectIdInput})}ngOnInit(){this.mrbtsDefinition$=this.store.select($n("MRBTS")).pipe((0,Ie.b)(e=>{e&&this.baseObjectIdInput.setValidators(bi(e,[]))}))}submit(e){const t=Number.parseInt(this.form.value.baseObjectId,10);this.store.dispatch(it({request:{niddId:e,instanceId:t,includeDefaults:!0},keepInfiniteSpinner:!1})),this.overlayPanel.hide()}show(e){this.overlayPanel.show(e)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-add-base-object-overlay-panel"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(wn.oSc,7),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.overlayPanel=e.first)}},decls:4,vars:3,consts:[["overlayPanel",""],[4,"ngIf"],[1,"p-dialog-content"],[1,"add-base-object-panel-content"],[1,"base-object-id",3,"formGroup","ngSubmit"],["label","MRBTS ID","controlName","baseObjectId","placeholder","<ID>",3,"group","id","validationMessages"],[1,"p-dialog-footer"],["id","webem-pe-add-base-object-ok-button",1,"add-base-object-action-button",3,"disabled","model","options","action"],["id","webem-pe-add-base-object-cancel-button",1,"add-base-object-action-button",3,"model","options","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-overlay-panel",null,0),Pe.YNc(2,fo,9,9,"ng-container",1),Pe.ALo(3,"async"),Pe.qZA()),2&e&&(Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(3,1,t.mrbtsDefinition$)))},directives:[Oi.o,m.O5,xn._Y,xn.JL,xn.sg,Zi,Ri.$_,Ui.r],pipes:[m.Ov],styles:["[_nghost-%COMP%]     .webem-overlay-header{padding-bottom:0!important}  ui-webem-form-validation-message span.validation-message{padding-bottom:0!important}.add-base-object-panel-content[_ngcontent-%COMP%]{width:240px;font-size:11px}.base-object-id-input[_ngcontent-%COMP%]{font-size:12px;height:22px;width:100%}.add-base-object-action-button[_ngcontent-%COMP%]{padding-right:8px}"]}),e})(),Co=(()=>{class e{transform(e,t){if(!e||!t)return!1;const n=Nt(t);return e.includes(n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isActionInProgress",type:e,pure:!0}),e})(),vo=(()=>{class e{constructor(){this.defaultLoadingIcons="mdi-loading mdi-spin"}transform(e,t,n){return(0,_.isNil)(e)?this.getClasses(this.defaultLoadingIcons):this.getClasses(e?n||this.defaultLoadingIcons:t)}getClasses(e){return`mdi ${e}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"transformIcon",type:e,pure:!0}),e})();function yo(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",5),Pe.TgZ(1,"button",6),Pe.NdJ("click",function(t){return Pe.CHM(e),Pe.MAs(4).show(t)}),Pe.ALo(2,"transformIcon"),Pe.qZA(),Pe._UZ(3,"configuration-add-base-object-overlay-panel",null,7),Pe.qZA()}if(2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("icon",Pe.xi3(2,2,e.inProgress,"mdi-plus"))("disabled",e.inProgress)}}const So=function(e){return{planId:e,parentMoUuid:void 0,missingClassName:void 0}},Po=function(e,t){return{id:e,identifyingData:t}},Oo=function(e){return{inProgress:e}};function xo(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,yo,5,5,"div",4),Pe.ALo(2,"isActionInProgress"),Pe.ALo(3,"async"),Pe.BQk()),2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(11,Oo,Pe.xi3(2,1,Pe.lcZ(3,4,n.actionProgressIds$),Pe.WLB(8,Po,n.spinnerId,Pe.VKq(6,So,e.planId)))))}}const wo=function(e){return{planId:e}};let Ao=(()=>{class e{constructor(e){this.store=e,this.spinnerId=Et.AddManagedObject}ngOnInit(){this.selectedPlanId$=this.store.select(me.oI),this.actionProgressIds$=this.store.select(qt)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-add-base-object"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(bo,5),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.overlayPanel=e.first)}},decls:7,vars:5,consts:[[1,"add-base-object"],[1,"no-object-icon"],[1,"information-icon","mdi","mdi-information"],[4,"ngIf"],["class","add-object-button-wrapper",4,"ngIf"],[1,"add-object-button-wrapper"],["pButton","","label","Add","title","Add new MRBTS object",1,"add-object-button","ui-button-accent","button-icon-left",3,"icon","disabled","click"],["overlayPanel",""]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"span",1),Pe._UZ(2,"i",2),Pe.qZA(),Pe.TgZ(3,"span"),Pe._uU(4,' Click "Add" to create your configuration base object '),Pe.qZA(),Pe.qZA(),Pe.YNc(5,xo,4,13,"ng-container",3),Pe.ALo(6,"async")),2&e&&(Pe.xp6(5),Pe.Q6J("ngIf",Pe.VKq(3,wo,Pe.lcZ(6,1,t.selectedPlanId$))))},directives:[m.O5,Mt.Hq,bo],pipes:[m.Ov,Co,vo],styles:[".add-object-button-wrapper[_ngcontent-%COMP%]{padding:10px 0 1px}.info-icon[_ngcontent-%COMP%]{margin-right:8px;width:24px}.add-base-object[_ngcontent-%COMP%]{width:100%;display:flex;align-items:baseline;flex-direction:row;font-family:Nokia Pure,sans-serif;line-height:1;padding:5px 0 10px}.add-base-object[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;position:relative;top:3px;margin-right:7px;color:#98a2ae}.add-base-object[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex-grow:1;font-size:14px;letter-spacing:0;color:#98a2ae}"]}),e})(),_o=(()=>{class e{transform(e,t){return!e||e.from===ht.tX.INACTIVE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isInactivePlan",type:e,pure:!0}),e})();const To=["configurator"],Io=["addObjectOverlayPanel"],Eo=["copyObjectOverlayPanel"];function Mo(e,t){1&e&&Pe._UZ(0,"div")}function ko(e,t){1&e&&Pe.GkF(0)}function No(e,t){1&e&&(Pe.TgZ(0,"div",17),Pe._UZ(1,"ui-webem-spinner"),Pe.TgZ(2,"span"),Pe._uU(3,"Fetching tree data ..."),Pe.qZA(),Pe.qZA())}function Lo(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"configuration-plans-configurator",19,20),Pe.NdJ("selectManagedObject",function(t){return Pe.CHM(e),Pe.oxw(6).selectManagedObject(t)})("removeManagedObject",function(t){return Pe.CHM(e),Pe.oxw(6).removeManagedObject(t)})("addManagedObject",function(t){return Pe.CHM(e),Pe.oxw(6).addManagedObject(t)})("copyManagedObject",function(t){return Pe.CHM(e),Pe.oxw(6).copyManagedObject(t)})("revertManagedObject",function(t){return Pe.CHM(e),Pe.oxw(6).revertManagedObject(t)}),Pe.qZA(),Pe.BQk()}if(2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("nodes",e)}}function Do(e,t){1&e&&Pe._UZ(0,"configuration-add-base-object")}function Zo(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,Lo,3,1,"ng-container",1),Pe.YNc(2,Do,1,0,"ng-template",null,18,Pe.W1O),Pe.BQk()),2&e){const e=t.ngIf,n=Pe.MAs(3);Pe.xp6(1),Pe.Q6J("ngIf",!!e.length)("ngIfElse",n)}}function Ro(e,t){if(1&e&&Pe.YNc(0,Zo,4,2,"ng-container",11),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("ngIf",e.selectedPlanNodes)}}function Uo(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,ko,1,0,"ng-container",14),Pe.YNc(2,No,4,0,"ng-template",null,15,Pe.W1O),Pe.YNc(4,Ro,1,1,"ng-template",null,16,Pe.W1O),Pe.BQk()),2&e){const e=Pe.MAs(3),t=Pe.MAs(5),n=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngIf",n.shouldShowFetchData)("ngIfThen",e)("ngIfElse",t)}}function Fo(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",4),Pe.TgZ(1,"div",5),Pe.TgZ(2,"div",6),Pe.TgZ(3,"span",7),Pe._uU(4,"Objects"),Pe.qZA(),Pe.TgZ(5,"p-button",8),Pe.NdJ("onClick",function(){return Pe.CHM(e),Pe.oxw(2).handleExpandAll()}),Pe.ALo(6,"isInactivePlan"),Pe.qZA(),Pe.TgZ(7,"p-button",9),Pe.NdJ("onClick",function(){return Pe.CHM(e),Pe.oxw(2).handleCollapseAll()}),Pe.ALo(8,"isInactivePlan"),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(9,"ui-webem-filter-input",10),Pe.NdJ("valueChange",function(t){return Pe.CHM(e),Pe.oxw(2).filterTree(t)}),Pe.ALo(10,"async"),Pe.ALo(11,"isInactivePlan"),Pe.qZA(),Pe.YNc(12,Uo,6,3,"ng-container",11),Pe._UZ(13,"configuration-add-object-overlay-panel",null,12),Pe._UZ(15,"configuration-shared-copy-object-overlay-panel",null,13),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.xp6(5),Pe.Q6J("disabled",!e.selectedPlan||Pe.lcZ(6,5,e.selectedPlan)||!e.selectedPlanNodes.length),Pe.xp6(2),Pe.Q6J("disabled",!e.selectedPlan||Pe.lcZ(8,7,e.selectedPlan)||!e.selectedPlanNodes.length),Pe.xp6(2),Pe.Q6J("value",Pe.lcZ(10,9,n.treeObjectsFilter$))("disabled",!e.selectedPlan||Pe.lcZ(11,11,e.selectedPlan)||!e.selectedPlanNodes.length),Pe.xp6(3),Pe.Q6J("ngIf",e.selectedPlan)}}const jo=function(e,t,n){return{selectedPlan:e,shouldShowFetchData:t,selectedPlanNodes:n}};function $o(e,t){if(1&e&&(Pe.YNc(0,Fo,17,13,"div",3),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async")),2&e){const e=Pe.oxw();Pe.Q6J("ngIf",Pe.kEZ(7,jo,Pe.lcZ(1,1,e.selectedPlan$),Pe.lcZ(2,3,e.shouldShowFetchData$),Pe.lcZ(3,5,e.selectedPlanNodes$)))}}let qo=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new Ae.xQ}removeManagedObject(e){this.store.dispatch((0,wn.VGr)({message:`Are you sure you want to remove ${e.name}?`,key:"confirm dialog configuration",acceptLabel:"OK",rejectLabel:"Cancel",icon:Gi.Wf,accept:()=>{this.store.dispatch(Ge({moUuid:e.moUuid,name:e.name,state:e.state,parentMoUuid:e.parentMoUuid}))}}))}filterTree(e){this.store.dispatch(v({treeFilterValue:e})),this.configurator.filterTree(e)}handleExpandAll(){this.configurator.expandAll()}handleCollapseAll(){this.configurator.collapseAll()}ngOnInit(){this.selectedPlan$=this.store.pipe((0,g.Ys)(me.ji)),this.treeObjectsFilter$=this.store.pipe((0,g.Ys)(w)),this.shouldShowFetchData$=this.store.pipe((0,g.Ys)(se)),this.hideTreePanel$=this.store.pipe((0,g.Ys)(x)),this.initializeTree(),this.subscribeToSelectedPlanChanges(),this.selectedPlanNodes$=this.store.pipe((0,g.Ys)(ne),(0,A.U)(e=>(0,_.isEmpty)(e)?[]:function(e){const t=[],n={};for(const i of e){const e=i.moUuid,o=i.parentMoUuid;ke(n,e)||(n[e]=Ne()),Object.assign(n[e],i);const s=n[e];o?(ke(n,o)||(n[o]=Ne()),n[o].children.push(s),Ze(s)&&Le(s,n).forEach((0,_.curry)(Re)(s))):t.push(s)}return t}(e)))}ngOnDestroy(){this.clearPlanTree(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}selectManagedObject(e){this.store.dispatch(go()),this.store.dispatch(N({moUuid:e}))}addManagedObject(e){this.addObjectOverlayPanel.toggleOverlay(e)}copyManagedObject(e){this.copyObjectOverlayPanel.toggleOverlay(e)}clearPlanTree(){this.store.dispatch(R()),this.store.dispatch(B()),this.store.dispatch(v({treeFilterValue:""}))}fetchPlanTree(e){this.store.dispatch(q({fetchingTreeDataStatus:!0})),this.store.dispatch(k({planId:e.planId,planOrigin:e.from}))}shouldFetchPlanTree(e){return e.from===ht.tX.ACTIVE||e.from===ht.tX.DELTA||e.from===ht.tX.STAGE}subscribeToSelectedPlanChanges(){this.selectedPlan$.pipe((0,_e.R)(this.ngUnsubscribe),(0,Te.G)(),(0,Ie.b)(([e,t])=>{(t&&t.planId)!==(e&&e.planId)&&(this.clearPlanTree(),t&&this.shouldFetchPlanTree(t)&&this.fetchPlanTree(t))})).subscribe()}initializeTree(){this.selectedPlan$.pipe((0,_e.R)(this.ngUnsubscribe),(0,Ee.q)(1)).subscribe(e=>{e&&this.shouldFetchPlanTree(e)&&this.fetchPlanTree(e)})}revertManagedObject(e){this.store.dispatch(We({moUuid:e,includeChildren:!0}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-plans-tree-panel"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(To,5),Pe.Gf(Io,5),Pe.Gf(Eo,5)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.configurator=e.first),Pe.iGM(e=Pe.CRH())&&(t.addObjectOverlayPanel=e.first),Pe.iGM(e=Pe.CRH())&&(t.copyObjectOverlayPanel=e.first)}},decls:5,vars:4,consts:[[1,"plans-panel-container"],[4,"ngIf","ngIfElse"],["showTreePanel",""],["class","plans-panel-show","fxLayout","column","fxLayoutAlign","start start",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start",1,"plans-panel-show"],[1,"header"],[1,"header-content"],[1,"label"],["icon","mdi mdi-18px mdi-arrow-expand","title","Expand All","styleClass","ui-button-secondary ui-button-long",1,"button",3,"disabled","onClick"],["icon","mdi mdi-18px mdi-arrow-collapse","title","Collapse All","styleClass","ui-button-secondary  ui-button-long",1,"button",3,"disabled","onClick"],["id","plans-tree",1,"filter-input",3,"value","disabled","valueChange"],[4,"ngIf"],["addObjectOverlayPanel",""],["copyObjectOverlayPanel",""],[4,"ngIf","ngIfThen","ngIfElse"],["fetchingData",""],["planContent",""],[1,"fetching-data-info-block"],["emptyTree",""],[1,"plans-tree",3,"nodes","selectManagedObject","removeManagedObject","addManagedObject","copyManagedObject","revertManagedObject"],["configurator",""]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"div",0),Pe.YNc(1,Mo,1,0,"div",1),Pe.ALo(2,"async"),Pe.YNc(3,$o,4,11,"ng-template",null,2,Pe.W1O),Pe.qZA()),2&e){const e=Pe.MAs(4);Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,2,t.hideTreePanel$))("ngIfElse",e)}},directives:[m.O5,Mt.zx,ho.T,Bi,co,mo.O,On,Ao],pipes:[m.Ov,_o],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.plans-panel-container[_ngcontent-%COMP%]{padding-left:15px}.plans-panel-container[_ngcontent-%COMP%], .plans-panel-show[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;background-color:#edf2f5}.plans-panel-show[_ngcontent-%COMP%]{width:100%}.plans-panel-hide[_ngcontent-%COMP%]{flex-grow:1;display:flex;align-items:center;justify-content:center;width:20px;border-radius:3px;cursor:pointer}.plans-tree[_ngcontent-%COMP%]{margin-bottom:5px}.filter-input[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;padding-right:15px}.header[_ngcontent-%COMP%]{width:100%}.header-content[_ngcontent-%COMP%]{height:33px;align-items:center;display:flex;flex-direction:row;border:none;border-bottom:1px solid #98a2ae}.header-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-right:17px}.header-content[_ngcontent-%COMP%]     .button .p-button-secondary.p-disabled{color:#bec8d2}.label[_ngcontent-%COMP%]{height:1em;line-height:1em;margin-top:11px;flex-grow:1;font-size:16px;color:#4d5766}.button[_ngcontent-%COMP%]{margin-left:8px;width:32px;height:26px}.button-hide[_ngcontent-%COMP%]   .p-button.p-button-icon-only[_ngcontent-%COMP%]   .p-button-icon-left[_ngcontent-%COMP%]{font-size:18px}.fetching-data-info-block[_ngcontent-%COMP%]{display:inline-block}.fetching-data-info-block[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:8px}"]}),e})();var Bo=n(57057);const Go=(0,g.ZF)("planActivation"),Vo=(0,g.P1)(Go,e=>e.operationStatus===ht.ES.Ongoing),Yo=(0,g.P1)(Go,e=>e.cmPlanId);function Jo(e,t){return e.reduce((e,n)=>[...e,{id:Et.AddManagedObject,identifyingData:{planId:t,parentMoUuid:n.parentMoUuid,missingClassName:void 0}},{id:Et.CopyManagedObject,identifyingData:{planId:t,parentMoUuid:n.parentMoUuid}}],[])}function Ho(e,t){return e.reduce((e,n)=>"deleted"===n.state?[...e,{id:Et.RemoveManagedObject,identifyingData:{planId:t,moUuid:n.moUuid}}]:e,[])}function Wo(e,t){if(e.parentMoUuid)return t[e.parentMoUuid]}function Qo(e,t){const n=[],i=t[e];if(!i)return n;let o=Wo(i,t);for(;o;)n.push(o),o=Wo(o,t);return n}const zo=Gi.u5;let Ko=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe$=new Ae.xQ,this.selectedManagedObjectDistname="",this.isUserDeletingSelectedObject=!1}ngOnInit(){this.subscribeForSelectedManagedObjectChanges(),this.subscribeForManagedObjectRemovals()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}hasUserRequestedSelectedObjectRemoval(){return this.isUserDeletingSelectedObject}subscribeForManagedObjectRemovals(){this.store.select(Bt).pipe((0,_e.R)(this.ngUnsubscribe$)).subscribe(e=>{this.selectedManagedObject&&(this.isUserDeletingSelectedObject=this.isObjectRemovalInProgress(e,this.selectedManagedObject.moUuid))})}subscribeForSelectedManagedObjectChanges(){this.objectSelector.pipe((0,_e.R)(this.ngUnsubscribe$),(0,Bo.M)(this.store.select(ie),this.store.select(Vo))).subscribe(([e,t,n])=>{if(Object.keys(t).length&&!this.isUserDeletingSelectedObject){const i=!e&&!!this.selectedManagedObject&&!t[this.selectedManagedObject.moUuid],o=function({previousManagedObject:e,newManagedObject:t}){return!!(e&&t&&(n=e,i=t,n&&i&&n.moUuid===i.moUuid)&&e.state!==Me.Deleted&&t.state===Me.Deleted);var n,i}({previousManagedObject:this.selectedManagedObject,newManagedObject:e});if(i){if(!n){const e=function(e,t){return e.find(e=>!!t[e])}(this.selectedObjectAncestorIds,t);this.warnAboutObjectRemoval(e)}}else o&&this.warnAboutObjectDeletionState()}(0,_.isEqual)(this.selectedManagedObject,e)||this.updateSelectedObject(t,e)})}isObjectRemovalInProgress(e,t){return e.some(e=>e.identifyingData.moUuid===t)}showWarning(e){this.store.dispatch((0,wn.VGr)({message:this.getDialogMessage(this.selectedManagedObjectDistname),key:"confirm dialog configuration",header:"Object does not exist",acceptLabel:"OK",rejectVisible:!1,icon:zo,accept:e}))}warnAboutObjectDeletionState(){this.showWarning(()=>{})}warnAboutObjectRemoval(e){let t=()=>{};this.shouldReselectObjectAfterRemoval&&(t=()=>{this.store.dispatch(N({moUuid:e}))}),this.showWarning(t)}getDialogMessage(e){return`Object ${e} was removed from the plan`}updateSelectedObject(e,t){this.selectedManagedObject=t,this.isUserDeletingSelectedObject=!1,this.selectedObjectAncestorIds=t?function(e,t){return Qo(e,t).map(e=>e.moUuid)}(t.moUuid,e):[],this.selectedManagedObjectDistname=t?function(e,t){return Qo(e.moUuid,t).reduce((e,t)=>`${t.name}/${e}`,`${e.name}`)}(t,e):""}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275dir=Pe.lG2({type:e,selectors:[["","configurationSharedObjectRemovedDialog",""]],inputs:{objectSelector:"objectSelector",shouldReselectObjectAfterRemoval:"shouldReselectObjectAfterRemoval"}}),e})();var Xo=(()=>(function(e){e.CreatePlanRequest="[CreatePlan] [User] Create plan request",e.CreatePlanSuccess="[CreatePlan] [User] Create plan success",e.CreatePlanFailure="[CreatePlan] [User] Create plan failure",e.CreatePlanHttpError="[CreatePlan] Create plan http error",e.DisableCreatePlanButton="[CreatePlan] Disable create plan button",e.DisableCreateDeltaPlanButton="[CreatePlan] Disable create delta plan button",e.EnableCreatePlanButton="[CreatePlan] Enable create plan button",e.EnableCreateDeltaPlanButton="[CreatePlan] Enable create delta plan button"}(Xo||(Xo={})),Xo))();const es=(0,g.PH)(Xo.CreatePlanRequest,(0,g.Ky)()),ts=(0,g.PH)(Xo.CreatePlanSuccess,(0,g.Ky)()),ns=(0,g.PH)(Xo.CreatePlanFailure,(0,g.Ky)()),is=(0,g.PH)(Xo.CreatePlanHttpError,(0,g.Ky)()),os=(0,g.PH)(Xo.EnableCreateDeltaPlanButton),ss=(0,g.PH)(Xo.EnableCreatePlanButton),as=(0,g.PH)(Xo.DisableCreatePlanButton),rs=(0,g.PH)(Xo.DisableCreateDeltaPlanButton);var ls=n(95522),cs=n(51734);const ds="createPlan",us=(0,g.Lq)({isPlanCreationOperationOngoing:!1,isDeltaPlanCreationOperationOngoing:!1},(0,g.on)(as,e=>Object.assign(Object.assign({},e),{isPlanCreationOperationOngoing:!0})),(0,g.on)(ss,e=>Object.assign(Object.assign({},e),{isPlanCreationOperationOngoing:!1})),(0,g.on)(rs,e=>Object.assign(Object.assign({},e),{isDeltaPlanCreationOperationOngoing:!0})),(0,g.on)(os,e=>Object.assign(Object.assign({},e),{isDeltaPlanCreationOperationOngoing:!1})));function ps(e,t){return us(e,t)}const gs=(0,g.ZF)(ds);var hs=(()=>(function(e){e.DeletePlan="[DeletePlan] [User] Delete plan"}(hs||(hs={})),hs))();const ms=(0,g.PH)(hs.DeletePlan,(0,g.Ky)());var fs=n(13370),bs=n(2069);let Cs=(()=>{class e{constructor(e){this.store=e,this.changeToPlannedConfigurationButtonModel=(0,_.cloneDeep)(ht.qR),this.changeToPlannedConfigurationLoadingButtonModel=(0,_.cloneDeep)(ht.aW),this.isOperationExecuted=!1,this.ngUnsubscribe=new Ae.xQ}ngOnInit(){this.isMaxNumberOfStagedPlansExceeded$=this.store.select(Vi.fk),this.store.pipe((0,g.Ys)(gs),(0,_e.R)(this.ngUnsubscribe),(0,A.U)(e=>e.isDeltaPlanCreationOperationOngoing)).subscribe(e=>{this.isOperationExecuted&&!e&&(this.store.dispatch(ms({planId:this.planBase.planId,planOrigin:this.planBase.from})),this.isOperationExecuted=!1)}),this.isMaxNumberOfStagedPlansExceeded$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.changeToPlannedConfigurationButtonModel.title=e?fs.rW:"")}changeToPlannedConfiguration(e){!function(e,t){const n=(0,cs.format)(new ls.ou,"HH_mm_ss");e.dispatch(es({request:{sourcePlanId:t.planId,planName:`${t.planName}-${n}`,planDescription:t.planDescription||void 0},option:ht.cW.COPY_DELTA}))}(this.store,e),this.planBase={planId:e.planId,from:e.from},this.isOperationExecuted=!0}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["change-to-planed-configuration-button"]],inputs:{selectedPlan:"selectedPlan"},decls:3,vars:6,consts:[["id","changeToPlannedConfigurationButton",1,"change-configuration-button",3,"oamRoleAccessControl","hostInstance","model","disabled","action"],["CHANGE_TO_PLANNED_CONFIGURATION",""]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"ui-webem-button",0,1),Pe.NdJ("action",function(){return t.changeToPlannedConfiguration(t.selectedPlan)}),Pe.ALo(2,"async"),Pe.qZA()),2&e){const e=Pe.MAs(1);Pe.Q6J("oamRoleAccessControl","CHANGE_TO_PLANNED_CONFIGURATION")("hostInstance",e)("model",t.isOperationExecuted?t.changeToPlannedConfigurationLoadingButtonModel:t.changeToPlannedConfigurationButtonModel)("disabled",t.isOperationExecuted||Pe.lcZ(2,4,t.isMaxNumberOfStagedPlansExceeded$))}},directives:[Ui.r,bs.h],pipes:[m.Ov],encapsulation:2}),e})();var vs=n(45435),ys=n(87519),Ss=n(94612),Ps=n(47349),Os=n(39761),xs=n(35758),ws=(()=>(function(e){e.MandatoryParameters="mandatoryParameters",e.OptionalParameters="optionalParameters"}(ws||(ws={})),ws))(),As=(()=>(function(e){e.Existing="existing",e.NotExisting="notExisting"}(As||(As={})),As))(),_s=(()=>(function(e){e.ClearTableContextFilterAction="[User] [TableContextFilter] clear table context filter",e.SetFilterByNecessity="[User] [TableContextFilter] Update table context filter necessity property",e.SetFilterByOnlyModified="[User] [TableContextFilter] Update table context filter showModified property",e.SetFilterByOnlyInvalid="[User] [TableContextFilter] Update table context filter showInvalid property",e.SetFilterByExistenceAction="[User] [TableContextFilter] Update table context filter existence property",e.SetColumnsFilter="[TableContextFilter] Set columns filters",e.UpdateColumnFilter="[TableContextFilter] Update column filter"}(_s||(_s={})),_s))();const Ts=(0,g.PH)(_s.ClearTableContextFilterAction),Is=(0,g.PH)(_s.SetFilterByNecessity,(0,g.Ky)()),Es=(0,g.PH)(_s.SetFilterByOnlyModified,(0,g.Ky)()),Ms=(0,g.PH)(_s.SetFilterByOnlyInvalid,(0,g.Ky)()),ks=(0,g.PH)(_s.SetFilterByExistenceAction,(0,g.Ky)()),Ns=(0,g.PH)(_s.SetColumnsFilter,(0,g.Ky)()),Ls=(0,g.PH)(_s.UpdateColumnFilter,(0,g.Ky)()),Ds="tableContextFilter",Zs={necessity:{enabled:!1,stateOfNecessity:ws.MandatoryParameters},showOnlyModified:!1,showOnlyInvalid:!1,existence:{enabled:!1,stateOfExistence:As.Existing},columnFilters:{}},Rs=(0,g.on)(Ts,()=>Zs),Us=(0,g.on)(Is,(e,{enabled:t,value:n})=>Object.assign(Object.assign({},e),{necessity:{stateOfNecessity:n,enabled:t}})),Fs=(0,g.on)(Es,(e,{showOnlyModified:t})=>Object.assign(Object.assign({},e),{showOnlyModified:t})),js=(0,g.on)(Ms,(e,{showOnlyInvalid:t})=>Object.assign(Object.assign({},e),{showOnlyInvalid:t})),$s=(0,g.on)(ks,(e,{enabled:t,value:n})=>Object.assign(Object.assign({},e),{existence:{stateOfExistence:n,enabled:t}})),qs=(0,g.on)(Ns,(e,{columnFilters:t})=>Object.assign(Object.assign({},e),{columnFilters:t})),Bs=(0,g.on)(Ls,(e,{columnName:t,value:n})=>{const i=e.columnFilters[t]?Object.assign(Object.assign({},e.columnFilters[t]),{value:n}):{value:n,matchMode:"contains"};return Object.assign(Object.assign({},e),{columnFilters:Object.assign(Object.assign({},e.columnFilters),{[t]:i})})}),Gs=(0,g.Lq)(Zs,Rs,Us,Fs,js,$s,qs,Bs);function Vs(e,t){return Gs(e,t)}const Ys=(0,g.ZF)(Ds),Js=(0,g.P1)(Ys,e=>e.columnFilters);var Hs=n(613),Ws=n(19524);function Qs(e){return e.reduce((e,t)=>(0,_.isNull)(t.data.definitionValidation)||t.data.state===ht.s$.Deleted?e:e+1,0)}function zs(e,t,n){return t?function(e,t,n){return ni(t)&&ui(e)?new Hs.R(Ws.r.PARAMETER_IS_REQUIRED):function(e,t,n){return ti(n)?(0,_.isNaN)(t)&&ui(e)?new Hs.R(Ws.r.PARAMETER_IS_REQUIRED):function(e,t,n){return ti(n)?!ni(t)&&function(e){return!/^\-?\d+(\.\d+)?$/.test(e)}(t)?new Hs.R(Ws.r.SHOULD_BE_NUMBER):function(e,t){return!(0,_.isNil)(t.specialValue)&&ri(parseFloat(e))===ri(t.specialValue)}(t,e)?null:function(e,t){const n=si(t);return isFinite(n)&&parseFloat(e)<n}(t,e)||function(e,t){const n=oi(t);return isFinite(n)&&parseFloat(e)>n}(t,e)?new Hs.R(Ws.r.VALUE_IS_OUT_OF_RANGE,`${function(e){return`${si(e)} - ${oi(e)}`}(e)}`):function(e,t){const n=ai(t),i=si(t);return!(0,_.isUndefined)(i)&&!(0,_.isUndefined)(n)&&isFinite(n)&&(!function(e,t,n){const i=1e3;return(ri(parseFloat(e)*i)-ri(n*i))%ri(t*i)==0}(e,n,i)||!function(e,t,n){return!!t&&i(+e)<=Math.max(i(t),i(n));function i(e){const t=e.toString(),n=t.indexOf(".");return-1!==n?t.length-n:0}}(e,n,i))}(t,e)?new Hs.R(Ws.r.INCORRECT_STEP,` ${ai(e)}`):null:null}(e,t,n):(0,_.isUndefined)(e.enumValues)?function(e){return e===Yn.String}(n)?function(e,t){const n=e||"",i=t.maxLength,o=t.minLength,s=function(e){return e?new RegExp(`^(${e})$`):null}(t.validationRegex);return isFinite(i)&&function(e){let t=0;for(let n=0,i=e.length;n<i;n++){const o=e.charCodeAt(n);if(o<128)t+=1;else if(o<2048)t+=2;else if(o<55296)t+=3;else if(o<56320){const o=e.charCodeAt(n+=1);n<i&&o>=56320&&o<=57343&&(t+=4)}}return t}(n)>i?new Hs.R(Ws.r.VALUE_IS_TO_TOO_LONG,` ${i}`):isFinite(o)&&n.length<o?new Hs.R(Ws.r.VALUE_IS_TOO_SHORT,` ${o}`):(0,_.isNull)(s)||s.test(n)?null:(0,_.isUndefined)((a=t).validationRegex)?new Hs.R(Ws.r.INCORRECT_REGEX,` ${a.validationRegex}`):new Hs.R(Ws.r.INCORRECT_PATTERN,` ${a.validationRegex}`);var a}(t,e):null:function(e,t){return t.enumValues.find(t=>t.name===e)?null:new Hs.R(Ws.r.INCORRECT_ENUM)}(t,e)}(e,t,n)||null}(t,e,n):null}function Ks({inputValue:e,parameterValueType:t}){return t===Yn.BitMask?`${e.reduce((e,t)=>e+Math.pow(2,Number.parseInt(t,10)),0)}`:e}function Xs({responseValue:e,parameterValueType:t}){return t===Yn.BitMask?(0,_.isEmpty)(e)?[]:Number.parseInt(e,10).toString(2).split("").reverse().reduce((e,t,n)=>"1"===t?[...e,`${n}`]:e,[]):e}function ea(e){return!((0,_.isEmpty)(e.node.children)&&(0,_.isEmpty)(e.node.parent))}function ta(e){return e===ht.s$.NotExisting}function na(e,t){return!!t&&e===ht.bm.COMPLEX&&t.length>0&&t.some(e=>e.data.state===ht.s$.NotExisting)}function ia(e){return e.state!==ht.s$.Deleted&&!!e.definitionValidation}function oa(e){return e.map(e=>Object.assign(Object.assign({},e),{parameterPath:sa(e.parameterPath)}))}function sa(e){if(e.includes("-")){const t=e.replace(/[-.]/g,"/").split(/\//);return t[1]=(Number(t[1])-1).toString(),`/${t.join("/")}`}return`/${e}`}function aa(e,t,n,i,o){const s=(0,_.transform)(t,(e,t)=>{e[t[`${t.parameterType}Parameter`].name]=t},{}),a=(0,_.transform)(e,(e,t)=>{const a=zn(t);if(o&&pi(a)||gi(a))return;const r=t.name,l=!!s[r],c=r===i,{moUuid:d,distname:u,state:p}=n,g=Object.assign(Object.assign({},s[r]),{moUuid:d,distname:u});e[r]=l?da(g,t,p,c):ra(t,d,u,p,c)},{});return Object.values(a)}function ra(e,t,n,i,o=!1){const s=zn(e),a=Xn(e),r=ii(a),l=e.parameterContainerType===Gn.SimpleList&&r?ht.bm.ENUMERATION_LIST:function(e){return Qn[e.parameterContainerType]}(e),c=(d=s)&&ui(d)?new Hs.R(Ws.r.PARAMETER_IS_REQUIRED):null;var d;return{data:{state:ht.s$.NotExisting,name:s.abbreviation,fullName:s.name,definition:ca(s),definitionValidation:c,isInstanceIdParameter:o,rowType:l,parameterValueType:a,value:void 0,path:`/${s.abbreviation}`,moUuid:t,distname:n,childrenCount:0,managedObjectState:i}}}const la={simple:(e,t,n,i=!1)=>{const o=e.simpleParameter,s=zn(t),a=Xn(t),r=zs(o.value,s,a),l=ua(o.state),c=Xs({responseValue:o.value,parameterValueType:a});return{data:{name:s.abbreviation,fullName:s.name,rowType:ht.bm.SIMPLE,value:c,state:l,definition:s,parameterValueType:a,definitionValidation:r,isInstanceIdParameter:i,path:`/${s.abbreviation}`,moUuid:e.moUuid,distname:e.distname,childrenCount:0,managedObjectState:n}}},simpleList:(e,t,n)=>{const i=e.simpleListParameter,o=zn(t),{distname:s,moUuid:a}=e,r=`/${o.abbreviation}`;let l=ua(i.state);const c=ii(Xn(t)),d=c&&0===i.value.length&&ui(o)?new ht.RV(ht.rn.PARAMETER_IS_REQUIRED):null,u=c?void 0:function(e,t,n,i,o,s,a){return(0,_.map)(e,(e,r)=>{const l=zn(n),c=Xn(n),d=ta(t)?null:zs(e,l,c),u=Xs({responseValue:e,parameterValueType:c});return{data:{state:e?t:ht.s$.NotExisting,index:r,value:u,fullName:`#${r+1}`,name:"",rowType:ht.bm.SIMPLE_LIST_ELEMENT,definition:l,parameterValueType:c,definitionValidation:d,path:`${i}/${r}`,moUuid:o,distname:s,childrenCount:0,managedObjectState:a},expanded:!0}})}(i.value,l,t,r,a,s,n);return u&&!(0,_.isEmpty)(u)&&(l=u.every(e=>e.data.state===ht.s$.NotExisting)?ht.s$.NotExisting:l),{data:{name:o.abbreviation,fullName:o.name,rowType:c?ht.bm.ENUMERATION_LIST:ht.bm.SIMPLE_LIST,value:i.value,definitionValidation:d,state:l,definition:o,path:r,moUuid:a,distname:s,childrenCount:(null==u?void 0:u.length)||0,managedObjectState:n},expanded:!0,children:u}},complex:(e,t,n)=>{const i=e.complexParameter,o=zn(t),s=`/${o.abbreviation}`,{distname:a,moUuid:r}=e,l=function(e,t,n,i,o,s,a){return(0,_.map)(e,(e,r)=>{const l=function(e){return function(e){return(0,_.isEmpty)(e.structureParameters)}(e)?ht.s$.NotExisting:function(e){return!(0,_.isEmpty)(e.structureParameters)&&(0,_.every)(e.structureParameters,e=>e.simpleParameter.state===Vn.Deleted)}(e)?ht.s$.Deleted:function(e){return!(0,_.isEmpty)(e.structureParameters)&&(0,_.some)(e.structureParameters,e=>e.simpleParameter.state===Vn.Changed)}(e)?ht.s$.Changed:ht.s$.Unchanged}(e),c=`${n}/${r}`,d=function(e,t,n,i,o,s){let a={};return e&&(a=e.reduce((e,t)=>t.simpleParameter?Object.assign(e,{[t.simpleParameter.name]:t.simpleParameter}):e,{})),(0,_.filter)(Object.entries(t),([,e])=>!gi(zn(e))).map(([e,t])=>{const r=a[e];if(!r)return function(e,t,n,i,o){const s=zn(e),a=Xn(e);return{data:{name:s.abbreviation,fullName:s.name,value:void 0,state:ht.s$.NotExisting,rowType:ht.bm.SIMPLE,definition:s,parameterValueType:a,definitionValidation:null,path:`${t}/${s.abbreviation}`,moUuid:n,distname:i,childrenCount:0,managedObjectState:o},expanded:!0}}(t,n,i,o,s);const l=zn(t),c=Xn(t),d=zs(r.value,l,c),u=ua(r.state),p=Xs({responseValue:r.value,parameterValueType:c});return{data:{name:l.abbreviation,fullName:l.name,value:p,state:u,rowType:ht.bm.SIMPLE,definition:l,parameterValueType:c,definitionValidation:d,path:`${n}/${l.abbreviation}`,moUuid:i,distname:o,childrenCount:0,managedObjectState:s},expanded:!0}})}(e.structureParameters,t,c,i,o,s);return{data:{state:l,rowType:ht.bm.STRUCTURE,fullName:`Structure ${r+1}`,name:"",path:c,moUuid:i,distname:o,childrenCount:d.length,managedObjectState:s,definition:a},children:d,expanded:!0}})}(i.value,o.structureParameters,s,r,a,n,o),c=l.every(e=>e.data.state===ht.s$.NotExisting)?ht.s$.NotExisting:ua(i.state);return{data:{name:o.abbreviation,fullName:o.name,rowType:ht.bm.COMPLEX,state:c,definition:ca(o),path:s,moUuid:r,distname:a,childrenCount:l.length,managedObjectState:n},children:l,expanded:!0}}};function ca(e){return(0,_.omit)(e,"structureParameters")}function da(e,t,n,i=!1){return la[e.parameterType](e,t,n,i)}function ua(e){return{[Vn.Changed]:ht.s$.Changed,[Vn.Deleted]:ht.s$.Deleted,[Vn.Unchanged]:ht.s$.Unchanged}[e]||ht.s$.NotExisting}function pa(e){const t=e.definitionValidation?e.definitionValidation.getError():"";return{fullName:e.fullName,name:e.name,definition:e.definition,value:e.value,parameterValueType:e.parameterValueType,definitionValidation:t}}function ga(e,t){return!(!e||0===e.length)&&(function(e){return!!e.rowType&&[ht.bm.COMPLEX,ht.bm.SIMPLE_LIST,ht.bm.STRUCTURE].includes(e.rowType)}(t)?e.some(e=>sa(e.parameterPath).startsWith(t.path)):e.some(e=>sa(e.parameterPath)===t.path))}function ha(e,t){const[,n,i,o]=e.split("/"),s=t.find(e=>e.data.path===`/${n}`);if(!s)return;if(!i||!s.children)return s;const a=s.children.find(e=>e.data.path===`/${n}/${i}`);return a?o&&a.children?a.children.find(t=>t.data.path===e):a:void 0}function ma(e,t,n){const i=function(e,t){const n=[];return e.necessity.enabled&&n.push(e.necessity.stateOfNecessity===ws.MandatoryParameters?ya:Sa),e.showOnlyModified&&n.push(ba),e.showOnlyInvalid&&n.push(e=>function(e,t){return ia(e.data)||ga(t,e.data)}(e,t)),e.existence.enabled&&n.push(e.existence.stateOfExistence===As.Existing?Ca:va),e.columnFilters&&(0,_.forEach)(e.columnFilters,(e,t)=>{var i,o;e&&n.push((i=t,o=e.value,e=>{const t=e.data[i];return!!t&&t.toLowerCase().includes(o.toLowerCase())}))}),(0,_.overEvery)(n)}(n,t);return(0,_.chain)(e).map(e=>fa(e,t,i)).compact().value()}function fa(e,t,n){if(!e.children)return n(e)?e:void 0;const i=(0,_.chain)(e.children).map(e=>fa(e,t,n)).compact().value();return(0,_.isEmpty)(i)?(0,_.isEmpty)(i)&&e.data.rowType===ht.bm.STRUCTURE?void 0:n(e)?e:void 0:Object.assign(Object.assign({},e),{children:i})}function ba(e){return!!e.data.state&&e.data.state===ht.s$.Changed}function Ca(e){return Pa(e)}function va(e){return!Pa(e)}function ya(e){return!!e.data.definition&&ui(e.data.definition)}function Sa(e){return!ya(e)}function Pa(e){return ya(e)||!(0,_.isNil)(e.data.value)||!(0,_.isEmpty)(e.children)}var Oa=(()=>(function(e){e.AddNewEmptySimpleListElement="[User] [EmptySimpleListElement] User add new empty simple list element",e.RemoveEmptySimpleListElements="[EmptySimpleListElement] Remove empty simple list elements",e.UpdateEmptySimpleListElements="[EmptySimpleListElement] Update empty simple list elements"}(Oa||(Oa={})),Oa))();const xa=(0,g.PH)(Oa.AddNewEmptySimpleListElement,(0,g.Ky)()),wa=(0,g.PH)(Oa.RemoveEmptySimpleListElements,(0,g.Ky)()),Aa=(0,g.PH)(Oa.UpdateEmptySimpleListElements,(0,g.Ky)()),_a="userEmptySimpleListElements",Ta=(0,I.H)({selectId:e=>e.id}),Ia=Ta.getInitialState(),Ea=(0,g.Lq)(Ia,(0,g.on)(xa,(e,{payload:t})=>Ta.addOne(t,e)),(0,g.on)(wa,(e,{idsToRemove:t})=>Ta.removeMany(t,e)),(0,g.on)(Aa,(e,{payload:t})=>Ta.setAll(t,e)));function Ma(e,t){return Ea(e,t)}const{selectAll:ka}=Ta.getSelectors(),Na=(0,g.ZF)(_a),La=(0,g.P1)(Na,ka);function Da(e,t,n){return`${e}/${t}${n}`}function Za(e){return`/${e.split("/")[1]}`}function Ra(e,t,n){return n.filter(n=>n.moUuid===e&&n.planId===t)}function Ua(e,t){var n;return null===(n=e.parameters.find(e=>{var n;return(null===(n=e.simpleListParameter)||void 0===n?void 0:n.name)===t}))||void 0===n?void 0:n.simpleListParameter}var Fa=(()=>(function(e){e.UpdateGoToPeTargetParameterPath="[User] [SelectedParameter] Update go to pe target parameter",e.ClearGoToPeTargetParameterPath="[User] [SelectedParameter] Clear go to pe target parameter"}(Fa||(Fa={})),Fa))();const ja=(0,g.PH)(Fa.UpdateGoToPeTargetParameterPath,(0,g.Ky)()),$a=(0,g.PH)(Fa.ClearGoToPeTargetParameterPath),qa="selectedParameter",Ba=(0,g.Lq)({},(0,g.on)(ja,(e,{path:t})=>Object.assign(Object.assign({},e),{goToPeTargetPath:t})),(0,g.on)($a,e=>Object.assign(Object.assign({},e),{goToPeTargetPath:void 0})));function Ga(e,t){return Ba(e,t)}const Va=(0,g.ZF)(qa),Ya=(0,g.P1)(Va,e=>e.goToPeTargetPath);var Ja=(()=>(function(e){e.UpdateNodeWindow="[ParameterNodeWindow] Update node window"}(Ja||(Ja={})),Ja))();const Ha=(0,g.PH)(Ja.UpdateNodeWindow,(0,g.Ky)()),Wa="parameterNodeWindow",Qa=(0,g.Lq)({window:{start:0,end:48}},(0,g.on)(Ha,(e,{window:t})=>({window:t})));function za(e,t){return Qa(e,t)}const Ka=(0,g.ZF)(Wa),Xa=(0,g.P1)(Ka,e=>e.window);var er=(()=>(function(e){e.AddEmptyStructure="[User] [emptyStructure] Add new empty structure",e.RemoveEmptyStructure="[emptyStructure] Remove new empty structure",e.UpdateEmptyStructure="[emptyStructure] Update new empty structure"}(er||(er={})),er))();const tr=(0,g.PH)(er.AddEmptyStructure,(0,g.Ky)()),nr=(0,g.PH)(er.RemoveEmptyStructure,(0,g.Ky)()),ir=(0,g.PH)(er.UpdateEmptyStructure,(0,g.Ky)()),or="emptyStructures",sr=(0,I.H)({selectId:e=>cr(e)}),ar=sr.getInitialState(),rr=(0,g.Lq)(ar,(0,g.on)(tr,(e,{path:t,moUuid:n})=>sr.addOne({path:t,moUuid:n},e)),(0,g.on)(nr,(e,{filledStructures:t})=>sr.removeMany(t.map(cr),e)),(0,g.on)(ir,(e,{payload:t})=>sr.setAll(t,e)));function lr(e,t){return rr(e,t)}function cr(e){return`${e.moUuid}${e.path}`}const{selectAll:dr}=sr.getSelectors(),ur=(0,g.ZF)(or),pr=(0,g.P1)(ur,dr);function gr(e){return`/${hr(e).parameterName}`}function hr(e){const[,t,n]=e.split("/");return{parameterName:t,structureIdx:n}}function mr(e,t){var n;return null===(n=e.parameters.find(e=>{var n;return(null===(n=e.complexParameter)||void 0===n?void 0:n.name)===t}))||void 0===n?void 0:n.complexParameter}function fr(e,t){return e.filter(e=>e.moUuid===t)}const br=["configuration-shared-input","configuration-shared-revert-parameter-button","configuration-shared-set-default-button","configuration-shared-remove-parameter-button"],Cr=(0,g.ZF)("managedObject"),vr=(0,g.P1)(Cr,e=>e.isLoadingData);var yr=n(59364),Sr=n(41387),Pr=n(48743),Or=n(95319),xr=n(94672);function wr(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-overlay-panel-menu-bar",1),Pe.TgZ(1,"div",2),Pe.TgZ(2,"ui-webem-radio-button-group",3),Pe.NdJ("modelChanged",function(t){return Pe.CHM(e),Pe.oxw().setFilterByNecessity(t)}),Pe.qZA(),Pe.TgZ(3,"p-checkbox",4),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e).ngIf.showOnlyModified=t})("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().setFilterByOnlyModified(t)}),Pe.qZA(),Pe.TgZ(4,"p-checkbox",5),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e).ngIf.showOnlyInvalid=t})("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().setFilterByOnlyInvalid(t)}),Pe.qZA(),Pe.TgZ(5,"ui-webem-radio-button-group",6),Pe.NdJ("modelChanged",function(t){return Pe.CHM(e),Pe.oxw().setFilterByExistence(t)}),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.Q6J("model",n.model)("ngClass",n.isFilterApplied?"button-indicated":""),Pe.xp6(2),Pe.Q6J("options",n.necessityOptions)("checked",e.necessity.enabled)("model",e.necessity.stateOfNecessity),Pe.xp6(1),Pe.Q6J("ngModel",e.showOnlyModified)("binary",!0),Pe.xp6(1),Pe.Q6J("ngModel",e.showOnlyInvalid)("binary",!0),Pe.xp6(1),Pe.Q6J("options",n.existenceOptions)("checked",e.existence.enabled)("model",e.existence.stateOfExistence)}}let Ar=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new Ae.xQ,this.model={label:"Filter",icon:"mdi mdi-filter",length:wn.Wmq.Short,thickness:wn.NOb.Thin},this.necessityOptions=[{label:"Mandatory parameters",value:ws.MandatoryParameters},{label:"Optional parameters",value:ws.OptionalParameters}],this.existenceOptions=[{label:"Existing parameters",value:As.Existing},{label:"Non-existing parameters",value:As.NotExisting}],this.isFilterApplied=!1}ngOnInit(){this.filterOptions$=this.store.pipe((0,g.Ys)(Ys),(0,A.U)(e=>(0,_.cloneDeep)(e)),(0,_e.R)(this.ngUnsubscribe),(0,Ps.d)()),this.filterOptions$.subscribe(e=>{this.isFilterApplied=[e.necessity.enabled,e.showOnlyModified,e.showOnlyInvalid,e.existence.enabled].includes(!0)})}setFilterByNecessity({enabled:e,value:t}){this.store.dispatch(Is({value:t,enabled:e}))}setFilterByOnlyModified(e){this.store.dispatch(Es({showOnlyModified:e}))}setFilterByOnlyInvalid(e){this.store.dispatch(Ms({showOnlyInvalid:e}))}setFilterByExistence({enabled:e,value:t}){this.store.dispatch(ks({value:t,enabled:e}))}ngOnDestroy(){this.store.dispatch(Ts()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["parameter-editor-table-context-filter"]],decls:2,vars:3,consts:[["description","Filter table by:","appendTo","body","styleClass","pe-table-context-filter",3,"model","ngClass",4,"ngIf"],["description","Filter table by:","appendTo","body","styleClass","pe-table-context-filter",3,"model","ngClass"],[1,"filter-panel"],["label","Necessity:",1,"filter-panel-item",3,"options","checked","model","modelChanged"],["name","checkbox","label","Modified parameters",1,"filter-panel-item",3,"ngModel","binary","ngModelChange"],["name","checkbox","label","Invalid parameters",1,"filter-panel-item",3,"ngModel","binary","ngModelChange"],["label","Existence:",1,"filter-panel-item",3,"options","checked","model","modelChanged"]],template:function(e,t){1&e&&(Pe.YNc(0,wr,6,12,"ui-webem-overlay-panel-menu-bar",0),Pe.ALo(1,"async")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.filterOptions$))},directives:[m.O5,Or.C,m.mk,Pr.oO,xr.C,wi.XZ,xn.JJ,xn.On],pipes:[m.Ov],styles:["[_nghost-%COMP%]{display:inline-block}ui-webem-overlay-panel-menu-bar[_ngcontent-%COMP%]{height:22px}  .pe-table-context-filter.p-overlaypanel{margin-left:15px}  .pe-table-context-filter.p-overlaypanel .p-overlaypanel-content{padding:20px}  .pe-table-context-filter.p-overlaypanel .p-overlaypanel-content .filter-panel{display:flex;flex-direction:column;width:197px}  .pe-table-context-filter.p-overlaypanel .p-overlaypanel-content .filter-panel .filter-panel-item{margin-top:20px}  .pe-table-context-filter.p-overlaypanel .p-overlaypanel-content .filter-panel .filter-panel-item:first-child{margin-top:10px}"]}),e})();const _r=["parameter-editor-table-row-filter",""];function Tr(e,t){1&e&&(Pe.ynx(0),Pe._UZ(1,"parameter-editor-table-context-filter",2),Pe.BQk())}function Ir(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-filter-input",3),Pe.NdJ("valueChange",function(t){Pe.CHM(e);const n=Pe.oxw().$implicit;return Pe.oxw(2).filterColumn(t,n.field)}),Pe.qZA(),Pe.BQk()}if(2&e){const e=Pe.oxw().$implicit,t=Pe.oxw().ngIf;Pe.xp6(1),Pe.s9C("id",e.field),Pe.Q6J("debounceTime",50)("value",null==t[e.field]?null:t[e.field].value)}}function Er(e,t){if(1&e&&(Pe.TgZ(0,"th"),Pe.YNc(1,Tr,2,0,"ng-container",0),Pe.YNc(2,Ir,2,3,"ng-container",0),Pe.qZA()),2&e){const e=t.$implicit,n=Pe.oxw(2);Pe.ekj("status-column",n.isStatusColumn(e)),Pe.xp6(1),Pe.Q6J("ngIf",n.isStatusColumn(e)),Pe.xp6(1),Pe.Q6J("ngIf",e.isFilterable)}}function Mr(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,Er,3,4,"th",1),Pe.BQk()),2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngForOf",e.columns)}}let kr=(()=>{class e{constructor(e,t){this.store=e,this.changeDetectorRef=t}ngOnInit(){this.columnFilters$=this.store.pipe((0,g.Ys)(Js),(0,ys.x)((e,t)=>(0,_.isEqual)(e,t)))}ngAfterContentChecked(){this.isEmptyString&&setTimeout(()=>{this.changeDetectorRef.markForCheck()},0)}isStatusColumn(e){return"status"===e.field}filterColumn(e,t){this.isEmptyString=!e,this.store.dispatch(Ls({columnName:t,value:e||""})),this.treeTable.filter(e,t,"contains")}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["","parameter-editor-table-row-filter",""]],inputs:{treeTable:"treeTable",columns:"columns"},attrs:_r,decls:2,vars:3,consts:[[4,"ngIf"],[3,"status-column",4,"ngFor","ngForOf"],[1,"button"],[3,"debounceTime","id","value","valueChange"]],template:function(e,t){1&e&&(Pe.YNc(0,Mr,2,1,"ng-container",0),Pe.ALo(1,"async")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.columnFilters$))},directives:[m.O5,m.sg,Ar,ho.T],pipes:[m.Ov],styles:["th[_ngcontent-%COMP%]{padding:7px 11px;border:1px solid #bec8d2}[_nghost-%COMP%]   th.status-column[_ngcontent-%COMP%]{padding-right:0}"]}),e})();var Nr=n(99287),Lr=(()=>(function(e){e.TextInput="textInput",e.MultiSelect="multiSelect",e.Select="select"}(Lr||(Lr={})),Lr))(),Dr=(()=>(function(e){e.UpdateSimpleParameter="[Parameter] Update simple parameter",e.UpdateEnumerationSimpleListParameter="[User] [Parameter] Update simple element of list element with enumeration type",e.UpdateSimpleParameterValue="[User] [Parameter] Update simple parameter value",e.ParameterUpdateSuccess="[Parameter] Parameter value updated successfully",e.ParameterUpdateOngoing="[Parameter] Parameter value update ongoing",e.ParameterUpdateFailure="[Parameter] Parameter value update failed",e.ParameterUpdateHttpError="[Parameter] Parameter value update failed with HTTP error",e.RemoveParameterValue="[User] [Parameter] Remove parameter value",e.RemoveParameterValueSuccess="[Parameter] Remove parameter value success",e.RemoveParameterValueFailure="[Parameter] Remove parameter value failure",e.RemoveParameterValueHttpError="[Parameter] Remove parameter value HTTP error",e.RevertParameterValue="[User] [Parameter] Revert parameter value",e.RevertParameterValueSuccess="[Parameter] Revert parameter value success",e.RevertParameterValueFailure="[Parameter] Revert parameter value failure",e.RevertParameterValueHttpError="[Parameter] Revert parameter value HTTP error",e.DeleteParameterActionSuccess="[Parameter] Delete parameter action success",e.DeleteParameterActionFailure="[Parameter] Delete parameter action failure"}(Dr||(Dr={})),Dr))();const Zr=(0,g.PH)(Dr.UpdateSimpleParameter,(0,g.Ky)()),Rr=(0,g.PH)(Dr.UpdateEnumerationSimpleListParameter,(0,g.Ky)()),Ur=(0,g.PH)(Dr.UpdateSimpleParameterValue,(0,g.Ky)()),Fr=(0,g.PH)(Dr.ParameterUpdateSuccess,(0,g.Ky)()),jr=(0,g.PH)(Dr.ParameterUpdateOngoing,(0,g.Ky)()),$r=(0,g.PH)(Dr.ParameterUpdateFailure,(0,g.Ky)()),qr=(0,g.PH)(Dr.ParameterUpdateHttpError,(0,g.Ky)()),Br=(0,g.PH)(Dr.RemoveParameterValue,(0,g.Ky)()),Gr=(0,g.PH)(Dr.RemoveParameterValueSuccess,(0,g.Ky)()),Vr=(0,g.PH)(Dr.RemoveParameterValueFailure,(0,g.Ky)()),Yr=(0,g.PH)(Dr.RemoveParameterValueHttpError,(0,g.Ky)()),Jr=(0,g.PH)(Dr.RevertParameterValue,(0,g.Ky)()),Hr=(0,g.PH)(Dr.RevertParameterValueSuccess,(0,g.Ky)()),Wr=(0,g.PH)(Dr.RevertParameterValueFailure,(0,g.Ky)()),Qr=(0,g.PH)(Dr.RevertParameterValueHttpError,(0,g.Ky)()),zr=(0,g.PH)(Dr.DeleteParameterActionFailure,(0,g.Ky)()),Kr=(0,g.PH)(Dr.DeleteParameterActionSuccess);var Xr=(()=>(function(e){e.IntegerOnly="integerOnly",e.FloatOnly="floatOnly",e.AllCharacters="allCharacters"}(Xr||(Xr={})),Xr))(),el=n(36949);let tl=(()=>{class e{constructor(e,t,n){this.multiSelect=e,this.dropdown=t,this.el=n,this.ngUnsubscribe=new Ae.xQ,this.className="ui-clickable"}ngAfterViewInit(){this.addClassToDescendants(this.el,this.className),this.multiSelect&&this.subscribeOnMultiSelectPanelShow(),this.dropdown&&this.subscribeOnDropdownPanelShow()}subscribeOnMultiSelectPanelShow(){this.multiSelect.onPanelShow.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(()=>this.addClassToDescendants(this.multiSelect.el,this.className))}subscribeOnDropdownPanelShow(){this.dropdown.onShow.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(()=>this.addClassToDescendants(this.dropdown.el,this.className))}addClassToDescendants(e,t){e.nativeElement.querySelectorAll("*").forEach(e=>e.classList.add(t))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(el.NU,11),Pe.Y36(xi.Lt,11),Pe.Y36(Pe.SBq))},e.\u0275dir=Pe.lG2({type:e,selectors:[["","uiWebemUiClickable",""]]}),e})();var nl=n(25917),il=n(65792),ol=n(30884);let sl=(()=>{class e{transform(e){if(e)switch(e.getErrorType()){case ht.rn.VALUE_IS_OUT_OF_RANGE:return(0,nl.of)(`${ol.r.VALUE_IS_OUT_OF_RANGE}${e.getErrorAdditional()}`).pipe((0,il.g)(200));case ht.rn.PARAMETER_IS_REQUIRED:return(0,nl.of)(ol.r.PARAMETER_IS_REQUIRED).pipe((0,il.g)(200));case ht.rn.INCORRECT_STEP:return(0,nl.of)(`${ol.r.INCORRECT_STEP}${e.getErrorAdditional()}`).pipe((0,il.g)(200));case ht.rn.INCORRECT_ENUM:return(0,nl.of)(ol.r.INCORRECT_ENUM).pipe((0,il.g)(200));case ht.rn.VALUE_IS_TO_TOO_LONG:return(0,nl.of)(`${ol.r.VALUE_IS_TO_TOO_LONG}${e.getErrorAdditional()}`).pipe((0,il.g)(200));case ht.rn.VALUE_IS_TOO_SHORT:return(0,nl.of)(`${ol.r.VALUE_IS_TOO_SHORT}${e.getErrorAdditional()}`).pipe((0,il.g)(200));case ht.rn.INCORRECT_PATTERN:return(0,nl.of)(ol.r.INCORRECT_PATTERN).pipe((0,il.g)(200));case ht.rn.INCORRECT_REGEX:return(0,nl.of)(ol.r.INCORRECT_REGEX).pipe((0,il.g)(200));case ht.rn.SHOULD_BE_NUMBER:return(0,nl.of)(`${ol.r.SHOULD_BE_NUMBER}`).pipe((0,il.g)(200))}return(0,nl.of)()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"validationError",type:e,pure:!0}),e})(),al=(()=>{class e{transform(e=!1){return e?(0,nl.of)("Parameter relations not met").pipe((0,il.g)(200)):(0,nl.of)("")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"relationError",type:e,pure:!0}),e})(),rl=(()=>{class e{transform(e){return e.state===ht.s$.Deleted}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isParameterDeleted",type:e,pure:!0}),e})(),ll=(()=>{class e{transform(e){return ia(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"hasDefinitionError",type:e,pure:!1}),e})(),cl=(()=>{class e{transform(e){return!((t=e).state!==ht.s$.Deleted&&t.definitionValidation||!t.relationErrors);var t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"hasRelationError",type:e,pure:!1}),e})();function dl(e,t){1&e&&Pe._UZ(0,"i",7)}function ul(e,t){1&e&&Pe._UZ(0,"i",8)}const pl=function(e,t){return{"validation-error-icon":e,"input-icon-size":t}};function gl(e,t){if(1&e&&(Pe.TgZ(0,"span",9),Pe.ALo(1,"isParameterDeleted"),Pe.ALo(2,"isParameterDeleted"),Pe._UZ(3,"i",10),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.Q6J("ngClass",Pe.WLB(5,pl,Pe.lcZ(1,1,e.inputData),!Pe.lcZ(2,3,e.inputData)))}}function hl(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div"),Pe.TgZ(1,"span"),Pe.TgZ(2,"input",2),Pe.NdJ("beforeinput",function(t){return Pe.CHM(e),Pe.oxw().blockInvalidCharacters(t)})("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().inputValue=t})("input",function(){return Pe.CHM(e),Pe.oxw().onInputChange()})("blur",function(){return Pe.CHM(e),Pe.oxw().onValueChange()}),Pe.ALo(3,"async"),Pe.ALo(4,"validationError"),Pe.ALo(5,"async"),Pe.ALo(6,"relationError"),Pe.qZA(),Pe.qZA(),Pe.TgZ(7,"span",3),Pe.YNc(8,dl,1,0,"i",4),Pe.ALo(9,"isParameterDeleted"),Pe.ALo(10,"hasDefinitionError"),Pe.YNc(11,ul,1,0,"i",5),Pe.ALo(12,"hasRelationError"),Pe.qZA(),Pe.YNc(13,gl,4,8,"span",6),Pe.ALo(14,"hasDefinitionError"),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(2),Pe.Q6J("ngModel",e.inputValue)("disabled",e.isDisabled)("tooltipPosition",e.tooltipPosition)("pTooltip",e.inputData.definitionValidation?Pe.lcZ(3,10,Pe.lcZ(4,12,e.inputData.definitionValidation)):Pe.lcZ(5,14,Pe.lcZ(6,16,e.inputData.relationErrors)))("tooltipEvent",e.tooltipEvent)("appendTo",e.appendTo)("tooltipStyleClass",e.inputData.definitionValidation?"definition-errors":"relation-errors"),Pe.xp6(6),Pe.Q6J("ngIf",!Pe.lcZ(9,18,e.inputData)&&Pe.lcZ(10,20,e.inputData)),Pe.xp6(3),Pe.Q6J("ngIf",Pe.lcZ(12,22,e.inputData)),Pe.xp6(2),Pe.Q6J("ngIf",!Pe.lcZ(14,24,e.inputData)&&e.isCorrectParameterIconVisible)}}function ml(e,t){1&e&&Pe._UZ(0,"i",7)}function fl(e,t){1&e&&Pe._UZ(0,"i",8)}function bl(e,t){1&e&&(Pe.TgZ(0,"span",17),Pe._UZ(1,"i",10),Pe.qZA())}function Cl(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",11),Pe.TgZ(1,"span",12),Pe.ALo(2,"async"),Pe.ALo(3,"validationError"),Pe.ALo(4,"async"),Pe.ALo(5,"relationError"),Pe.TgZ(6,"p-multiSelect",13,14),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().inputValue=t})("onChange",function(){return Pe.CHM(e),Pe.oxw().onMultiSelectInputChange()})("onPanelHide",function(){return Pe.CHM(e),Pe.oxw().onPanelHide()})("onFocus",function(t){Pe.CHM(e);const n=Pe.MAs(7);return Pe.oxw().reDispatchEvent(t,n)})("onBlur",function(t){Pe.CHM(e);const n=Pe.MAs(7);return Pe.oxw().reDispatchEvent(t,n)})("onClick",function(){return Pe.CHM(e),Pe.oxw().onClick()})("onPanelShow",function(){return Pe.CHM(e),Pe.oxw().onPanelShow()}),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"span",15),Pe.YNc(9,ml,1,0,"i",4),Pe.ALo(10,"isParameterDeleted"),Pe.ALo(11,"hasDefinitionError"),Pe.YNc(12,fl,1,0,"i",5),Pe.ALo(13,"hasRelationError"),Pe.qZA(),Pe.YNc(14,bl,2,0,"span",16),Pe.ALo(15,"hasDefinitionError"),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("pTooltip",e.inputData.definitionValidation?Pe.lcZ(2,11,Pe.lcZ(3,13,e.inputData.definitionValidation)):Pe.lcZ(4,15,Pe.lcZ(5,17,e.inputData.relationErrors)))("tooltipEvent",e.tooltipEvent)("tooltipPosition",e.tooltipPosition)("tooltipStyleClass",e.inputData.definitionValidation?"definition-errors":"relation-errors"),Pe.xp6(5),Pe.Q6J("appendTo","body")("options",e.multiSelectOptions)("ngModel",e.inputValue)("defaultLabel",e.placeholder),Pe.xp6(3),Pe.Q6J("ngIf",!Pe.lcZ(10,19,e.inputData)&&Pe.lcZ(11,21,e.inputData)),Pe.xp6(3),Pe.Q6J("ngIf",Pe.lcZ(13,23,e.inputData)),Pe.xp6(2),Pe.Q6J("ngIf",!Pe.lcZ(15,25,e.inputData)&&e.isCorrectParameterIconVisible)}}function vl(e,t){1&e&&Pe._UZ(0,"i",7)}function yl(e,t){1&e&&Pe._UZ(0,"i",8)}function Sl(e,t){1&e&&(Pe.TgZ(0,"span",20),Pe._UZ(1,"i",10),Pe.qZA())}function Pl(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div"),Pe.TgZ(1,"span"),Pe.TgZ(2,"p-dropdown",18,19),Pe.NdJ("onChange",function(){return Pe.CHM(e),Pe.oxw().onInputChange()})("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().inputValue=t})("onFocus",function(t){Pe.CHM(e);const n=Pe.MAs(3);return Pe.oxw().reDispatchEvent(t,n)})("onBlur",function(t){Pe.CHM(e);const n=Pe.MAs(3);return Pe.oxw().reDispatchEvent(t,n)})("onClick",function(){return Pe.CHM(e),Pe.oxw().onClick()}),Pe.ALo(4,"async"),Pe.ALo(5,"validationError"),Pe.ALo(6,"async"),Pe.ALo(7,"relationError"),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"span",20),Pe.YNc(9,vl,1,0,"i",4),Pe.ALo(10,"isParameterDeleted"),Pe.ALo(11,"hasDefinitionError"),Pe.YNc(12,yl,1,0,"i",5),Pe.ALo(13,"hasRelationError"),Pe.qZA(),Pe.YNc(14,Sl,2,0,"span",21),Pe.ALo(15,"hasDefinitionError"),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(2),Pe.Q6J("options",e.dropDownOptions)("disabled",e.isDisabled)("placeholder",e.placeholder)("ngModel",e.inputValue)("tooltipPosition",e.tooltipPosition)("pTooltip",e.inputData.definitionValidation?Pe.lcZ(4,12,Pe.lcZ(5,14,e.inputData.definitionValidation)):Pe.lcZ(6,16,Pe.lcZ(7,18,e.inputData.relationErrors)))("tooltipEvent",e.tooltipEvent)("tooltipStyleClass",e.inputData.definitionValidation?"definition-errors":"relation-errors")("appendTo","body"),Pe.xp6(7),Pe.Q6J("ngIf",!Pe.lcZ(10,20,e.inputData)&&Pe.lcZ(11,22,e.inputData)),Pe.xp6(3),Pe.Q6J("ngIf",Pe.lcZ(13,24,e.inputData)),Pe.xp6(2),Pe.Q6J("ngIf",!Pe.lcZ(15,26,e.inputData)&&e.isCorrectParameterIconVisible)}}const Ol="/";let xl=(()=>{class e{constructor(e,t){this.store=e,this.adjustUiDropdownService=t,this.isCorrectParameterIconVisible=!1,this.appendTo="body",this.updateFromComparedObject=!1,this.tooltipPosition="left",this.tooltipEvent="focus",this.valueChanged=new Pe.vpe,this.placeholder="<Select Value>",this.select=Lr.Select,this.multiSelect=Lr.MultiSelect,this.textInput=Lr.TextInput}ngOnInit(){this.handleInputType(),this.handleRestrictions()}ngOnChanges(e){(0,_.get)(e,"parameterRelationErrorsDetails.currentValue")&&this.setParameterRelationErrors(),e.hasOwnProperty("inputValue")&&(this.oldValue=e.inputValue.currentValue)}ngAfterViewInit(){this.tooltip&&(this.tooltip.appendTo=this.appendTo)}onMultiSelectInputChange(){this.onInputChange(),this.inputData.definitionValidation?setTimeout(()=>{this.tooltip.active||this.tooltip.show()},210):this.tooltip.hide()}onClick(){this.adjustUiDropdownService.adjustDropDown()}onInputChange(){const e=this.inputData.definition;this.inputData.definitionValidation=e&&this.inputData.rowType===ht.bm.ENUMERATION_LIST?0===this.inputValue.length&&ui(e)?new Hs.R(Ws.r.PARAMETER_IS_REQUIRED):null:zs(this.inputValue,e,this.inputData.parameterValueType)}onPanelShow(){this.inputData.definitionValidation&&!this.tooltip.active&&this.tooltip.show()}onPanelHide(){this.onValueChange(),this.tooltip.hide()}onValueChange(){const{path:e,moUuid:t}=this.inputData;if(!(0,_.isEqual)(this.oldValue,this.inputValue)){if(this.inputData.rowType===ht.bm.ENUMERATION_LIST)this.store.dispatch(Rr({isNotExistingParameter:this.isNotExisting(),isSettingDefaultValue:!1,updateFromComparision:this.updateFromComparedObject,moUuid:t,path:e,value:this.inputValue,previousValue:this.oldValue}));else{if(this.isInvalidTextInput())return;this.store.dispatch(Zr({isNotExistingParameter:this.isNotExisting(),isSettingDefaultValue:!1,updateFromComparision:this.updateFromComparedObject,moUuid:t,parameterValueType:this.inputData.parameterValueType,path:e,value:this.inputValue}))}this.oldValue=this.inputValue,this.valueChanged.emit()}}isInvalidTextInput(){return this.parameterValueType===Lr.TextInput&&!this.isValidInput(this.inputValue)}isNotExisting(){return this.inputData.state===ht.s$.NotExisting}reDispatchEvent(e,t){this.onValueChange(),e&&t.el.nativeElement.dispatchEvent(new Event(e.type,e))}blockInvalidCharacters(e){const{data:t,target:n}=e;if(!n||(0,_.isNull)(t))return!0;const i=this.combineInputValue(e);return!!(0,_.isNull)(i)||this.isValidInput(i)}combineInputValue({data:e,target:t}){const{value:n,selectionStart:i,selectionEnd:o}=t;return(0,_.isNull)(e)?"":(0,_.isNil)(i)||(0,_.isNil)(o)?n+e:n.slice(0,i)+e+n.slice(o)}isValidInput(e){const t=/^(-?\d*)$/g,n=/^(-?\d*(:?\.\d*)?)$/g,i=/.*/g;let o;switch(this.restrictions){case Xr.IntegerOnly:o=t;break;case Xr.FloatOnly:o=n;break;default:o=i}return!!e.match(o)}handleInputType(){const e=this.inputData.parameterValueType;if(e===Yn.String||e===Yn.Number)return this.parameterValueType=Lr.TextInput;if(this.inputData.rowType===ht.bm.ENUMERATION_LIST)return this.multiSelectOptions=this.handleEnumOptions(),this.parameterValueType=Lr.MultiSelect;if(e===Yn.BitMask)return this.multiSelectOptions=this.handleBitMaskOptions(),this.parameterValueType=Lr.MultiSelect;if(e===Yn.Boolean||e===Yn.Enumeration){const t=[{label:"true",value:"true"},{label:"false",value:"false"}];return this.dropDownOptions=e===Yn.Enumeration?this.handleEnumOptions():t,this.parameterValueType=Lr.Select}return this.parameterValueType=Lr.TextInput}handleEnumOptions(){const e=[],t=this.inputData.definition;if(!t)return[];const n=t.enumValues;return n?(n.forEach(t=>{e.push({label:t.name,value:t.name,disabled:this.isDisabled})}),e):[]}handleBitMaskOptions(){const e=[],t=this.inputData.definition;if(!t)return[];const n=t.bitsDef;return n?(n.forEach(t=>{e.push({label:t.uiValue,value:`${t.bitPosition}`,disabled:this.isDisabled})}),e):[]}setParameterRelationErrors(){const e=this.parameterRelationErrorsDetails||[];return(0,_.get)(this.rowNode,"parent.data.rowType")===ht.bm.STRUCTURE?this.assignParameterRelationErrorsToComplexParameter(e):this.inputData.rowType===ht.bm.SIMPLE?this.assignParameterRelationErrorsToSimpleParameter(e):this.inputData.rowType===ht.bm.SIMPLE_LIST_ELEMENT?this.assignParameterRelationErrorsToSimpleListParameter(e):void(this.inputData.rowType===ht.bm.ENUMERATION_LIST&&this.assignParameterRelationErrorsToEnumerationListParameter(e))}assignParameterRelationErrorsToSimpleParameter(e){const t=this.inputData.path.split(Ol)[1];this.inputData.relationErrors=e.some(e=>e.validationParameterState.parameterType===Jn.r.Simple&&e.parameterPath===t)}assignParameterRelationErrorsToComplexParameter(e){const t=this.mapParameterPathToApiPath();this.inputData.relationErrors=e.some(({parameterPath:e})=>e===t),this.inputData.relationErrors&&(this.rowNode.parent.data.relationErrors=!0,this.rowNode.parent.parent.data.relationErrors=!0)}assignParameterRelationErrorsToSimpleListParameter(e){const t=this.mapSimpleElementParameterPathToApiPath();this.inputData.relationErrors=e.some(e=>e.validationParameterState.parameterType===Jn.r.SimpleList&&e.parameterPath===t),this.inputData.relationErrors&&(this.rowNode.parent.data.relationErrors=!0)}assignParameterRelationErrorsToEnumerationListParameter(e){const t=this.mapEnumerationListPathToApiPath();this.inputData.relationErrors=e.some(e=>e.validationParameterState.parameterType===Jn.r.SimpleList&&e.parameterPath.includes(t))}mapParameterPathToApiPath(){const[,e,t,n]=this.inputData.path.split(Ol);return`${e}-${Number(t)+1}.${n}`}mapSimpleElementParameterPathToApiPath(){const[,e,t]=this.inputData.path.split(Ol);return`${e}-${Number(t)+1}`}mapEnumerationListPathToApiPath(){const[,e]=this.inputData.path.split(Ol);return`${e}-`}isInteger(){return!!this.inputData.definition&&(Number.isInteger(this.inputData.definition.maxValue)||Number.isInteger(this.inputData.definition.minValue))&&this.inputData.definition.step%1==0}hasNumberParameterProperties(){return!!this.inputData.definition&&this.inputData.definition.hasOwnProperty("maxValue")&&this.inputData.definition.hasOwnProperty("minValue")}handleRestrictions(){this.restrictions=this.hasNumberParameterProperties()?this.isInteger()?Xr.IntegerOnly:Xr.FloatOnly:Xr.AllCharacters}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Yt.vj))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-input"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(Nr.u,5),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.tooltip=e.first)}},inputs:{inputData:"inputData",inputValue:"inputValue",isCorrectParameterIconVisible:"isCorrectParameterIconVisible",isDisabled:"isDisabled",parameterRelationErrorsDetails:"parameterRelationErrorsDetails",appendTo:"appendTo",rowNode:"rowNode",updateFromComparedObject:"updateFromComparedObject"},outputs:{valueChanged:"valueChanged"},features:[Pe.TTD],decls:3,vars:3,consts:[[4,"ngIf"],["class","multiselect-container",4,"ngIf"],["pInputText","","autocomplete","off",1,"pe-input",3,"ngModel","disabled","tooltipPosition","pTooltip","tooltipEvent","appendTo","tooltipStyleClass","beforeinput","ngModelChange","input","blur"],[1,"validation-error-icon"],["class","mdi mdi-alert error-icon",4,"ngIf"],["class","mdi mdi-alert warning-icon",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"mdi","mdi-alert","error-icon"],[1,"mdi","mdi-alert","warning-icon"],[3,"ngClass"],[1,"mdi","mdi-check","corrected-icon"],[1,"multiselect-container"],[3,"pTooltip","tooltipEvent","tooltipPosition","tooltipStyleClass"],["uiWebemUiClickable","","selectedItemsLabel","{0} items selected",3,"appendTo","options","ngModel","defaultLabel","ngModelChange","onChange","onPanelHide","onFocus","onBlur","onClick","onPanelShow"],["multiSelect",""],[1,"validation-error-icon","form-control-validation-icon-wrapper","multiselect-error-icon"],["class","validation-error-icon form-control-validation-icon-wrapper",4,"ngIf"],[1,"validation-error-icon","form-control-validation-icon-wrapper"],["uiWebemUiClickable","",1,"pe-input",3,"options","disabled","placeholder","ngModel","tooltipPosition","pTooltip","tooltipEvent","tooltipStyleClass","appendTo","onChange","ngModelChange","onFocus","onBlur","onClick"],["dropdown",""],[1,"form-control-validation-icon-wrapper"],["class","form-control-validation-icon-wrapper",4,"ngIf"]],template:function(e,t){1&e&&(Pe.YNc(0,hl,15,26,"div",0),Pe.YNc(1,Cl,16,27,"div",1),Pe.YNc(2,Pl,16,28,"div",0)),2&e&&(Pe.Q6J("ngIf",t.parameterValueType===t.textInput),Pe.xp6(1),Pe.Q6J("ngIf",t.parameterValueType===t.multiSelect),Pe.xp6(1),Pe.Q6J("ngIf",t.parameterValueType===t.select))},directives:[m.O5,xn.Fj,Ei.o,xn.JJ,xn.On,Nr.u,m.mk,el.NU,tl,xi.Lt],pipes:[m.Ov,sl,al,rl,ll,cl],styles:['.pe-input[_ngcontent-%COMP%]{width:100%;height:100%}  table .p-multiselect{height:100%;display:flex;align-items:center}  .p-tooltip.p-tooltip-left.p-component{margin-left:-5px;max-width:16em}  .p-tooltip.p-tooltip-left.p-component.definition-errors .p-tooltip-text{border:1px solid #da1914;border-radius:3px}  .p-tooltip.p-tooltip-left.p-component.definition-errors .p-tooltip-text:after{border-right:1px solid #da1914;border-bottom:1px solid #da1914}  .p-tooltip.p-tooltip-left.p-component.relation-errors .p-tooltip-text{border:1px solid #fc0}  .p-tooltip.p-tooltip-left.p-component.relation-errors .p-tooltip-text:after{border-right:1px solid #fc0;border-bottom:1px solid #fc0}  .p-tooltip.p-tooltip-left.p-component .p-tooltip-text{background-color:#fff;color:#000;line-height:1.3em;padding:8px}  .p-tooltip.p-tooltip-left.p-component .p-tooltip-text:after{content:"";position:absolute;top:50%;margin-top:-.45em;right:-2px;width:10px;height:10px;background:#fff;-moz-transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}  .validation-error-icon{font-size:14px;margin-left:-22px;position:relative;top:1px}  .input-icon-size{font-size:14px}  .input-icon-shift{margin-left:-22px}  .error-icon{color:#be0006;cursor:default}  .warning-icon{color:#fc0;vertical-align:middle;cursor:default}  .form-control-validation-icon-wrapper{font-size:14px;position:absolute;top:0;right:30px;height:100%;display:flex;justify-content:center;align-items:center}  .corrected-icon{color:#3daa00;vertical-align:middle;cursor:default}  .multiselect-error-icon{margin-left:0;padding-bottom:5px}']}),e})(),wl=(()=>{class e{constructor(e,t,n,i){this.buttonComponent=e,this.configurationInputComponent=t,this.roleAccessPeService=n,this.cd=i,this.isEditableForCurrentRole=!0,this.inputModel={configurationInputDisabledPath:Vt.cr,buttonDisabledPath:Vt.ev,titlePath:Vt.B6}}set configurationParameterRoleAccessControl(e){this.isEditableForCurrentRole=Array.isArray(e)?this.areAllParametersEditable(e):this.roleAccessPeService.isParameterEditableForCurrentRole(e)}set configurationMoRoleAccessControl(e){this.isEditableForCurrentRole=this.roleAccessPeService.isMoEditableForCurrentRole(e)}areAllParametersEditable(e){return(0,_.every)(e,e=>{var t,n,i;const o=null===(i=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.parameterFromSelectedObject)||void 0===n?void 0:n.definition)||void 0===i?void 0:i.secAdmOnly;return this.roleAccessPeService.isParameterEditableForCurrentRole(o)})}ngOnInit(){if(this.hostInstance=this.buttonComponent||this.configurationInputComponent,!this.hostInstance)throw new Error("The host component must be one of [ConfigurationInputComponent, ButtonComponent]")}ngAfterViewChecked(){var e,t;this.isEditableForCurrentRole||(this.hostInstance instanceof wn.r0F?((0,_.set)(this.hostInstance,this.inputModel.buttonDisabledPath,!0),(0,_.set)(this.hostInstance,this.inputModel.titlePath,Vt.D2)):this.hostInstance instanceof xl&&((null===(e=this.hostInstance)||void 0===e?void 0:e.parameterValueType)===Lr.MultiSelect?this.disableMultiSelectOptions(null===(t=this.hostInstance)||void 0===t?void 0:t.multiSelectOptions):(0,_.set)(this.hostInstance,this.inputModel.configurationInputDisabledPath,!0)),this.cd.detectChanges())}disableMultiSelectOptions(e){(0,_.forEach)(e,e=>{e.disabled=!0})}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(wn.r0F,9),Pe.Y36(xl,9),Pe.Y36(Yt.El),Pe.Y36(Pe.sBO))},e.\u0275dir=Pe.lG2({type:e,selectors:[["","configurationParameterRoleAccessControl",""],["","configurationMoRoleAccessControl",""]],inputs:{configurationParameterRoleAccessControl:"configurationParameterRoleAccessControl",configurationMoRoleAccessControl:"configurationMoRoleAccessControl"}}),e})();var Al=(()=>(function(e){e.GoToParameterEditor="[User] Redirect to Parameter Editor table",e.HandleAddMultipleParameterElement="[User] Handle add multiple parameter element",e.HandleRemoveMultipleParameterElement="[User] Handle remove multiple parameter element",e.HandleRemoveParameter="[User] Handle remove parameter",e.HandleRevertMultipleParameterElement="[User] Handle revert multiple parameter element",e.HandleRevertParameter="[User] Handle revert parameter"}(Al||(Al={})),Al))();const _l=(0,g.PH)(Al.GoToParameterEditor,(0,g.Ky)()),Tl=(0,g.PH)(Al.HandleAddMultipleParameterElement,(0,g.Ky)()),Il=(0,g.PH)(Al.HandleRemoveMultipleParameterElement,(0,g.Ky)()),El=(0,g.PH)(Al.HandleRevertMultipleParameterElement,(0,g.Ky)()),Ml=(0,g.PH)(Al.HandleRemoveParameter,(0,g.Ky)()),kl=(0,g.PH)(Al.HandleRevertParameter,(0,g.Ky)());let Nl=(()=>{class e{transform(e,t){if(e)return e.from===ht.tX.DELTA}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isDeltaPlan",type:e,pure:!0}),e})(),Ll=(()=>{class e{transform(e){const t=e.path.match(/^\/\w*[^\/]$/g);return!!t&&t.length>0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isRevertingParameter",type:e,pure:!0}),e})(),Dl=(()=>{class e{transform(e){return e.state===ht.s$.Unchanged}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isParameterUnchanged",type:e,pure:!0}),e})(),Zl=(()=>{class e{transform(e,t){return ta(e.state)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isParameterNotExisting",type:e,pure:!0}),e})(),Rl=(()=>{class e{transform(e){return e.rowType===ht.bm.SIMPLE_LIST||e.rowType===ht.bm.COMPLEX}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isMultipleParameter",type:e,pure:!0}),e})(),Ul=(()=>{class e{transform(e){return e.rowType===ht.bm.ENUMERATION_LIST}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isEnumerationList",type:e,pure:!0}),e})();function Fl(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",2),Pe.NdJ("action",function(){const t=Pe.CHM(e).ngIf,n=Pe.oxw(2);return t.isMultipleParameter?n.handleRevertMultipleParameterElement(n.rowData):n.handleRevertParameter(n.rowData)}),Pe.ALo(1,"isDeltaPlan"),Pe.ALo(2,"isDeltaPlan"),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.Q6J("disabled",!Pe.lcZ(1,3,n.selectedPlan)||Pe.lcZ(2,5,n.selectedPlan)&&n.isDeltaPlanOutdated||n.isParameterFromNewObject||n.isParameterFromDeletedObject||e.isParameterUnchanged||e.inProgress||e.isParameterNotExisting)("configurationParameterRoleAccessControl",n.rowData.definition.secAdmOnly)("model",e.inProgress?n.revertLoadingButton:n.revertButton)}}const jl=function(e,t,n){return{planId:e,moUuid:t,op:"revert",path:n}},$l=function(e,t){return{id:e,identifyingData:t}},ql=function(e,t,n,i){return{inProgress:e,isParameterUnchanged:t,isParameterNotExisting:n,isMultipleParameter:i}};function Bl(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,Fl,3,7,"ui-webem-button",1),Pe.ALo(2,"isActionInProgress"),Pe.ALo(3,"async"),Pe.ALo(4,"isParameterUnchanged"),Pe.ALo(5,"isParameterNotExisting"),Pe.ALo(6,"isMultipleParameter"),Pe.ALo(7,"isEnumerationList"),Pe.BQk()),2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",Pe.l5B(21,ql,Pe.xi3(2,1,Pe.lcZ(3,4,e.actionProgressIds$),Pe.WLB(18,$l,e.spinners.UpdateParameter,Pe.kEZ(14,jl,e.selectedPlan.planId,e.rowData.moUuid,e.rowData.path))),Pe.lcZ(4,6,e.rowData),Pe.lcZ(5,8,e.rowData),Pe.lcZ(6,10,e.rowData)&&!Pe.lcZ(7,12,e.rowData)))}}let Gl=(()=>{class e{constructor(e){this.store=e,this.spinners=Et,this.revertLoadingButton=ht.R9,this.actionProgressIds$=this.store.select(qt)}ngOnInit(){this.selectedPlan$=this.store.select(me.ji),this.revertButton=(0,_.cloneDeep)(this.isParameterFromNewObject?ht.IK:this.rowData.state===ht.s$.Unchanged?ht.ZN:ht._5)}handleRevertParameter(e){this.store.dispatch(kl({rowData:e}))}handleRevertMultipleParameterElement(e){this.store.dispatch(El({rowData:e}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-revert-parameter-button"]],inputs:{rowData:"rowData",selectedPlan:"selectedPlan",isDeltaPlanOutdated:"isDeltaPlanOutdated",isParameterFromNewObject:"isParameterFromNewObject",isParameterFromDeletedObject:"isParameterFromDeletedObject"},decls:4,vars:7,consts:[[4,"ngIf"],["id","configuration-revert-parameter",3,"disabled","configurationParameterRoleAccessControl","model","action",4,"ngIf"],["id","configuration-revert-parameter",3,"disabled","configurationParameterRoleAccessControl","model","action"]],template:function(e,t){1&e&&(Pe.YNc(0,Bl,8,26,"ng-container",0),Pe.ALo(1,"isDeltaPlan"),Pe.ALo(2,"async"),Pe.ALo(3,"isRevertingParameter")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,Pe.lcZ(2,3,t.selectedPlan$))&&Pe.lcZ(3,5,t.rowData))},directives:[m.O5,Ui.r,wl],pipes:[Nl,m.Ov,Ll,Co,Dl,Zl,Rl,Ul],encapsulation:2}),e})(),Vl=(()=>{class e{transform(e){return e.rowType===ht.bm.SIMPLE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isSimpleParameter",type:e,pure:!0}),e})(),Yl=(()=>{class e{transform(e){return!(0,_.isNil)(e.definition)&&!(0,_.isNil)(e.definition.defaultValue)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"hasDefinedDefaultValueParameter",type:e,pure:!0}),e})(),Jl=(()=>{class e{transform(e){const t=ci(e),n=e.rowType===ht.bm.ENUMERATION_LIST;let i=!1,o=!1;return e.value&&t&&(i=1===e.value.length,o=i&&t[0]===e.value[0]),!(0,_.isNil)(e.definition)&&!(0,_.isNil)(e.definition.defaultValue)&&(t===e.value||n&&o)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isSameAsDefaultValueParameterPipe",type:e,pure:!0}),e})(),Hl=(()=>{class e{transform(e){return e===Me.New}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isNewObject",type:e,pure:!0}),e})(),Wl=(()=>{class e{constructor(){this.isNewObject=new Hl}transform(e){return this.isParameterModifiable(e)||this.isNewManagedObject(e)}isNewManagedObject(e){return this.isNewObject.transform(e.managedObjectState)}isParameterModifiable(e){return!(0,_.isNil)(e.definition)&&!(0,_.isNil)(e.definition.modificationType)&&e.definition.modificationType!==Wn.Unmodifiable}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isParameterModifiable",type:e,pure:!0}),e})(),Ql=(()=>{class e{transform(e){return e.state===ht.s$.Changed}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isParameterChanged",type:e,pure:!0}),e})();function zl(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",2),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(2);return t.handleSetDefaultValue(t.rowData)}),Pe.ALo(1,"isDeltaPlan"),Pe.ALo(2,"hasDefinedDefaultValueParameter"),Pe.ALo(3,"isSameAsDefaultValueParameterPipe"),Pe.ALo(4,"isParameterModifiable"),Pe.ALo(5,"isParameterChanged"),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.Q6J("disabled",Pe.lcZ(1,3,n.selectedPlan)&&n.isDeltaPlanOutdated||e.isParameterDeleted||e.inProgress||n.isParameterFromDeletedObject||!Pe.lcZ(2,5,n.rowData)||Pe.lcZ(3,7,n.rowData)||!Pe.lcZ(4,9,n.rowData)&&!Pe.lcZ(5,11,n.rowData))("configurationParameterRoleAccessControl",n.rowData.definition.secAdmOnly)("model",e.inProgress?n.setDefaultLoadingButton:n.setDefaultButton)}}const Kl=function(e,t,n){return{planId:e,moUuid:t,op:"replace",path:n,isSettingDefaultValue:!0}},Xl=function(e,t){return{id:e,identifyingData:t}},ec=function(e,t){return{inProgress:e,isParameterDeleted:t}};function tc(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,zl,6,13,"ui-webem-button",1),Pe.ALo(2,"isActionInProgress"),Pe.ALo(3,"async"),Pe.ALo(4,"isParameterDeleted"),Pe.BQk()),2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",Pe.WLB(15,ec,Pe.xi3(2,1,Pe.lcZ(3,4,e.actionProgressIds$),Pe.WLB(12,Xl,e.spinners.UpdateParameter,Pe.kEZ(8,Kl,e.selectedPlan.planId,e.rowData.moUuid,e.rowData.path))),Pe.lcZ(4,6,e.rowData)))}}let nc=(()=>{class e{constructor(e){this.store=e,this.spinners=Et,this.setDefaultLoadingButton=ht.fr,this.actionProgressIds$=this.store.select(qt)}ngOnInit(){const e=ci(this.rowData);this.setDefaultButton=(0,_.isUndefined)(e)?(0,_.cloneDeep)(ht.Ev):(0,_.cloneDeep)(e===this.rowData.value?ht.TA:ht.xN)}handleSetDefaultValue(e){const t=ci(e);if(!t)return;const{value:n,path:i,moUuid:o,state:s,parameterValueType:a}=e;e.value=t;const r={value:t,path:i,moUuid:o,isSettingDefaultValue:!0,isNotExistingParameter:s===ht.s$.NotExisting,parameterValueType:a};if(e.rowType===ht.bm.ENUMERATION_LIST){const e=n||[],i=(0,_.isArray)(e)?e:[e],o=t||[],s=(0,_.isArray)(o)?o:[o],a=Object.assign(Object.assign({},r),{previousValue:i,value:s});this.store.dispatch(Rr(a))}else this.store.dispatch(Zr(r))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-set-default-button"]],inputs:{rowData:"rowData",selectedPlan:"selectedPlan",isDeltaPlanOutdated:"isDeltaPlanOutdated",isParameterFromDeletedObject:"isParameterFromDeletedObject"},decls:3,vars:5,consts:[[4,"ngIf"],["id","configuration-set-default-value",3,"disabled","configurationParameterRoleAccessControl","model","action",4,"ngIf"],["id","configuration-set-default-value",3,"disabled","configurationParameterRoleAccessControl","model","action"]],template:function(e,t){1&e&&(Pe.YNc(0,tc,5,18,"ng-container",0),Pe.ALo(1,"isSimpleParameter"),Pe.ALo(2,"isEnumerationList")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.rowData)||Pe.lcZ(2,3,t.rowData))},directives:[m.O5,Ui.r,wl],pipes:[Vl,Ul,Co,m.Ov,rl,Nl,Yl,Jl,Wl,Ql],encapsulation:2}),e})(),ic=(()=>{class e{transform(e){return!e||e.from===ht.tX.ACTIVE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isActivePlan",type:e,pure:!0}),e})(),oc=(()=>{class e{transform(e){return!(0,_.isNil)(e.definition)&&!!hi(e.definition)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isParameterEditable",type:e,pure:!0}),e})();var sc=n(28022);let ac=(()=>{class e{transform(e,t){return e.from===ht.tX.STAGE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isStagedPlan",type:e,pure:!0}),e})();var rc=n(99160);let lc=(()=>{class e{constructor(){this.isParameterDeleted=new rl,this.isParameterEditable=new oc,this.isParameterModifiable=new Wl,this.isActivePlan=new ic,this.isStagedPlan=new ac,this.isInactivePlan=new _o}transform(e,t){return this.isParameterUnconfigurable(e,t)||this.isPlanUnmodifiable(t)}isParameterUnconfigurable(e,t){return this.isParameterDeleted.transform(e)||!this.isParameterConfigurable(e,t)}isPlanUnmodifiable(e){return this.isActivePlan.transform(e)||this.isInactivePlan.transform(e)||this.isConflictedDeltaPlan(e)}isConflictedDeltaPlan(e){return(0,sc.j)(e)&&e.deltaState===rc.Y.Conflict}isParameterConfigurable(e,t){return this.isParameterEditable.transform(e)&&(this.isParameterModifiable.transform(e)||this.isStagedPlan.transform(t))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isParameterInputDisabled",type:e,pure:!0}),e})();function cc(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",2),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(2);return t.handleAddMultipleParameterElement(t.rowData)}),Pe.ALo(1,"isParameterInputDisabled"),Pe.ALo(2,"isDeltaPlan"),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.Q6J("disabled",Pe.xi3(1,3,e.inProgress||n.notAllowedToAdd||!n.canAnotherElementBeAdded||n.isParameterFromDeletedObject||Pe.lcZ(2,6,n.selectedPlan)&&n.isDeltaPlanOutdated||n.isSimpleListWithEmptyElement||n.rowData,n.selectedPlan))("model",e.inProgress?n.addElementLoadingButton:n.addElementButton)("configurationParameterRoleAccessControl",n.rowData.definition.secAdmOnly)}}const dc=function(e,t,n){return{planId:e,moUuid:t,op:"add",path:n}},uc=function(e,t){return{id:e,identifyingData:t}},pc=function(e){return{inProgress:e}};function gc(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,cc,3,8,"ui-webem-button",1),Pe.ALo(2,"isActionInProgress"),Pe.ALo(3,"async"),Pe.BQk()),2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(13,pc,Pe.xi3(2,1,Pe.lcZ(3,4,e.actionProgressIds$),Pe.WLB(10,uc,e.spinners.AddMultipleParameterElement,Pe.kEZ(6,dc,e.selectedPlan.planId,e.rowData.moUuid,e.rowData.path)))))}}let hc=(()=>{class e{constructor(e){this.store=e,this.spinners=Et,this.addElementLoadingButton=ht.Bv,this.actionProgressIds$=this.store.select(qt)}ngOnInit(){this.isSimpleListWithEmptyElement=this.hasEmptySimpleListElement(),this.addElementButton=this.notAllowedToAdd?(0,_.cloneDeep)(this.rowData.rowType===ht.bm.COMPLEX?ht.Pb:ht.NO):this.isSimpleListWithEmptyElement?(0,_.cloneDeep)(ht.Tm):this.canAnotherElementBeAdded?(0,_.cloneDeep)(this.rowData.rowType===ht.bm.COMPLEX?ht.e0:ht.bB):na(this.rowData.rowType,this.rowNode.children)?(0,_.cloneDeep)(ht.AE):(0,_.cloneDeep)(this.rowData.rowType===ht.bm.COMPLEX?ht.sD:ht.Q2)}handleAddMultipleParameterElement(e){this.store.dispatch(Tl({rowData:e}))}hasEmptySimpleListElement(){return this.rowData.rowType===ht.bm.SIMPLE_LIST&&!!this.rowData.value&&this.rowData.value[this.rowData.value.length-1]===fs.wp}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-add-multiple-element-button"]],inputs:{rowNode:"rowNode",rowData:"rowData",selectedPlan:"selectedPlan",isDeltaPlanOutdated:"isDeltaPlanOutdated",canAnotherElementBeAdded:"canAnotherElementBeAdded",notAllowedToAdd:"notAllowedToAdd",isParameterFromDeletedObject:"isParameterFromDeletedObject"},decls:3,vars:5,consts:[[4,"ngIf"],["id","configuration-add-structure",3,"disabled","model","configurationParameterRoleAccessControl","action",4,"ngIf"],["id","configuration-add-structure",3,"disabled","model","configurationParameterRoleAccessControl","action"]],template:function(e,t){1&e&&(Pe.YNc(0,gc,4,15,"ng-container",0),Pe.ALo(1,"isMultipleParameter"),Pe.ALo(2,"isEnumerationList")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.rowData)&&!Pe.lcZ(2,3,t.rowData))},directives:[m.O5,Ui.r,wl],pipes:[Rl,Ul,Co,m.Ov,lc,Nl],encapsulation:2}),e})(),mc=(()=>{class e{transform(e){return e.rowType===ht.bm.STRUCTURE||e.rowType===ht.bm.SIMPLE_LIST_ELEMENT}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isMultipleElementParameter",type:e,pure:!0}),e})();function fc(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",2),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(2);return t.handleRemoveMultipleParameterElement(t.rowData)}),Pe.ALo(1,"isDeltaPlan"),Pe.ALo(2,"isParameterModifiable"),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.Q6J("disabled",Pe.lcZ(1,3,n.selectedPlan)&&(n.isDeltaPlanOutdated||!!n.rowNode&&!!n.rowNode.parent&&!!n.rowNode.parent.data&&!Pe.lcZ(2,5,n.rowNode.parent.data))||e.isParameterDeleted||e.inProgress||n.isParameterFromDeletedObject||n.notAllowedToRemove)("model",e.inProgress?n.removeElementLoadingButton:n.removeElementButton)("configurationParameterRoleAccessControl",n.rowData.definition.secAdmOnly)}}const bc=function(e,t,n){return{planId:e,moUuid:t,op:"remove",path:n}},Cc=function(e,t){return{id:e,identifyingData:t}},vc=function(e,t){return{inProgress:e,isParameterDeleted:t}};function yc(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,fc,3,7,"ui-webem-button",1),Pe.ALo(2,"isActionInProgress"),Pe.ALo(3,"async"),Pe.ALo(4,"isParameterDeleted"),Pe.BQk()),2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",Pe.WLB(15,vc,Pe.xi3(2,1,Pe.lcZ(3,4,e.actionProgressIds$),Pe.WLB(12,Cc,e.spinners.RemoveMultipleParameterElement,Pe.kEZ(8,bc,e.selectedPlan.planId,e.rowData.moUuid,e.rowData.path))),Pe.lcZ(4,6,e.rowData)))}}let Sc=(()=>{class e{constructor(e){this.store=e,this.spinners=Et,this.removeElementLoadingButton=ht.O7,this.actionProgressIds$=this.store.select(qt)}ngOnInit(){this.removeElementButton=(0,_.cloneDeep)(this.notAllowedToRemove?this.rowData.rowType===ht.bm.STRUCTURE?ht.LT:ht.BL:ht.VJ)}handleRemoveMultipleParameterElement(e){this.store.dispatch(Il({rowData:e}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-remove-multiple-element-button"]],inputs:{rowData:"rowData",selectedPlan:"selectedPlan",isDeltaPlanOutdated:"isDeltaPlanOutdated",notAllowedToRemove:"notAllowedToRemove",isParameterFromDeletedObject:"isParameterFromDeletedObject",rowNode:"rowNode"},decls:2,vars:3,consts:[[4,"ngIf"],["id","configuration-remove-structure",3,"disabled","model","configurationParameterRoleAccessControl","action",4,"ngIf"],["id","configuration-remove-structure",3,"disabled","model","configurationParameterRoleAccessControl","action"]],template:function(e,t){1&e&&(Pe.YNc(0,yc,5,18,"ng-container",0),Pe.ALo(1,"isMultipleElementParameter")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.rowData))},directives:[m.O5,Ui.r,wl],pipes:[mc,Co,m.Ov,rl,Nl,Wl],encapsulation:2}),e})(),Pc=(()=>{class e{transform(e){return!!e.definition&&ui(e.definition)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isParameterMandatory",type:e,pure:!0}),e})();function Oc(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",2),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(2);return t.handleRemoveParameter(t.rowData)}),Pe.ALo(1,"isDeltaPlan"),Pe.ALo(2,"isParameterDeleted"),Pe.ALo(3,"isParameterNotExisting"),Pe.ALo(4,"isParameterMandatory"),Pe.ALo(5,"isParameterModifiable"),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.Q6J("disabled",Pe.lcZ(1,3,n.selectedPlan)&&n.isDeltaPlanOutdated||Pe.lcZ(2,5,n.rowData)||e.inProgress||n.isParameterFromDeletedObject||Pe.lcZ(3,7,n.rowData)||Pe.lcZ(4,9,n.rowData)||!Pe.lcZ(5,11,n.rowData))("model",e.inProgress?n.deleteLoadingButton:n.deleteButton)("configurationParameterRoleAccessControl",n.rowData.definition.secAdmOnly)}}const xc=function(e,t,n){return{planId:e,moUuid:t,op:"remove",path:n}},wc=function(e,t){return{id:e,identifyingData:t}},Ac=function(e){return{inProgress:e}};function _c(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,Oc,6,13,"ui-webem-button",1),Pe.ALo(2,"isActionInProgress"),Pe.ALo(3,"async"),Pe.BQk()),2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(13,Ac,Pe.xi3(2,1,Pe.lcZ(3,4,e.actionProgressIds$),Pe.WLB(10,wc,e.spinners.UpdateParameter,Pe.kEZ(6,xc,e.selectedPlan.planId,e.rowData.moUuid,e.rowData.path)))))}}let Tc=(()=>{class e{constructor(e){this.store=e,this.spinners=Et,this.deleteLoadingButton=ht.$0,this.actionProgressIds$=this.store.select(qt)}ngOnInit(){this.deleteButton=this.rowData.definition&&ui(this.rowData.definition)?(0,_.cloneDeep)(ht.Y7):(0,_.cloneDeep)(ht.m1)}handleRemoveParameter(e){this.store.dispatch(Ml({rowData:e}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-remove-parameter-button"]],inputs:{rowData:"rowData",selectedPlan:"selectedPlan",isDeltaPlanOutdated:"isDeltaPlanOutdated",isParameterFromDeletedObject:"isParameterFromDeletedObject"},decls:4,vars:7,consts:[[4,"ngIf"],["id","configuration-remove-parameter",3,"disabled","model","configurationParameterRoleAccessControl","action",4,"ngIf"],["id","configuration-remove-parameter",3,"disabled","model","configurationParameterRoleAccessControl","action"]],template:function(e,t){1&e&&(Pe.YNc(0,_c,4,15,"ng-container",0),Pe.ALo(1,"isSimpleParameter"),Pe.ALo(2,"isMultipleParameter"),Pe.ALo(3,"isEnumerationList")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.rowData)||Pe.lcZ(2,3,t.rowData)||Pe.lcZ(3,5,t.rowData))},directives:[m.O5,Ui.r,wl],pipes:[Vl,Rl,Ul,Co,m.Ov,Nl,rl,Zl,Pc,Wl],encapsulation:2}),e})(),Ic=(()=>{class e{transform(e){return(t=e).parameterValueType&&t.parameterValueType===Yn.BitMask?function(e){const t=[],n=e.definition,i=e.value;if(!n)return[];const o=n.bitsDef;return o&&i?(i.forEach(e=>t.push(o.find(t=>t.bitPosition.toString()===e))),t.map(e=>` ${e.uiValue}`)):[]}(e):e.value;var t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"formatBitMaskIfNecessary",type:e,pure:!0}),e})(),Ec=(()=>{class e{transform(e,t){return e.data.rowType===ht.bm.SIMPLE_LIST?function(e){const t=e.children;let n=0;if(e.data.rowType===Jn.r.SimpleList&&!(0,_.isEmpty)(t)){if(!t)return!1;n=Qs(t)}return!!n}(e):function(e){const t=e.data;if(t.rowType===ht.bm.STRUCTURE)return function(e){const t=e.children;return!!t&&!!Qs(t)}(e);const n=e.children;let i=0;if(t.rowType===Jn.r.Complex&&!(0,_.isEmpty)(n)){if(!n)return!1;n.forEach(e=>{e.children.forEach(e=>{(0,_.isNull)(e.data.definitionValidation)||e.data.state===ht.s$.Deleted||i++})})}return!!i}(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"hasStructureParameterErrors",type:e,pure:!1}),e})(),Mc=(()=>{class e{constructor(){}transform(e,t){return ga(e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"hasStructureRelationErrors",type:e,pure:!0}),e})(),kc=(()=>{class e{transform(e){return e.rowType===ht.bm.SIMPLE||e.rowType===ht.bm.SIMPLE_LIST_ELEMENT}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isSimpleElementParameter",type:e,pure:!0}),e})(),Nc=(()=>{class e{transform(e,t,n){if(!t||!n)return!0;if(na(e,n))return!1;const i=n.length;return!i||!t.maxOccurs||i<parseInt(t.maxOccurs,10)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"canAnotherElementBeAdded",type:e,pure:!0}),e})();function Lc(e,t){if(1&e&&Pe._UZ(0,"p-treeTableSortIcon",12),2&e){const e=Pe.oxw().$implicit;Pe.Q6J("field",e.field)}}function Dc(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"th",9),Pe.TgZ(2,"span",10),Pe._uU(3),Pe.qZA(),Pe.YNc(4,Lc,1,1,"p-treeTableSortIcon",11),Pe.qZA(),Pe.BQk()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("ttResizableColumnDisabled",!e.isResizable)("ttSortableColumnDisabled",!e.isSortable)("ttSortableColumn",e.field)("id",e.field)("ngClass",e.class)("ngStyle",e.style),Pe.xp6(1),Pe.Q6J("ngStyle",e.headerStyle),Pe.xp6(1),Pe.hij(" ",e.header,""),Pe.xp6(1),Pe.Q6J("ngIf",e.isSortable)}}function Zc(e,t){if(1&e&&(Pe.TgZ(0,"tr"),Pe.YNc(1,Dc,5,9,"ng-container",7),Pe.qZA(),Pe._UZ(2,"tr",8)),2&e){const e=t.$implicit;Pe.oxw();const n=Pe.MAs(1),i=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngForOf",e),Pe.xp6(1),Pe.Q6J("columns",i.cols)("treeTable",n)}}function Rc(e,t){1&e&&Pe._UZ(0,"col",15)}const Uc=function(e,t){return{actionButtonsColumnDeltaConf:e,actionButtonsColumnStagePlan:t}};function Fc(e,t){if(1&e&&(Pe._UZ(0,"col",16),Pe.ALo(1,"isDeltaPlan"),Pe.ALo(2,"isDeltaPlan")),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("ngClass",Pe.WLB(5,Uc,Pe.lcZ(1,1,e.selectedPlan),!Pe.lcZ(2,3,e.selectedPlan)))}}function jc(e,t){if(1&e&&(Pe.TgZ(0,"colgroup"),Pe.YNc(1,Rc,1,0,"col",13),Pe.ALo(2,"isActivePlan"),Pe._UZ(3,"col"),Pe._UZ(4,"col"),Pe._UZ(5,"col"),Pe.YNc(6,Fc,3,8,"col",14),Pe.ALo(7,"isActivePlan"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngIf",!Pe.lcZ(2,2,e.selectedPlan)),Pe.xp6(5),Pe.Q6J("ngIf",!Pe.lcZ(7,4,e.selectedPlan))}}function $c(e,t){1&e&&Pe._UZ(0,"i",31)}function qc(e,t){1&e&&Pe._UZ(0,"i",32)}function Bc(e,t){1&e&&Pe._UZ(0,"i",33)}function Gc(e,t){1&e&&Pe._UZ(0,"i",34)}function Vc(e,t){1&e&&Pe._UZ(0,"i",35)}function Yc(e,t){if(1&e&&(Pe.TgZ(0,"td",25),Pe.YNc(1,$c,1,0,"i",26),Pe.ALo(2,"isParameterNotExisting"),Pe.YNc(3,qc,1,0,"i",27),Pe.ALo(4,"isParameterChanged"),Pe.YNc(5,Bc,1,0,"i",28),Pe.ALo(6,"isParameterMandatory"),Pe.YNc(7,Gc,1,0,"i",29),Pe.ALo(8,"hasDefinitionError"),Pe.ALo(9,"hasStructureParameterErrors"),Pe.YNc(10,Vc,1,0,"i",30),Pe.ALo(11,"hasDefinitionError"),Pe.ALo(12,"hasStructureParameterErrors"),Pe.ALo(13,"hasRelationError"),Pe.ALo(14,"hasStructureRelationErrors"),Pe.qZA()),2&e){const e=Pe.oxw(),t=e.rowData,n=e.$implicit,i=Pe.oxw().ngIf;Pe.Q6J("id","pe-icons"+t.path),Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,6,t)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(4,8,t)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(6,10,t)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(8,12,t)||Pe.lcZ(9,14,n.node)),Pe.xp6(3),Pe.Q6J("ngIf",!(Pe.lcZ(11,16,t)||Pe.lcZ(12,18,n.node))&&(Pe.lcZ(13,20,t)||Pe.xi3(14,22,i.errorPaths,t)))}}function Jc(e,t){if(1&e&&Pe._UZ(0,"p-treeTableToggler",36),2&e){const e=Pe.oxw().$implicit;Pe.Q6J("rowNode",e)}}function Hc(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe.TgZ(1,"span",39),Pe.ALo(2,"formatBitMaskIfNecessary"),Pe._uU(3),Pe.ALo(4,"formatBitMaskIfNecessary"),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw(2).rowData;Pe.xp6(1),Pe.Q6J("title",Pe.lcZ(2,2,e)),Pe.xp6(2),Pe.hij(" ",Pe.lcZ(4,4,e)," ")}}function Wc(e,t){if(1&e&&(Pe.TgZ(0,"div",37),Pe.YNc(1,Hc,5,6,"span",38),Pe.ALo(2,"isSimpleElementParameter"),Pe.qZA()),2&e){const e=Pe.oxw().rowData;Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,1,e))}}function Qc(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"span"),Pe.TgZ(1,"configuration-shared-input",41),Pe.NdJ("valueChanged",function(){Pe.CHM(e);const t=Pe.oxw(2).rowData;return Pe.oxw(2).showParameterDetails(t)}),Pe.ALo(2,"async"),Pe.ALo(3,"isObjectDeleted"),Pe.ALo(4,"isParameterInputDisabled"),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw(2),t=e.rowData,n=e.$implicit,i=Pe.oxw().ngIf,o=Pe.oxw();Pe.xp6(1),Pe.Q6J("inputData",t)("inputValue",t.value)("parameterRelationErrorsDetails",Pe.lcZ(2,6,o.parameterRelationErrorsDetails$))("rowNode",n)("isDisabled",i.isLoadingData||Pe.lcZ(3,8,null==i.selectedObject?null:i.selectedObject.state)||Pe.xi3(4,10,t,i.selectedPlan))("configurationParameterRoleAccessControl",t.definition.secAdmOnly)}}function zc(e,t){if(1&e&&(Pe.TgZ(0,"div",40),Pe.YNc(1,Qc,5,13,"span",38),Pe.ALo(2,"isSimpleElementParameter"),Pe.ALo(3,"isEnumerationList"),Pe.qZA()),2&e){const e=Pe.oxw().rowData;Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,1,e)||Pe.lcZ(3,3,e))}}const Kc=function(e,t){return{peActionsCellDeltaPlan:e,peActionsCellStagePlan:t}};function Xc(e,t){if(1&e&&(Pe.TgZ(0,"td",21),Pe.TgZ(1,"div",16),Pe.ALo(2,"isDeltaPlan"),Pe.ALo(3,"isDeltaPlan"),Pe._UZ(4,"configuration-shared-revert-parameter-button",42),Pe.ALo(5,"isObjectDeleted"),Pe.ALo(6,"isNewObject"),Pe._UZ(7,"configuration-shared-set-default-button",43),Pe.ALo(8,"isObjectDeleted"),Pe._UZ(9,"configuration-shared-add-multiple-element-button",44),Pe.ALo(10,"isObjectDeleted"),Pe.ALo(11,"canAnotherElementBeAdded"),Pe._UZ(12,"configuration-shared-remove-multiple-element-button",45),Pe.ALo(13,"isObjectDeleted"),Pe._UZ(14,"configuration-shared-remove-parameter-button",43),Pe.ALo(15,"isObjectDeleted"),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw(),t=e.rowData,n=e.$implicit,i=Pe.oxw().ngIf;Pe.Q6J("id","parameter-action"+t.path),Pe.xp6(1),Pe.Q6J("ngClass",Pe.WLB(46,Kc,Pe.lcZ(2,26,i.selectedPlan),!Pe.lcZ(3,28,i.selectedPlan))),Pe.xp6(3),Pe.Q6J("rowData",t)("selectedPlan",i.selectedPlan)("isDeltaPlanOutdated",i.isDeltaPlanOutdated)("isParameterFromDeletedObject",Pe.lcZ(5,30,null==i.selectedObject?null:i.selectedObject.state))("isParameterFromNewObject",Pe.lcZ(6,32,null==i.selectedObject?null:i.selectedObject.state)),Pe.xp6(3),Pe.Q6J("rowData",t)("selectedPlan",i.selectedPlan)("isParameterFromDeletedObject",Pe.lcZ(8,34,null==i.selectedObject?null:i.selectedObject.state))("isDeltaPlanOutdated",i.isDeltaPlanOutdated),Pe.xp6(2),Pe.Q6J("rowData",t)("rowNode",n.node)("selectedPlan",i.selectedPlan)("isDeltaPlanOutdated",i.isDeltaPlanOutdated)("isParameterFromDeletedObject",Pe.lcZ(10,36,null==i.selectedObject?null:i.selectedObject.state))("canAnotherElementBeAdded",Pe.Dn7(11,38,t.rowType,t.definition,n.node.children)),Pe.xp6(3),Pe.Q6J("rowData",t)("selectedPlan",i.selectedPlan)("isParameterFromDeletedObject",Pe.lcZ(13,42,null==i.selectedObject?null:i.selectedObject.state))("isDeltaPlanOutdated",i.isDeltaPlanOutdated)("rowNode",n),Pe.xp6(2),Pe.Q6J("rowData",t)("selectedPlan",i.selectedPlan)("isParameterFromDeletedObject",Pe.lcZ(15,44,null==i.selectedObject?null:i.selectedObject.state))("isDeltaPlanOutdated",i.isDeltaPlanOutdated)}}const ed=function(e,t){return{deleted:e,isNotExisting:t}};function td(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"tr",17),Pe.NdJ("click",function(t){const n=Pe.CHM(e).rowData,i=Pe.oxw().ngIf;return Pe.oxw().selectRow(n,i.treeNodes,t)})("keyup.enter",function(t){const n=Pe.CHM(e).rowData,i=Pe.oxw().ngIf;return Pe.oxw().selectRow(n,i.treeNodes,t)}),Pe.ALo(1,"isParameterDeleted"),Pe.ALo(2,"isParameterNotExisting"),Pe.YNc(3,Yc,15,25,"td",18),Pe.ALo(4,"isActivePlan"),Pe.TgZ(5,"td",19),Pe.YNc(6,Jc,1,1,"p-treeTableToggler",20),Pe.TgZ(7,"span"),Pe._uU(8),Pe.qZA(),Pe.qZA(),Pe.TgZ(9,"td",19),Pe.TgZ(10,"span"),Pe._uU(11),Pe.qZA(),Pe.qZA(),Pe.TgZ(12,"td",21),Pe.ALo(13,"formatBitMaskIfNecessary"),Pe.YNc(14,Wc,3,3,"div",22),Pe.ALo(15,"isActivePlan"),Pe.YNc(16,zc,4,5,"ng-template",null,23,Pe.W1O),Pe.qZA(),Pe.YNc(18,Xc,16,49,"td",24),Pe.ALo(19,"isActivePlan"),Pe.qZA()}if(2&e){const e=t.rowData,n=t.$implicit,i=Pe.MAs(17),o=Pe.oxw().ngIf,s=Pe.oxw();Pe.Q6J("ngClass",Pe.WLB(30,ed,Pe.lcZ(1,18,e),Pe.lcZ(2,20,e)))("ttRow",n)("ttSelectableRow",n),Pe.uIk("data-fullname",e.fullName)("data-name",e.name),Pe.xp6(3),Pe.Q6J("ngIf",!Pe.lcZ(4,22,o.selectedPlan)),Pe.xp6(2),Pe.Q6J("id","parameter-full-name"+e.path)("title",e.fullName),Pe.xp6(1),Pe.Q6J("ngIf",s.shouldShowToggler(n)),Pe.xp6(2),Pe.Oqu(e.fullName),Pe.xp6(1),Pe.Q6J("id","parameter-abbreviation"+e.path)("title",e.name),Pe.xp6(2),Pe.Oqu(e.name),Pe.xp6(1),Pe.Q6J("id","parameter-value"+e.path),Pe.uIk("title",Pe.lcZ(13,24,e)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(15,26,o.selectedPlan))("ngIfElse",i),Pe.xp6(4),Pe.Q6J("ngIf",!Pe.lcZ(19,28,o.selectedPlan))}}const nd=function(e){return{"fix-missing-scroll-padding":e}};function id(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"p-treeTable",2,3),Pe.NdJ("selectionChange",function(t){return Pe.CHM(e),Pe.oxw().selectedNode=t})("selectionChange",function(t){return Pe.CHM(e),Pe.oxw().showParameterDetails(t)}),Pe.YNc(2,Zc,3,3,"ng-template",4),Pe.YNc(3,jc,8,6,"ng-template",5),Pe.YNc(4,td,20,33,"ng-template",6),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.Q6J("ngClass",Pe.VKq(15,nd,!n.isScrollVisible(e.treeNodes)))("selection",n.selectedNode)("resizableColumns",!0)("scrollable",!0)("value",e.treeNodes)("columns",n.cols)("filterDelay",0)("showLoader",!0)("minBufferPx",1e3)("maxBufferPx",1300)("virtualScroll",!0)("loading",e.isLoadingData)("rows",n.visibleRowsPerPage)("scrollHeight",n.getScrollHeight(e.treeNodes))("virtualRowHeight",n.getRowsHeight())}}const od=function(e,t,n,i,o,s,a,r){return{treeNodes:e,countAll:t,errorPaths:n,selectedPlan:i,planId:o,isDeltaPlanOutdated:s,selectedObject:a,isLoadingData:r}};let sd=(()=>{class e{constructor(e,t){this.store=e,this.planApiEndpointsService=t,this.visibleRowsPerPage=24,this.ngUnsubscribe=new Ae.xQ,this.shouldShowToggler=ea}ngOnInit(){this.selectedPlan$=this.store.select(me.ji),this.selectedPlanId$=this.store.select(me.oI),this.isDeltaPlanOutdated$=this.store.select(me.gb),this.objectSelector$=this.store.select(re),this.goToPeTargetParameterPath$=this.store.select(Ya),this.nodesRange$=this.store.select(Xa),this.isLoadingData$=this.store.select(vr),this.selectedManagedObject$=(0,ft.aj)([this.store.select(pr),this.store.select(La),this.selectedPlanId$,this.store.select(zi)]).pipe((0,A.U)(([e,t,n,i])=>{if(!i)return;const o=function(e,t){const n=fr(t,e.moUuid);if(0===n.length)return e;const i=(0,_.cloneDeep)(e);return n.forEach(e=>{const{parameterName:t,structureIdx:n}=hr(e.path);let o;o=mr(i,t),o||(o=function(e){return{state:Vn.Changed,name:e,fullName:"",value:[]}}(t),i.parameters.push({parameterType:Jn.r.Complex,complexParameter:o})),o.value[n]||o.value.push({structureParameters:[]})}),i}(i,e);return n?function(e,t,n){const i=Ra(e.moUuid,t,n);if(!i.length)return e;const o=(0,_.cloneDeep)(e);return i.forEach(e=>{const t=e.path.split("/")[1];let n=Ua(o,t);n||(n=function(e){return{state:Vn.Changed,name:e,fullName:"",value:[]}}(t),o.parameters.push({parameterType:Jn.r.SimpleList,simpleListParameter:n})),n.value[e.elementIndex]||n.value.push("")}),o}(o,n,t):o})),this.tableColumnsDefinition(),this.parameterRelationErrorsDetails$=(0,ft.aj)([this.selectedManagedObject$,this.store.select(me.ji)]).pipe((0,_e.R)(this.ngUnsubscribe),(0,vs.h)(([e,t])=>{const n=(0,_.get)(t,"from");return!!(0,_.get)(e,"relationErrors.length")&&(n===ht.tX.DELTA||n===ht.tX.STAGE)}),(0,ys.x)((e,t)=>{const[n,i]=e,[o,s]=t;return i.planId===s.planId&&i.revision===s.revision&&n.moUuid===o.moUuid&&n.revision===o.revision}),(0,Ss.b)(([e,t])=>(0,xs.D)(e.relationErrors.map(({errorIndex:e})=>this.planApiEndpointsService.getRelationErrorsDetailsObject(t,e))).pipe((0,vs.h)(e=>!!e),(0,A.U)(t=>(0,_.flattenDeep)(t).filter(t=>t.parentMoUuid===e.moUuid)))),(0,Ps.d)()),this.parameterRelationErrorsPaths$=this.parameterRelationErrorsDetails$.pipe((0,A.U)(e=>e.map(e=>({validationParameterState:e.validationParameterState,parameterPath:e.parameterPath})))),this.tableTreeNodes$=(0,ft.aj)([this.store.select(Rn),this.selectedManagedObject$,this.store.select(Ys),this.parameterRelationErrorsPaths$.pipe((0,Os.O)([])),this.store.select(me.DM)]).pipe((0,A.U)(([e,t,n,i,o])=>{if(!e||!t)return[];const s=e.entities;if(!s)return[];const a=s[t.niddId];return a?ma(aa(a.parameters,t.parameters,t,a.instanceIdParameter,o===ht.tX.STAGE),i,n):[]})),this.startHandlingWindowNodes(),this.startHandlingAllNodesCount(),this.startHandlingGoToPeTargetParameter()}ngOnDestroy(){this.store.dispatch(qe()),this.store.dispatch(ve()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}showParameterDetails(e){if(e&&e.data){const t=pa(e.data);this.store.dispatch(ye(t))}else this.store.dispatch(Ce())}isScrollVisible(e=[]){const t=window.innerHeight-254;return e.length*this.getRowsHeight()>t}getScrollHeight(e=[]){const t=window.innerHeight-254,n=e.length*this.getRowsHeight();return`${n>t?t:n}px`}getRowsHeight(){return this.planOrigin===ht.tX.ACTIVE?26:30}startHandlingWindowNodes(){this.windowNodes$=(0,ft.aj)([this.tableTreeNodes$,this.nodesRange$]).pipe((0,A.U)(([e,t])=>e?t?e.slice(t.start,t.end):e:[]))}startHandlingAllNodesCount(){this.allNodesCount$=this.tableTreeNodes$.pipe((0,A.U)(e=>e?e.length:0))}startHandlingGoToPeTargetParameter(){(0,ft.aj)([this.goToPeTargetParameterPath$,this.tableTreeNodes$]).pipe((0,ys.x)((e,t)=>{const[n]=e,[i]=t;return n===i}),(0,_e.R)(this.ngUnsubscribe)).subscribe(([e,t])=>{if(!e)return;const n=ha(e,t);if(!n)return;this.selectedNode=n;const i=pa(n.data);this.store.dispatch(ye(i)),this.store.dispatch(Ns({columnFilters:{name:{value:n.data.name,matchMode:"contains"}}})),this.store.dispatch($a())})}loadNodes(e){this.store.dispatch(Ha({window:{start:e.first,end:e.first+e.rows}}))}tableColumnsDefinition(){const e=[{field:"status",header:"Status",class:"status-header"},{field:"fullName",header:"Parameter name",isResizable:!0,isFilterable:!0,isVisibleInActivePlanTable:!0,isSortable:!0},{field:"name",header:"Abbreviation",isResizable:!0,isFilterable:!0,isVisibleInActivePlanTable:!0,isSortable:!0},{field:"value",header:"Value",isVisibleInActivePlanTable:!0,style:{"min-width.px":"170"}},{field:"actions",header:"Action",headerStyle:{display:"flex","justify-content":"center"}}];this.selectedPlan$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(t=>{if(t)return this.planOrigin=t.from,this.cols=t.from!==ht.tX.ACTIVE?e:e.filter(e=>e.isVisibleInActivePlanTable)})}selectRow(e,t,n){const i=ha(e.path,t),o=n.composedPath().find(e=>br.includes(e.localName));if(this.selectedNode!==i||o){if(i){this.selectedNode=i;const t=pa(e);this.store.dispatch(ye(t))}}else this.selectedNode=null,this.store.dispatch(Ce())}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Yt.iD))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["parameter-editor-table"]],decls:10,vars:26,consts:[[1,"table-container"],["class","pe-table","compareSelectionBy","equals","dataKey","path","sharedFixTableColumnsResize","",3,"ngClass","selection","resizableColumns","scrollable","value","columns","filterDelay","showLoader","minBufferPx","maxBufferPx","virtualScroll","loading","rows","scrollHeight","virtualRowHeight","selectionChange",4,"ngIf"],["compareSelectionBy","equals","dataKey","path","sharedFixTableColumnsResize","",1,"pe-table",3,"ngClass","selection","resizableColumns","scrollable","value","columns","filterDelay","showLoader","minBufferPx","maxBufferPx","virtualScroll","loading","rows","scrollHeight","virtualRowHeight","selectionChange"],["treeTable",""],["pTemplate","header"],["pTemplate","colgroup"],["pTemplate","body"],[4,"ngFor","ngForOf"],["id","pe-filter-row","parameter-editor-table-row-filter","",1,"filter-row",3,"columns","treeTable"],["ttResizableColumn","",3,"ttResizableColumnDisabled","ttSortableColumnDisabled","ttSortableColumn","id","ngClass","ngStyle"],[3,"ngStyle"],[3,"field",4,"ngIf"],[3,"field"],["class","status-column",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"status-column"],[3,"ngClass"],[3,"ngClass","ttRow","ttSelectableRow","click","keyup.enter"],["class","pe-icons",3,"id",4,"ngIf"],[3,"id","title"],[3,"rowNode",4,"ngIf"],[3,"id"],["class","value-column",4,"ngIf","ngIfElse"],["parameterInput",""],[3,"id",4,"ngIf"],[1,"pe-icons",3,"id"],["class","mdi mdi-diameter-variant",4,"ngIf"],["class","mdi mdi-pencil",4,"ngIf"],["class","mdi mdi-asterisk",4,"ngIf"],["class","mdi mdi-alert status-error-icon",4,"ngIf"],["class","mdi mdi-alert relation-error-icon",4,"ngIf"],[1,"mdi","mdi-diameter-variant"],[1,"mdi","mdi-pencil"],[1,"mdi","mdi-asterisk"],[1,"mdi","mdi-alert","status-error-icon"],[1,"mdi","mdi-alert","relation-error-icon"],[3,"rowNode"],[1,"value-column"],[4,"ngIf"],[3,"title"],[1,"tooltip-container"],[3,"inputData","inputValue","parameterRelationErrorsDetails","rowNode","isDisabled","configurationParameterRoleAccessControl","valueChanged"],[3,"rowData","selectedPlan","isDeltaPlanOutdated","isParameterFromDeletedObject","isParameterFromNewObject"],[3,"rowData","selectedPlan","isParameterFromDeletedObject","isDeltaPlanOutdated"],[3,"rowData","rowNode","selectedPlan","isDeltaPlanOutdated","isParameterFromDeletedObject","canAnotherElementBeAdded"],[3,"rowData","selectedPlan","isParameterFromDeletedObject","isDeltaPlanOutdated","rowNode"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.YNc(1,id,5,17,"p-treeTable",1),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.ALo(5,"async"),Pe.ALo(6,"async"),Pe.ALo(7,"async"),Pe.ALo(8,"async"),Pe.ALo(9,"async"),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngIf",Pe.qlk(17,od,Pe.lcZ(2,1,t.tableTreeNodes$),Pe.lcZ(3,3,t.allNodesCount$),Pe.lcZ(4,5,t.parameterRelationErrorsPaths$),Pe.lcZ(5,7,t.selectedPlan$),Pe.lcZ(6,9,t.selectedPlanId$),Pe.lcZ(7,11,t.isDeltaPlanOutdated$),Pe.lcZ(8,13,t.objectSelector$),Pe.lcZ(9,15,t.isLoadingData$))))},directives:[m.O5,yr.iw,Sr.g,m.mk,Pr.oO,Ri.jx,m.sg,kr,yr.ym,yr.OB,m.PC,Pr.Zl,yr.He,yr.V4,yr.e2,yr.gc,xl,wl,Gl,nc,hc,Sc,Tc],pipes:[m.Ov,ic,Nl,rl,Zl,Ic,Ql,Pc,ll,Ec,cl,Mc,kc,Ul,Ht,lc,Hl,Nc],styles:['.status-column[_ngcontent-%COMP%]{width:77px}.status-header[_ngcontent-%COMP%]{text-align:center}.actionButtonsColumnDeltaConf[_ngcontent-%COMP%]{width:111px}.actionButtonsColumnStagePlan[_ngcontent-%COMP%]{width:76px}input[_ngcontent-%COMP%]{width:100%;height:22px}.filter-row[_ngcontent-%COMP%]{display:table-row}.mdi[_ngcontent-%COMP%]{font-size:11px}.pe-icons[_ngcontent-%COMP%]{text-align:center}.pe-icons[_ngcontent-%COMP%]   .mdi-asterisk[_ngcontent-%COMP%]{color:#da1914;font-size:10px}.pe-icons[_ngcontent-%COMP%]   .mdi-pencil[_ngcontent-%COMP%]{color:#124191}.pe-icons[_ngcontent-%COMP%]   .p-highlight[_ngcontent-%COMP%]   .mdi-pencil[_ngcontent-%COMP%]{color:#fff}.empty-button[_ngcontent-%COMP%]{width:26px;border:1px solid transparent;display:inline-block}[_nghost-%COMP%]     .fix-missing-scroll-padding .p-treetable-scrollable-header-box{padding-right:0!important}[_nghost-%COMP%]     .p-treetable{box-shadow:none;border-radius:0;height:100%}[_nghost-%COMP%]     .p-treetable .p-treetable-thead tr th:last-child{position:relative;overflow:visible}[_nghost-%COMP%]     .p-treetable .p-treetable-thead tr th:last-child:after{content:"";display:block;position:absolute;right:-16px;top:0;width:16px;height:calc(100% + 1px);background:#fff;border-bottom:1px solid #c8c8c8}@supports (-moz-appearance: none){[_nghost-%COMP%]     .p-treetable .p-treetable-scrollable-header-box{position:relative}[_nghost-%COMP%]     .p-treetable .p-treetable-thead tr th:last-child{overflow:visible;position:unset}[_nghost-%COMP%]     .p-treetable .p-treetable-thead tr th:last-child:after{content:"";display:block;position:absolute;right:0;top:0;width:17px;background:#fff;border-bottom:1px solid #c8c8c8}[_nghost-%COMP%]     .p-treetable .p-treetable-thead tr:first-child th:last-child:after{height:calc(50% - 1.1px);border-bottom:1px solid #707070}[_nghost-%COMP%]     .p-treetable .p-treetable-thead tr:last-child th:last-child:after{bottom:0;top:unset;height:50%}}[_nghost-%COMP%]     .p-treetable .cdk-virtual-scroll-content-wrapper{box-shadow:0 3px 8px rgba(0,0,0,.13)}[_nghost-%COMP%]     .p-treetable .p-treetable-tbody>tr.p-highlight{background-color:#124191}[_nghost-%COMP%]     .p-treetable .p-treetable-tbody>tr:not(.p-highlight):not(.ui-contextmenu-selected):hover{background-color:#ccf4ff;cursor:pointer}[_nghost-%COMP%]     .p-treetable-scrollable-header{flex-shrink:0}[_nghost-%COMP%]     .p-treetable-scrollable-body{flex-grow:1}[_nghost-%COMP%]     .p-treetable-scrollable-wrapper{height:100%}[_nghost-%COMP%]     .p-treetable-scrollable-wrapper>.p-treetable-scrollable-view{height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]     .p-treetable-scrollable-body-table{box-shadow:0 2px 3px rgba(0,0,0,.1);border-radius:3px}[_nghost-%COMP%]     .p-highlight .pe-icons .mdi{color:#fff}[_nghost-%COMP%]     .p-treetable-tbody>tr>td:nth-child(4){overflow:visible}.peActionsCellDeltaPlan[_ngcontent-%COMP%]{width:111px;display:grid;justify-content:stretch;grid-column-gap:8px;align-items:center;grid-template-columns:[first] 26px [second] 26px [third] 26px [end]}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-revert-parameter-button[_ngcontent-%COMP%]{grid-area:first}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-add-multiple-element-button[_ngcontent-%COMP%], .peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-set-default-button[_ngcontent-%COMP%]{grid-area:second}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-remove-multiple-element-button[_ngcontent-%COMP%], .peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-remove-parameter-button[_ngcontent-%COMP%]{grid-area:third}.peActionsCellStagePlan[_ngcontent-%COMP%]{display:grid;justify-content:stretch;grid-column-gap:8px;align-items:center;grid-template-columns:[first] 26px [second]}.peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-add-multiple-element-button[_ngcontent-%COMP%], .peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-set-default-button[_ngcontent-%COMP%]{grid-area:first}.peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-remove-multiple-element-button[_ngcontent-%COMP%], .peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-remove-parameter-button[_ngcontent-%COMP%]{grid-area:second}[_nghost-%COMP%]  .deleted{text-decoration:line-through;color:#bec8d2!important}[_nghost-%COMP%]  .deleted input{text-decoration:line-through}.validation-error-icon[_ngcontent-%COMP%]{margin-left:-15px}.status-error-icon[_ngcontent-%COMP%]{color:#da1914}.relation-error-icon[_ngcontent-%COMP%]{color:#fc0}.isNotExisting[_ngcontent-%COMP%]{color:#bec8d2!important}.tooltip-container[_ngcontent-%COMP%]{position:relative}.pe-single-button[_ngcontent-%COMP%]{text-align:center}.value-column[_ngcontent-%COMP%]{text-overflow:ellipsis;display:block;overflow:hidden}.table-container[_ngcontent-%COMP%]{height:100%}@supports (-moz-appearance: none){.scroll-fill[_ngcontent-%COMP%]{height:54px}.fake-header-separator[_ngcontent-%COMP%]{top:25px}}']}),e})();function ad(e,t){1&e&&(Pe.ynx(0),Pe.TgZ(1,"span",6),Pe._uU(2,"Select configuration from the list to proceed"),Pe.qZA(),Pe.BQk())}function rd(e,t){1&e&&(Pe.ynx(0),Pe.TgZ(1,"span",7),Pe._uU(2,"Select an object to see its parameters"),Pe.qZA(),Pe.BQk())}function ld(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",4),Pe._UZ(2,"i",5),Pe.YNc(3,ad,3,0,"ng-container",1),Pe.YNc(4,rd,3,0,"ng-container",1),Pe.qZA(),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(3),Pe.Q6J("ngIf",!e.selectedPlan),Pe.xp6(1),Pe.Q6J("ngIf",e.selectedPlan)}}function cd(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",8),Pe._UZ(2,"i",9),Pe.TgZ(3,"span"),Pe._uU(4,"Selected delta plan is outdated and cannot be modified or activated."),Pe._UZ(5,"br"),Pe._uU(6),Pe.qZA(),Pe.qZA(),Pe._UZ(7,"change-to-planed-configuration-button",10),Pe.BQk()),2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.xp6(6),Pe.hij(" ",t.changeToPlanConfigurationMessage," "),Pe.xp6(1),Pe.Q6J("selectedPlan",e.selectedPlan)}}function dd(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",11),Pe.TgZ(2,"div",12),Pe.TgZ(3,"span",13),Pe._uU(4),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe._UZ(5,"hr",14),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(4),Pe.hij(" ",e.selectedManagedObject.distname," ")}}function ud(e,t){1&e&&Pe._UZ(0,"parameter-editor-table",15)}function pd(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",2),Pe.YNc(2,ld,5,2,"ng-container",1),Pe.YNc(3,cd,8,2,"ng-container",1),Pe.ALo(4,"isDeltaPlan"),Pe.YNc(5,dd,6,1,"ng-container",1),Pe.qZA(),Pe.YNc(6,ud,1,0,"parameter-editor-table",3),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(2),Pe.Q6J("ngIf",!e.selectedManagedObject),Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(4,4,e.selectedPlan)&&e.isDeltaPlanOutdated&&!e.isOutdatedDeltaPlanDialogOpened),Pe.xp6(2),Pe.Q6J("ngIf",e.selectedManagedObject),Pe.xp6(1),Pe.Q6J("ngIf",e.selectedManagedObject)}}const gd=function(e,t,n,i){return{selectedPlan:e,isDeltaPlanOutdated:t,selectedManagedObject:n,isOutdatedDeltaPlanDialogOpened:i}};let hd=(()=>{class e{constructor(e,t){this.store=e,this.roleAccessPeService=t,this.changeToPlanConfigurationMessage=""}ngOnInit(){this.selectedPlan$=this.store.select(me.ji),this.selectedManagedObject$=this.store.select(zi),this.isDeltaPlanOutdated$=this.store.select(me.gb),this.isOutdatedDeltaPlanDialogOpened$=this.store.select(wn.Ysf),this.changeToPlanConfigurationMessage=this.roleAccessPeService.getChangeToPlanedConfigurationMessageForCurrentRole()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Yt.El))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["parameter-editor"]],decls:6,vars:14,consts:[[1,"pe-container"],[4,"ngIf"],[1,"pe-title"],["class","parameter-editor-table",4,"ngIf"],[1,"no-object-info"],[1,"information-icon","mdi","mdi-information"],["id","no-selected-plan"],["id","no-selected-mo"],[1,"outdated-wrapper"],[1,"alert-icon","mdi","mdi-alert"],[3,"selectedPlan"],[1,"header"],[1,"header-content"],["id","object-distname",1,"label"],[1,"pe-separator"],[1,"parameter-editor-table"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.YNc(1,pd,7,6,"ng-container",1),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.ALo(5,"async"),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngIf",Pe.l5B(9,gd,Pe.lcZ(2,1,t.selectedPlan$),Pe.lcZ(3,3,t.isDeltaPlanOutdated$),Pe.lcZ(4,5,t.selectedManagedObject$),Pe.lcZ(5,7,t.isOutdatedDeltaPlanDialogOpened$))))},directives:[m.O5,Cs,sd],pipes:[m.Ov,Nl],styles:["[_nghost-%COMP%]{background-color:#edf2f5}.pe-title[_ngcontent-%COMP%]{font-size:14px;color:#98a2ae}.pe-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;margin-right:8px}.pe-separator[_ngcontent-%COMP%]{margin:0 0 10px;border-top:1px solid #98a2ae}.mdi[_ngcontent-%COMP%]:before{font-size:12px}.parameter-editor-table[_ngcontent-%COMP%]{flex-grow:1}.pe-container[_ngcontent-%COMP%]{height:100%;padding:10px 15px 15px;scrollbar-width:none;display:flex;flex-direction:column}.pe-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:0!important}.header[_ngcontent-%COMP%]{width:100%}.header-content[_ngcontent-%COMP%]{height:23px;align-items:center;display:flex;flex-direction:row}.label[_ngcontent-%COMP%]{height:1em;line-height:1em;flex-grow:1;font-size:16px;color:#4d5766}.no-object-info[_ngcontent-%COMP%]{display:flex;align-items:center;max-height:35px}.no-object-info[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#98a2ae}.no-object-info[_ngcontent-%COMP%]   .information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}.alert-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#da1914;position:relative;top:5px}.alert-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}.outdated-wrapper[_ngcontent-%COMP%]{display:flex;align-items:baseline}  .change-configuration-button .p-button{margin:20px 0 18px 33px;min-width:180px}.button[_ngcontent-%COMP%]{margin-left:8px;margin-bottom:8px}"],changeDetection:0}),e})();var md=n(10674);function fd(e,t){if(1&e&&Pe._UZ(0,"configuration-plans-tree-panel",7),2&e){const e=Pe.oxw(3);Pe.Q6J("objectSelector",e.objectSelector$)("shouldReselectObjectAfterRemoval",!0)}}function bd(e,t){1&e&&(Pe.TgZ(0,"div"),Pe._UZ(1,"parameter-editor",8),Pe.qZA())}function Cd(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-split-panel-toggle-button",9),Pe.NdJ("click",function(){return Pe.CHM(e),Pe.oxw(3).toggleTreePanel()}),Pe.ALo(1,"async"),Pe.qZA()}if(2&e){const e=Pe.oxw(3);Pe.Q6J("collapsed",Pe.lcZ(1,1,e.isTreePanelCollapsed$))}}const vd=function(){return{order:1,align:"center",position:"start"}};function yd(e,t){if(1&e&&(Pe.TgZ(0,"ui-webem-panel-split",3),Pe.YNc(1,fd,1,2,"ng-template",4),Pe.ALo(2,"async"),Pe.YNc(3,bd,2,0,"div",5),Pe.YNc(4,Cd,2,3,"ng-template",6),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("uiWebemSplitPanel",Pe.lcZ(2,3,e.treePanelConfiguration$)),Pe.xp6(2),Pe.Q6J("uiWebemSplitPanel",e.CONTENT_PANEL_CONFIGURATION),Pe.xp6(1),Pe.Q6J("uiWebemPanelToggle",Pe.DdM(5,vd))}}function Sd(e,t){1&e&&(Pe.TgZ(0,"div",11),Pe.TgZ(1,"div",12),Pe._UZ(2,"i",13),Pe._uU(3," Select configuration from the list to proceed "),Pe.qZA(),Pe.qZA())}function Pd(e,t){if(1&e&&(Pe.TgZ(0,"div",11),Pe.TgZ(1,"div",12),Pe._UZ(2,"i",13),Pe._uU(3),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw(2).ngIf;Pe.xp6(3),Pe.hij(' Your plan "',e.selectedPlan.planName,'" is ready to be activated ')}}function Od(e,t){if(1&e&&(Pe.YNc(0,Sd,4,0,"div",10),Pe.YNc(1,Pd,4,1,"div",10)),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("ngIf",!e.selectedPlan),Pe.xp6(1),Pe.Q6J("ngIf",e.selectedPlan)}}function xd(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,yd,5,6,"ui-webem-panel-split",1),Pe.ALo(2,"isInactivePlan"),Pe.YNc(3,Od,2,2,"ng-template",null,2,Pe.W1O),Pe.BQk()),2&e){const e=t.ngIf,n=Pe.MAs(4);Pe.xp6(1),Pe.Q6J("ngIf",!Pe.lcZ(2,2,e.selectedPlan))("ngIfElse",n)}}const wd=function(e){return{selectedPlan:e}};let Ad=(()=>{class e{constructor(e,t){this.store=e,this.cd=t,this.TREE_PANEL_COLLAPSED_CONFIGURATION={minSize:15,size:15,maxSize:15},this.TREE_PANEL_EXPANDED_CONFIGURATION={minSize:180,size:315,maxSize:315},this.CONTENT_PANEL_CONFIGURATION={size:"*"}}ngOnInit(){this.objectSelector$=this.store.select(re),this.selectedPlan$=this.store.select(me.ji),this.isTreePanelCollapsed$=this.store.pipe((0,g.Ys)(x)),this.treePanelConfiguration$=this.isTreePanelCollapsed$.pipe((0,A.U)(e=>e?this.TREE_PANEL_COLLAPSED_CONFIGURATION:this.TREE_PANEL_EXPANDED_CONFIGURATION)),this.store.dispatch(Ce())}toggleTreePanel(){this.store.dispatch(C())}ngAfterViewChecked(){this.cd.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["parameter-editor-layout"]],decls:2,vars:5,consts:[[4,"ngIf"],["class","pe-layout-split",4,"ngIf","ngIfElse"],["inactiveOrNoPlan",""],[1,"pe-layout-split"],[3,"uiWebemSplitPanel"],[4,"uiWebemSplitPanel"],[3,"uiWebemPanelToggle"],["configurationSharedObjectRemovedDialog","",1,"tree-panel",3,"objectSelector","shouldReselectObjectAfterRemoval"],[1,"parameter-editor"],["collapseIcon","mdi mdi-chevron-left","expandIcon","mdi mdi-file-tree",3,"collapsed","click"],["class","inactive-or-no-plan-notification",4,"ngIf"],[1,"inactive-or-no-plan-notification"],[1,"notification-container"],[1,"information-icon","mdi","mdi-information"]],template:function(e,t){1&e&&(Pe.YNc(0,xd,5,4,"ng-container",0),Pe.ALo(1,"async")),2&e&&Pe.Q6J("ngIf",Pe.VKq(3,wd,Pe.lcZ(1,1,t.selectedPlan$)))},directives:[m.O5,Oe.a,xe.f,we.D,qo,Ko,hd,md.t],pipes:[m.Ov,_o],styles:["[_nghost-%COMP%]{height:100%;position:relative;background-color:#edf2f5}.pe-layout-split[_ngcontent-%COMP%]{height:calc(100% - 45px);--gutter-margin-start:10px}.pe-layout-split[_ngcontent-%COMP%]     .as-split-area>*{height:100%}.pe-layout-split[_ngcontent-%COMP%]     .split-panel-toggle-container .mdi-file-tree{font-size:13px}.inactive-or-no-plan-notification[_ngcontent-%COMP%]{padding-left:15px;padding-top:10px;font-size:14px;color:#98a2ae}.inactive-or-no-plan-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:35px}.inactive-or-no-plan-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#98a2ae}.inactive-or-no-plan-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   .information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}.parameter-editor[_ngcontent-%COMP%]{height:100%}"]}),e})();const _d=(0,g.PH)("[USER] [ValidatePlan] Start validation plan",(0,g.Ky)()),Td=(0,g.PH)("[USER] [ValidatePlan] Execute validation plan",(0,g.Ky)()),Id=(0,g.PH)("[USER] [ValidatePlan] Validation plan success",(0,g.Ky)()),Ed=(0,g.PH)("[USER] [ValidatePlan] Validation plan failure",(0,g.Ky)()),Md=(0,g.PH)("[USER] [ValidatePlan] Validation plan error",(0,g.Ky)()),kd=(0,g.PH)("[ValidatePlan] Download Latest validation failed",(0,g.Ky)()),Nd=(0,g.PH)("[ValidatePlan] Download Topology Definition Errors"),Ld=(0,g.PH)("[ValidatePlan] Download Latest Topology Definition Errors"),Dd=(0,g.PH)("[ValidatePlan] Download Topology Relation Errors"),Zd=(0,g.PH)("[ValidatePlan] Download Latest Topology Relation Errors"),Rd=(0,g.PH)("[ValidatePlan] Download Parameter Relation Errors"),Ud=(0,g.PH)("[ValidatePlan] Download Latest Hardware Relation Errors"),Fd=(0,g.PH)("[ValidatePlan] Download Hardware Relation Errors"),jd=(0,g.PH)("[ValidatePlan] Download Latest Parameter Relation Errors"),$d=(0,g.PH)("[ValidatePlan] Download Parameter Definition Errors"),qd=(0,g.PH)("[ValidatePlan] Download Latest Parameter Definition Errors"),Bd=(0,g.PH)("[ValidatePlan] Download Occurrence Definition Errors"),Gd=(0,g.PH)("[ValidatePlan] Download Latest Occurrence Definition Errors"),Vd=(0,g.PH)("[USER] [ValidatePlan] Start downloading occurrence definition errors"),Yd=(0,g.PH)("[USER] [ValidatePlan] Start downloading parameter definition errors"),Jd=(0,g.PH)("[USER] [ValidatePlan] Start downloading parameter relation errors"),Hd=(0,g.PH)("[USER] [ValidatePlan] Start downloading hardware relation errors"),Wd=(0,g.PH)("[USER] [ValidatePlan] Start downloading topology definition errors"),Qd=(0,g.PH)("[USER] [ValidatePlan] Start downloading topology relation errors"),zd=(0,g.PH)("[USER] [ValidatePlan] Occurrence Definition Errors",(0,g.Ky)()),Kd=(0,g.PH)("[USER] [ValidatePlan] Save Parameter Definition Errors",(0,g.Ky)()),Xd=(0,g.PH)("[USER] [ValidatePlan] Save Parameter Relation Errors",(0,g.Ky)()),eu=(0,g.PH)("[USER] [ValidatePlan] Save Hardware Relation Errors",(0,g.Ky)()),tu=(0,g.PH)("[USER] [ValidatePlan] Save Topology Definition Errors",(0,g.Ky)()),nu=(0,g.PH)("[USER] [ValidatePlan] Save topology Relation Errors",(0,g.Ky)()),iu=(0,g.PH)("[USER] [ValidatePlan] Clear validation plan id",(0,g.Ky)()),ou=(0,g.PH)("[ValidatePlan] Remove improper validationID from store",(0,g.Ky)()),su=(0,g.PH)("[USER] [ValidatePlan] Change current page in TopologyRelationErrors",(0,g.Ky)()),au=(0,g.PH)("[USER] [ValidatePlan] Change current page in ParameterRelationErrors",(0,g.Ky)()),ru=(0,g.PH)("[USER] [ValidatePlan] Change current page in HardwareRelationErrors",(0,g.Ky)()),lu=(0,g.PH)("[USER] [ValidatePlan] Change current page in TopologyDefinitionErrors",(0,g.Ky)()),cu=(0,g.PH)("[USER] [ValidatePlan] Change current page in OccurrenceDefinitionErrors",(0,g.Ky)()),du=(0,g.PH)("[USER] [ValidatePlan] Change current page in ParameterDefinitionErrors",(0,g.Ky)()),uu=(0,g.PH)("[USER] [ValidatePlan] Change current sort object in TopologyRelationErrors",(0,g.Ky)()),pu=(0,g.PH)("[USER] [ValidatePlan] Change current sort object in ParameterRelationErrors",(0,g.Ky)()),gu=(0,g.PH)("[USER] [ValidatePlan] Change current sort object in HardwareRelationErrors",(0,g.Ky)()),hu=(0,g.PH)("[USER] [ValidatePlan] Change current sort object in TopologyDefinitionErrors",(0,g.Ky)()),mu=(0,g.PH)("[USER] [ValidatePlan] Change current sort object in OccurrenceDefinitionErrors",(0,g.Ky)()),fu=(0,g.PH)("[USER] [ValidatePlan] Change current sort object in ParameterDefinitionErrors",(0,g.Ky)()),bu=(0,g.PH)("[USER] [ValidatePlan] set items per page",(0,g.Ky)()),Cu=(0,g.PH)("[USER] [ValidatePlan] Download Parameter Relation Details"),vu=(0,g.PH)("[USER] [ValidatePlan] Download Hardware Relation Details"),yu=(0,g.PH)("[USER] [ValidatePlan] Set Parameter Relation Details Error Index",(0,g.Ky)()),Su=(0,g.PH)("[USER] [ValidatePlan] Set Hardware Relation Details Error Index",(0,g.Ky)()),Pu=(0,g.PH)("[USER] [ValidatePlan] Save Parameter Relation Details",(0,g.Ky)()),Ou=(0,g.PH)("[USER] [ValidatePlan] Save Hardware Relation Details",(0,g.Ky)()),xu=(0,g.PH)("[USER] [ValidatePlan] Save Parameter Relation Details Failure",(0,g.Ky)()),wu=(0,g.PH)("[USER] [ValidatePlan] Save Hardware Relation Details Failure",(0,g.Ky)()),Au=(0,g.PH)("[USER] [ValidatePlan] Clear Parameter Relation Details"),_u=(0,g.PH)("[USER] [ValidatePlan] Clear Hardware Relation Details"),Tu=(0,g.PH)("[USER] [ValidatePlan] Delete Latest validation errors");var Iu=n(94499),Eu=n(73110);const Mu="validatePlan";function ku(e,t){const n=e.validationPlansData.find(e=>Boolean(t.validationPlanData&&e.hasOwnProperty("validatedPlan")&&void 0!==e.validatedPlan&&e.validatedPlan.planId===t.validationPlanData.validatedPlan.planId)),i=e.validationPlansData.map(e=>e.validatedPlan&&t.validationPlanData&&e.validatedPlan.planId===t.validationPlanData.validatedPlan.planId?Object.assign(Object.assign({},e),t.validationPlanData):e);return!n&&t.validationPlanData&&i.push(t.validationPlanData),i}function Nu(e,t){return e.validationPlansData.map(e=>{if(e.validatedPlan&&e.validatedPlan.planId===t.additionalData.planId){let n,i=e.isOngoing;return"failure"===t.response.status?(i=!1,n=!0):n=!1,Object.assign(Object.assign({},e),{validationId:t.response.validationId,isOngoing:i,isFailure:n})}return e})}const Lu={validationPlansData:[],occurrenceDefinitionErrors:{pagination:{total:0,pageNumber:1,itemsPerPage:15},sort:{sortOrder:Eu.A.Ascending,sortBy:void 0},result:[]},parameterDefinitionErrors:{pagination:{total:0,pageNumber:1,itemsPerPage:15},sort:{sortOrder:Eu.A.Ascending,sortBy:void 0},result:[]},hardwareRelationErrors:{pagination:{total:0,pageNumber:1,itemsPerPage:15},sort:{sortOrder:Eu.A.Ascending,sortBy:void 0},result:[]},topologyDefinitionErrors:{pagination:{total:0,pageNumber:1,itemsPerPage:15},sort:{sortOrder:Eu.A.Ascending,sortBy:Iu.j.ClassName},result:[]},parameterRelationErrors:{pagination:{total:0,pageNumber:1,itemsPerPage:15},sort:{sortOrder:Eu.A.Ascending,sortBy:void 0},result:[]},topologyRelationErrors:{pagination:{total:0,pageNumber:1,itemsPerPage:100},sort:{sortOrder:Eu.A.Ascending,sortBy:void 0},result:[]},parameterRelationErrorDetail:[],hardwareRelationErrorDetail:[],parameterRelationDetailErrorIndex:void 0,hardwareRelationDetailErrorIndex:void 0,revision:void 0,timestamp:void 0},Du=(0,g.Lq)(Lu,(0,g.on)(_d,(e,t)=>Object.assign(Object.assign({},Lu),{validationPlansData:[...e.validationPlansData.filter(e=>e.validatedPlan&&e.validatedPlan.planId!==t.planBase.planId),{validatedPlan:t.planBase,isOngoing:!0,isFailure:!1}]})),(0,g.on)(iu,(e,t)=>Object.assign(Object.assign({},e),{validationPlansData:[...e.validationPlansData.filter(e=>e.validatedPlan&&e.validatedPlan.planId!==t.planId&&e.validatedPlan.from!==t.planOrigin)]})),(0,g.on)(Id,(e,t)=>Object.assign(Object.assign({},e),{validationPlansData:Nu(e,t)})),(0,g.on)(Ed,(e,t)=>Object.assign(Object.assign({},e),{validationPlansData:Nu(e,t)})),(0,g.on)(Md,e=>Object.assign(Object.assign({},e),{validationPlansData:e.validationPlansData.map(e=>Object.assign(Object.assign({},e),{isOngoing:!1}))})),(0,g.on)(ou,(e,t)=>Object.assign(Object.assign({},e),{validationPlansData:e.validationPlansData.map(e=>t.validationId===e.validationId?Object.assign(Object.assign({},e),{validationId:void 0,isOngoing:!1}):Object.assign({},e))})),(0,g.on)(zd,(e,t)=>Object.assign(Object.assign({},e),{validationPlansData:ku(e,t),revision:t.revision,timestamp:t.timestamp,occurrenceDefinitionErrors:Object.assign(Object.assign({},e.occurrenceDefinitionErrors),{result:t.occurrenceDefinitionErrors,pagination:Object.assign(Object.assign({},e.occurrenceDefinitionErrors.pagination),{total:t.total})})})),(0,g.on)(Kd,(e,t)=>Object.assign(Object.assign({},e),{validationPlansData:ku(e,t),revision:t.revision,timestamp:t.timestamp,parameterDefinitionErrors:Object.assign(Object.assign({},e.parameterDefinitionErrors),{result:t.parameterDefinitionErrors,pagination:Object.assign(Object.assign({},e.parameterDefinitionErrors.pagination),{total:t.total})})})),(0,g.on)(Xd,(e,t)=>Object.assign(Object.assign({},e),{validationPlansData:ku(e,t),revision:t.revision,timestamp:t.timestamp,parameterRelationErrors:Object.assign(Object.assign({},e.parameterRelationErrors),{pagination:Object.assign(Object.assign({},e.parameterRelationErrors.pagination),{total:t.total}),result:t.parameterRelationErrors})})),(0,g.on)(eu,(e,t)=>Object.assign(Object.assign({},e),{validationPlansData:ku(e,t),revision:t.revision,timestamp:t.timestamp,hardwareRelationErrors:Object.assign(Object.assign({},e.hardwareRelationErrors),{pagination:Object.assign(Object.assign({},e.hardwareRelationErrors.pagination),{total:t.total}),result:t.hardwareRelationErrors})})),(0,g.on)(Pu,(e,t)=>Object.assign(Object.assign({},e),{parameterRelationErrorDetail:t.parameterRelationErrorDetail})),(0,g.on)(Ou,(e,t)=>Object.assign(Object.assign({},e),{hardwareRelationErrorDetail:t.hardwareRelationErrorDetail})),(0,g.on)(tu,(e,t)=>Object.assign(Object.assign({},e),{revision:t.revision,timestamp:t.timestamp,validationPlansData:ku(e,t),topologyDefinitionErrors:Object.assign(Object.assign({},e.topologyDefinitionErrors),{result:t.topologyDefinitionErrors,pagination:Object.assign(Object.assign({},e.topologyDefinitionErrors.pagination),{total:t.total})})})),(0,g.on)(nu,(e,t)=>Object.assign(Object.assign({},e),{revision:t.revision,timestamp:t.timestamp,validationPlansData:ku(e,t),topologyRelationErrors:Object.assign(Object.assign({},e.topologyRelationErrors),{result:t.topologyRelationErrors,pagination:Object.assign(Object.assign({},e.topologyRelationErrors.pagination),{total:t.total})})})),(0,g.on)(fu,(e,t)=>Object.assign(Object.assign({},e),{parameterDefinitionErrors:Object.assign(Object.assign({},e.parameterDefinitionErrors),{sort:t.sort})})),(0,g.on)(mu,(e,t)=>Object.assign(Object.assign({},e),{occurrenceDefinitionErrors:Object.assign(Object.assign({},e.occurrenceDefinitionErrors),{sort:t.sort})})),(0,g.on)(hu,(e,t)=>Object.assign(Object.assign({},e),{topologyDefinitionErrors:Object.assign(Object.assign({},e.topologyDefinitionErrors),{sort:t.sort})})),(0,g.on)(pu,(e,t)=>Object.assign(Object.assign({},e),{parameterRelationErrors:Object.assign(Object.assign({},e.parameterRelationErrors),{sort:t.sort})})),(0,g.on)(gu,(e,t)=>Object.assign(Object.assign({},e),{hardwareRelationErrors:Object.assign(Object.assign({},e.hardwareRelationErrors),{sort:t.sort})})),(0,g.on)(uu,(e,t)=>Object.assign(Object.assign({},e),{topologyRelationErrors:Object.assign(Object.assign({},e.topologyRelationErrors),{sort:t.sort})})),(0,g.on)(lu,(e,t)=>Object.assign(Object.assign({},e),{topologyDefinitionErrors:Object.assign(Object.assign({},e.topologyDefinitionErrors),{pagination:Object.assign(Object.assign({},e.topologyDefinitionErrors.pagination),{pageNumber:t.pageNumber})})})),(0,g.on)(au,(e,t)=>Object.assign(Object.assign({},e),{parameterRelationErrors:Object.assign(Object.assign({},e.parameterRelationErrors),{pagination:Object.assign(Object.assign({},e.parameterRelationErrors.pagination),{pageNumber:t.pageNumber})})})),(0,g.on)(ru,(e,t)=>Object.assign(Object.assign({},e),{hardwareRelationErrors:Object.assign(Object.assign({},e.hardwareRelationErrors),{pagination:Object.assign(Object.assign({},e.hardwareRelationErrors.pagination),{pageNumber:t.pageNumber})})})),(0,g.on)(su,(e,t)=>Object.assign(Object.assign({},e),{topologyRelationErrors:Object.assign(Object.assign({},e.topologyRelationErrors),{pagination:Object.assign(Object.assign({},e.topologyRelationErrors.pagination),{pageNumber:t.pageNumber})})})),(0,g.on)(cu,(e,t)=>Object.assign(Object.assign({},e),{occurrenceDefinitionErrors:Object.assign(Object.assign({},e.occurrenceDefinitionErrors),{pagination:Object.assign(Object.assign({},e.occurrenceDefinitionErrors.pagination),{pageNumber:t.pageNumber})})})),(0,g.on)(du,(e,t)=>Object.assign(Object.assign({},e),{parameterDefinitionErrors:Object.assign(Object.assign({},e.parameterDefinitionErrors),{pagination:Object.assign(Object.assign({},e.parameterDefinitionErrors.pagination),{pageNumber:t.pageNumber})})})),(0,g.on)(bu,(e,t)=>Object.assign(Object.assign({},e),{parameterDefinitionErrors:Object.assign(Object.assign({},e.parameterDefinitionErrors),{pagination:Object.assign(Object.assign({},e.parameterDefinitionErrors.pagination),{itemsPerPage:t.payload-2})}),occurrenceDefinitionErrors:Object.assign(Object.assign({},e.occurrenceDefinitionErrors),{pagination:Object.assign(Object.assign({},e.occurrenceDefinitionErrors.pagination),{itemsPerPage:t.payload})}),topologyRelationErrors:Object.assign(Object.assign({},e.topologyRelationErrors),{pagination:Object.assign(Object.assign({},e.topologyRelationErrors.pagination),{itemsPerPage:100})}),parameterRelationErrors:Object.assign(Object.assign({},e.parameterRelationErrors),{pagination:Object.assign(Object.assign({},e.parameterRelationErrors.pagination),{itemsPerPage:t.payload-1})}),hardwareRelationErrors:Object.assign(Object.assign({},e.hardwareRelationErrors),{pagination:Object.assign(Object.assign({},e.hardwareRelationErrors.pagination),{itemsPerPage:t.payload-1})}),topologyDefinitionErrors:Object.assign(Object.assign({},e.topologyDefinitionErrors),{pagination:Object.assign(Object.assign({},e.topologyDefinitionErrors.pagination),{itemsPerPage:t.payload})})})),(0,g.on)(Au,e=>Object.assign(Object.assign({},e),{parameterRelationErrorDetail:[]})),(0,g.on)(_u,e=>Object.assign(Object.assign({},e),{hardwareRelationErrorDetail:[]})),(0,g.on)(yu,(e,t)=>Object.assign(Object.assign({},e),{parameterRelationDetailErrorIndex:t.errorIndex})),(0,g.on)(Su,(e,t)=>Object.assign(Object.assign({},e),{hardwareRelationDetailErrorIndex:t.errorIndex})));function Zu(e=Lu,t){return Du(e,t)}const Ru=(0,g.ZF)(Mu),Uu=(0,g.P1)(Ru,me.ji,(e,t)=>e.validationPlansData&&e.validationPlansData.find(e=>Boolean(e.validatedPlan&&t&&e.validatedPlan.planId===t.planId))),Fu=(0,g.P1)(Uu,e=>Boolean(e&&void 0!==e.isOngoing)),ju=((0,g.P1)(Uu,e=>e&&e.validationId),(0,g.P1)(Uu,e=>e&&e.isOngoing)),$u=(0,g.P1)(Uu,e=>!(!e||!e.isFailure)),qu=(0,g.P1)(Ru,e=>e.occurrenceDefinitionErrors),Bu=(0,g.P1)(Ru,e=>e.parameterDefinitionErrors),Gu=(0,g.P1)(Ru,e=>e.parameterRelationErrors),Vu=(0,g.P1)(Ru,e=>e.hardwareRelationErrors),Yu=(0,g.P1)(Ru,e=>e.parameterRelationErrorDetail),Ju=(0,g.P1)(Ru,e=>e.hardwareRelationErrorDetail),Hu=(0,g.P1)(Ru,e=>e.topologyDefinitionErrors),Wu=(0,g.P1)(Ru,e=>e.topologyRelationErrors),Qu=(0,g.P1)(Ru,e=>((0,_.isNil)((0,_.get)(e,"occurrenceDefinitionErrors.pagination.total"))?0:(0,_.get)(e,"occurrenceDefinitionErrors.pagination.total"))+((0,_.isNil)((0,_.get)(e,"parameterDefinitionErrors.pagination.total"))?0:(0,_.get)(e,"parameterDefinitionErrors.pagination.total"))+((0,_.isNil)((0,_.get)(e,"topologyDefinitionErrors.pagination.total"))?0:(0,_.get)(e,"topologyDefinitionErrors.pagination.total"))+((0,_.isNil)((0,_.get)(e,"parameterRelationErrors.pagination.total"))?0:(0,_.get)(e,"parameterRelationErrors.pagination.total"))+((0,_.isNil)((0,_.get)(e,"hardwareRelationErrors.pagination.total"))?0:(0,_.get)(e,"hardwareRelationErrors.pagination.total"))+((0,_.isNil)((0,_.get)(e,"topologyRelationErrors.pagination.total"))?0:(0,_.get)(e,"topologyRelationErrors.pagination.total"))>0),zu=(0,g.P1)(Ru,e=>((0,_.isNil)((0,_.get)(e,"occurrenceDefinitionErrors.pagination.total"))?0:(0,_.get)(e,"occurrenceDefinitionErrors.pagination.total"))+((0,_.isNil)((0,_.get)(e,"parameterDefinitionErrors.pagination.total"))?0:(0,_.get)(e,"parameterDefinitionErrors.pagination.total"))+((0,_.isNil)((0,_.get)(e,"topologyDefinitionErrors.pagination.total"))?0:(0,_.get)(e,"topologyDefinitionErrors.pagination.total"))),Ku=((0,g.P1)(Ru,e=>((0,_.isNil)((0,_.get)(e,"parameterRelationErrors.pagination.total"))?0:(0,_.get)(e,"parameterRelationErrors.pagination.total"))+((0,_.isNil)((0,_.get)(e,"hardwareRelationErrors.pagination.total"))?0:(0,_.get)(e,"hardwareRelationErrors.pagination.total"))+((0,_.isNil)((0,_.get)(e,"topologyRelationErrors.pagination.total"))?0:(0,_.get)(e,"topologyRelationErrors.pagination.total"))),(0,g.P1)(Uu,e=>e&&e.validatedPlan)),Xu=(0,g.P1)(Uu,e=>e&&e.validationId),ep=(0,g.P1)(Ku,e=>e?e.planId:""),tp=(0,g.P1)(qu,e=>e.pagination),np=(0,g.P1)(qu,e=>e.sort),ip=(0,g.P1)(qu,e=>e.result?e.result:[]),op=(0,g.P1)(ip,me.ji,Ku,(e,t,n)=>!(!t||!n||n.planId!==t.planId||!e.length)),sp=(0,g.P1)(Hu,e=>e.result?e.result:[]),ap=(0,g.P1)(sp,me.ji,Ku,(e,t,n)=>!(!t||!n||n.planId!==t.planId||!e.length)),rp=(0,g.P1)(Hu,e=>e.sort),lp=(0,g.P1)(Hu,e=>e.pagination),cp=(0,g.P1)(Bu,e=>e.result?e.result:[]),dp=(0,g.P1)(cp,me.ji,Ku,(e,t,n)=>!(!t||!n||n.planId!==t.planId||!e.length)),up=(0,g.P1)(Bu,e=>e.sort),pp=(0,g.P1)(Bu,e=>e.pagination),gp=(0,g.P1)(Gu,e=>e.result?e.result:[]),hp=(0,g.P1)(Vu,e=>e.result?e.result:[]),mp=(0,g.P1)(gp,me.ji,Ku,(e,t,n)=>!(!t||!n||n.planId!==t.planId||!e.length)),fp=(0,g.P1)(hp,me.ji,Ku,(e,t,n)=>!(!t||!n||n.planId!==t.planId||!e.length)),bp=(0,g.P1)(Gu,e=>e.sort),Cp=(0,g.P1)(Vu,e=>e.sort),vp=(0,g.P1)(Gu,e=>e.pagination),yp=(0,g.P1)(Vu,e=>e.pagination),Sp=(0,g.P1)(Wu,e=>e.result?e.result:[]),Pp=(0,g.P1)(Sp,me.ji,Ku,(e,t,n)=>!(!t||!n||n.planId!==t.planId||!e.length)),Op=(0,g.P1)(Wu,e=>e.sort),xp=(0,g.P1)(Wu,e=>e.pagination),wp=(0,g.P1)(Ru,e=>e.revision),Ap=(0,g.P1)(Ru,e=>e.timestamp),_p=(0,g.P1)(Ru,e=>e.parameterRelationDetailErrorIndex),Tp=(0,g.P1)(Ru,e=>e.hardwareRelationDetailErrorIndex);var Ip=n(16661),Ep=n(79196),Mp=n(92748);function kp(e,t){1&e&&(Pe.TgZ(0,"span",8),Pe._UZ(1,"i",9),Pe.qZA())}const Np=function(){return{exact:!1}};function Lp(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"li",4),Pe.TgZ(2,"a",5),Pe.TgZ(3,"span",6),Pe._uU(4),Pe.qZA(),Pe.YNc(5,kp,2,0,"span",7),Pe.qZA(),Pe.qZA(),Pe.BQk()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("routerLinkActive","ui-state-active active-menu-item")("routerLinkActiveOptions",Pe.DdM(6,Np)),Pe.xp6(1),Pe.Q6J("routerLink",e.routerLink),Pe.uIk("id",e.id),Pe.xp6(2),Pe.Oqu(e.label),Pe.xp6(1),Pe.Q6J("ngIf",e.badge)}}let Dp=(()=>{class e extends Mp.O{constructor(e,t,n){super(n),this.router=e,this.store=t,this.ngUnsubscribe=new Ae.xQ}ngOnInit(){this.setMenuItemsMap([Ip.r.parameterEditor,Ip.r.parameterSearch,Ip.r.errors,Ip.r.compareObjects]),this.menuItems=Object.values(this.menuItemsMap),(0,ft.aj)([this.store.select(Qu),this.store.select(ep),this.store.select(me.oI)]).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(([e,t,n])=>{t===n?this.updateBadges(e):this.updateBadges()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}updateBadges(e=!1){const t=this.menuItems.find(e=>e.routerLink===Ip.r.errors);t&&(t.badge=e?`${e}`:"")}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(f.F0),Pe.Y36(g.yh),Pe.Y36(Ep.f))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-navigation"]],features:[Pe.qOj],decls:4,vars:1,consts:[[1,"submenu"],[1,"p-menubar","p-component-content","ui-corner-all"],[1,"p-menubar-root-list"],[4,"ngFor","ngForOf"],[1,"p-menuitem","ui-corner-all",3,"routerLinkActive","routerLinkActiveOptions"],[1,"p-menuitem-link","ui-corner-all",3,"routerLink"],[1,"ui-menuitem-text"],["class"," ui-menuitem-text errors-badge",4,"ngIf"],[1,"ui-menuitem-text","errors-badge"],[1,"mdi","mdi-checkbox-blank-circle"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"ul",2),Pe.YNc(3,Lp,6,7,"ng-container",3),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(3),Pe.Q6J("ngForOf",t.menuItems))},directives:[m.sg,f.Od,f.yS,m.O5],styles:["[_nghost-%COMP%]{display:flex;flex-flow:row;height:35px;padding-left:15px}[_nghost-%COMP%]     .p-menubar{display:block}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list>.p-menuitem>.p-menuitem-link{padding-left:15px;padding-right:15px}[_nghost-%COMP%]     .submenu .p-menubar .p-menuitem-link{color:#1b1b1b}[_nghost-%COMP%]     .submenu .p-menubar .p-menuitem-link .p-menuitem-text{color:#1b1b1b}[_nghost-%COMP%]     .submenu .p-menubar .p-menuitem-link:hover{background-color:#ccf4ff;position:relative;z-index:9999}[_nghost-%COMP%]     .submenu .p-menubar{background-color:transparent;height:100%;border:none;border-radius:0;font-size:12px}[_nghost-%COMP%]     .submenu .p-menubar .ui-submenu-list .p-menuitem .p-menuitem-link{color:#1b1b1b}[_nghost-%COMP%]     .submenu .p-menubar .ui-submenu-list .p-menuitem .p-menuitem-link .p-menuitem-text, [_nghost-%COMP%]     .submenu .p-menubar .ui-submenu-list .p-menuitem .p-menuitem-link .ui-menuitem-icon{color:#1b1b1b}[_nghost-%COMP%]     .submenu .p-menubar .p-menuitem.ui-menuitem-active>.p-menuitem-link{background-color:transparent}[_nghost-%COMP%]     .submenu .p-menubar .p-menuitem.ui-menuitem-active>.p-menuitem-link .p-menuitem-text{color:#1b1b1b}[_nghost-%COMP%]     .submenu .p-menubar .p-menuitem.ui-menuitem-active>.p-menuitem-link .ui-menuitem-icon, [_nghost-%COMP%]     .submenu .p-menubar .p-menuitem.ui-menuitem-active>.p-menuitem-link .ui-submenu-icon{color:#1b1b1b}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list{height:100%}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list li{height:100%;vertical-align:middle;text-align:center}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list li.active-menu-item{font-weight:700;border-bottom:3px solid #124191}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list li.active-menu-item .p-menuitem-link{font-weight:700}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list li.active-menu-item .p-menuitem-text{position:relative;top:2px;color:#124191}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list li a{height:100%;display:flex;align-items:center}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list li a .ui-menuitem-icon{vertical-align:sub;height:100%;margin:auto}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list li .active-menu-item{font-weight:700;border-bottom:3px solid #124191}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list li .active-menu-item .p-menuitem-link{font-weight:700}[_nghost-%COMP%]     .submenu .p-menubar .p-menubar-root-list li .active-menu-item .p-menuitem-text{position:relative;top:2px;color:#124191}[_nghost-%COMP%]     .submenu .p1{font-weight:700;font-size:12px}[_nghost-%COMP%]     .submenu .p-menubar .ui-menubar-custom{height:100%;display:flex;align-items:center}",".errors-badge[_ngcontent-%COMP%]{color:#da1914!important;left:5px;position:relative}[_nghost-%COMP%]     .p-menuitem-link{vertical-align:middle}[_nghost-%COMP%]     .p-menubar ul{list-style:none;margin:0;padding:0}[_nghost-%COMP%]     .p-menubar-root-list{align-items:center;display:flex}[_nghost-%COMP%]     .p-menubar .p-menuitem-link{align-items:center;cursor:pointer;display:flex;overflow:hidden;position:relative;text-decoration:none}[_nghost-%COMP%]     .p-menubar .p-menuitem-link .ui-menuitem-text{position:relative;top:2px;line-height:1px;color:#124191}"]}),e})();const Zp="configurationDetailsData",Rp={managedObjectDetailsData:void 0,parameterDetailsData:void 0},Up=(0,g.Lq)(Rp,(0,g.on)(be,(e,t)=>({managedObjectDetailsData:{listData:t.listData,title:t.title,subTitle:t.subTitle},parameterDetailsData:void 0})),(0,g.on)(fe,(e,t)=>Object.assign(Object.assign({},e),{parameterDetailsData:{validationData:t.validationData,listData:t.listData,definitionData:t.definitionData,descriptionOfRelationship:t.descriptionOfRelationship,description:t.description,title:t.title,subTitle:t.subTitle}})),(0,g.on)(Ce,e=>Object.assign(Object.assign({},e),{parameterDetailsData:void 0})),(0,g.on)(ve,()=>Rp));function Fp(e,t){return Up(e,t)}const jp=(0,g.ZF)(Zp);var $p=n(33346),qp=n(83069);function Bp(e,t){if(1&e&&(Pe.TgZ(0,"span",5),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.hij("(",e.subTitle,")")}}function Gp(e,t){if(1&e&&(Pe.TgZ(0,"div",3),Pe._uU(1),Pe.YNc(2,Bp,2,1,"span",4),Pe.qZA()),2&e){const e=Pe.oxw();Pe.Q6J("id",e.id+"-title"),Pe.xp6(1),Pe.hij(" ",e.title," "),Pe.xp6(1),Pe.Q6J("ngIf",e.subTitle)}}function Vp(e,t){if(1&e&&Pe._UZ(0,"ui-webem-detail-data-row",8),2&e){const e=t.$implicit;Pe.Q6J("itemKey",e.key)("itemValue",e.value)}}function Yp(e,t){if(1&e&&(Pe.TgZ(0,"div",6),Pe.YNc(1,Vp,1,2,"ui-webem-detail-data-row",7),Pe.qZA()),2&e){const e=Pe.oxw();Pe.Q6J("id",e.id+"-list"),Pe.xp6(1),Pe.Q6J("ngForOf",e.listData)("ngForTrackBy",e.trackByFn)}}let Jp=(()=>{class e{constructor(){}trackByFn(e){return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-details-section-list"]],inputs:{title:"title",subTitle:"subTitle",id:"id",listData:"listData"},decls:3,vars:2,consts:[[1,"details-section"],["class","section-title",3,"id",4,"ngIf"],["class","section-list",3,"id",4,"ngIf"],[1,"section-title",3,"id"],["class","details-panel-subtitle",4,"ngIf"],[1,"details-panel-subtitle"],[1,"section-list",3,"id"],[3,"itemKey","itemValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"itemKey","itemValue"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.YNc(1,Gp,3,3,"div",1),Pe.YNc(2,Yp,2,3,"div",2),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngIf",t.title),Pe.xp6(1),Pe.Q6J("ngIf",t.listData))},directives:[m.O5,m.sg,qp.x],styles:[".details-section[_ngcontent-%COMP%]{font-size:11px}.details-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-items:center;margin-bottom:1px;font-size:13px}.details-section[_ngcontent-%COMP%]   .details-panel-subtitle[_ngcontent-%COMP%]{color:#1b1b1b;font-weight:400}.details-section[_ngcontent-%COMP%]   .section-list[_ngcontent-%COMP%]{border-top:1px solid #bec8d2}"]}),e})(),Hp=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-detail-validation-row"]],inputs:{validationType:"validationType",validationValue:"validationValue"},decls:7,vars:2,consts:[[1,"validation-row"],[1,"validation-type"],[1,"validation-icon"],[1,"mdi","mdi-alert",3,"ngClass"],[1,"validation-value"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"span",2),Pe._UZ(3,"i",3),Pe.qZA(),Pe.qZA(),Pe.TgZ(4,"div",4),Pe.TgZ(5,"span"),Pe._uU(6),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(3),Pe.Q6J("ngClass","error"===t.validationType?"error-icon":"warning-icon"),Pe.xp6(3),Pe.Oqu(t.validationValue))},directives:[m.mk],styles:[".validation-row[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #bec8d2;padding-top:5px;padding-bottom:5px;min-height:26px}.validation-row[_ngcontent-%COMP%]   .validation-type[_ngcontent-%COMP%]{flex:0 0 25px;height:16px}.validation-row[_ngcontent-%COMP%]   .validation-type[_ngcontent-%COMP%]   .validation-icon[_ngcontent-%COMP%]{font-size:18px;position:relative;bottom:5px}.validation-row[_ngcontent-%COMP%]   .validation-type[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{color:#be0006}.validation-row[_ngcontent-%COMP%]   .validation-type[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{color:#fc0}.validation-row[_ngcontent-%COMP%]   .validation-value[_ngcontent-%COMP%]{flex:0 0 calc(100% - 20px);display:flex;align-items:center}"]}),e})();function Wp(e,t){if(1&e&&(Pe.TgZ(0,"span",5),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.hij("(",e.subTitle,")")}}function Qp(e,t){if(1&e&&(Pe.TgZ(0,"div",3),Pe._uU(1),Pe.YNc(2,Wp,2,1,"span",4),Pe.qZA()),2&e){const e=Pe.oxw();Pe.Q6J("id",e.id+"-title"),Pe.xp6(1),Pe.hij(" ",e.title," "),Pe.xp6(1),Pe.Q6J("ngIf",e.subTitle)}}function zp(e,t){if(1&e&&Pe._UZ(0,"ui-webem-detail-validation-row",8),2&e){const e=t.$implicit;Pe.Q6J("validationType",e.type)("validationValue",e.value?e.value:"")}}function Kp(e,t){if(1&e&&(Pe.TgZ(0,"div",6),Pe.YNc(1,zp,1,2,"ui-webem-detail-validation-row",7),Pe.qZA()),2&e){const e=Pe.oxw();Pe.Q6J("id",e.id+"-validation"),Pe.xp6(1),Pe.Q6J("ngForOf",e.validations)("ngForTrackBy",e.trackByFn)}}let Xp=(()=>{class e{constructor(){}trackByFn(e){return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-details-section-validation"]],inputs:{title:"title",subTitle:"subTitle",id:"id",validations:"validations"},decls:3,vars:2,consts:[[1,"details-section"],["class","section-title",3,"id",4,"ngIf"],["class","section-validation",3,"id",4,"ngIf"],[1,"section-title",3,"id"],["class","details-panel-subtitle",4,"ngIf"],[1,"details-panel-subtitle"],[1,"section-validation",3,"id"],[3,"validationType","validationValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"validationType","validationValue"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.YNc(1,Qp,3,3,"div",1),Pe.YNc(2,Kp,2,3,"div",2),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngIf",t.title),Pe.xp6(1),Pe.Q6J("ngIf",t.validations))},directives:[m.O5,m.sg,Hp],styles:[".details-section[_ngcontent-%COMP%]{font-size:11px}.details-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-items:center;margin-bottom:1px;font-size:13px}.details-section[_ngcontent-%COMP%]   .details-panel-subtitle[_ngcontent-%COMP%]{color:#1b1b1b;font-weight:400}.details-section[_ngcontent-%COMP%]   .section-validation[_ngcontent-%COMP%]{border-top:1px solid #bec8d2}"]}),e})();var eg=n(11127),tg=n(49201);function ng(e,t){if(1&e&&(Pe.TgZ(0,"span",5),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.hij("(",e.subTitle,")")}}function ig(e,t){if(1&e&&(Pe.TgZ(0,"div",3),Pe._uU(1),Pe.YNc(2,ng,2,1,"span",4),Pe.qZA()),2&e){const e=Pe.oxw();Pe.Q6J("id",e.id+"-title"),Pe.xp6(1),Pe.hij(" ",e.title," "),Pe.xp6(1),Pe.Q6J("ngIf",e.subTitle)}}function og(e,t){if(1&e&&(Pe.TgZ(0,"div",8),Pe.ALo(1,"formatTitle"),Pe.ALo(2,"nullableValue"),Pe._uU(3),Pe.ALo(4,"nullableValue"),Pe.qZA()),2&e){const e=t.$implicit,n=Pe.oxw(2);Pe.Q6J("ngClass","array-of-texts-entry"+(n.withBorders?" with-borders":""))("title",Pe.lcZ(1,3,Pe.lcZ(2,5,e))),Pe.xp6(3),Pe.hij("",Pe.lcZ(4,7,e)," ")}}function sg(e,t){if(1&e&&(Pe.TgZ(0,"div",6),Pe.YNc(1,og,5,9,"div",7),Pe.qZA()),2&e){const e=Pe.oxw();Pe.Q6J("id",e.id+"-arrayOfTexts"),Pe.xp6(1),Pe.Q6J("ngForOf",e.text)}}let ag=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-details-section-text"]],inputs:{title:"title",subTitle:"subTitle",id:"id",text:"text",withBorders:"withBorders"},decls:3,vars:2,consts:[[1,"details-section"],["class","section-title",3,"id",4,"ngIf"],["class","section-array-of-texts",3,"id",4,"ngIf"],[1,"section-title",3,"id"],["class","details-panel-subtitle",4,"ngIf"],[1,"details-panel-subtitle"],[1,"section-array-of-texts",3,"id"],[3,"ngClass","title",4,"ngFor","ngForOf"],[3,"ngClass","title"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.YNc(1,ig,3,3,"div",1),Pe.YNc(2,sg,2,2,"div",2),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngIf",t.title),Pe.xp6(1),Pe.Q6J("ngIf",t.text))},directives:[m.O5,m.sg,m.mk],pipes:[eg.H,tg.c],styles:[".details-section[_ngcontent-%COMP%]{font-size:11px}.details-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-items:center;margin-bottom:1px;font-size:13px}.details-section[_ngcontent-%COMP%]   .details-panel-subtitle[_ngcontent-%COMP%]{color:#1b1b1b;font-weight:400}.details-section[_ngcontent-%COMP%]   .section-array-of-texts[_ngcontent-%COMP%]{border-bottom:1px solid #bec8d2;border-top:1px solid #bec8d2;line-height:13px}.details-section[_ngcontent-%COMP%]   .section-array-of-texts[_ngcontent-%COMP%]   .array-of-texts-entry[_ngcontent-%COMP%]{padding:5px 0}.details-section[_ngcontent-%COMP%]   .section-array-of-texts[_ngcontent-%COMP%]   .with-borders[_ngcontent-%COMP%]{border-bottom:1px solid #bec8d2}.details-section[_ngcontent-%COMP%]   .section-array-of-texts[_ngcontent-%COMP%]   .with-borders[_ngcontent-%COMP%]:last-of-type{border-bottom:0}.details-section[_ngcontent-%COMP%]   .section-array-of-texts[_ngcontent-%COMP%]   .array-of-texts-entry[_ngcontent-%COMP%]:first-of-type{padding-top:5px}"]}),e})();var rg=n(19230);let lg=(()=>{class e{transform(e){const t=e.filter(e=>e&&e.trim());return t.length>=1?t:["\u2013"]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"removeEmptyValueFromArrayPipe",type:e,pure:!0}),e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function cg(e,t){if(1&e&&Pe._UZ(0,"ui-webem-details-section-list",6),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("id","data")("title",e.dataForPanel.title?e.dataForPanel.title:"")("subTitle",e.dataForPanel.subTitle?e.dataForPanel.subTitle:"")("listData",e.dataForPanel.listData)}}const dg=function(){return[]};function ug(e,t){if(1&e&&Pe._UZ(0,"ui-webem-details-section-validation",7),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("id","validation")("title","Validation")("validations",e.dataForPanel.validationData?e.dataForPanel.validationData:Pe.DdM(3,dg))}}const pg=function(){return[""]};function gg(e,t){if(1&e&&(Pe._UZ(0,"ui-webem-details-section-text",8),Pe.ALo(1,"removeEmptyValueFromArrayPipe")),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("id","description")("title","Description")("text",e.dataForPanel.description?Pe.lcZ(1,3,e.dataForPanel.description):Pe.DdM(5,pg))}}function hg(e,t){if(1&e&&(Pe._UZ(0,"ui-webem-details-section-text",8),Pe.ALo(1,"removeEmptyValueFromArrayPipe")),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("id","descriptionOfRelationship")("title","Description of relationship")("text",Pe.lcZ(1,3,e.dataForPanel.descriptionOfRelationship))}}function mg(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,cg,1,4,"ui-webem-details-section-list",3),Pe.YNc(2,ug,1,4,"ui-webem-details-section-validation",4),Pe.YNc(3,gg,2,6,"ui-webem-details-section-text",5),Pe.YNc(4,hg,2,5,"ui-webem-details-section-text",5),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngIf",null==e.dataForPanel.listData?null:e.dataForPanel.listData.length),Pe.xp6(1),Pe.Q6J("ngIf",null==e.dataForPanel.validationData?null:e.dataForPanel.validationData.length),Pe.xp6(1),Pe.Q6J("ngIf",null==e.dataForPanel.description?null:e.dataForPanel.description.length),Pe.xp6(1),Pe.Q6J("ngIf",e.dataForPanel.descriptionOfRelationship&&(null==e.dataForPanel.descriptionOfRelationship?null:e.dataForPanel.descriptionOfRelationship.length))}}function fg(e,t){if(1&e&&(Pe.TgZ(0,"webem-details-panel"),Pe.YNc(1,mg,5,4,"ng-container",2),Pe.qZA()),2&e){const e=t.ngIf;Pe.oxw();const n=Pe.MAs(3);Pe.xp6(1),Pe.Q6J("ngIf",e.dataForPanel&&(null==e.dataForPanel.listData?null:e.dataForPanel.listData.length))("ngIfElse",n)}}function bg(e,t){1&e&&Pe._UZ(0,"ui-webem-no-selected-message",9)}const Cg=function(e){return{dataForPanel:e}};let vg=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new Ae.xQ}ngOnInit(){this.dataForPanel$=this.store.pipe((0,g.Ys)(jp),(0,A.U)(e=>e.parameterDetailsData?e.parameterDetailsData:e.managedObjectDetailsData))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-parameter-details"]],decls:4,vars:5,consts:[[4,"ngIf"],["noSelectedObjectOrParam",""],[4,"ngIf","ngIfElse"],[3,"id","title","subTitle","listData",4,"ngIf"],[3,"id","title","validations",4,"ngIf"],[3,"id","title","text",4,"ngIf"],[3,"id","title","subTitle","listData"],[3,"id","title","validations"],[3,"id","title","text"],["message","Select object or parameter","id","no-selected-mo-param"]],template:function(e,t){1&e&&(Pe.YNc(0,fg,2,2,"webem-details-panel",0),Pe.ALo(1,"async"),Pe.YNc(2,bg,1,0,"ng-template",null,1,Pe.W1O)),2&e&&Pe.Q6J("ngIf",Pe.VKq(3,Cg,Pe.lcZ(1,1,t.dataForPanel$)))},directives:[m.O5,$p.V,Jp,Xp,ag,rg.G],pipes:[m.Ov,lg],styles:[""]}),e})();const yg=(0,g.ZF)("receivePlan"),Sg=(0,g.P1)(yg,e=>e.isReceivePlanOngoing),Pg=(0,g.PH)("[ReceivePlan] Receive plan request",(0,g.Ky)()),Og=(0,g.PH)("[ReceivePlanFile] Receive plan file",(0,g.Ky)()),xg=(0,g.PH)("[Effect] Delete receive plan",(0,g.Ky)()),wg=(0,g.PH)("[Effect] Receive Plan error",(0,g.Ky)()),Ag=(0,g.PH)("[Effect] Receive plan fails",(0,g.Ky)()),_g=(0,g.ZF)("planSend"),Tg=(0,g.P1)(_g,e=>e.planLoadingStages),Ig=(0,g.P1)(_g,e=>e.isPlanLoadingInProgress),Eg=(0,g.P1)(_g,e=>e.error),Mg=(0,g.P1)(_g,e=>e.isPlanValidationRequired),kg=1295,Ng="mdi mdi-loading mdi-spin",Lg="mdi mdi-plus-circle",Dg="The selected plan has no changes";function Zg(e,t,n,i){return{icon:t,title:e>kg?"":n,label:e>kg?i:"",length:e>kg?wn.Wmq.Short:wn.Wmq.Long}}function Rg(e){if(e){const t=Math.floor(e/28)-4;return t>0?t:1}return 15}var Ug=(()=>(function(e){e.SelectPlan="[User] [SelectedPlan] Select plan",e.ClearSelectedPlan="[SelectedPlan] Clear plan"}(Ug||(Ug={})),Ug))();const Fg=(0,g.PH)(Ug.SelectPlan,(0,g.Ky)()),jg=(0,g.PH)(Ug.ClearSelectedPlan);var $g=n(8678),qg=n(64699),Bg=n(34306);const Gg=[ht.tX.ACTIVE,ht.tX.DELTA,ht.tX.INACTIVE,ht.tX.STAGE];function Vg(e){return function(e){const t=[];return Gg.forEach(n=>{e[n]&&t.push({label:Yg(n),value:n,items:e[n]})}),t}(e.reduce((e,t)=>(e[t.from]||(e[t.from]=[]),e[t.from].push({label:t.planName,value:t}),e),{}))}function Yg(e){return{[ht.tX.ACTIVE]:"Active configuration:",[ht.tX.INACTIVE]:"Inactive configuration:",[ht.tX.DELTA]:"Delta configuration:",[ht.tX.STAGE]:"Planned configurations:"}[e]||""}var Jg=(()=>(function(e){e.searchInputChanged="[User] [Global Search Filter] Search input query changed",e.nameFilterChanged="[Global Search Filter] Name search filter changed",e.searchSortingChanged="[User] [Global Search Filter] Global search sorting change",e.pageChange="[User] [Global Search Filter] Global search page number changed",e.itemsPerPageChanged="[User] [Global Search Filter] Global search items per page changed",e.sortOrderChanged="[User] [Global Search Filter] Global search order changed",e.manageSearchResults="[Global Search Filter] Global search filter results set",e.manageFinalSearchResultsAction="[User] [Global Search Filter] Global search filter results set with definition",e.addSearchParameterTimestamp="[User] [Global Search Filter] Add global search filter request timestamp",e.startSearchingInPlan="[User] [Global Search Filter] Parameter Search sending search request",e.clearSearchResults="[Global Search Filter] Parameter Search clear results",e.searchParameterError="[Global Search Filter] Parameter Search error",e.setIsSearchOnGoing="[Global Search Filter] Set isSearchOnGoing"}(Jg||(Jg={})),Jg))();const Hg=(0,g.PH)(Jg.searchInputChanged,(0,g.Ky)()),Wg=(0,g.PH)(Jg.nameFilterChanged,(0,g.Ky)()),Qg=(0,g.PH)(Jg.searchSortingChanged,(0,g.Ky)()),zg=(0,g.PH)(Jg.clearSearchResults),Kg=(0,g.PH)(Jg.startSearchingInPlan),Xg=(0,g.PH)(Jg.searchParameterError,(0,g.Ky)()),eh=(0,g.PH)(Jg.pageChange,(0,g.Ky)()),th=(0,g.PH)(Jg.itemsPerPageChanged,(0,g.Ky)()),nh=(0,g.PH)(Jg.sortOrderChanged,(0,g.Ky)()),ih=(0,g.PH)(Jg.manageSearchResults,(0,g.Ky)()),oh=(0,g.PH)(Jg.manageFinalSearchResultsAction,(0,g.Ky)()),sh=(0,g.PH)(Jg.addSearchParameterTimestamp,(0,g.Ky)()),ah=(0,g.PH)(Jg.setIsSearchOnGoing,(0,g.Ky)());var rh=n(2488),lh=n(43007),ch=n(22730);let dh=(()=>{class e{constructor(e){this.roleAccessService=e}transform(e){return e.filter(e=>{const t=this.getRoleAccessFlag(e.value);return!this.roleAccessService.isForbiddenForCurrentRole(t)})}getRoleAccessFlag(e){return{[lh.t.ACTIVE]:ch.M.ACTIVE_CONFIGURATIONS,[lh.t.DELTA]:ch.M.DELTA_CONFIGURATIONS,[lh.t.STAGE]:ch.M.PLANNED_CONFIGURATIONS,[lh.t.INACTIVE]:ch.M.INACTIVE_CONFIGURATIONS}[e]||""}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(eo.Q,16))},e.\u0275pipe=Pe.Yjl({name:"getAccessiblePlan",type:e,pure:!0}),e})();function uh(e,t){if(1&e&&(Pe.TgZ(0,"span",7),Pe._uU(1),Pe._UZ(2,"i",8),Pe.qZA()),2&e){const e=Pe.oxw().$implicit,t=Pe.oxw(2);Pe.Q6J("title",t.outdatedPlanTooltipTitle),Pe.xp6(1),Pe.hij(" ",e.label," ")}}function ph(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw().$implicit;Pe.xp6(1),Pe.hij(" ",e.label,"")}}function gh(e,t){if(1&e&&(Pe.YNc(0,uh,3,2,"span",5),Pe.YNc(1,ph,2,1,"span",6)),2&e){const e=t.$implicit,n=Pe.oxw(2);Pe.Q6J("ngIf",e.value.deltaState===n.outdatedDeltaPlanState.Conflict),Pe.xp6(1),Pe.Q6J("ngIf",e.value.deltaState===n.outdatedDeltaPlanState.NoConflict||!e.value.deltaState)}}function hh(e,t){if(1&e&&(Pe.TgZ(0,"span",9),Pe._UZ(1,"i",10),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("title",e.outdatedPlanTooltipTitle)}}const mh=function(e){return{"dropdown-container-with-errors":e}};function fh(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",1),Pe.TgZ(1,"span"),Pe.TgZ(2,"p-dropdown",2),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().selectPlan(t)}),Pe.ALo(3,"getAccessiblePlan"),Pe.YNc(4,gh,2,2,"ng-template",3),Pe.qZA(),Pe.qZA(),Pe.YNc(5,hh,2,1,"span",4),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(2),Pe.Q6J("disabled",!(null!=e.planDropdownOptions&&e.planDropdownOptions.length))("ngModel",e.selectedPlan)("options",Pe.lcZ(3,7,e.planDropdownOptions))("placeholder",n.placeholder)("group",!0)("ngClass",Pe.VKq(9,mh,e.isDeltaPlanOutdated)),Pe.xp6(3),Pe.Q6J("ngIf",e.isDeltaPlanOutdated)}}const bh=function(e,t,n){return{isDeltaPlanOutdated:e,selectedPlan:t,planDropdownOptions:n}};let Ch=(()=>{class e{constructor(e){this.store=e,this.placeholder="<Choose Plan>",this.ngUnsubscribe=new Ae.xQ,this.outdatedPlanTooltipTitle="The current configuration has been changed.\nYour delta plan is no longer valid",this.outdatedDeltaPlanState=rc.Y}ngOnInit(){this.store.dispatch((0,rh.ke)()),this.planDropdownOptions$=this.store.pipe((0,g.Ys)(Vi.xo),(0,A.U)(e=>Vg(e))),this.selectedPlan$=this.store.pipe((0,g.Ys)(me.ji),(0,vs.h)(e=>!!e)),this.isDeltaPlanOutdated$=(0,ft.aj)([this.store.select(me.ji),this.store.select(Vi.Xi)]).pipe((0,A.U)(([e,t])=>!(!e||!t||!t.find(t=>t.planId===e.planId))))}mapToEnumValue(e){return"conflict"===e?rc.Y.Conflict:rc.Y.NoConflict}selectPlan(e){(0,sc.j)(e)?this.store.dispatch(Fg({planId:e.planId,planOrigin:e.from,deltaState:this.mapToEnumValue(e.deltaState)})):this.store.dispatch(Fg({planId:e.planId,planOrigin:e.from})),this.store.dispatch(zg())}ngOnDestroy(){this.store.dispatch((0,rh.i9)()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-plans-dropdown"]],decls:4,vars:11,consts:[["class","dropdown-container",4,"ngIf"],[1,"dropdown-container"],["id","configuration-plans-dropdown","appendTo","body","scrollHeight","350px",1,"plans-dropdown",3,"disabled","ngModel","options","placeholder","group","ngClass","ngModelChange"],["pTemplate","item"],["class","form-control-validation-icon-wrapper",4,"ngIf"],["class","outdated-plan-label",3,"title",4,"ngIf"],[4,"ngIf"],[1,"outdated-plan-label",3,"title"],[1,"mdi","mdi-alert","error-icon"],[1,"form-control-validation-icon-wrapper"],[1,"mdi","mdi-alert","error-icon",3,"title"]],template:function(e,t){1&e&&(Pe.YNc(0,fh,6,11,"div",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async")),2&e&&Pe.Q6J("ngIf",Pe.kEZ(7,bh,Pe.lcZ(1,1,t.isDeltaPlanOutdated$),Pe.lcZ(2,3,t.selectedPlan$),Pe.lcZ(3,5,t.planDropdownOptions$)))},directives:[m.O5,xi.Lt,xn.JJ,xn.On,m.mk,Ri.jx],pipes:[m.Ov,dh],styles:[".dropdown-container[_ngcontent-%COMP%]{width:285px;position:relative}  .dropdown-container-with-errors .ui-dropdown{border:1px solid #da1914;background-color:#ffe1e2}  .dropdown-container-with-errors .ui-dropdown .ui-dropdown-trigger{border-left:1px solid #da1914;background-color:#ffe1e2}  .dropdown-container-with-errors .ui-dropdown .ui-dropdown-trigger.ui-state-default.ui-corner-right{border-left:1px solid #da1914}  .dropdown-container-with-errors .ui-dropdown .ui-dropdown-item.ui-corner-all.p-highlight{border-color:#da1914}  .dropdown-container-with-errors .ui-dropdown .ui-dropdown-label{background-color:#ffe1e2}  .dropdown-container-with-errors .ui-dropdown:not(.p-disabled):focus-within{border:1px solid #da1914}.form-control-validation-icon-wrapper[_ngcontent-%COMP%]{font-size:14px;position:absolute;top:0;right:30px;height:100%;display:flex;justify-content:center;align-items:center}.error-icon[_ngcontent-%COMP%]{color:#be0006;margin-left:5px;font-size:12px}.outdated-plan-label[_ngcontent-%COMP%]{color:#da1914}"]}),e})();var vh=n(15469),yh=n(66057),Sh=n(25498);function Ph(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",8),Pe.TgZ(1,"p-radioButton",9),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().savingMode=t}),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.$implicit,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("name","scope")("label",e.value.name)("value",e.value.value)("id",e.value.name)("disabled",e.value.disabledCondition(n.planOrigin))("ngModel",n.savingMode)}}let Oh=(()=>{class e{constructor(){this.saveMethod=new Pe.vpe,this.buttonOptions={forceWidth:"70px"},this.okButton={label:"OK",theme:wn.bnJ.Accent},this.cancelButton={label:"Cancel"},this.savingModes={configurationOnly:{name:vh.y.ConfigurationOnly,value:vh.y.ConfigurationOnly,disabledCondition:e=>!!e&&e!==ht.tX.STAGE&&e!==ht.tX.ACTIVE},fullRuntimeConfiguration:{name:vh.y.FullRuntimeConfiguration,value:vh.y.FullRuntimeConfiguration,disabledCondition:e=>!!e&&e!==ht.tX.ACTIVE},deltaConfigurationOnly:{name:vh.y.DeltaConfigurationOnly,value:vh.y.DeltaConfigurationOnly,disabledCondition:e=>!!e&&e!==ht.tX.DELTA}},this.savingMode=vh.y.DeltaConfigurationOnly,this.trackByIndex=e=>e}save(e){this.saveMethod.emit(e),this.overlayPanelComponent.hide()}ngOnChanges(){this.planOrigin&&!this.overlayPanelComponent.isOverlayVisible()&&this.setSavingMode()}visibilityChange(e){e&&this.setSavingMode()}setSavingMode(){this.savingMode=this.planOrigin===ht.tX.DELTA?vh.y.DeltaConfigurationOnly:vh.y.ConfigurationOnly}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-save-plan-overlay-panel"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(wn.oh7,7),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.overlayPanelComponent=e.first)}},inputs:{planOrigin:"planOrigin",model:"model",disabled:"disabled",id:"id"},outputs:{saveMethod:"saveMethod"},features:[Pe.TTD],decls:12,vars:11,consts:[["appendTo","body",3,"model","disabled","id","visibilityChange"],[1,"p-dialog"],[1,"p-dialog-content"],["class","save-plan-content",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-dialog-footer"],[1,"save-plan-footer"],["id","save-plan-ok-button",1,"footer-button",3,"model","options","action"],["id","save-plan-cancel-button",1,"footer-button",3,"model","options","action"],[1,"save-plan-content"],["labelStyleClass","save-radio-label",3,"name","label","value","id","disabled","ngModel","ngModelChange"]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-overlay-menu-bar",0),Pe.NdJ("visibilityChange",function(e){return t.visibilityChange(e)}),Pe.TgZ(1,"div",1),Pe.TgZ(2,"div",2),Pe.TgZ(3,"label"),Pe._uU(4,"Operation scope:"),Pe.qZA(),Pe.YNc(5,Ph,2,6,"div",3),Pe.ALo(6,"keyvalue"),Pe.qZA(),Pe.TgZ(7,"div",4),Pe.TgZ(8,"div",5),Pe.TgZ(9,"p-footer"),Pe.TgZ(10,"ui-webem-button",6),Pe.NdJ("action",function(){return t.save(t.savingMode)}),Pe.qZA(),Pe.TgZ(11,"ui-webem-button",7),Pe.NdJ("action",function(){return t.overlayPanelComponent.hide()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.Q6J("model",t.model)("disabled",t.disabled)("id",t.id),Pe.xp6(5),Pe.Q6J("ngForOf",Pe.lcZ(6,9,t.savingModes))("ngForTrackBy",t.trackByIndex),Pe.xp6(5),Pe.Q6J("model",t.okButton)("options",t.buttonOptions),Pe.xp6(1),Pe.Q6J("model",t.cancelButton)("options",t.buttonOptions))},directives:[yh.o,m.sg,Ri.$_,Ui.r,Sh.EU,xn.JJ,xn.On],pipes:[m.Nd],styles:["[_nghost-%COMP%]     .p-overlaypanel .p-overlaypanel-content{width:300px}.save-plan-content[_ngcontent-%COMP%]{line-height:23px}  .p-dialog-footer .save-plan-footer .p-button{width:75px}.footer-button[_ngcontent-%COMP%]{padding-right:8px}"]}),e})();var xh=(()=>(function(e){e.ActivatePlan="[User] Activate plan",e.ExecuteActivate="[User] Executing operation",e.ActivatePlanError="[User] Activation plan error",e.ActivationPlanOngoing="[Effect] Activation plan ongoing",e.ActivatePlanFails="[Effect] Activation plan fails",e.ActivatePlanSuccess="[Effect] Activation plan succeeded",e.setActivatePlanFeedback="[Effect] Plan activation feedback",e.ActivateInterruptedPlan="[Effect] Activate interrupted plan",e.ActivationSteps="[Effect] Plan activation steps",e.ActivationStepIndex="[Effect] Plan activation step indexs",e.FinalizePlanActivation="[Effect] Finalize plan activation",e.SwitchToCurrentPlanAfterPlanActivation="[Effect] Switch To Current Plan After Plan Activation"}(xh||(xh={})),xh))();const wh=(0,g.PH)(xh.ActivatePlan,(0,g.Ky)()),Ah=(0,g.PH)(xh.ExecuteActivate,(0,g.Ky)()),_h=(0,g.PH)(xh.ActivatePlanSuccess,(0,g.Ky)()),Th=(0,g.PH)(xh.ActivatePlanError,(0,g.Ky)()),Ih=(0,g.PH)(xh.ActivationPlanOngoing,(0,g.Ky)()),Eh=(0,g.PH)(xh.ActivatePlanFails,(0,g.Ky)()),Mh=(0,g.PH)(xh.setActivatePlanFeedback,(0,g.Ky)()),kh=(0,g.PH)(xh.ActivateInterruptedPlan),Nh=(0,g.PH)(xh.ActivationSteps,(0,g.Ky)()),Lh=(0,g.PH)(xh.ActivationStepIndex,(0,g.Ky)()),Dh=(0,g.PH)(xh.FinalizePlanActivation),Zh=(0,g.PH)(xh.SwitchToCurrentPlanAfterPlanActivation);var Rh=n(43281),Uh=n(99451),Fh=n(10706);let jh=(()=>{class e{transform(e){return e.operationStatus===ht.ES.Failed}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isActivationFailed",type:e,pure:!0}),e})(),$h=(()=>{class e{transform(e,t){return e.operationStatus===ht.ES.Interrupted}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isActivationInterrupted",type:e,pure:!0}),e})(),qh=(()=>{class e{transform(e,t){return e.operationStatus===ht.ES.Success}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isActivationSucceeded",type:e,pure:!0}),e})(),Bh=(()=>{class e{transform(e,t){return e.operationStatus===ht.ES.Ongoing}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isActivationOngoing",type:e,pure:!0}),e})();function Gh(e,t){1&e&&Pe._UZ(0,"span",10)}function Vh(e,t){1&e&&Pe._UZ(0,"span",11)}function Yh(e,t){1&e&&Pe._UZ(0,"span",12)}function Jh(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",5),Pe.YNc(2,Gh,1,0,"span",6),Pe.ALo(3,"isActivationInterrupted"),Pe.YNc(4,Vh,1,0,"span",7),Pe.ALo(5,"isActivationSucceeded"),Pe.YNc(6,Yh,1,0,"span",8),Pe.ALo(7,"isActivationFailed"),Pe.TgZ(8,"span",9),Pe._uU(9),Pe.qZA(),Pe.qZA(),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(3,4,e)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(5,6,e)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(7,8,e)),Pe.xp6(3),Pe.Oqu(e.feedback)}}function Hh(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",16),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(3).execute()}),Pe.ALo(1,"isActivationInterrupted"),Pe.qZA()}if(2&e){const e=Pe.oxw(2).ngIf,t=Pe.oxw();Pe.Q6J("model",t.continueButton)("disabled",!Pe.lcZ(1,2,e))}}function Wh(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",17),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(3).closeDialog()}),Pe.ALo(1,"isActivationOngoing"),Pe.qZA()}if(2&e){const e=Pe.oxw(2).ngIf,t=Pe.oxw();Pe.Q6J("model",t.closeButton)("disabled",Pe.lcZ(1,2,e))}}function Qh(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",18),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(3).closeDialog()}),Pe.ALo(1,"isActivationInterrupted"),Pe.qZA()}if(2&e){const e=Pe.oxw(2).ngIf,t=Pe.oxw();Pe.Q6J("model",t.cancelButton)("disabled",!Pe.lcZ(1,2,e))}}function zh(e,t){if(1&e&&(Pe.TgZ(0,"p-footer"),Pe.YNc(1,Hh,2,4,"ui-webem-button",13),Pe.ALo(2,"async"),Pe.YNc(3,Wh,2,4,"ui-webem-button",14),Pe.ALo(4,"isInactivePlan"),Pe.ALo(5,"async"),Pe.ALo(6,"isActivationFailed"),Pe.ALo(7,"isActivationSucceeded"),Pe.YNc(8,Qh,2,4,"ui-webem-button",15),Pe.ALo(9,"isInactivePlan"),Pe.ALo(10,"async"),Pe.ALo(11,"isActivationFailed"),Pe.ALo(12,"isActivationSucceeded"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,3,t.selectedPlan$)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(4,5,Pe.lcZ(5,7,t.selectedPlan$))&&(Pe.lcZ(6,9,e)||!e.downloadOnly&&!Pe.lcZ(7,11,e))),Pe.xp6(5),Pe.Q6J("ngIf",!Pe.lcZ(9,13,Pe.lcZ(10,15,t.selectedPlan$))&&(Pe.lcZ(11,17,e)||!e.downloadOnly&&!Pe.lcZ(12,19,e)))}}function Kh(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",21),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(3).closeDialog()}),Pe.ALo(1,"isActivationOngoing"),Pe.qZA()}if(2&e){const e=Pe.oxw(2).ngIf,t=Pe.oxw();Pe.Q6J("model",t.closeButton)("disabled",Pe.lcZ(1,2,e))}}function Xh(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",22),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(3).onDoneButtonClick()}),Pe.ALo(1,"isActivationOngoing"),Pe.qZA()}if(2&e){const e=Pe.oxw(2).ngIf,t=Pe.oxw();Pe.Q6J("model",t.doneButton)("disabled",Pe.lcZ(1,2,e))}}function em(e,t){if(1&e&&(Pe.TgZ(0,"p-footer"),Pe.YNc(1,Kh,2,4,"ui-webem-button",19),Pe.ALo(2,"isActivationFailed"),Pe.ALo(3,"isActivationSucceeded"),Pe.YNc(4,Xh,2,4,"ui-webem-button",20),Pe.ALo(5,"isActivationSucceeded"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,2,e)||e.downloadOnly&&!Pe.lcZ(3,4,e)),Pe.xp6(3),Pe.Q6J("ngIf",Pe.lcZ(5,6,e))}}const tm=function(){return{label:""}},nm=function(e){return[e]};function im(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",1),Pe._UZ(2,"ui-webem-stepper",2),Pe.ALo(3,"isActivationFailed"),Pe.ALo(4,"isActivationFailed"),Pe.ALo(5,"isActivationInterrupted"),Pe._uU(6," Feedback: "),Pe.TgZ(7,"div",3),Pe.YNc(8,Jh,10,10,"ng-container",0),Pe.qZA(),Pe.qZA(),Pe.TgZ(9,"div",4),Pe.YNc(10,zh,13,21,"p-footer",0),Pe.ALo(11,"isActivationSucceeded"),Pe.ALo(12,"isActivationFailed"),Pe.YNc(13,em,6,8,"p-footer",0),Pe.ALo(14,"isActivationSucceeded"),Pe.ALo(15,"isActivationFailed"),Pe.qZA(),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(2),Pe.Q6J("steps",e.activationSteps?e.activationSteps:Pe.VKq(22,nm,Pe.DdM(21,tm)))("activeIndex",Pe.lcZ(3,7,e)&&e.activationSteps.length===e.activeIndex?e.activeIndex-1:e.activeIndex)("areStepsFailed",Pe.lcZ(4,9,e))("freeze",Pe.lcZ(5,11,e)),Pe.xp6(6),Pe.Q6J("ngIf",e.feedback),Pe.xp6(2),Pe.Q6J("ngIf",!e.downloadOnly&&!Pe.lcZ(11,13,e)&&!Pe.lcZ(12,15,e)),Pe.xp6(3),Pe.Q6J("ngIf",e.downloadOnly||Pe.lcZ(14,17,e)||Pe.lcZ(15,19,e))}}let om=(()=>{class e extends Rh.M{constructor(e,t){super(e,t,!0),this.store=e,this.ref=t,this.items=[],this.continueButton={label:"Continue",iconPosition:"right",theme:wn.bnJ.Accent},this.cancelButton={label:"Cancel",iconPosition:"right",theme:wn.bnJ.Default},this.closeButton={label:"Close",iconPosition:"right",theme:wn.bnJ.Accent},this.doneButton={label:"Done",iconPosition:"right",theme:wn.bnJ.Accent},this.activationState$=this.store.select(Go),this.selectedPlan$=this.store.select(me.ji)}execute(){this.store.dispatch(kh())}onDoneButtonClick(){this.store.dispatch(Zh()),this.closeDialog()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Uh.E7))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-activate-plan-dialog"]],features:[Pe.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"p-dialog-content"],[3,"steps","activeIndex","areStepsFailed","freeze"],["id","activation-feedback",1,"feedback"],[1,"p-dialog-footer"],[1,"feedback-message"],["id","activation-interrupted","class","icon mdi mdi-alert-circle",4,"ngIf"],["id","activation-succeeded","class","icon mdi mdi-check-circle",4,"ngIf"],["id","activation-failed","class","icon mdi mdi-alert",4,"ngIf"],[1,"feedback-text"],["id","activation-interrupted",1,"icon","mdi","mdi-alert-circle"],["id","activation-succeeded",1,"icon","mdi","mdi-check-circle"],["id","activation-failed",1,"icon","mdi","mdi-alert"],["id","activate-modal-continue",3,"model","disabled","action",4,"ngIf"],["id","activate-modal-close",3,"model","disabled","action",4,"ngIf"],["id","activate-modal-cancel",3,"model","disabled","action",4,"ngIf"],["id","activate-modal-continue",3,"model","disabled","action"],["id","activate-modal-close",3,"model","disabled","action"],["id","activate-modal-cancel",3,"model","disabled","action"],["id","activate-modal-close-button",3,"model","disabled","action",4,"ngIf"],["id","activate-modal-done",3,"model","disabled","action",4,"ngIf"],["id","activate-modal-close-button",3,"model","disabled","action"],["id","activate-modal-done",3,"model","disabled","action"]],template:function(e,t){1&e&&(Pe.YNc(0,im,16,24,"ng-container",0),Pe.ALo(1,"async")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.activationState$))},directives:[m.O5,Fh.v,Ri.$_,Ui.r],pipes:[m.Ov,jh,$h,qh,_o,Bh],styles:[".p-dialog-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{border:1px solid #98a2ae;padding:3px 8px;width:100%;height:150px;overflow-x:auto;overflow-y:auto;font-size:11px;border-radius:3px;white-space:pre-wrap;margin-top:5px}.p-dialog-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .mdi-alert[_ngcontent-%COMP%], .p-dialog-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .mdi-alert-circle[_ngcontent-%COMP%], .p-dialog-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .mdi-check-circle[_ngcontent-%COMP%]{font-size:18px;vertical-align:middle;padding-right:3px}.p-dialog-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .mdi-alert-circle[_ngcontent-%COMP%]{color:#fc0}.p-dialog-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .mdi-alert[_ngcontent-%COMP%]{color:#be0006}.p-dialog-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .mdi-check-circle[_ngcontent-%COMP%]{color:#3daa00}.p-dialog-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .feedback-message[_ngcontent-%COMP%]{vertical-align:middle;align-items:center;display:flex}.p-dialog-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]:before{vertical-align:text-bottom}.p-dialog-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{margin-top:5px;font-weight:700}#activate-modal-continue[_ngcontent-%COMP%]     .ui-button-text{padding-left:12.75px;padding-right:12.75px}.feedback-text[_ngcontent-%COMP%]{height:16px;margin-top:1px;margin-left:3px}.icon[_ngcontent-%COMP%]{display:flex;align-self:flex-start}  .p-dialog-content configuration-shared-activate-plan-dialog .p-dialog-content{height:unset;padding-bottom:30px!important}"]}),e})();var sm=(()=>(function(e){e.ACTIVATION_SUCCEDED="Plan activation has finished successfully",e.ACTIVATION_WITH_RESET=" reset will be performed after plan activation",e.CELLS_LOCK="The following will be locked\nCells:",e.USER_RESTRICTED="Plan activation failed due to unauthorized parameters are changed. Please contact system administrator to activate this plan or delete current delta plan and try to create a new one to update authorized parameters and activate again."}(sm||(sm={})),sm))(),am=(()=>(function(e){e.DOWNLOAD_PLAN="Download Plan Without Activation",e.INACTIVE_PLAN="Inactive Plan Activation",e.ACTIVATE_PLAN="Activate Plan Status"}(am||(am={})),am))(),rm=(()=>(function(e){e.USER_RESTRICTED="user_restricted"}(rm||(rm={})),rm))();function lm(e,t){return!!e&&!!t&&e.status===t.status&&e.procedureState===t.procedureState}function cm(e){if(e.procedureState)return ht.yb[e.procedureState]}var dm=(()=>(function(e){e.DownloadPlan="[User] Download plan",e.ExecuteDownload="[User] [downloadPlan] Executing operation",e.DownloadError="[User] Download plan error",e.DownloadOngoing="[Effect] Download plan ongoing",e.DownloadFailed="[Effect] Download failed",e.DownloadSuccess="[Effect] Download succeeded"}(dm||(dm={})),dm))();const um=(0,g.PH)(dm.DownloadPlan,(0,g.Ky)()),pm=(0,g.PH)(dm.ExecuteDownload,(0,g.Ky)()),gm=(0,g.PH)(dm.DownloadSuccess,(0,g.Ky)()),hm=(0,g.PH)(dm.DownloadError,(0,g.Ky)()),mm=(0,g.PH)(dm.DownloadOngoing,(0,g.Ky)()),fm=(0,g.PH)(dm.DownloadFailed,(0,g.Ky)());let bm=(()=>{class e{transform(e,t){return!e||e.from===ht.tX.DELTA||e.from===ht.tX.INACTIVE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isDeltaOrInactivePlan",type:e,pure:!0}),e})();function Cm(e,t){1&e&&(Pe.TgZ(0,"span"),Pe._uU(1,"Delta plan"),Pe.qZA())}function vm(e,t){1&e&&(Pe.TgZ(0,"span"),Pe._uU(1,"Inactive plan"),Pe.qZA())}function ym(e,t){1&e&&(Pe.TgZ(0,"span"),Pe._uU(1,"Full plan"),Pe.qZA())}function Sm(e,t){1&e&&(Pe.TgZ(0,"div"),Pe._uU(1," Full plan commissioning will be performed."),Pe._UZ(2,"br"),Pe._uU(3," Caution! Reset will be performed after plan activation "),Pe.qZA())}function Pm(e,t){1&e&&(Pe.TgZ(0,"div"),Pe._uU(1," Reset may occur after plan activation "),Pe.qZA())}function Om(e,t){if(1&e&&(Pe.TgZ(0,"section"),Pe.TgZ(1,"div",11),Pe.TgZ(2,"div",12),Pe._UZ(3,"i",13),Pe.qZA(),Pe.YNc(4,Sm,4,0,"div",6),Pe.ALo(5,"isStagedPlan"),Pe.YNc(6,Pm,2,0,"div",6),Pe.ALo(7,"isDeltaOrInactivePlan"),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(4),Pe.Q6J("ngIf",Pe.lcZ(5,2,e)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(7,4,e))}}function xm(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"section"),Pe.TgZ(1,"p-checkbox",14,15),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw(2).skipActivation=t}),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.MAs(2),t=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("oamRoleAccessControl","DOWNLOAD_PLAN_WITHOUT_ACTIVATION")("hostInstance",e)("titleOnHost",!0)("binary",!0)("ngModel",t.skipActivation)}}function wm(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"section"),Pe.TgZ(1,"div"),Pe._uU(2,"Plan activation options:"),Pe.qZA(),Pe.TgZ(3,"div"),Pe.TgZ(4,"p-checkbox",16),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw(2).forceReset=t}),Pe.ALo(5,"isDeltaPlan"),Pe.qZA(),Pe.qZA(),Pe.TgZ(6,"div"),Pe.TgZ(7,"p-checkbox",17),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw(2).autoLockCells=t}),Pe.ALo(8,"isDeltaPlan"),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.xp6(4),Pe.Q6J("disabled",!Pe.lcZ(5,6,e)||t.skipActivation)("binary",!0)("ngModel",t.forceReset),Pe.xp6(3),Pe.Q6J("disabled",!Pe.lcZ(8,8,e)||t.skipActivation)("binary",!0)("ngModel",t.autoLockCells)}}function Am(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-overlay-menu-bar",1),Pe.NdJ("visibilityChange",function(t){return Pe.CHM(e),Pe.oxw().visibilityChange(t)}),Pe.TgZ(1,"div",2),Pe.TgZ(2,"div",3,4),Pe.TgZ(4,"section",5),Pe.TgZ(5,"span"),Pe._uU(6),Pe.qZA(),Pe._UZ(7,"br"),Pe.YNc(8,Cm,2,0,"span",6),Pe.ALo(9,"isDeltaPlan"),Pe.YNc(10,vm,2,0,"span",6),Pe.ALo(11,"isInactivePlan"),Pe.YNc(12,ym,2,0,"span",6),Pe.ALo(13,"isStagedPlan"),Pe.TgZ(14,"span",7),Pe._uU(15," commissioning will be performed."),Pe.qZA(),Pe.qZA(),Pe.YNc(16,Om,8,6,"section",6),Pe.ALo(17,"isDeltaPlan"),Pe.YNc(18,xm,3,5,"section",6),Pe.ALo(19,"isInactivePlan"),Pe.YNc(20,wm,9,10,"section",6),Pe.ALo(21,"isDeltaPlan"),Pe.TgZ(22,"section"),Pe.TgZ(23,"span"),Pe._uU(24,"Do you want to proceed?"),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(25,"div",8),Pe.TgZ(26,"p-footer"),Pe.TgZ(27,"ui-webem-button",9),Pe.NdJ("action",function(){const t=Pe.CHM(e).ngIf;return Pe.oxw().execute(t)}),Pe.qZA(),Pe.TgZ(28,"ui-webem-button",10),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().hide()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.Q6J("roleAccessFlag","ACTIVATE_PLAN")("model",n.model)("disabled",n.disabled)("id",n.id),Pe.xp6(6),Pe.hij("You are about to activate ",e.planName," configuration plan."),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(9,15,e)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(11,17,e)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(13,19,e)),Pe.xp6(4),Pe.Q6J("ngIf",!Pe.lcZ(17,21,e)),Pe.xp6(2),Pe.Q6J("ngIf",!Pe.lcZ(19,23,e)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(21,25,e)),Pe.xp6(7),Pe.Q6J("model",n.buttonModelExecute)("options",n.buttonOptions),Pe.xp6(1),Pe.Q6J("model",n.buttonModelCancel)("options",n.buttonOptions)}}let _m=(()=>{class e{constructor(e){this.store=e,this.buttonModelExecute={theme:wn.bnJ.Accent,label:"Execute"},this.buttonModelCancel={label:"Cancel"},this.buttonOptions={forceWidth:"70px"},this.skipActivation=!1,this.forceReset=!1,this.autoLockCells=!1,this.selectedPlan$=this.store.select(me.ji)}showDialog(e){const t=function(e,t){return e?am.DOWNLOAD_PLAN:t===ht.tX.INACTIVE?am.INACTIVE_PLAN:am.ACTIVATE_PLAN}(this.skipActivation,e);this.store.dispatch((0,wn.G34)({componentType:om,config:{header:t,closable:!1,contentStyle:{width:this.skipActivation||e===ht.tX.INACTIVE?"295px":"420px"}}}))}hide(){this.overlayPanelComponent.hide()}execute(e){this.store.dispatch(this.skipActivation?um({selectedPlan:e}):wh({selectedPlan:e,forceReset:this.forceReset,autoLockCells:this.autoLockCells})),this.hide(),this.showDialog(e.from)}visibilityChange(e){e&&(this.skipActivation=!1,this.forceReset=!1,this.autoLockCells=!1)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-activation-overlay-panel"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(wn.oh7,5),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.overlayPanelComponent=e.first)}},inputs:{model:"model",disabled:"disabled",id:"id"},decls:2,vars:3,consts:[[3,"roleAccessFlag","model","disabled","id","visibilityChange",4,"ngIf"],[3,"roleAccessFlag","model","disabled","id","visibilityChange"],[1,"p-dialog"],[1,"p-dialog-content","activation-dialog-body"],["content",""],[1,"information-section"],[4,"ngIf"],[2,"white-space","pre"],[1,"p-dialog-footer"],["id","execute-activate-plan",1,"action-button",3,"model","options","action"],["id","close-activate-plan-dialog",1,"action-button",3,"model","options","action"],[1,"activation-warning"],[1,"warning-icon"],[1,"mdi","mdi-alert-circle"],["label","Download plan without activation","id","download-plan-without-activation-checkbox",3,"oamRoleAccessControl","hostInstance","titleOnHost","binary","ngModel","ngModelChange"],["DOWNLOAD_PLAN_WITHOUT_ACTIVATION",""],["label","Force plan activation despite reset","id","force-plan-activation-despite-reset",3,"disabled","binary","ngModel","ngModelChange"],["label","Force plan activation despite cell locking","id","force-plan-activation-despite-cell-locking",3,"disabled","binary","ngModel","ngModelChange"]],template:function(e,t){1&e&&(Pe.YNc(0,Am,29,27,"ui-webem-overlay-menu-bar",0),Pe.ALo(1,"async")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.selectedPlan$))},directives:[m.O5,yh.o,Ri.$_,Ui.r,wi.XZ,bs.h,xn.JJ,xn.On],pipes:[m.Ov,Nl,_o,ac,bm],styles:[".activation-dialog-body[_ngcontent-%COMP%]{width:360px}.activation-dialog-body[_ngcontent-%COMP%]   .activation-warning[_ngcontent-%COMP%]{display:flex;margin-top:5px;line-height:15px}.activation-dialog-body[_ngcontent-%COMP%]   .activation-warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{margin-right:6px}.activation-dialog-body[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:5px 0}.activation-dialog-body[_ngcontent-%COMP%]   .information-section[_ngcontent-%COMP%]{line-height:15px}.activation-dialog-body[_ngcontent-%COMP%]   .mdi-alert-circle[_ngcontent-%COMP%]{color:#fc0;font-size:24px}.action-button[_ngcontent-%COMP%]{padding-right:8px}"]}),e})();var Tm=(()=>(function(e){e.FixMandatoryObjectsOrParameters="[Fix Errors] Fixing mandatory objects or parameters",e.FixErrorsSetResults="[Fix Errors] Fix errors results set",e.ExecuteFixErrors="[Fix Errors] Execute Fix errors",e.FixErrorsSendingHttpError="[Fix Errors] Fix Errors sending http error",e.FixErrorsActionFailed="[Fix Errors] Fix errors Failed"}(Tm||(Tm={})),Tm))();const Im=(0,g.PH)(Tm.FixMandatoryObjectsOrParameters,(0,g.Ky)()),Em=(0,g.PH)(Tm.FixErrorsSetResults,(0,g.Ky)()),Mm=(0,g.PH)(Tm.ExecuteFixErrors,(0,g.Ky)()),km=(0,g.PH)(Tm.FixErrorsSendingHttpError,(0,g.Ky)()),Nm=(0,g.PH)(Tm.FixErrorsActionFailed,(0,g.Ky)()),Lm=(0,g.ZF)("fixErrors"),Dm=(0,g.P1)(Lm,e=>"ongoing"===e.status),Zm=(0,g.P1)(Lm,e=>"failure"===e.status),Rm=(0,g.P1)(Lm,e=>"success"===e.status),Um=(0,g.P1)(Lm,e=>!!(e.updatedObjects&&e.updatedObjects.length>0)||!!(e.addedObjects&&e.addedObjects.length>0)),Fm=(0,g.P1)(Lm,e=>e);var jm=n(33431);function $m(e,t){1&e&&(Pe.TgZ(0,"div",6),Pe._UZ(1,"ui-webem-spinner"),Pe.TgZ(2,"div"),Pe._uU(3,"Fixing errors in progress..."),Pe.qZA(),Pe.qZA())}function qm(e,t){1&e&&(Pe.TgZ(0,"div",8),Pe._UZ(1,"i",9),Pe.TgZ(2,"div"),Pe._uU(3,"The following errors have been fixed:"),Pe.qZA(),Pe.qZA())}function Bm(e,t){1&e&&(Pe.TgZ(0,"div",8),Pe._UZ(1,"i",9),Pe.TgZ(2,"div"),Pe._uU(3,"No errors detected"),Pe.qZA(),Pe.qZA())}function Gm(e,t){1&e&&(Pe.TgZ(0,"div",8),Pe._UZ(1,"i",10),Pe.TgZ(2,"div"),Pe._uU(3,"Fixing errors operation failed"),Pe.qZA(),Pe.qZA())}function Vm(e,t){if(1&e&&(Pe.TgZ(0,"th"),Pe._uU(1),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.hij(" ",e.header," ")}}function Ym(e,t){if(1&e&&(Pe.TgZ(0,"tr",16),Pe.YNc(1,Vm,2,1,"th",17),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("ngForOf",e)}}function Jm(e,t){1&e&&(Pe.TgZ(0,"colgroup"),Pe._UZ(1,"col"),Pe._UZ(2,"col",18),Pe.qZA())}function Hm(e,t){1&e&&Pe._UZ(0,"i",25)}function Wm(e,t){1&e&&Pe._UZ(0,"i",26)}const Qm=function(e){return{"padding-left":e}};function zm(e,t){if(1&e&&(Pe.TgZ(0,"tr"),Pe.TgZ(1,"td",19),Pe.TgZ(2,"p",20),Pe._uU(3),Pe.qZA(),Pe.qZA(),Pe.TgZ(4,"td"),Pe.TgZ(5,"div",21),Pe.YNc(6,Hm,1,0,"i",22),Pe.YNc(7,Wm,1,0,"i",23),Pe.TgZ(8,"div",24),Pe._uU(9),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(2),Pe.s9C("title",e.distname),Pe.xp6(1),Pe.hij(" ",e.distname," "),Pe.xp6(3),Pe.Q6J("ngIf","Modified"===e.type),Pe.xp6(1),Pe.Q6J("ngIf","Added"===e.type),Pe.xp6(1),Pe.Q6J("ngStyle",Pe.VKq(6,Qm,"Added"===e.type?"0":"3px")),Pe.xp6(1),Pe.hij(" ",e.type," ")}}function Km(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",11),Pe.TgZ(2,"p-table",12),Pe.ALo(3,"async"),Pe.YNc(4,Ym,2,1,"ng-template",13),Pe.YNc(5,Jm,3,0,"ng-template",14),Pe.YNc(6,zm,10,8,"ng-template",15),Pe.qZA(),Pe.qZA(),Pe.BQk()),2&e){const e=Pe.oxw(3);Pe.xp6(2),Pe.Q6J("columns",e.cols)("value",Pe.lcZ(3,4,e.fixedObjects$))("scrollable",!0)("autoLayout",!0)}}function Xm(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,qm,4,0,"div",7),Pe.YNc(2,Bm,4,0,"div",7),Pe.YNc(3,Gm,4,0,"div",7),Pe.YNc(4,Km,7,6,"ng-container",0),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngIf",e.wereObjectsFixed&&e.isSuccess),Pe.xp6(1),Pe.Q6J("ngIf",!e.wereObjectsFixed&&e.isSuccess),Pe.xp6(1),Pe.Q6J("ngIf",e.isFailure),Pe.xp6(1),Pe.Q6J("ngIf",e.wereObjectsFixed&&e.isSuccess)}}function ef(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"div",2),Pe._uU(3,"Fixed errors"),Pe.qZA(),Pe.YNc(4,$m,4,0,"div",3),Pe.YNc(5,Xm,5,4,"ng-container",0),Pe.qZA(),Pe.TgZ(6,"div",4),Pe.TgZ(7,"p-footer"),Pe.TgZ(8,"ui-webem-button",5),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().closeDialog()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(4),Pe.Q6J("ngIf",e.isOngoing),Pe.xp6(1),Pe.Q6J("ngIf",!e.isOngoing),Pe.xp6(3),Pe.Q6J("model",n.closeButton)("disabled",e.isOngoing)}}const tf=function(e,t,n,i){return{isOngoing:e,isSuccess:t,isFailure:n,wereObjectsFixed:i}};let nf=(()=>{class e extends Rh.M{constructor(e,t){super(e,t),this.store=e,this.ref=t,this.closeButton={label:"Close",iconPosition:"right",theme:wn.bnJ.Accent}}ngOnInit(){super.ngOnInit(),this.isFixErrorsOngoing$=this.store.select(Dm),this.isFixErrorsFailure$=this.store.select(Zm),this.isFixErrorsSuccess$=this.store.select(Rm),this.wereObjectsFixed$=this.store.select(Um),this.selectedMoId=this.store.select(ae),this.fixedObjects$=this.store.select(Fm).pipe((0,A.U)(e=>{let t=[];return e.addedObjects&&(t=t.concat(e.addedObjects.map(e=>({distname:e.distname,type:"Added"})))),e.updatedObjects&&(t=t.concat(e.updatedObjects.map(e=>({distname:e.distname,type:"Modified"})))),t})),this.isFixErrorsSuccess$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{e&&this.selectedMoId.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{if(e){const t=e;this.store.dispatch(go()),this.store.dispatch(N({moUuid:t}))}})}),this.cols=[{field:"distname",header:"Object distinguished name"},{field:"status",header:"Status"}]}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Uh.E7))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-fix-summarize"]],features:[Pe.qOj],decls:5,vars:14,consts:[[4,"ngIf"],[1,"p-dialog-content"],[1,"header-text"],["class","fix-in-progress",4,"ngIf"],[1,"p-dialog-footer"],["id","activate-modal-cancel",3,"model","disabled","action"],[1,"fix-in-progress"],["class","fix-result-info",4,"ngIf"],[1,"fix-result-info"],[1,"mdi","mdi-check-circle"],[1,"mdi","mdi-alert","confirm-icon"],[1,"fixed-table"],["scrollHeight","300px",3,"columns","value","scrollable","autoLayout"],["pTemplate","header"],["pTemplate","colgroup"],["pTemplate","body"],[1,"test"],[4,"ngFor","ngForOf"],[1,"col-status"],[1,"dist-name-row"],["data-toggle","tooltip","data-placement","top",1,"dist-name-text",3,"title"],[1,"status-info"],["class","mdi mdi-pencil",4,"ngIf"],["class","mdi mdi-plus",4,"ngIf"],[1,"status-text",3,"ngStyle"],[1,"mdi","mdi-pencil"],[1,"mdi","mdi-plus"]],template:function(e,t){1&e&&(Pe.YNc(0,ef,9,4,"ng-container",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async")),2&e&&Pe.Q6J("ngIf",Pe.l5B(9,tf,Pe.lcZ(1,1,t.isFixErrorsOngoing$),Pe.lcZ(2,3,t.isFixErrorsSuccess$),Pe.lcZ(3,5,t.isFixErrorsFailure$),Pe.lcZ(4,7,t.wereObjectsFixed$)))},directives:[m.O5,Ri.$_,Ui.r,mo.O,jm.iA,Ri.jx,m.sg,m.PC],pipes:[m.Ov],styles:[".header-text[_ngcontent-%COMP%]{font-size:16px;color:#000000de;font-weight:700;padding-bottom:16px}div.p-dialog-content[_ngcontent-%COMP%]{height:unset}div.p-dialog-content[_ngcontent-%COMP%]   .dist-name-row[_ngcontent-%COMP%]{max-width:100px}div.p-dialog-content[_ngcontent-%COMP%]   .dist-name-text[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;direction:rtl;margin-bottom:0}div.p-dialog-content[_ngcontent-%COMP%]   .fixed-table[_ngcontent-%COMP%]{padding-bottom:10px}div.p-dialog-content[_ngcontent-%COMP%]   .fix-in-progress[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:16px;--spinner-icon-font-size:16px}div.p-dialog-content[_ngcontent-%COMP%]   .fix-in-progress[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:14px;color:#1b1b1b;padding-left:8px}div.p-dialog-content[_ngcontent-%COMP%]   .col-status[_ngcontent-%COMP%]{width:85px}div.p-dialog-content[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]{display:flex;align-items:center}div.p-dialog-content[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:11px;color:#1b1b1b}div.p-dialog-content   [_nghost-%COMP%]     .p-table table{table-layout:auto}div.p-dialog-content[_ngcontent-%COMP%]   .fix-result-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:16px}div.p-dialog-content[_ngcontent-%COMP%]   .fix-result-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:14px;color:#1b1b1b;padding-left:6px}div.p-dialog-content[_ngcontent-%COMP%]   .fix-result-info[_ngcontent-%COMP%]   .mdi-check-circle[_ngcontent-%COMP%]{font-size:22px}div.p-dialog-content[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{color:#1b1b1b;font-size:11px}div.p-dialog-content[_ngcontent-%COMP%]   .mdi-pencil[_ngcontent-%COMP%]{color:#1b1b1b;font-size:12px}div.p-dialog-content[_ngcontent-%COMP%]   .mdi-plus[_ngcontent-%COMP%]{color:#1b1b1b;font:icon;position:relative;left:-2px}div.p-dialog-content[_ngcontent-%COMP%]   .mdi-check-circle[_ngcontent-%COMP%]{color:#3daa00;font-size:16px}div.p-dialog-content[_ngcontent-%COMP%]   .mdi-alert[_ngcontent-%COMP%]{color:#be0006;font-size:16px}"]}),e})(),of=(()=>{class e{constructor(e){this.store=e,this.buttonModelOK={theme:wn.bnJ.Accent,label:"OK"},this.buttonModelCancel={label:"Cancel"},this.buttonOptions={forceWidth:"70px"},this.createMandatoryObjects=!1,this.createMandatoryParameters=!1,this.selectedPlan$=this.store.select(me.ji)}hideOverlayPanel(){this.overlayPanelComponent.hide()}executeFixErrors(){this.store.dispatch(Im({addMissingObjects:this.createMandatoryObjects,fixMandatoryParameters:this.createMandatoryParameters})),this.store.dispatch((0,wn.G34)({componentType:nf,config:{showHeader:!1,closable:!1,contentStyle:{width:"500px","min-height":"188px"}}})),this.hideOverlayPanel()}visibilityChange(e){e&&(this.createMandatoryParameters=!1,this.createMandatoryObjects=!1)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-fix-errors-overlay-panel"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(wn.oh7,5),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.overlayPanelComponent=e.first)}},inputs:{model:"model",id:"id",disabled:"disabled"},decls:25,vars:13,consts:[[3,"roleAccessFlag","model","disabled","id","visibilityChange"],[1,"p-dialog"],[1,"p-dialog-content","fix-errors-dialog-body"],["content",""],["label","Create all missing mandatory objects",1,"fix-errors-checkbox-title",3,"binary","ngModel","ngModelChange"],["label","Create all missing mandatory parameters",1,"fix-errors-checkbox-title",3,"binary","ngModel","ngModelChange"],[1,"p-dialog-footer"],[1,"action-button",3,"model","options","disabled","action"],[1,"action-button",3,"model","options","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-overlay-menu-bar",0),Pe.NdJ("visibilityChange",function(e){return t.visibilityChange(e)}),Pe.TgZ(1,"div",1),Pe.TgZ(2,"div",2,3),Pe.TgZ(4,"section"),Pe.TgZ(5,"p-checkbox",4),Pe.NdJ("ngModelChange",function(e){return t.createMandatoryObjects=e}),Pe.qZA(),Pe.TgZ(6,"p"),Pe._uU(7," With this operation, all missing mandatory objects will "),Pe._UZ(8,"br"),Pe._uU(9," be created with default values assigned to "),Pe._UZ(10,"br"),Pe._uU(11," its mandatory parameters by default values defined"),Pe.qZA(),Pe.qZA(),Pe.TgZ(12,"section"),Pe.TgZ(13,"div"),Pe.TgZ(14,"p-checkbox",5),Pe.NdJ("ngModelChange",function(e){return t.createMandatoryParameters=e}),Pe.qZA(),Pe.TgZ(15,"p"),Pe._uU(16," With this operation, all missing mandatory parameters "),Pe._UZ(17,"br"),Pe._uU(18," that have default values defined will be created with "),Pe._UZ(19,"br"),Pe._uU(20," their default values assigned "),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(21,"div",6),Pe.TgZ(22,"p-footer"),Pe.TgZ(23,"ui-webem-button",7),Pe.NdJ("action",function(){return t.executeFixErrors()}),Pe.qZA(),Pe.TgZ(24,"ui-webem-button",8),Pe.NdJ("action",function(){return t.hideOverlayPanel()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.Q6J("roleAccessFlag","FIX_PLAN_ERRORS")("model",t.model)("disabled",t.disabled)("id",t.id),Pe.xp6(5),Pe.Q6J("binary",!0)("ngModel",t.createMandatoryObjects),Pe.xp6(9),Pe.Q6J("binary",!0)("ngModel",t.createMandatoryParameters),Pe.xp6(9),Pe.Q6J("model",t.buttonModelOK)("options",t.buttonOptions)("disabled",!t.createMandatoryObjects&&!t.createMandatoryParameters),Pe.xp6(1),Pe.Q6J("model",t.buttonModelCancel)("options",t.buttonOptions))},directives:[yh.o,wi.XZ,xn.JJ,xn.On,Ri.$_,Ui.r],styles:[".fix-errors-dialog-body[_ngcontent-%COMP%]{width:333px}.fix-errors-dialog-body[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:5px 0}.fix-errors-dialog-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:24px;margin-top:5px;color:#98a2ae}.action-button[_ngcontent-%COMP%]{padding-right:8px}.fix-errors-checkbox-title[_ngcontent-%COMP%]{font-weight:700;color:#1b1b1b}"]}),e})();var sf=n(26215),af=n(92996);function rf(e,t){const n=cf(t),i=e.filter(e=>e.from===t&&function(e,t){if(!t)return!1;const n=cf(e);return new RegExp(`^${n}\\d+$`,"g").test(t)}(t,e.planName));let o;return i.length&&(i.sort(lf),o=i[0].planName),function(e,t){return t?`${e}${df(t)+1}`:`${e}1`}(n,o)}function lf(e,t){const n=df(e.planName),i=df(t.planName);return i===n?0:n>i?-1:1}function cf(e){return{[ht.tX.DELTA]:"DELTA-PLAN-",[ht.tX.STAGE]:"CONF-"}[e]||"CONF-"}function df(e){if(!e)return-1;const t=e.split("-");return Number.parseInt(t[t.length-1],10)}let uf=(()=>{class e extends Ti{constructor(){super(),this.placeholder="<Enter data>"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-form-textarea"]],inputs:{placeholder:"placeholder",maxlength:"maxlength"},features:[Pe.qOj],decls:6,vars:10,consts:[[3,"formGroup"],[3,"fieldId","isMandatory","label"],[1,"textarea-wrapper"],["rows","3",1,"ui-inputtext",3,"formControlName","id","placeholder","maxlength"],[3,"displayOption","message"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe._UZ(1,"ui-webem-form-label",1),Pe.TgZ(2,"div",2),Pe.TgZ(3,"textarea",3),Pe._uU(4,"        "),Pe.qZA(),Pe.qZA(),Pe._UZ(5,"ui-webem-form-validation-message",4),Pe.qZA()),2&e&&(Pe.Q6J("formGroup",t.group),Pe.xp6(1),Pe.Q6J("fieldId",t.id)("isMandatory",t.isRequired())("label",t.getLabel()),Pe.xp6(2),Pe.Q6J("formControlName",t.controlName)("id",t.id)("placeholder",t.placeholder)("maxlength",t.maxlength),Pe.xp6(2),Pe.Q6J("displayOption",t.validationMessageDisplay)("message",t.currentValidationMessage?t.currentValidationMessage:""))},directives:[xn.JL,xn.sg,Ni,xn.Fj,xn.JJ,xn.u,xn.nD,Ai.M],styles:["[_nghost-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{width:100%}.textarea-wrapper[_ngcontent-%COMP%]{width:100%;overflow:hidden;border-radius:3px;border:1px solid #98a2ae;height:60px}.textarea-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;height:auto;width:inherit;border:none;border-radius:3px}"]}),e})(),pf=(()=>{class e extends Ti{constructor(){super()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-form-checkbox"]],features:[Pe.qOj],decls:4,vars:7,consts:[[1,"checkbox-with-label",3,"formGroup"],[1,"checkbox-span"],[1,"form-checkbox",3,"formControlName","inputId","binary","label"],[3,"displayOption","message"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"span",1),Pe._UZ(2,"p-checkbox",2),Pe.qZA(),Pe._UZ(3,"ui-webem-form-validation-message",3),Pe.qZA()),2&e&&(Pe.Q6J("formGroup",t.group),Pe.xp6(2),Pe.Q6J("formControlName",t.controlName)("inputId",t.id)("binary",!0)("label",t.getLabel()),Pe.xp6(1),Pe.Q6J("displayOption",t.validationMessageDisplay)("message",t.currentValidationMessage?t.currentValidationMessage:""))},directives:[xn.JL,xn.sg,wi.XZ,xn.JJ,xn.u,Ai.M],styles:[".form-checkbox[_ngcontent-%COMP%]{margin-right:7px}.checkbox-span[_ngcontent-%COMP%]{display:flex}.checkbox-with-label[_ngcontent-%COMP%]{display:block}"]}),e})();const gf=["sourcePlanDropdown"];function hf(e,t){if(1&e&&Pe._UZ(0,"ui-webem-form-label",7),2&e){const e=Pe.oxw();Pe.Q6J("fieldId",e.id)("isMandatory",e.isRequired())("label",e.getLabel())}}function mf(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe._uU(1),Pe.qZA()),2&e){const e=t.$implicit;Pe.uIk("title",e.label),Pe.xp6(1),Pe.Oqu(e.label)}}let ff=(()=>{class e extends Ti{constructor(){super(),this.placeholder="<Choose option>",this.dropdownComponent=new Pe.vpe}onSelect(e){this.group.controls[this.controlName].patchValue(e.value)}isSelectItemGroup(e){return!(0,_.isEmpty)(e)&&"items"in e[0]}emitDropdownComponent(){this.dropdownComponent.emit(this.sourcePlanDropdown)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-form-dropdown"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(gf,5),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.sourcePlanDropdown=e.first)}},inputs:{dropdownItems:"dropdownItems",placeholder:"placeholder"},outputs:{dropdownComponent:"dropdownComponent"},features:[Pe.qOj],decls:7,vars:9,consts:[[1,"form-dropdown-wrapper",3,"formGroup"],[1,"input-wrapper"],[3,"fieldId","isMandatory","label",4,"ngIf"],["scrollHeight","350px",3,"id","formControlName","group","options","placeholder","onShow","onChange"],["sourcePlanDropdown",""],["pTemplate","item"],[3,"displayOption","message"],[3,"fieldId","isMandatory","label"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe.YNc(2,hf,1,3,"ui-webem-form-label",2),Pe.TgZ(3,"p-dropdown",3,4),Pe.NdJ("onShow",function(){return t.emitDropdownComponent()})("onChange",function(e){return t.onSelect(e)}),Pe.YNc(5,mf,2,2,"ng-template",5),Pe.qZA(),Pe.qZA(),Pe._UZ(6,"ui-webem-form-validation-message",6),Pe.qZA()),2&e&&(Pe.Q6J("formGroup",t.group),Pe.xp6(2),Pe.Q6J("ngIf",t.label),Pe.xp6(1),Pe.Q6J("id",t.id)("formControlName",t.controlName)("group",t.isSelectItemGroup(t.dropdownItems))("options",t.dropdownItems)("placeholder",t.placeholder),Pe.xp6(3),Pe.Q6J("displayOption",t.validationMessageDisplay)("message",t.currentValidationMessage?t.currentValidationMessage:""))},directives:[xn.JL,xn.sg,m.O5,xi.Lt,xn.JJ,xn.u,Ri.jx,Ai.M,Ni],encapsulation:2}),e})();function bf(e,t){1&e&&(Pe.TgZ(0,"span",10),Pe._uU(1,"Maximum number of plans already created"),Pe.qZA())}function Cf(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",11),Pe.TgZ(1,"p-footer"),Pe.TgZ(2,"ui-webem-button",12),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().submit()}),Pe.qZA(),Pe.TgZ(3,"ui-webem-button",13),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().cancel()}),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(2),Pe.Q6J("disabled",n.form.invalid||e.shouldDisableInputs)("model",n.createActionButtonModel)("options",n.buttonOptions),Pe.xp6(1),Pe.Q6J("model",n.cancelActionButtonModel)("options",n.buttonOptions)}}const vf=function(e){return[e]},yf=function(){return{required:"Plan name cannot be empty",excludedWords:"Plan with the given name already exists. Please choose a different name"}},Sf=function(){return{required:"The plan you have chosen no longer exists. Please choose a different plan"}},Pf=function(e){return{shouldDisableInputs:e}};let Of=(()=>{class e{constructor(e){this.store=e,this.messageDisplay=wn.t0A,this.inputValueType=wn.RYy,this.buttonOptions={forceWidth:"70px"},this.createActionButtonModel={label:"OK",theme:wn.bnJ.Accent},this.cancelActionButtonModel={label:"Cancel"},this.planNameControl=new xn.NI(""),this.form=new xn.cw({planName:this.planNameControl,planDescription:new xn.NI(""),duplicatePlan:new xn.NI(!1),sourcePlan:new xn.NI({value:null,disabled:!0},[xn.kI.required])}),this.latestDefaultPlanName="",this.ngUnsubscribe=new Ae.xQ,this.planOriginsToChooseFrom=[ht.tX.STAGE,ht.tX.DELTA,ht.tX.ACTIVE],this.createdPlanOrigin=ht.tX.STAGE}ngOnInit(){(0,ft.aj)([this.store.select(Vi.hV),this.store.select(Vi.Zs)]).pipe((0,_e.R)(this.ngUnsubscribe),(0,A.U)(([e,t])=>e.concat(t).map(e=>e.planName))).subscribe(e=>this.planNameControl.setValidators([xn.kI.required,Bn(e)])),this.stagedPlansLimitExceeded$=this.store.select(Vi.fk),this.shouldDisableInputs$=(0,ft.aj)([this.store.select(Vi.fk),this.store.pipe((0,g.Ys)(gs),(0,A.U)(e=>e.isPlanCreationOperationOngoing))]).pipe((0,A.U)(([e,t])=>e||t)),this.plans$=this.store.select((0,Vi.a4)(this.planOriginsToChooseFrom)),this.store.pipe((0,_e.R)(this.ngUnsubscribe),(0,g.Ys)((0,Vi.a4)([ht.tX.ACTIVE]))).subscribe(e=>this.defaultPlan=e[0]),this.planDropdownOptions$=this.plans$.pipe((0,vs.h)(e=>!!e.length),(0,A.U)(e=>Vg(e))),this.defaultPlanName$=this.plans$.pipe((0,A.U)(e=>rf(e,this.createdPlanOrigin))),this.subscribeToDuplicatePlanCheckboxChanges(),this.subscribeToFormEnabledStateChanges(),this.subscribeToDefaultPlanNameChanges(),this.subscribeToPlansChanges()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}submit(){this.store.dispatch(es(this.form.value.duplicatePlan?{request:{planName:this.form.value.planName,planDescription:this.form.value.planDescription,sourcePlanId:this.form.value.sourcePlan.planId},option:this.getCopyType(this.form.value.sourcePlan.from)}:{request:{planName:this.form.value.planName,planDescription:this.form.value.planDescription},option:ht.cW.EMPTY})),this.overlayPanel.hide(),this.form.reset()}cancel(){this.overlayPanel.hide()}visibilityChange(e){e&&this.form.reset({planName:this.latestDefaultPlanName,sourcePlan:this.defaultPlan,planDescription:""})}getCopyType(e){switch(e){case ht.tX.DELTA:return ht.cW.COPY_DELTA;case ht.tX.ACTIVE:return ht.cW.COPY_ACTIVE;case ht.tX.STAGE:return ht.cW.COPY_STAGED;default:return ht.cW.COPY_ACTIVE}}subscribeToDuplicatePlanCheckboxChanges(){this.form.valueChanges.pipe((0,_e.R)(this.ngUnsubscribe),(0,af.j)("duplicatePlan"),(0,ys.x)()).subscribe(e=>{const t=this.form.controls.sourcePlan;e&&t.disabled&&t.enable(),!e&&t.enabled&&t.disable()})}subscribeToPlansChanges(){this.plans$.pipe((0,_e.R)(this.ngUnsubscribe),(0,vs.h)(e=>!!e.length)).subscribe(e=>{const t=this.form.controls.sourcePlan.value;t&&!e.some(e=>e.planId===t.planId)&&this.form.controls.sourcePlan.patchValue(null)})}subscribeToFormEnabledStateChanges(){(0,ft.aj)([this.shouldDisableInputs$,this.defaultPlanName$,this.plans$]).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(([e,t,n])=>{if(e&&this.form.enabled&&this.form.disable(),!e&&this.form.disabled&&(this.form.enable(),this.form.patchValue({planName:t,planDescription:"",duplicatePlan:!1,sourcePlan:this.defaultPlan})),!e&&this.form.enabled){const e=this.form.controls.duplicatePlan;(0,_.isEmpty)(n)?e.disable():e.enable()}})}subscribeToDefaultPlanNameChanges(){this.defaultPlanName$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.latestDefaultPlanName=e,this.form.disabled||this.form.controls.planName.pristine&&this.form.patchValue({planName:e})})}getDropdownComponent(e){this.childDropdown!==e&&(this.childDropdown=e)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-create-plan-overlay-panel"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(wn.oh7,7),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.overlayPanel=e.first)}},inputs:{id:"id",model:"model",disabled:"disabled"},decls:14,vars:36,consts:[[3,"roleAccessFlag","model","disabled","id","componentsToHideBeforeOverlayPanel","visibilityChange"],[1,"p-dialog"],[1,"p-dialog-content"],[1,"create-plan-panel-content"],["controlName","planName","label","Plan name","placeholder","<Enter data>",3,"group","id","inputValueType","validationMessages","maxlength"],["controlName","planDescription","label","Plan description","placeholder","<Enter description>",3,"group","id","validationMessageDisplay","maxlength"],["controlName","duplicatePlan","label","Duplicate plan from",3,"group","id","validationMessageDisplay"],["controlName","sourcePlan","placeholder","<Choose plan>",3,"dropdownItems","group","id","validationMessages","dropdownComponent"],["class","validation-message",4,"ngIf"],["class","p-dialog-footer",4,"ngIf"],[1,"validation-message"],[1,"p-dialog-footer"],["id","webem-pe-create-plan-panel-ok-button",1,"create-plan-action-button",3,"disabled","model","options","action"],["id","webem-pe-create-plan-panel-cancel-button",1,"create-plan-action-button",3,"model","options","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-overlay-menu-bar",0),Pe.NdJ("visibilityChange",function(e){return t.visibilityChange(e)}),Pe.ynx(1),Pe.TgZ(2,"div",1),Pe.TgZ(3,"div",2),Pe.TgZ(4,"form",3),Pe._UZ(5,"ui-webem-form-input",4),Pe._UZ(6,"ui-webem-form-textarea",5),Pe._UZ(7,"ui-webem-form-checkbox",6),Pe.TgZ(8,"ui-webem-form-dropdown",7),Pe.NdJ("dropdownComponent",function(e){return t.getDropdownComponent(e)}),Pe.ALo(9,"async"),Pe.qZA(),Pe.YNc(10,bf,2,0,"span",8),Pe.ALo(11,"async"),Pe.qZA(),Pe.qZA(),Pe.YNc(12,Cf,4,5,"div",9),Pe.ALo(13,"async"),Pe.qZA(),Pe.BQk(),Pe.qZA()),2&e&&(Pe.Q6J("roleAccessFlag","CREATE_PLAN")("model",t.model)("disabled",t.disabled)("id",t.id)("componentsToHideBeforeOverlayPanel",Pe.VKq(30,vf,t.childDropdown)),Pe.xp6(5),Pe.Q6J("group",t.form)("id","webem-pe-create-plan-plan-name-input")("inputValueType",t.inputValueType.TEXT)("validationMessages",Pe.DdM(32,yf))("maxlength",128),Pe.uIk("title",t.planNameControl.value),Pe.xp6(1),Pe.Q6J("group",t.form)("id","webem-pe-create-plan-plan-description-textarea")("validationMessageDisplay",t.messageDisplay.HIDE_MESSAGE_SHOW_PADDING)("maxlength",1024),Pe.xp6(1),Pe.Q6J("group",t.form)("id","webem-pe-create-plan-duplicate-plan-checkbox")("validationMessageDisplay",t.messageDisplay.HIDE_MESSAGE_AND_GROUP),Pe.xp6(1),Pe.Q6J("dropdownItems",Pe.lcZ(9,24,t.planDropdownOptions$))("group",t.form)("id","webem-pe-create-plan-source-plan-dropdown")("validationMessages",Pe.DdM(33,Sf)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(11,26,t.stagedPlansLimitExceeded$)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(34,Pf,Pe.lcZ(13,28,t.shouldDisableInputs$))))},directives:[yh.o,xn._Y,xn.JL,xn.F,Zi,uf,pf,ff,m.O5,Ri.$_,Ui.r],pipes:[m.Ov],styles:[".create-plan-panel-content[_ngcontent-%COMP%]{width:300px}.create-plan-action-button[_ngcontent-%COMP%]{padding-right:8px}.validation-message[_ngcontent-%COMP%]{font-size:11px;color:#da1914}  configuration-shared-create-plan-overlay-panel .p-dialog .p-dialog-content{padding-bottom:10px!important;overflow:visible}  configuration-shared-create-plan-overlay-panel p-checkbox .p-checkbox-label.p-disabled{color:#bec8d2}"]}),e})();function xf(e,t){if(1&e&&(Pe.ynx(0),Pe._UZ(1,"configuration-shared-create-plan-overlay-panel",1),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("id","webem-parameter-editor-menu-create-button")("model",e.createPlanButtonModel)("disabled",e.isMaxNumberOfPlansExceeded||e.isOperationOngoing)}}const wf=function(e,t,n){return{isMaxNumberOfPlansExceeded:e,createPlanButtonModel:t,isOperationOngoing:n}};let Af=(()=>{class e{constructor(e){this.store=e,this.recalculateButtonModel$=new sf.X({})}ngOnInit(){this.isOperationOngoing$=this.store.pipe((0,g.Ys)(gs),(0,A.U)(e=>e.isPlanCreationOperationOngoing)),this.isMaxNumberOfStagedPlansExceeded$=this.store.pipe((0,g.Ys)(Vi.fk)),this.createPlanButtonModel$=(0,ft.aj)([this.isMaxNumberOfStagedPlansExceeded$,this.isOperationOngoing$,this.recalculateButtonModel$]).pipe((0,A.U)(([e,t,n])=>this.buildCreatePlanModel(e,t)))}ngOnChanges(e){!e.createPlanButtonModel.isFirstChange()&&this.createPlanButtonModel&&this.recalculateButtonModel$.next({})}buildCreatePlanModel(e,t){const n=Object.assign({},this.createPlanButtonModel);return t&&!e&&(n.title="Create plan operation ongoing",n.icon="mdi mdi-loading mdi-spin"),e&&(n.title="Maximum number of plans already created"),n}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-create-plan"]],inputs:{createPlanButtonModel:"createPlanButtonModel"},features:[Pe.TTD],decls:4,vars:11,consts:[[4,"ngIf"],[3,"id","model","disabled"]],template:function(e,t){1&e&&(Pe.YNc(0,xf,2,3,"ng-container",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async")),2&e&&Pe.Q6J("ngIf",Pe.kEZ(7,wf,Pe.lcZ(1,1,t.isMaxNumberOfStagedPlansExceeded$),Pe.lcZ(2,3,t.createPlanButtonModel$),Pe.lcZ(3,5,t.isOperationOngoing$)))},directives:[m.O5,Of],pipes:[m.Ov],encapsulation:2}),e})();var _f=(()=>(function(e){e.RequestPlanSending="[User] [Effect] Request plan sending",e.ExecutePlanSending="[User] [Effect] Execute plan sending",e.PlanSendingActionSuccess="[Effect] Plan sending action success",e.PlanSendingActionError="[Effect] Plan sending action error",e.PlanSendingHttpError="[Effect] Plan sending http error",e.PlanSendingFailed="[Effect] Plan sending failed",e.RequestPlanSendingValidation="[User] [Effect] Request plan sending validation",e.PlanSendingValidationSuccess="[Effect] Plan sending validation success",e.PlanSendingValidationFailure="[Effect] Plan sending validation failure",e.PlanLoadingFinished="[User] [Effect] Plan loading finished",e.ClearPlanLoadingState="[Effect] Clear plan loading state",e.DeletePlanSendingActionFailure="[Effect] Delete plan sending action failure",e.DeletePlanSendingActionSuccess="[Effect] Delete plan sending action success"}(_f||(_f={})),_f))();const Tf=(0,g.PH)(_f.RequestPlanSending,(0,g.Ky)()),If=(0,g.PH)(_f.ExecutePlanSending,(0,g.Ky)()),Ef=(0,g.PH)(_f.PlanSendingActionSuccess,(0,g.Ky)()),Mf=(0,g.PH)(_f.PlanSendingActionError,(0,g.Ky)()),kf=(0,g.PH)(_f.PlanSendingHttpError,(0,g.Ky)()),Nf=(0,g.PH)(_f.DeletePlanSendingActionFailure,(0,g.Ky)()),Lf=(0,g.PH)(_f.DeletePlanSendingActionSuccess),Df=(0,g.PH)(_f.PlanLoadingFinished,(0,g.Ky)()),Zf=(0,g.PH)(_f.ClearPlanLoadingState,(0,g.Ky)()),Rf=(0,g.PH)(_f.PlanSendingFailed,(0,g.Ky)()),Uf=(0,g.PH)(_f.RequestPlanSendingValidation,(0,g.Ky)()),Ff=(0,g.PH)(_f.PlanSendingValidationSuccess,(0,g.Ky)()),jf=(0,g.PH)(_f.PlanSendingValidationFailure,(0,g.Ky)());var $f=(()=>(function(e){e.NOT_STARTED="NOT_STARTED",e.IN_PROGRESS="IN_PROGRESS",e.SUCCESS="SUCCESS",e.FAILED="FAILED"}($f||($f={})),$f))();const qf={isPlanLoadingInProgress:!1,planLoadingStages:{planSending:$f.NOT_STARTED,incompliantElementsRemoval:$f.NOT_STARTED,planValidation:$f.NOT_STARTED},error:{errorMessage:void 0,incompliantElements:[],ramlParsingErrors:[]}},Bf=(0,g.Lq)(qf,(0,g.on)(Tf,(e,{validationRequired:t})=>Object.assign(Object.assign({},e),{isPlanLoadingInProgress:!0,planLoadingStages:Object.assign(Object.assign({},e.planLoadingStages),{planSending:$f.IN_PROGRESS}),error:{incompliantElements:[],ramlParsingErrors:[]},isPlanValidationRequired:t})),(0,g.on)(Uf,e=>Object.assign(Object.assign({},e),{planLoadingStages:Object.assign(Object.assign({},e.planLoadingStages),{planValidation:$f.IN_PROGRESS})})),(0,g.on)(Ff,e=>Object.assign(Object.assign({},e),{planLoadingStages:Object.assign(Object.assign({},e.planLoadingStages),{planValidation:$f.SUCCESS})})),(0,g.on)(jf,(e,{response:t})=>Object.assign(Object.assign({},e),{planLoadingStages:Object.assign(Object.assign({},e.planLoadingStages),{planValidation:$f.FAILED}),error:Object.assign(Object.assign({},e.error),{errorMessage:t.errorMessage}),isPlanLoadingInProgress:!1})),(0,g.on)(Ef,(e,{response:t})=>Object.assign(Object.assign({},e),{status:t.status,planLoadingStages:Object.assign(Object.assign({},e.planLoadingStages),{planSending:$f.SUCCESS,incompliantElementsRemoval:$f.SUCCESS}),error:Object.assign(Object.assign({},e.error),{errorMessage:t.errorMessage,ramlParsingErrors:t.ramlParsingErrors,incompliantElements:t.incorrectObjectsFeedback})})),(0,g.on)(Rf,(e,{response:t})=>Object.assign(Object.assign({},e),{status:t.status,planLoadingStages:Object.assign(Object.assign({},e.planLoadingStages),{planSending:$f.FAILED}),error:Object.assign(Object.assign({},e.error),{errorMessage:t.errorMessage,ramlParsingErrors:t.ramlParsingErrors,incompliantElements:t.incorrectObjectsFeedback}),isPlanLoadingInProgress:!1})),(0,g.on)(kf,(e,{error:t})=>Object.assign(Object.assign({},e),{status:t.statusText,error:Object.assign(Object.assign({},e.error),{errorMessage:t.message}),planLoadingStages:Object.assign(Object.assign({},e.planLoadingStages),{planSending:$f.FAILED}),isPlanLoadingInProgress:!1})),(0,g.on)(Df,e=>Object.assign(Object.assign({},e),{isPlanLoadingInProgress:!1})),(0,g.on)(Zf,e=>Object.assign(Object.assign({},e),qf)));function Gf(e,t){return Bf(e,t)}function Vf(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"span",7),Pe._UZ(2,"i",8),Pe._uU(3," Load SCF failed due to following reason: "),Pe.qZA(),Pe.TgZ(4,"ul",9),Pe.TgZ(5,"li"),Pe._uU(6),Pe.qZA(),Pe.qZA(),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(6),Pe.Oqu(e.planLoadingErrors.errorMessage)}}function Yf(e,t){1&e&&(Pe.ynx(0),Pe.TgZ(1,"span",10),Pe._UZ(2,"i",11),Pe._uU(3," Load SCF operation has succeeded "),Pe.qZA(),Pe._UZ(4,"br"),Pe.BQk())}function Jf(e,t){if(1&e&&(Pe.TgZ(0,"ul",9),Pe.TgZ(1,"li"),Pe._uU(2),Pe.qZA(),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(2),Pe.Oqu(e)}}function Hf(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"span",12),Pe._UZ(2,"i",8),Pe._uU(3," Load SCF failed due to the following XML/RAML schema validation errors: "),Pe.qZA(),Pe.YNc(4,Jf,3,1,"ul",13),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(4),Pe.Q6J("ngForOf",e.planLoadingErrors.ramlParsingErrors)}}function Wf(e,t){if(1&e&&(Pe.TgZ(0,"ul",9),Pe.TgZ(1,"li"),Pe._uU(2),Pe.qZA(),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(2),Pe.AsE("",e.errorCode,": ",e.path,"")}}function Qf(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"span",14),Pe._UZ(2,"i",15),Pe._uU(3," The following incompliant elements were removed: "),Pe.qZA(),Pe.YNc(4,Wf,3,2,"ul",13),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(4),Pe.Q6J("ngForOf",e.planLoadingErrors.incompliantElements)}}function zf(e,t){if(1&e&&(Pe.TgZ(0,"div",3),Pe._UZ(1,"ui-webem-stepper",4),Pe.TgZ(2,"span"),Pe._uU(3,"Feedback:"),Pe.qZA(),Pe.TgZ(4,"div",5),Pe.YNc(5,Vf,7,1,"ng-container",6),Pe.YNc(6,Yf,5,0,"ng-container",6),Pe.YNc(7,Hf,5,1,"ng-container",6),Pe.YNc(8,Qf,5,1,"ng-container",6),Pe.qZA(),Pe.qZA()),2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("steps",e.steps)("activeIndex",e.activeIndex.stepIndex)("areStepsFailed",e.activeIndex.isStepFailed),Pe.xp6(4),Pe.Q6J("ngIf",e.planLoadingErrors.errorMessage&&!n.hasElements(e.planLoadingErrors.ramlParsingErrors)),Pe.xp6(1),Pe.Q6J("ngIf",e.activeIndex.stepIndex===n.stepIndex.LoadingFinished&&!e.planLoadingErrors.errorMessage),Pe.xp6(1),Pe.Q6J("ngIf",n.hasElements(e.planLoadingErrors.ramlParsingErrors)),Pe.xp6(1),Pe.Q6J("ngIf",n.hasElements(e.planLoadingErrors.incompliantElements))}}const Kf=function(e,t,n){return{planLoadingErrors:e,activeIndex:t,steps:n}};var Xf=(()=>(function(e){e[e.LoadScf=0]="LoadScf",e[e.RemoveIncompliantElements=1]="RemoveIncompliantElements",e[e.ValidateScf=2]="ValidateScf",e[e.LoadingFinished=4]="LoadingFinished"}(Xf||(Xf={})),Xf))();const eb=[$f.IN_PROGRESS,$f.FAILED];let tb=(()=>{class e extends Rh.M{constructor(e,t){super(e,t,!0),this.store=e,this.stepIndex=Xf,this.doneButton={label:"Close",theme:wn.bnJ.Accent}}ngOnInit(){super.ngOnInit(),this.planLoadingErrors$=this.store.select(Eg),this.steps$=this.store.select(Mg).pipe((0,A.U)(e=>{const t=[{label:"Load SCF"},{label:"Remove incompliant elements"},{label:"Loading finished"}];return e&&t.splice(2,0,{label:"Validate SCF"}),t})),this.activeIndex$=this.store.select(Tg).pipe((0,A.U)(e=>eb.includes(e.planSending)?{stepIndex:Xf.LoadScf,isStepFailed:e.planSending===$f.FAILED}:eb.includes(e.incompliantElementsRemoval)?{stepIndex:Xf.RemoveIncompliantElements,isStepFailed:e.incompliantElementsRemoval===$f.FAILED}:eb.includes(e.planValidation)?{stepIndex:Xf.ValidateScf,isStepFailed:e.planValidation===$f.FAILED}:{stepIndex:Xf.LoadingFinished,isStepFailed:!1}))}hasElements(e){return!!e&&!(0,_.isEmpty)(e)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Uh.E7))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-load-scf-dialog"]],features:[Pe.qOj],decls:7,vars:12,consts:[["class","p-dialog-content",4,"ngIf"],[1,"p-dialog-footer"],["id","close-dialog-button",3,"model","action"],[1,"p-dialog-content"],[3,"steps","activeIndex","areStepsFailed"],["id","load-scf-feedback",1,"feedback"],[4,"ngIf"],["id","load-scf-failed-due-to-following-reason",1,"feedback-message"],[1,"mdi","mdi-alert","raml-errors-icon"],[1,"errors-list"],["id","load-scf-succeeded",1,"feedback-message"],[1,"mdi","mdi-check-circle","success-icon"],["id","load-scf-failed-schema-validation",1,"feedback-message"],["class","errors-list",4,"ngFor","ngForOf"],["id","load-scf-incompilant-elements-removed",1,"feedback-message"],[1,"mdi","mdi-alert","incompliant-elements-icon"]],template:function(e,t){1&e&&(Pe.YNc(0,zf,9,7,"div",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.TgZ(4,"div",1),Pe.TgZ(5,"p-footer"),Pe.TgZ(6,"ui-webem-button",2),Pe.NdJ("action",function(){return t.closeDialog()}),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.Q6J("ngIf",Pe.kEZ(8,Kf,Pe.lcZ(1,2,t.planLoadingErrors$),Pe.lcZ(2,4,t.activeIndex$),Pe.lcZ(3,6,t.steps$))),Pe.xp6(6),Pe.Q6J("model",t.doneButton))},directives:[m.O5,Ri.$_,Ui.r,Fh.v,m.sg],pipes:[m.Ov],styles:[".feedback[_ngcontent-%COMP%]{border:1px solid #98a2ae;padding:3px 8px;width:400px;height:18em;overflow-x:auto;overflow-y:auto;font-size:11px;border-radius:3px;white-space:pre;margin-top:5px}.feedback[_ngcontent-%COMP%]   .incompliant-elements-icon[_ngcontent-%COMP%], .feedback[_ngcontent-%COMP%]   .raml-errors-icon[_ngcontent-%COMP%], .feedback[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:18px;vertical-align:middle;display:flex;padding-right:3px}.feedback[_ngcontent-%COMP%]   .raml-errors-icon[_ngcontent-%COMP%]{color:#be0006}.feedback[_ngcontent-%COMP%]   .incompliant-elements-icon[_ngcontent-%COMP%]{color:#fc0}.feedback[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{color:#3daa00}.feedback[_ngcontent-%COMP%]   .feedback-message[_ngcontent-%COMP%]{vertical-align:middle;display:flex;align-items:center}.feedback[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]:before{vertical-align:text-bottom}.feedback[_ngcontent-%COMP%]   ul.errors-list[_ngcontent-%COMP%]{margin-bottom:3px;padding-left:1.75em}.feedback[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{vertical-align:middle}  .p-dialog configuration-shared-load-scf-dialog .p-dialog-content{height:unset;padding-bottom:30px!important}"]}),e})();function nb(e,t){if(1&e&&Pe._UZ(0,"ui-webem-form-label",11),2&e){const e=Pe.oxw();Pe.Q6J("fieldId",e.id)("isMandatory",e.isRequired())("label",e.getLabel())("disabled",e.disabled)}}function ib(e,t){1&e&&Pe._UZ(0,"i",12)}let ob=(()=>{class e extends Ti{constructor(){super(...arguments),this.placeholder="",this.actionButtonModel={label:"Browse..."},this.disabled=!1}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Pe.n5z(e)))(n||e)}}(),e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-form-input-file"]],inputs:{placeholder:"placeholder",accept:"accept",actionButtonModel:"actionButtonModel",actionButtonOptions:"actionButtonOptions",disabled:"disabled"},features:[Pe.qOj],decls:11,vars:14,consts:[[3,"formGroup"],[3,"fieldId","isMandatory","label","disabled",4,"ngIf"],[1,"file-input"],[1,"input"],["autocomplete","off","disabled","","pInputText","",3,"placeholder","value","title","id"],[1,"validation-error-icon"],["class","mdi mdi-alert",4,"ngIf"],["id","browse",3,"model","options","disabled","action"],[3,"displayOption","message"],["type","file","id","file-input","autocomplete","off","pInputText","",3,"formControlName","accept"],["fileInput",""],[3,"fieldId","isMandatory","label","disabled"],[1,"mdi","mdi-alert"]],template:function(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",0),Pe.YNc(1,nb,1,4,"ui-webem-form-label",1),Pe.TgZ(2,"div",2),Pe.TgZ(3,"div",3),Pe._UZ(4,"input",4),Pe.TgZ(5,"span",5),Pe.YNc(6,ib,1,0,"i",6),Pe.qZA(),Pe.qZA(),Pe.TgZ(7,"ui-webem-button",7),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.MAs(10).click()}),Pe.qZA(),Pe.qZA(),Pe._UZ(8,"ui-webem-form-validation-message",8),Pe._UZ(9,"input",9,10),Pe.qZA()}if(2&e){const e=Pe.MAs(10);Pe.Q6J("formGroup",t.group),Pe.xp6(1),Pe.Q6J("ngIf",t.label),Pe.xp6(3),Pe.Q6J("placeholder",t.placeholder)("value",e.files&&e.files[0]?e.files[0].name:"")("title",e.files&&e.files[0]?e.files[0].name:"")("id",t.id),Pe.xp6(2),Pe.Q6J("ngIf",t.currentValidationMessage),Pe.xp6(1),Pe.Q6J("model",t.actionButtonModel)("options",t.actionButtonOptions)("disabled",t.disabled),Pe.xp6(1),Pe.Q6J("displayOption",t.validationMessageDisplay)("message",t.currentValidationMessage?t.currentValidationMessage:""),Pe.xp6(1),Pe.Q6J("formControlName",t.controlName)("accept",t.accept)}},directives:[xn.JL,xn.sg,m.O5,Ei.o,Ui.r,Ai.M,xn.Fj,xn.JJ,xn.u,Ni],styles:["input[type=file][_ngcontent-%COMP%]{display:none}.file-input[_ngcontent-%COMP%]{display:flex}.file-input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{width:100%;height:26px;padding-right:25px;text-overflow:ellipsis}.validation-error-icon[_ngcontent-%COMP%]{position:absolute;right:8px;font-size:14px}.validation-error-icon[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#be0006;vertical-align:sub}.input[_ngcontent-%COMP%]{margin-right:10px;width:100%}"]}),e})();const sb=function(){return{required:"Select an SCF file"}},ab=function(){return{required:"Plan name cannot be empty",excludedWords:"Plan with the given name already exists. Please choose a different name"}};let rb=(()=>{class e{constructor(e,t,n){this.store=e,this.formBuilder=t,this.cd=n,this.inputValueType=wn.RYy,this.messageDisplay=wn.t0A,this.buttonOptions={forceWidth:"70px"},this.loadActionButtonModel={label:"Load SCF",theme:wn.bnJ.Accent},this.cancelActionButtonModel={label:"Cancel"},this.ngUnsubscribe=new Ae.xQ}ngOnInit(){this.form=this.formBuilder.group({file:["",xn.kI.required],planName:["",xn.kI.required],planDescription:[""],validatePlan:[!0]}),this.fileFormControl=this.form.controls.file,this.planNameFormControl=this.form.controls.planName,(0,ft.aj)([this.store.select(Vi.hV),this.store.select(Vi.Zs)]).pipe((0,_e.R)(this.ngUnsubscribe),(0,A.U)(([e,t])=>e.concat(t).map(e=>e.planName))).subscribe(e=>this.planNameFormControl.setValidators([xn.kI.required,Bn(e)]));const e=this.form.controls.validatePlan;e.valueChanges.subscribe(t=>{e.setValue(t,{emitEvent:!1})})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.cd.detectChanges()}onFileChange(e){const t=e.target;t.files&&t.files[0]&&(this.file=t.files[0],this.updatePlanNameAfterFileChange(this.file.name))}loadScf(){this.form.valid&&this.file&&(this.store.dispatch(Tf({request:{planFile:this.file,planName:this.form.value.planName,planDescription:this.form.value.planDescription},planOrigin:ht.tX.STAGE,validationRequired:this.form.value.validatePlan})),this.store.dispatch((0,wn.G34)({componentType:tb,config:{header:"Load SCF Status",closable:!1}})),this.overlayPanelComponent.hide())}toggle(e){this.overlayPanelComponent.toggle(e)}hideOverlayPanel(){this.overlayPanelComponent.hide()}visibilityChange(e){e&&(this.form.reset({validatePlan:!0}),this.form.controls.validatePlan.setValue(!0,{emitEvent:!1}))}updatePlanNameAfterFileChange(e){(this.form.controls.planName.pristine||""===this.form.value.planName||null===this.form.value.planName)&&(this.form.controls.planName.markAsDirty(),this.form.patchValue({planName:this.createPlanName(e)}))}createPlanName(e){return`Plan_${e?e.replace(/\.[^/.]+$/,""):""}`.substr(0,128)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(xn.qu),Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-load-scf-overlay-panel"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(wn.oh7,7),Pe.Gf(Sh.EU,7),Pe.Gf(Sh.EU,7)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.overlayPanelComponent=e.first),Pe.iGM(e=Pe.CRH())&&(t.control=e.first),Pe.iGM(e=Pe.CRH())&&(t.control2=e.first)}},inputs:{loadScfDisabled:"loadScfDisabled",model:"model",disabled:"disabled",id:"id"},decls:16,vars:29,consts:[[3,"roleAccessFlag","model","disabled","id","visibilityChange"],[1,"p-dialog"],[1,"p-dialog-content"],[1,"load-form",3,"formGroup"],["controlName","file","accept",".xml","label","SCF File",3,"group","id","validationMessages","validationMessageDisplay","change"],["controlName","planName","label","Plan name","placeholder","<Enter plan name>",3,"group","id","inputValueType","validationMessages","validationMessageDisplay","maxlength"],["controlName","planDescription","label","Plan description","placeholder","<Enter description>",3,"group","id","validationMessageDisplay","maxlength"],["name","validatePlan","label","Yes","formControlName","validatePlan",1,"load-scf-radio",3,"value"],["name","validatePlan","formControlName","validatePlan","label","No",3,"value"],[1,"p-dialog-footer"],["id","load-scf",1,"action-button",3,"disabled","model","options","action"],["id","cancel",1,"action-button",3,"model","options","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-overlay-menu-bar",0),Pe.NdJ("visibilityChange",function(e){return t.visibilityChange(e)}),Pe.TgZ(1,"div",1),Pe.TgZ(2,"div",2),Pe.TgZ(3,"form",3),Pe.TgZ(4,"ui-webem-form-input-file",4),Pe.NdJ("change",function(e){return t.onFileChange(e)}),Pe.qZA(),Pe._UZ(5,"ui-webem-form-input",5),Pe._UZ(6,"ui-webem-form-textarea",6),Pe.TgZ(7,"label"),Pe._uU(8,"Validate plan:"),Pe.qZA(),Pe.TgZ(9,"div"),Pe._UZ(10,"p-radioButton",7),Pe._UZ(11,"p-radioButton",8),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(12,"div",9),Pe.TgZ(13,"p-footer"),Pe.TgZ(14,"ui-webem-button",10),Pe.NdJ("action",function(){return t.loadScf()}),Pe.qZA(),Pe.TgZ(15,"ui-webem-button",11),Pe.NdJ("action",function(){return t.hideOverlayPanel()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.Q6J("roleAccessFlag","LOAD_SCF")("model",t.model)("disabled",t.disabled)("id",t.id),Pe.xp6(3),Pe.Q6J("formGroup",t.form),Pe.xp6(1),Pe.Q6J("group",t.form)("id","webem-pe-load-scf-overlay-panel-plan-file")("validationMessages",Pe.DdM(27,sb))("validationMessageDisplay",t.messageDisplay.SHOW_MESSAGE),Pe.xp6(1),Pe.Q6J("group",t.form)("id","webem-pe-load-scf-overlay-panel-plan-name")("inputValueType",t.inputValueType.TEXT)("validationMessages",Pe.DdM(28,ab))("validationMessageDisplay",t.messageDisplay.SHOW_MESSAGE)("maxlength",128),Pe.uIk("title",t.planNameFormControl.value),Pe.xp6(1),Pe.Q6J("group",t.form)("id","webem-pe-load-scf-overlay-panel-description-textarea")("validationMessageDisplay",t.messageDisplay.HIDE_MESSAGE_SHOW_PADDING)("maxlength",1024),Pe.xp6(4),Pe.Q6J("value",!0),Pe.xp6(1),Pe.Q6J("value",!1),Pe.xp6(3),Pe.Q6J("disabled",t.form.invalid||t.loadScfDisabled)("model",t.loadActionButtonModel)("options",t.buttonOptions),Pe.xp6(1),Pe.Q6J("model",t.cancelActionButtonModel)("options",t.buttonOptions))},directives:[yh.o,xn._Y,xn.JL,xn.sg,ob,Zi,uf,Sh.EU,xn.JJ,xn.u,Ri.$_,Ui.r],styles:[".load-form[_ngcontent-%COMP%]{width:390px}.load-form[_ngcontent-%COMP%]     .no-validation-message{padding-bottom:20px}.load-form[_ngcontent-%COMP%]     .validation-message{padding-bottom:2px}.load-scf-radio[_ngcontent-%COMP%]{padding-right:50px}.action-button[_ngcontent-%COMP%]{padding-right:8px}"]}),e})();const lb=function(){return{required:"Plan name cannot be empty",excludedWords:"Plan with the given name already exists. Please choose a different name"}};function cb(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-overlay-menu-bar",1,2),Pe.NdJ("visibilityChange",function(t){return Pe.CHM(e),Pe.oxw().visibilityChange(t)}),Pe.TgZ(3,"div",3),Pe.TgZ(4,"form",4),Pe.NdJ("ngSubmit",function(){return Pe.CHM(e),Pe.oxw().submit()}),Pe._UZ(5,"ui-webem-form-input",5),Pe._UZ(6,"ui-webem-form-textarea",6),Pe.qZA(),Pe.TgZ(7,"div",7),Pe.TgZ(8,"p-footer"),Pe.TgZ(9,"div",8),Pe.TgZ(10,"ui-webem-button",9),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().submit()}),Pe.qZA(),Pe.TgZ(11,"ui-webem-button",10),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().cancel()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("roleAccessFlag","CREATE_DELTA_PLAN")("model",n.model)("disabled",n.disabled)("id",n.id),Pe.xp6(4),Pe.Q6J("group",n.form)("id","edit-plan-plan-name-input")("inputValueType",n.inputValueType.TEXT)("maxlength",128)("validationMessages",Pe.DdM(20,lb)),Pe.uIk("title",n.planNameControl.value),Pe.xp6(1),Pe.Q6J("group",n.form)("id","edit-plan-plan-description-input")("validationMessageDisplay",n.messageDisplay.HIDE_MESSAGE_AND_GROUP)("maxlength",1024),Pe.xp6(4),Pe.Q6J("disabled",n.form.invalid||e.shouldDisableInputs)("model",n.createActionButtonModel)("options",n.buttonOptions),Pe.xp6(1),Pe.Q6J("disabled",e.shouldDisableInputs)("model",n.cancelActionButtonModel)("options",n.buttonOptions)}}const db=function(e){return{shouldDisableInputs:e}};let ub=(()=>{class e{constructor(e){this.store=e,this.buttonOptions={forceWidth:"70px"},this.createActionButtonModel={label:"OK",theme:wn.bnJ.Accent},this.cancelActionButtonModel={label:"Cancel"},this.messageDisplay=wn.t0A,this.inputValueType=wn.RYy,this.planNameControl=new xn.NI(""),this.form=new xn.cw({planName:this.planNameControl,planDescription:new xn.NI("")}),this.latestDefaultPlanName="",this.ngUnsubscribe=new Ae.xQ,this.createdPlanOrigin=ht.tX.DELTA}ngOnInit(){(0,ft.aj)([this.store.select(Vi.hV),this.store.select(Vi.Zs)]).pipe((0,_e.R)(this.ngUnsubscribe),(0,A.U)(([e,t])=>e.concat(t).map(e=>e.planName))).subscribe(e=>this.planNameControl.setValidators([xn.kI.required,Bn(e)])),this.shouldDisableInputs$=(0,ft.aj)([this.store.select(Vi.A5),this.store.pipe((0,g.Ys)(gs),(0,A.U)(e=>e.isDeltaPlanCreationOperationOngoing))]).pipe((0,A.U)(([e,t])=>e||t)),this.defaultPlanName$=this.store.pipe((0,g.Ys)((0,Vi.a4)([this.createdPlanOrigin])),(0,A.U)(e=>rf(e,this.createdPlanOrigin))),this.subscribeToFormEnabledStateChanges(),this.subscribeToDefaultPlanNameChanges()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}submit(){this.store.dispatch(es({request:Object.assign({},this.form.value),option:ht.cW.EDIT})),this.overlayPanel.hide()}cancel(){this.overlayPanel.hide()}visibilityChange(e){e&&this.form.reset({planName:this.latestDefaultPlanName,planDescription:""})}subscribeToFormEnabledStateChanges(){(0,ft.aj)([this.shouldDisableInputs$,this.defaultPlanName$]).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(([e,t])=>{e&&this.form.enabled&&this.form.disable(),!e&&this.form.disabled&&(this.form.enable(),this.form.patchValue({planName:t,planDescription:""}))})}subscribeToDefaultPlanNameChanges(){this.defaultPlanName$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.latestDefaultPlanName=e,this.form.disabled||this.form.controls.planName.pristine&&this.form.patchValue({planName:e})})}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-create-delta-plan-overlay-panel"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(wn.oh7,5),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.overlayPanel=e.first)}},inputs:{model:"model",disabled:"disabled",id:"id"},decls:2,vars:5,consts:[[4,"ngIf"],["appendTo","body",3,"roleAccessFlag","model","disabled","id","visibilityChange"],["overlayPanel",""],[1,"p-dialog"],[1,"p-dialog-content","edit-plan-panel-content",3,"ngSubmit"],["controlName","planName","label","Plan name","placeholder","<Enter data>",3,"group","id","inputValueType","maxlength","validationMessages"],["controlName","planDescription","label","Plan description","placeholder","<Enter description>",3,"group","id","validationMessageDisplay","maxlength"],[1,"p-dialog-footer"],[1,"edit-plan-panel-footer"],["id","edit-plan-create-button",1,"create-delta-plan-action-button",3,"disabled","model","options","action"],["id","edit-plan-cancel-button",1,"create-delta-plan-action-button",3,"disabled","model","options","action"]],template:function(e,t){1&e&&(Pe.YNc(0,cb,12,21,"ng-container",0),Pe.ALo(1,"async")),2&e&&Pe.Q6J("ngIf",Pe.VKq(3,db,Pe.lcZ(1,1,t.shouldDisableInputs$)))},directives:[m.O5,yh.o,xn._Y,xn.JL,xn.F,Zi,uf,Ri.$_,Ui.r],pipes:[m.Ov],styles:[".edit-plan-panel-content[_ngcontent-%COMP%]{width:320px}.create-delta-plan-action-button[_ngcontent-%COMP%]{padding-right:8px}"]}),e})();function pb(e,t){if(1&e&&(Pe.ynx(0),Pe._UZ(1,"configuration-shared-create-delta-plan-overlay-panel",1),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("id","edit-plan-menu-button")("model",e.createDeltaPlanButtonModel)("disabled",e.isMaxNumberOfPlansExceeded||e.isOperationOngoing)}}const gb=function(e,t,n){return{isMaxNumberOfPlansExceeded:e,isOperationOngoing:t,createDeltaPlanButtonModel:n}};let hb=(()=>{class e{constructor(e){this.store=e,this.recalculateButtonModel$=new sf.X({})}ngOnInit(){this.isOperationOngoing$=this.store.pipe((0,g.Ys)(gs),(0,A.U)(e=>e.isDeltaPlanCreationOperationOngoing)),this.isMaxNumberOfDeltaPlansExceeded$=this.store.select(Vi.A5),this.createDeltaPlanButtonModel$=(0,ft.aj)([this.isMaxNumberOfDeltaPlansExceeded$,this.isOperationOngoing$,this.recalculateButtonModel$]).pipe((0,A.U)(([e,t,n])=>this.buildEditButtonModel(e,t)))}ngOnChanges(e){!e.createDeltaPlanButtonModel.isFirstChange()&&this.createDeltaPlanButtonModel&&this.recalculateButtonModel$.next({})}buildEditButtonModel(e,t){const n=Object.assign({},this.createDeltaPlanButtonModel);return e?(n.title="Maximum number of delta plans already created",n):(t&&(n.icon="mdi mdi-loading mdi-spin",n.title="Create delta plan operation ongoing"),n)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-create-delta-plan"]],inputs:{createDeltaPlanButtonModel:"createDeltaPlanButtonModel"},features:[Pe.TTD],decls:4,vars:11,consts:[[4,"ngIf"],[3,"id","model","disabled"]],template:function(e,t){1&e&&(Pe.YNc(0,pb,2,3,"ng-container",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async")),2&e&&Pe.Q6J("ngIf",Pe.kEZ(7,gb,Pe.lcZ(1,1,t.isMaxNumberOfDeltaPlansExceeded$),Pe.lcZ(2,3,t.isOperationOngoing$),Pe.lcZ(3,5,t.createDeltaPlanButtonModel$)))},directives:[m.O5,ub],pipes:[m.Ov],styles:[".edit-plan-button[_ngcontent-%COMP%]{padding:0;background-color:#124191;color:#fff}"]}),e})();var mb=n(13742);const fb="globalSearch",bb={searchInput:"",pageNumber:1,itemsPerPage:17,sortedBy:"parameterFullName",sortOrder:"asc",filterByName:"",items:[],total:0,isSearchOnGoing:!1},Cb=(0,g.Lq)(bb,(0,g.on)(Hg,(e,{filter:t})=>Object.assign(Object.assign({},e),{searchInput:t})),(0,g.on)(Wg,(e,{filter:t})=>Object.assign(Object.assign({},e),{filterByName:t,pageNumber:1})),(0,g.on)(eh,(e,{pageNumber:t})=>Object.assign(Object.assign({},e),{pageNumber:t})),(0,g.on)(th,(e,{items:t})=>Object.assign(Object.assign({},e),{itemsPerPage:t})),(0,g.on)(nh,(e,{sortOrder:t})=>Object.assign(Object.assign({},e),{sortOrder:t})),(0,g.on)(ih,(e,{items:t,total:n})=>Object.assign(Object.assign({},e),{items:t,total:n})),(0,g.on)(oh,(e,{items:t})=>Object.assign(Object.assign({},e),{items:t})),(0,g.on)(sh,(e,{timestamp:t})=>Object.assign(Object.assign({},e),{timestamp:t})),(0,g.on)(zg,e=>bb),(0,g.on)(Qg,(e,{sortOrder:t,sortedBy:n})=>Object.assign(Object.assign({},e),-1===t?{sortOrder:"desc",sortedBy:n}:{sortOrder:"asc",sortedBy:n})),(0,g.on)(ah,(e,{isSearchOnGoing:t})=>Object.assign(Object.assign({},e),{isSearchOnGoing:t})));function vb(e,t){return Cb(e,t)}const yb=(0,g.ZF)(fb),Sb=((0,g.P1)(yb,e=>e.items),(0,g.P1)(yb,e=>e.sortOrder),(0,g.P1)(yb,e=>e.total)),Pb=(0,g.P1)(yb,e=>e.itemsPerPage),Ob=(0,g.P1)(yb,e=>e.pageNumber),xb=(0,g.P1)(yb,e=>({sortedBy:e.sortedBy,sortOrder:e.sortOrder})),wb=(0,g.P1)(yb,e=>e.searchInput),Ab=(0,g.P1)(yb,e=>e.filterByName),_b=(0,g.P1)(yb,e=>e.items),Tb=(0,g.P1)(yb,e=>e.timestamp),Ib=(0,g.P1)(yb,e=>e.isSearchOnGoing);var Eb=(()=>(function(e){e.Bottom="bottomView",e.Top="topView",e.DropDown="viewDropdown"}(Eb||(Eb={})),Eb))(),Mb=n(54395),kb=n(15614);function Nb(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-input-clear",6),Pe.NdJ("buttonClicked",function(){return Pe.CHM(e),Pe.oxw().resetValue()}),Pe.qZA()}}const Lb=function(e){return{disabled:e}};let Db=(()=>{class e{constructor(){this.valueChange=new Pe.vpe,this.value="",this.placeholder="",this.changeValueSubject=new Ae.xQ}ngOnInit(){this.changeValueSubject.pipe((0,Mb.b)(200)).subscribe(()=>this.valueChange.emit(this.value))}onValueChange(){this.changeValueSubject.next()}resetValue(){this.value="",this.changeValueSubject.next()}ngOnDestroy(){this.changeValueSubject.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-global-search-input"]],inputs:{value:"value",disabled:"disabled",placeholder:"placeholder"},outputs:{valueChange:"valueChange"},decls:6,vars:7,consts:[["id","parameter-search-input",1,"filter-input"],[1,"ui-inputgroup"],[1,"ui-inputgroup-addon",3,"ngClass","click"],[1,"mdi","mdi-magnify"],["pInputText","","type","text","autocomplete","off",1,"search-input-field",3,"placeholder","disabled","ngModel","keydown.enter","ngModelChange"],[3,"buttonClicked",4,"ngIf"],[3,"buttonClicked"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"div",2),Pe.NdJ("click",function(){return t.onValueChange()}),Pe._UZ(3,"i",3),Pe.qZA(),Pe.TgZ(4,"input",4),Pe.NdJ("keydown.enter",function(){return t.onValueChange()})("ngModelChange",function(e){return t.value=e}),Pe.qZA(),Pe.YNc(5,Nb,1,0,"ui-webem-input-clear",5),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(2),Pe.Q6J("ngClass",Pe.VKq(5,Lb,t.disabled)),Pe.xp6(2),Pe.Q6J("placeholder",t.placeholder)("disabled",t.disabled)("ngModel",t.value),Pe.xp6(1),Pe.Q6J("ngIf",""!==t.value))},directives:[m.mk,xn.Fj,Ei.o,xn.JJ,xn.On,m.O5,kb.m],styles:[".filter-input[_ngcontent-%COMP%]{display:inline-block;position:relative;width:100%;--input-height:26px}.filter-input[_ngcontent-%COMP%]   .ui-inputgroup-addon[_ngcontent-%COMP%]{height:var(--input-height)}.filter-input[_ngcontent-%COMP%]   .input-float-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.filter-input[_ngcontent-%COMP%]   .search-input-field[_ngcontent-%COMP%]{font-size:14px;height:26px;width:100%}[_nghost-%COMP%], ui-webem-filter-input[_ngcontent-%COMP%]{display:inline-block;width:100%}"]}),e})();function Zb(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-global-search-input",1),Pe.NdJ("valueChange",function(t){return Pe.CHM(e),Pe.oxw().filterChanged(t)}),Pe.ALo(2,"isInactivePlan"),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("value",e.searchText)("disabled",n.disabled?n.disabled:Pe.lcZ(2,2,e.selectedPlan))}}const Rb=function(e,t){return{selectedPlan:e,searchText:t}};let Ub=(()=>{class e{constructor(e,t,n){this.store=e,this.router=t,this.activatedRoute=n}ngOnInit(){this.selectedPlan$=this.store.select(me.ji),this.searchText$=this.store.select(wb)}filterChanged(e){if(this.store.dispatch(Hg({filter:e})),""===e)return void this.store.dispatch(zg());const t=this.router.url;t===Ip.r.parameterSearch||t.includes(`${Eb.Top}:${Ip.r.parameterSearch.slice(1)}`)||t.includes(`${Eb.Bottom}:${Ip.r.parameterSearch.slice(1)}`)?(this.store.dispatch(Wg({filter:e})),this.store.dispatch(Kg())):(this.store.dispatch(Wg({filter:e})),this.store.dispatch((0,mb.uX)({routerLink:Ip.r.parameterSearch,activatedRoute:this.activatedRoute})))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(f.F0),Pe.Y36(f.gz))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-global-search"]],inputs:{disabled:"disabled"},decls:3,vars:8,consts:[[4,"ngIf"],[3,"value","disabled","valueChange"]],template:function(e,t){1&e&&(Pe.YNc(0,Zb,3,4,"ng-container",0),Pe.ALo(1,"async"),Pe.ALo(2,"async")),2&e&&Pe.Q6J("ngIf",Pe.WLB(5,Rb,Pe.lcZ(1,1,t.selectedPlan$),Pe.lcZ(2,3,t.searchText$)))},directives:[m.O5,Db],pipes:[m.Ov,_o],styles:[""]}),e})();var Fb=n(83473);let jb=(()=>{class e{transform(e){return!!e&&(0,sc.j)(e)&&!e.isChanged}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isUnchangedPlan",type:e,pure:!0}),e})(),$b=(()=>{class e{transform(e){return!e||e.from===ht.tX.INACTIVE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"savePlanDisabled",type:e,pure:!0}),e})(),qb=(()=>{class e{transform(e){const t=Zg(e.configurationMenuWidth,"mdi mdi-content-save","Save plan configuration","Save Plan");return e.receivePlanIsOngoing&&(t.icon=Ng),e.isPlanUnchanged&&(t.title=Dg),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"getSaveButtonModel",type:e,pure:!0}),e})(),Bb=(()=>{class e{transform(e){return!e||!(e.from===ht.tX.DELTA||e.from===ht.tX.STAGE)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"validationDisabled",type:e,pure:!0}),e})(),Gb=(()=>{class e{transform(e){const t=Zg(e.configurationMenuWidth,"mdi mdi-check-all","Validate plan configuration","Validate Plan");return e.validatePlanIsOngoing&&(t.icon=Ng),e.isPlanUnchanged&&(t.title=Dg),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"getValidateButtonModel",type:e,pure:!0}),e})(),Vb=(()=>{class e{transform(e){return!e||e.from===ht.tX.ACTIVE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"activationDisabled",type:e,pure:!0}),e})(),Yb=(()=>{class e{transform(e){const t=Zg(e.configurationMenuWidth,"mdi mdi-cloud-check","Activate plan configuration","Activate Plan");return e.activatePlanIsOngoing?t.icon=Ng:e.selectedPlan&&e.selectedPlan.from!==ht.tX.ACTIVE&&!e.isDeltaPlanOutdated&&!1===e.isReadyForCommission&&e.isVcu&&(t.title="CU is not ready for commission. Please wait a few minutes."),e.isDefinitionErrorsExist&&(t.title="Configuration plan is not valid. Please fix the errors first."),e.isPlanUnchanged&&(t.title=Dg),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"getActivateButtonModel",type:e,pure:!0}),e})(),Jb=(()=>{class e{transform(e){return!e||e.from===ht.tX.ACTIVE||e.from===ht.tX.INACTIVE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"deletePlanDisabled",type:e,pure:!0}),e})();function Hb(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"div",3),Pe._UZ(2,"configuration-shared-plans-dropdown",4),Pe.TgZ(3,"configuration-shared-save-plan-overlay-panel",5),Pe.NdJ("saveMethod",function(t){const n=Pe.CHM(e).ngIf;return Pe.oxw().save(n.selectedPlan,t)}),Pe.ALo(4,"savePlanDisabled"),Pe.ALo(5,"getSaveButtonModel"),Pe.qZA(),Pe.TgZ(6,"ui-webem-button",6,7),Pe.NdJ("action",function(){const t=Pe.CHM(e).ngIf;return Pe.oxw().validate(t.selectedPlan)}),Pe.ALo(8,"validationDisabled"),Pe.ALo(9,"getValidateButtonModel"),Pe.qZA(),Pe._UZ(10,"configuration-shared-activation-overlay-panel",8),Pe.ALo(11,"activationDisabled"),Pe.ALo(12,"getActivateButtonModel"),Pe._UZ(13,"configuration-shared-fix-errors-overlay-panel",9),Pe.ALo(14,"isActivePlan"),Pe.ALo(15,"isInactivePlan"),Pe.TgZ(16,"ui-webem-button",10,11),Pe.NdJ("action",function(){const t=Pe.CHM(e).ngIf;return Pe.oxw().delete(t.selectedPlan)}),Pe.ALo(18,"deletePlanDisabled"),Pe.qZA(),Pe._UZ(19,"div",12),Pe._UZ(20,"configuration-shared-create-plan",13),Pe._UZ(21,"configuration-shared-load-scf-overlay-panel",14),Pe._UZ(22,"configuration-shared-create-delta-plan",15),Pe._UZ(23,"configuration-shared-global-search",16),Pe._UZ(24,"p-confirmDialog",17),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.MAs(7),i=Pe.MAs(17),o=Pe.oxw();Pe.xp6(3),Pe.Q6J("id","webem-parameter-editor-menu-save-plan-button")("planOrigin",e.selectedPlan&&e.selectedPlan.from)("disabled",Pe.lcZ(4,25,e.selectedPlan)||e.receivePlanIsOngoing||e.isPlanUnchanged)("model",Pe.lcZ(5,27,e)),Pe.xp6(3),Pe.Q6J("oamRoleAccessControl","VALIDATE_PLAN")("hostInstance",n)("disabled",Pe.lcZ(8,29,e.selectedPlan)||e.validatePlanIsOngoing||e.isDeltaPlanOutdated||e.isPlanUnchanged)("model",Pe.lcZ(9,31,e)),Pe.xp6(4),Pe.Q6J("id","webem-parameter-editor-menu-plan-activation-button")("disabled",Pe.lcZ(11,33,e.selectedPlan)||o.activationButtonDisabled(e))("model",Pe.lcZ(12,35,e)),Pe.xp6(3),Pe.Q6J("id","webem-configuration-menu-fix-errors-button")("disabled",Pe.lcZ(14,37,e.selectedPlan)||Pe.lcZ(15,39,e.selectedPlan)||e.isDeltaPlanOutdated)("model",o.fixErrorsButton),Pe.xp6(3),Pe.Q6J("oamRoleAccessControl","DELETE_PLAN")("hostInstance",i)("disabled",Pe.lcZ(18,41,e.selectedPlan))("model",o.deletePlanButton),Pe.xp6(4),Pe.Q6J("createPlanButtonModel",o.createPlanButton),Pe.xp6(1),Pe.Q6J("loadScfDisabled",e.loadScfDisabled)("id","webem-parameter-editor-menu-upload-button")("disabled",e.loadScfDisabled)("model",o.loadScfButton),Pe.xp6(1),Pe.Q6J("createDeltaPlanButtonModel",o.editPlanButton),Pe.xp6(1),Pe.Q6J("disabled",e.isDeltaPlanOutdated)}}const Wb=function(e,t,n,i,o,s,a,r,l,c,d){return{selectedPlan:e,loadScfDisabled:t,isDeltaPlanOutdated:n,receivePlanIsOngoing:i,activatePlanIsOngoing:o,validatePlanIsOngoing:s,isPlanUnchanged:a,isReadyForCommission:r,isVcu:l,configurationMenuWidth:c,isDefinitionErrorsExist:d}};let Qb=(()=>{class e{constructor(e,t,n,i,o){this.route=e,this.store=t,this.configurationMenuComponentRef=n,this.vnfcSharedService=i,this.cd=o,this.completeSelectCurrentPlan=new Ae.xQ,this.completeSelectPlanTree=new Ae.xQ,this.loadScfText="Upload plan configuration",this.loadedScfLimitReachedText="Limits of loaded plans exceeded",this.ngUnsubscribe=new Ae.xQ,this.CONFIGURATION_MENU_HEIGHT=45,this.configurationMenuWidth=0,this.isDefinitionErrorsExist=!1}ngOnInit(){this.setButtonsModel(),this.selectedPlan$=this.store.select(me.ji),this.isPlanSendInProgress$=this.store.select(Ig),this.receivePlanIsOngoing$=this.store.select(Sg),this.isDeltaPlanOutdated$=this.store.select(me.gb),this.activatePlanIsOngoing$=this.store.select(Vo),this.validationButtonIsOngoing$=this.store.select(ju),this.isReadyForCommission$=this.store.pipe((0,g.Ys)(qg.Ph)),this.isVcu=this.vnfcSharedService.isVcu(),(0,ft.aj)([this.store.select(zu),this.store.select(ep),this.store.select(me.oI)]).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(([e,t,n])=>{this.isDefinitionErrorsExist=t===n&&!!e});const e=this.store.select(Vi.fk);this.loadScfDisabled$=(0,ft.aj)([e,this.isPlanSendInProgress$]).pipe((0,A.U)(([e,t])=>(this.loadScfButton.title=e?"Maximum number of plans already created":this.loadScfButtonOriginalTitle,e||t))),this.loadScfButtonTitle$=e.pipe((0,A.U)(e=>e?this.loadedScfLimitReachedText:this.loadScfText)),this.store.select(qn).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{e||this.store.dispatch(_n())}),this.selectMoObjectByNameFromState()}ngOnDestroy(){this.completeSelectCurrentPlan.next(),this.completeSelectCurrentPlan.complete(),this.completeSelectPlanTree.next(),this.completeSelectPlanTree.complete(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewChecked(){const e=this.configurationMenuComponentRef.nativeElement.offsetWidth;this.configurationMenuWidth!==e&&setTimeout(()=>{this.configurationMenuWidth=e,this.setButtonsModel()}),this.cd.detectChanges()}validate(e){e&&(this.store.dispatch(_d({planBase:{from:e.from,planId:e.planId}})),this.store.dispatch(bu({payload:Rg(this.configurationMenuComponentRef.nativeElement&&this.configurationMenuComponentRef.nativeElement.parentElement&&this.configurationMenuComponentRef.nativeElement.parentElement.offsetHeight-this.CONFIGURATION_MENU_HEIGHT)})))}save(e,t){this.store.dispatch(Pg({saveVariant:t,from:e.from,planId:e.planId,planName:e.planName}))}delete(e){this.store.dispatch((0,wn.VGr)({message:`Do you want to delete plan ${e.planName}?`,icon:Gi.Wf,key:"confirm dialog configuration",accept:()=>{this.store.dispatch(ms({planId:e.planId,planOrigin:e.from}))}}))}setButtonsModel(){this.createButton=Zg(this.configurationMenuWidth,Lg,"Upload plan configuration","Create Plan"),this.deletePlanButton=Zg(this.configurationMenuWidth,"mdi mdi-delete-forever","Delete Plan","Delete Plan"),this.fixErrorsButton=Zg(this.configurationMenuWidth,"mdi mdi-wrench","Fix Errors","Fix Errors"),this.loadScfButton=function(e){return Zg(e,"mdi mdi-folder-open","Load SCF","Load SCF...")}(this.configurationMenuWidth),this.loadScfButtonOriginalTitle=this.loadScfButton.title,this.createPlanButton=function(e){return Zg(e,Lg,"Create new plan","Create Plan")}(this.configurationMenuWidth),this.editPlanButton=function(e){return Zg(e,"mdi mdi-pencil-plus-outline","Create new Delta Plan by editing active plan","Create Delta Plan")}(this.configurationMenuWidth)}hasRedirectionData(){var e;return!!(null===(e=history.state)||void 0===e?void 0:e.data)&&history.state.data.type===$g.b.PARAMETER_EDITOR}selectMoObjectByNameFromState(){this.store.pipe((0,g.Ys)(Vi.CM),(0,Bo.M)(this.store.select(me.pQ)),(0,vs.h)(()=>this.hasRedirectionData()),(0,vs.h)(([,e])=>!e),(0,vs.h)(([e])=>!!e),(0,_e.R)(this.completeSelectCurrentPlan)).subscribe(([e])=>{this.store.dispatch(Fg({planId:e.planId,planOrigin:e.from})),this.completeSelectCurrentPlan.next(),this.completeSelectCurrentPlan.complete(),this.cd.detectChanges()}),(0,ft.aj)([this.store.select(oe),this.store.select(Vi.CM)]).pipe((0,vs.h)(()=>this.hasRedirectionData()),(0,_e.R)(this.completeSelectPlanTree)).subscribe(([{nodes:e,planId:t},n])=>{var i,o;const s=null===(i=history.state.data)||void 0===i?void 0:i.selectMoObjectByName,a=e&&(null===(o=e.find(e=>e.name===s))||void 0===o?void 0:o.moUuid);(null==n?void 0:n.planId)===t&&a&&(this.completeSelectPlanTree.next(),this.completeSelectPlanTree.complete(),this.store.dispatch(N({moUuid:a}))),this.cd.detectChanges()}),this.route.events.pipe((0,vs.h)(e=>e instanceof f.m2),(0,Bo.M)(this.store.select(oe)),(0,_e.R)(this.ngUnsubscribe)).subscribe(([e,{nodes:t}])=>{var n,i;const o=null===(n=history.state.data)||void 0===n?void 0:n.selectMoObjectByName,s=t&&(null===(i=t.find(e=>e.name===o))||void 0===i?void 0:i.moUuid);s&&this.store.dispatch(N({moUuid:s}))})}activationButtonDisabled(e){return e.activatePlanIsOngoing||e.isDeltaPlanOutdated||e.isPlanUnchanged||e.isDefinitionErrorsExist||!1===e.isReadyForCommission&&this.isVcu}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(f.F0),Pe.Y36(g.yh),Pe.Y36(Pe.SBq),Pe.Y36(Bg.Z9),Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-menu"]],decls:12,vars:31,consts:[[1,"configuration-actions"],["configurationActions",""],[4,"ngIf"],["id","webem-parameter-editor-menu"],["id","webem-parameter-editor-menu-plans-dropdown"],[1,"save-plan-button",3,"id","planOrigin","disabled","model","saveMethod"],["id","webem-parameter-editor-menu-plan-validation-button",1,"plan-validation-button",3,"oamRoleAccessControl","hostInstance","disabled","model","action"],["VALIDATE_PLAN",""],[1,"plan-activation-button",3,"id","disabled","model"],[1,"fix-errors-button",3,"id","disabled","model"],["id","webem-parameter-editor-menu-delete-plan-button",1,"delete-plan-button",3,"oamRoleAccessControl","hostInstance","disabled","model","action"],["DELETE_PLAN",""],[1,"divider"],[3,"createPlanButtonModel"],[1,"menu-upload-button",3,"loadScfDisabled","id","disabled","model"],[3,"createDeltaPlanButtonModel"],[1,"global-search-input",3,"disabled"],["key","confirm dialog configuration","id","webem-parameter-editor-menu-dialog","header","Confirmation",1,"confirmation-dialog"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0,1),Pe.YNc(2,Hb,25,43,"ng-container",2),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.ALo(5,"async"),Pe.ALo(6,"async"),Pe.ALo(7,"async"),Pe.ALo(8,"async"),Pe.ALo(9,"isUnchangedPlan"),Pe.ALo(10,"async"),Pe.ALo(11,"async"),Pe.qZA()),2&e&&(Pe.xp6(2),Pe.Q6J("ngIf",Pe.rFY(19,Wb,[Pe.lcZ(3,1,t.selectedPlan$),Pe.lcZ(4,3,t.loadScfDisabled$),Pe.lcZ(5,5,t.isDeltaPlanOutdated$),Pe.lcZ(6,7,t.receivePlanIsOngoing$),Pe.lcZ(7,9,t.activatePlanIsOngoing$),Pe.lcZ(8,11,t.validationButtonIsOngoing$),Pe.lcZ(9,13,Pe.lcZ(10,15,t.selectedPlan$)),Pe.lcZ(11,17,t.isReadyForCommission$),t.isVcu,t.configurationMenuWidth,t.isDefinitionErrorsExist])))},directives:[m.O5,Ch,Oh,Ui.r,bs.h,_m,of,Af,rb,hb,Ub,Fb.Q],pipes:[m.Ov,jb,$b,qb,Bb,Gb,Vb,Yb,ic,_o,Jb],styles:['[_nghost-%COMP%]{display:flex;align-items:flex-start;width:100%;flex-direction:column}#webem-parameter-editor-menu[_ngcontent-%COMP%]{margin:7px 0;display:flex;flex-flow:row;width:100%;align-items:center}#webem-parameter-editor-menu-dialog[_ngcontent-%COMP%]{white-space:pre-wrap}#webem-parameter-editor-menu[_ngcontent-%COMP%]   .fix-errors-button[_ngcontent-%COMP%], #webem-parameter-editor-menu[_ngcontent-%COMP%]   .menu-upload-button[_ngcontent-%COMP%], #webem-parameter-editor-menu[_ngcontent-%COMP%]   .plan-activation-button[_ngcontent-%COMP%], #webem-parameter-editor-menu[_ngcontent-%COMP%]   .plan-validation-button[_ngcontent-%COMP%], #webem-parameter-editor-menu[_ngcontent-%COMP%]   .save-plan-button[_ngcontent-%COMP%]{margin:0 4px}#webem-parameter-editor-menu[_ngcontent-%COMP%]   configuration-shared-create-plan[_ngcontent-%COMP%], #webem-parameter-editor-menu[_ngcontent-%COMP%]   configuration-shared-plans-dropdown[_ngcontent-%COMP%]{margin-right:4px}#webem-parameter-editor-menu[_ngcontent-%COMP%]   .delete-plan-button[_ngcontent-%COMP%], #webem-parameter-editor-menu[_ngcontent-%COMP%]   configuration-shared-create-delta-plan[_ngcontent-%COMP%]{margin-left:4px}.mdi.ui-button-icon-left[_ngcontent-%COMP%]{font-size:16px}.global-search-input[_ngcontent-%COMP%]{width:100%;max-width:300px;margin-left:auto}.configuration-navigation[_ngcontent-%COMP%]{z-index:500;height:35px;width:100%;background-color:#fff;box-shadow:0 1px 4px rgba(0,0,0,.06)}.configuration-actions[_ngcontent-%COMP%]{padding:0 15px;background-color:#edf2f5;width:100%;--button-icon-only-size:16px}.configuration-actions[_ngcontent-%COMP%]:after{content:"";display:block;margin:0 auto;border-bottom:1px solid #98a2ae}.divider[_ngcontent-%COMP%]{margin:0 15px;padding-right:1px;background:#98a2ae;height:30px}.confirmation-dialog[_ngcontent-%COMP%]  .p-dialog{width:320px;word-break:break-all}.confirmation-dialog[_ngcontent-%COMP%]  .p-dialog-header{line-height:0;margin:0;font-weight:400;padding:30px 20px 30px 25px}.confirmation-dialog[_ngcontent-%COMP%]  .p-dialog-title{font-family:Nokia Pure,monospace;font-size:16px;font-weight:700}.confirmation-dialog[_ngcontent-%COMP%]  .p-dialog.p-confirm-dialog .p-dialog-content{margin-bottom:20px}.confirmation-dialog[_ngcontent-%COMP%]  .p-dialog.p-confirm-dialog .p-dialog-content .p-confirm-dialog-message{font-family:Nokia Pure,monospace;font-size:12px}']}),e})();const zb=[{path:"",component:Ad,outlet:"content_center"},{path:"",component:Dp,outlet:"content_menu"},{path:"",component:vg,outlet:"content_right"},{path:"",component:Qb,outlet:"content_actions_bar"}];let Kb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(zb)],f.Bz]}),e})();var Xb=n(46543),eC=n(19309);let tC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,Ri.m8,eC.T],Ri.m8]}),e})();var nC=n(33758),iC=n(28220),oC=n(17513),sC=n(45121);let aC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez]]}),e})();var rC=n(48478),lC=n(11971),cC=n(46239),dC=n(19773);let uC=(()=>{class e{constructor(e){this.actions$=e,this.clearSpinner$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(kt.jc),(0,dC.zg)(e=>(0,nl.of)((0,kt.Wt)({actionProgresses:[e]})))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),pC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,g.Aw.forFeature(Lt,Ut),oC.sQ.forFeature([uC])]]}),e})();var gC=n(18466),hC=n(12205),mC=n(76806),fC=n(56177);const bC=(0,g.Lq)({planId:void 0,planOrigin:void 0,deltaState:void 0},(0,g.on)(Fg,(e,{planId:t,planOrigin:n,deltaState:i})=>({planId:t,planOrigin:n,deltaState:i})),(0,g.on)(jg,()=>({planId:(0,_.noop)(),planOrigin:(0,_.noop)()})));function CC(e,t){return bC(e,t)}const vC=[{label:"Plan activation started"},{label:"Plan download"},{label:"Plan validation"},{label:"Plan activation finished"}],yC=[{label:"Plan activation started"},{label:"Plan activation finished"}],SC=[{label:"Plan download started"},{label:"Plan download finished"}],PC=(0,g.Lq)({},(0,g.on)(wh,e=>Object.assign(Object.assign({},e),{feedback:"",operationStatus:ht.ES.Ongoing,downloadOnly:!1})),(0,g.on)(um,e=>Object.assign(Object.assign({},e),{feedback:"",operationStatus:ht.ES.Ongoing,downloadOnly:!0,activationSteps:SC})),(0,g.on)(Dh,e=>Object.assign(Object.assign({},e),{operationStatus:ht.ES.Success})),(0,g.on)(Mh,(e,t)=>Object.assign(Object.assign({},e),{operationStatus:t.operationStatus,feedback:t.feedback})),(0,g.on)(Nh,(e,t)=>Object.assign(Object.assign({},e),{activationSteps:t.steps})),(0,g.on)(Lh,(e,t)=>Object.assign(Object.assign({},e),{activeIndex:t.activeIndex})),(0,g.on)(Eh,(e,t)=>Object.assign(Object.assign({},e),{cmPlanId:t.response.cmPlanId})));function OC(e,t){return PC(e,t)}var xC=n(42649);const wC={isReceivePlanOngoing:!1},AC=(0,g.Lq)(wC,(0,g.on)(Pg,e=>Object.assign(Object.assign({},e),{isReceivePlanOngoing:!0})),(0,g.on)(Og,Ag,wg,xg,e=>Object.assign(Object.assign({},e),{isReceivePlanOngoing:!1})));function _C(e=wC,t){return AC(e,t)}const TC=(0,g.Lq)({status:"not started",actionId:""},(0,g.on)(Mm,e=>Object.assign(Object.assign({},e),{status:"ongoing"})),(0,g.on)(Em,(e,{response:t})=>Object.assign(Object.assign({},e),{actionId:t.actionId,addedObjects:t.addedObjects,updatedObjects:t.updatedObjects,revision:t.revision,status:t.status})),(0,g.on)(Nm,km,e=>Object.assign(Object.assign({},e),{status:"failure"})));function IC(e,t){return TC(e,t)}var EC=n(2413),MC=n(87479),kC=n(64010),NC=n(5304),LC=n(33637),DC=n(89651),ZC=n(80222);function RC(e,t,n){return{planId:e,planName:t,hasDefinitionErrors:!1,hasRelationErrors:!1,revision:"0",isResetRequired:!1,from:n,revalidationNeeded:!1}}let UC=(()=>{class e{constructor(e,t,n,i,o){this.actions$=e,this.peService=t,this.cmService=n,this.pollingService=i,this.store=o,this.fetchStagedPlans$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.ZA),(0,MC.z)(()=>this.peService.getPlanList().pipe((0,kC.V)(this.pollingService.REQUEST_TIMEOUT_MS),(0,A.U)(e=>{const t=e.map(e=>Object.assign(Object.assign({},e),{from:ht.tX.STAGE}));return(0,rh.Av)({plans:t})}),(0,NC.K)(()=>(0,nl.of)((0,rh.kX)())))))),this.updateStagedPlans$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.Av),(0,ys.x)((e,t)=>(0,_.isEqual)((0,_.sortBy)(e.plans),(0,_.sortBy)(t.plans))),(0,A.U)(({plans:e})=>(0,rh.ZH)({plans:e})))),this.fetchDeltaPlans$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.ZA),(0,MC.z)(()=>this.peService.getDeltaPlanList().pipe((0,kC.V)(this.pollingService.REQUEST_TIMEOUT_MS),(0,A.U)(e=>{const t=e.map(e=>Object.assign(Object.assign({},e),{from:ht.tX.DELTA}));return(0,rh.ie)({plans:t})}),(0,NC.K)(()=>(0,nl.of)((0,rh.cB)())))))),this.updateDeltaPlans$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.ie),(0,ys.x)((e,t)=>(0,_.isEqual)((0,_.sortBy)(e.plans),(0,_.sortBy)(t.plans))),(0,A.U)(({plans:e})=>(0,rh.X7)({plans:e})))),this.fetchInactivePlans$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.ZA),(0,MC.z)(()=>this.cmService.getPlanIds({status:["validated"]}).pipe((0,kC.V)(this.pollingService.REQUEST_TIMEOUT_MS),(0,A.U)(e=>{const t=e.map(e=>{return RC((t=e).planId?t.planId:"0",t.createdTime?t.createdTime:"INACTIVE",ht.tX.INACTIVE);var t});return(0,rh.Dg)({plans:t})}),(0,NC.K)(()=>(0,nl.of)((0,rh.gC)())))))),this.updateInactivePlans$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.Dg),(0,ys.x)((e,t)=>(0,_.isEqual)((0,_.sortBy)(e.plans),(0,_.sortBy)(t.plans))),(0,A.U)(({plans:e})=>(0,rh.Ki)({plans:e})))),this.fetchActivePlans$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.ZA),(0,MC.z)(()=>this.peService.checkCurrentPlan().pipe((0,kC.V)(this.pollingService.REQUEST_TIMEOUT_MS),(0,A.U)(()=>{const e=[RC("cp_00000000","CURRENT_PLAN",ht.tX.ACTIVE)];return(0,rh.EY)({plans:e})}),(0,NC.K)(e=>(0,nl.of)(404===e.status?(0,rh.fs)({plans:[]}):(0,rh.rT)())))))),this.updateActivePlans$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.EY),(0,Bo.M)(this.store.select(Vi.CM),(e,t)=>({action:e,currentPlan:t})),(0,vs.h)(({action:e,currentPlan:t})=>!(0,_.isEqual)((0,_.sortBy)(e.plans),(0,_.sortBy)([t]))),(0,A.U)(({action:e})=>(0,rh.fs)({plans:e.plans})))),this.onUnsubscribePlansInfoChange$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.i9)),{dispatch:!1}),this.selectActivePlanOnFirstLoad$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.EY),(0,A.U)(({plans:e})=>e[0]),(0,Ss.b)(e=>e?[Fg({planId:e.planId,planOrigin:e.from})]:[]),(0,Ee.q)(1))),this.subscribeOnPlansInfoChange$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(rh.ke),(0,MC.z)(()=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.onUnsubscribePlansInfoChange$),(0,A.U)(()=>(0,rh.ZA)())))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(EC.qb),Pe.LFG(ZC.i),Pe.LFG(DC.x),Pe.LFG(g.yh))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var FC=n(44364);const jC="Delete Plan";let $C=(()=>{class e{constructor(e,t){this.actions$=e,this.planApiEndpoints=t,this.deletePlan$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ms),(0,dC.zg)(e=>this.planApiEndpoints.deletePlan({planId:e.planId,planOrigin:e.planOrigin}).pipe((0,dC.zg)(()=>[(0,FC.wN)({payload:{severity:"success",summary:jC,detail:"Delete plan operation finished"}}),jg(),qe(),(0,rh.ZA)(),zg(),iu({planId:e.planId,planOrigin:e.planOrigin}),Ce()]),(0,NC.K)(e=>(0,nl.of)((0,FC.wN)({payload:{detail:"Delete plan operation failed",severity:"error",summary:jC}})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(Yt.iD))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var qC=n(21561),BC=n(24235);const GC="Activate Plan";let VC=(()=>{class e{constructor(e,t,n,i,o){this.actions$=e,this.planApiEndpointService=t,this.pollingService=n,this.store=i,this.accountConfigService=o,this.FIRST_STEP=0,this.LAST_STEP=4,this.activateInterruptedPlan$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(kh),(0,dC.zg)(()=>this.store.select(Yo).pipe((0,Ee.q)(1))),(0,A.U)(e=>Ah({selectedPlan:{from:ht.tX.INACTIVE,planId:e},forceReset:!1,autoLockCells:!1})))),this.activatePlan$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(wh),(0,dC.zg)(({selectedPlan:e,autoLockCells:t,forceReset:n})=>{const i=e.from===ht.tX.INACTIVE?yC:vC;return[(0,FC.wN)({payload:{severity:"info",summary:GC,detail:"Activate plan operation started"}}),Ah({selectedPlan:e,autoLockCells:t,forceReset:n}),Nh({steps:i}),Lh({activeIndex:this.FIRST_STEP})]}))),this.executeActivate$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ah),(0,dC.zg)(({selectedPlan:e,autoLockCells:t,forceReset:n})=>{const i=this.planApiEndpointService.createActivatePlanEndpoint(e,t,n),o=this.planApiEndpointService.createActivatePollingEndpoint(e);return this.pollingService.executeAction({requestEndpoint:i,requestParams:{body:null},pollingEndpoint:o,onActionSuccess:_h,onActionFailure:Eh,onActionError:Th,additionalData:{fromOrigin:e.from,planId:e.planId},onActionOngoing:Ih,endpointResponseSerializer:qC.d8,isActionDistinctPredicate:lm,pollUnlessHttpErrorCode:[403,404]})}))),this.activatePlanFeedback$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(_h,Eh),(0,A.U)(e=>{const t=e.response,n=(i=t,o=this.accountConfigService.getNetElementType(),"success"===i.status?sm.ACTIVATION_SUCCEDED:i.resetNeeded?o+sm.ACTIVATION_WITH_RESET:i.lockedCells&&!(0,_.isEmpty)(i.lockedCells)?[sm.CELLS_LOCK,...i.lockedCells].join("\n"):(null===(s=i.errorCode)||void 0===s?void 0:s.code)===rm.USER_RESTRICTED?sm.USER_RESTRICTED:i.errorMessage?i.errorMessage:"");var i,o,s;const a=function(e){return e.resetNeeded||!(0,_.isEmpty)(e.lockedCells)?ht.ES.Interrupted:"success"===e.status?ht.ES.Success:"ongoing"===e.status?ht.ES.Ongoing:ht.ES.Failed}(t);return Mh({feedback:n,operationStatus:a})}))),this.activatePlanOngoingStatus$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ih),(0,A.U)(()=>Mh({feedback:"",operationStatus:ht.ES.Ongoing})))),this.activationOngoing$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ih),(0,vs.h)(({response:e})=>!!e.procedureState&&!!ht.yb[e.procedureState]),(0,A.U)(({response:e})=>Lh({activeIndex:cm(e)})))),this.activationSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(_h),(0,dC.zg)(e=>this.deleteActivationAndNotify(e).pipe((0,NC.K)(e=>(0,nl.of)(e)))),(0,dC.zg)(()=>[(0,FC.wN)({payload:{severity:"success",summary:GC,detail:"Activate plan operation finished"}}),Lh({activeIndex:this.LAST_STEP}),Mh({feedback:sm.ACTIVATION_SUCCEDED,operationStatus:ht.ES.Success})]))),this.activationFailure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Eh),(0,dC.zg)(e=>this.deleteActivationAndNotify(e).pipe((0,vs.h)(()=>this.isFailedPermanently(e)),(0,A.U)(()=>(0,FC.wN)({payload:{severity:"error",summary:GC,detail:"Activate plan operation failed"}})))))),this.setActivationPlanFeedbackAfterActivationError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Th),(0,dC.zg)(({error:e})=>[Mh({feedback:e.error.content,operationStatus:ht.ES.Failed}),(0,FC.wN)({payload:{severity:"error",summary:GC,detail:"Activate plan operation failed"}})]))),this.switchToCurrentPlanAfterPlanActivation$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Zh),(0,Bo.M)(this.store.select(Vi.CM)),(0,vs.h)(([,e])=>!!(null==e?void 0:e.planId)),(0,A.U)(([,e])=>Fg({planOrigin:ht.tX.ACTIVE,planId:null==e?void 0:e.planId}))))}isFailedPermanently({response:e}){return!e.resetNeeded&&(0,_.isEmpty)(e.lockedCells)}deleteActivationAndNotify({response:e,additionalData:t}){const n=cm(e);return(0,_.isNil)(n)||this.store.dispatch(Lh({activeIndex:n})),this.planApiEndpointService.deleteActivationOperation(e,t)}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(Yt.iD),Pe.LFG(DC.x),Pe.LFG(g.yh),Pe.LFG(BC.MQ))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var YC=n(18891),JC=n(86710),HC=n(62959),WC=n(55893);const QC="Save Plan";let zC=(()=>{class e{constructor(e,t,n,i,o,s,a){this.actions$=e,this.pollingService=t,this.planApiEndpoints=n,this.zone=i,this.layoutsConfigService=o,this.store=s,this.fileSaver=a,this.planReceiveNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Pg),(0,dC.zg)(()=>[(0,FC.wN)({payload:{detail:"Save plan operation started",severity:"info",summary:QC}})]))),this.requestPlanReceive$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Pg),(0,dC.zg)(({saveVariant:e,from:t,planId:n,planName:i})=>{const o=this.planApiEndpoints.receivePlanFile({planId:n,from:t,saveVariant:e}),s=this.planApiEndpoints.getReceivePlanFileAction({planId:n,from:t});return this.pollingService.executeAction({requestEndpoint:o,requestParams:{body:null},pollingEndpoint:s,onActionSuccess:Og,onActionFailure:Ag,onActionError:wg,additionalData:{from:t,planId:n,planName:i,saveVariant:e}}).pipe((0,NC.K)(e=>(0,nl.of)(wg({error:e}))))}))),this.receivePlanSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Og),(0,Bo.M)(this.store.pipe((0,g.Ys)(this.layoutsConfigService.getStatusBarModel.selectModelState))),(0,dC.zg)(([{response:e,additionalData:t},n])=>this.planApiEndpoints.uploadReceivePlanFile({actionId:e.actionId,fileName:e.fileName,from:t.from}).pipe((0,A.U)(e=>this.saveFile$(e,(0,JC.p)(t.saveVariant,t.from,t.planName,n))),(0,A.U)(()=>xg({response:e,additionalData:t})),(0,NC.K)(e=>(0,nl.of)(wg({error:e}))))))),this.receivePlanFails$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ag),(0,Ss.b)(({response:e,additionalData:t})=>this.planApiEndpoints.deleteReceivePlanFileAction({actionId:e.actionId,planId:t.planId,from:t.from}).pipe((0,A.U)(()=>(0,FC.wN)({payload:{detail:"Save plan operation failed",severity:"error",summary:QC}})),(0,NC.K)(e=>(0,nl.of)(wg({error:e}))))))),this.deleteReceivePlan$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(xg),(0,Ss.b)(({response:e,additionalData:t})=>this.planApiEndpoints.deleteReceivePlanFileAction({actionId:e.actionId,planId:t.planId,from:t.from}).pipe((0,A.U)(()=>(0,FC.wN)({payload:{detail:"Save plan operation finished",severity:"success",summary:QC}})),(0,NC.K)(e=>(0,nl.of)(wg({error:e}))))))),this.receivePlanErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(wg),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Save plan operation failed",severity:"error",summary:QC}}))))}saveFile$(e,t){return this.zone.runOutsideAngular(()=>{this.fileSaver.save(e,t+".xml")}),new YC.y(e=>e.next())}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(DC.x),Pe.LFG(Yt.iD),Pe.LFG(Pe.R0b),Pe.LFG(HC.p),Pe.LFG(g.yh),Pe.LFG(WC.m9))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();const KC="Load SCF";let XC=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.pollingService=t,this.planApiEndpointsService=n,this.store=i,this.requestPlanSending$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Tf),(0,dC.zg)(e=>[(0,FC.wN)({payload:{severity:"info",summary:KC,detail:"Load SCF operation started"}}),If(e)]))),this.executePlanSending$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(If),(0,Ss.b)(e=>{const t={requestEndpoint:this.planApiEndpointsService.sendPlanFile(e.planOrigin),requestParams:{body:e.request},pollingEndpoint:this.planApiEndpointsService.getSendPlanFileAction(e.planOrigin),additionalData:{planOrigin:e.planOrigin},onActionSuccess:Ef,onActionFailure:Mf,onActionError:kf};return this.pollingService.executeAction(t).pipe((0,NC.K)(e=>(0,nl.of)(kf(e))))}))),this.actionAfterPlanSendingSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ef),(0,Bo.M)(this.store.select(Mg)),(0,Ss.b)(([e,t])=>{const n=e.additionalData.planOrigin,i=e.response.planId,o=[Fg({planId:i,planOrigin:ht.tX.STAGE}),zg()];return o.push(t?Uf({planId:i,from:n}):Df({planId:i})),o}))),this.actionAfterPlanSendingError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Mf),(0,A.U)(({response:e})=>Rf({response:e})))),this.deletePlanSendingAction$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ef,Mf),(0,dC.zg)(e=>this.planApiEndpointsService.deleteSendPlanFileAction(e.additionalData.planOrigin)({actionId:e.response.actionId}).pipe((0,A.U)(()=>Lf()),(0,NC.K)(e=>(0,nl.of)(Nf({error:e}))))))),this.requestPlanSendingValidation$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Uf),(0,A.U)(({planId:e,from:t})=>_d({planBase:{planId:e,from:t}})))),this.validatePlanSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Id),(0,Bo.M)(this.store.select(Ig)),(0,vs.h)(([,e])=>e),(0,A.U)(([e])=>Ff({planId:e.additionalData.planId})))),this.validatePlanFailure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ed),(0,Bo.M)(this.store.select(Ig)),(0,vs.h)(([,e])=>e),(0,A.U)(([e])=>jf(e)))),this.planLoadingFinishedAfterValidation$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ff),(0,A.U)(({planId:e})=>Df({planId:e})))),this.planLoadingFinishedNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Df),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Load SCF operation finished",severity:"success",summary:KC}})))),this.planSendingHttpErrorNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(kf),(0,A.U)(this.planSendingAction))),this.planSendingActionErrorNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Mf,jf),(0,A.U)(this.planSendingAction)))}planSendingAction(e){return(0,FC.wN)({payload:{severity:"error",summary:KC,detail:"Load SCF operation failed"}})}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(DC.x),Pe.LFG(Yt.iD),Pe.LFG(g.yh))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),ev=(()=>{class e{constructor(e){this.actions$=e,this.selectPlan$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Fg),(0,dC.zg)(()=>[qe()])))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var tv=n(41838),nv=n(11878);const iv="Create Plan";let ov=(()=>{class e{constructor(e,t,n,i,o){this.actions$=e,this.store=t,this.pollingService=n,this.peService=i,this.endpointService=o,this.disableViewAndShowNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(es),(0,Ss.b)(e=>{const t=[(0,FC.wN)({payload:{severity:"info",summary:iv,detail:"Create plan operation started"}})];return t.push(e.option===ht.cW.EDIT?rs():as()),t}))),this.executePlanCreation$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(es),(0,Ss.b)(e=>{const t={requestParams:{body:e.request},requestEndpoint:this.endpointService.getCreatePlanRequestEndpoint(e.option),pollingEndpoint:this.endpointService.getCreatePlanPollingEndpoint(e.option),onActionSuccess:ts,onActionFailure:ns,onActionError:is,additionalData:{option:e.option}};return this.pollingService.executeAction(t)}))),this.createPlanSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ts),(0,Ss.b)(e=>{const{option:t}=Object.assign({},e.additionalData),n=this.endpointService.getCreatePlanDeleteEndpoint(t),i=this.getCreatedPlanOrigin(t);return n({actionId:e.response.actionId}).pipe((0,Ss.b)(()=>{const n=[(0,rh.ZA)(),(0,FC.wN)({payload:{severity:"success",summary:iv,detail:"Create plan operation finished"}}),Fg({planId:e.response.planId,planOrigin:i}),zg()];return n.push(t===ht.cW.EDIT?os():ss()),n}),(0,NC.K)(e=>(0,nl.of)(is(e))))}))),this.createPlanFailure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ns),(0,Ss.b)(e=>{const{option:t}=Object.assign({},e.additionalData);return this.endpointService.getCreatePlanDeleteEndpoint(t)({actionId:e.response.actionId}).pipe((0,Ss.b)(()=>{const e=[(0,FC.wN)({payload:{severity:"error",summary:iv,detail:"Create plan operation failed"}})];return e.push(t===ht.cW.EDIT?os():ss()),e}),(0,NC.K)(e=>(0,nl.of)(is(e))))}))),this.createPlanHttpError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(is),(0,Ss.b)(e=>[(0,FC.wN)({payload:{severity:"error",summary:iv,detail:"Create plan operation failed"}}),ss()])))}getCreatedPlanOrigin(e){return e===ht.cW.EDIT?ht.tX.DELTA:ht.tX.STAGE}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(tv.xj),Pe.LFG(nv.q),Pe.LFG(Yt.iD))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),sv=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.planApiService=n,this.GlobalSearchItemsRequest$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Kg),(0,Bo.M)(this.store.select(me.DM),this.store.select(me.oI),this.store.select(yb)),(0,A.U)(([,e,t,{pageNumber:n,itemsPerPage:i,sortOrder:o,sortedBy:s,filterByName:a}])=>({pageNumber:n,itemsPerPage:i,sortOrder:o,sortedBy:s,filterByName:a,fromOrigin:e,planId:t})),(0,dC.zg)(e=>this.planApiService.searchInPlan(e).pipe((0,dC.zg)(e=>(0,nl.of)(ah({isSearchOnGoing:!1}),ih(e))),(0,NC.K)(e=>(0,nl.of)(Xg(e))))))),this.AddTimestampToStore$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Kg),(0,A.U)(()=>sh({timestamp:(new ls.ou).toFormattedDateTime()})))),this.TurnOnSpinner$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Kg),(0,A.U)(()=>ah({isSearchOnGoing:!0})))),this.GlobalSearchItemsErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Xg),(0,dC.zg)(()=>(0,nl.of)((0,FC.wN)({payload:{detail:"Search parameter operation failed",severity:"error",summary:"Search Parameter"}}),ah({isSearchOnGoing:!1})))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),av=(()=>{class e{constructor(e,t,n){this.actions$=e,this.planApiEndpointService=t,this.pollingService=n,this.FIRST_STEP=1,this.LAST_STEP=2,this.downloadPlanSummaryText="Download Plan",this.deployPlan$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(um),(0,dC.zg)(({selectedPlan:e})=>[Lh({activeIndex:this.FIRST_STEP}),(0,FC.wN)({payload:{severity:"info",summary:this.downloadPlanSummaryText,detail:"Download plan operation started"}}),pm({selectedPlan:e})]))),this.executeDeploy$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(pm),(0,dC.zg)(({selectedPlan:e})=>{const t=this.planApiEndpointService.createDeployPlanEndpoint(e),n=this.planApiEndpointService.createDeployPollingEndpoint(e);return this.pollingService.executeAction({requestEndpoint:t,requestParams:{body:null},pollingEndpoint:n,onActionSuccess:gm,onActionFailure:fm,onActionError:hm,additionalData:{fromOrigin:e.from,planId:e.planId},onActionOngoing:mm,endpointResponseSerializer:qC.d8})}))),this.deploySuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(gm),(0,dC.zg)(({response:e,additionalData:t})=>this.planApiEndpointService.deleteDeployOperation(e,t).pipe((0,NC.K)(e=>(0,nl.of)(e)))),(0,dC.zg)(()=>[Mh({feedback:"Download operation has succeeded",operationStatus:ht.ES.Success}),Lh({activeIndex:this.LAST_STEP}),(0,FC.wN)({payload:{severity:"success",summary:this.downloadPlanSummaryText,detail:"Download plan operation finished"}})]))),this.deployFailure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(fm),(0,dC.zg)(({response:e,additionalData:t})=>this.planApiEndpointService.deleteDeployOperation(e,t).pipe((0,NC.K)(e=>(0,nl.of)(e)))),(0,dC.zg)(()=>[Mh({feedback:"Download operation has failed",operationStatus:ht.ES.Failed}),Lh({activeIndex:this.LAST_STEP}),(0,FC.wN)({payload:{severity:"error",summary:this.downloadPlanSummaryText,detail:"Download plan operation failed"}})]))),this.setActivePlanFeedbackOnDeployError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(hm),(0,A.U)(()=>Mh({feedback:"Download operation has failed",operationStatus:ht.ES.Failed})))),this.addNotificationOnDeployError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(hm),(0,A.U)(()=>(0,FC.wN)({payload:{severity:"error",summary:this.downloadPlanSummaryText,detail:"Download plan operation failed"}}))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(Yt.iD),Pe.LFG(DC.x))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();const rv="Validate Plan";let lv=(()=>{class e{constructor(e,t,n,i,o){this.actions$=e,this.store=t,this.planApiEndpointService=n,this.pollingService=i,this.peService=o,this.startValidationPlan$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(_d),(0,dC.zg)(e=>[(0,FC.wN)({payload:{severity:"info",summary:rv,detail:"Validate plan operation started"}}),Td(e)]))),this.executeValidationPlan$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Td),(0,dC.zg)(e=>{const t={requestEndpoint:this.planApiEndpointService.createValidationPlanEndPoint(e.planBase),requestParams:{body:{planId:e.planBase.planId}},pollingEndpoint:this.planApiEndpointService.createValidationPlanPollingEndPoint(e.planBase),onActionSuccess:Id,onActionFailure:Ed,onActionError:Md,additionalData:e.planBase};return this.pollingService.executeAction(t)}))),this.validationPlanSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Id),(0,A.U)(()=>(0,FC.wN)({payload:{severity:"success",summary:rv,detail:"Validate plan operation finished"}})))),this.validationPlanFailure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ed),(0,A.U)(()=>(0,FC.wN)({payload:{severity:"error",summary:rv,detail:"Validate plan operation failed"}})))),this.validationPlanError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Md),(0,A.U)(()=>(0,FC.wN)({payload:{severity:"error",summary:rv,detail:"Validate plan operation failed"}})))),this.removeValidationFromUnmodifiedDelta$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rh.X7),(0,Bo.M)(this.store.select(me.ji),this.store.select(Ku),(e,t,n)=>({selectedDeltaPlan:t,validatedPlan:n})),(0,vs.h)(({selectedDeltaPlan:e,validatedPlan:t})=>!!e&&!!t&&(0,sc.j)(e)&&e.planId===t.planId&&!e.isChanged),(0,dC.zg)(({selectedDeltaPlan:e})=>{const{planId:t,from:n}=e;return this.peService.deleteLatestValidationResultOfDeltaPlan({planId:t}).pipe((0,A.U)(()=>iu({planId:t,planOrigin:n})),(0,NC.K)(()=>(0,nl.of)(Tu())))})))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD),Pe.LFG(tv.xj),Pe.LFG(EC.qb))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var cv=(()=>(function(e){e.AddSimpleListElement="[User] [Simple List] Add simple list element",e.AddSimpleListElementSuccess="[Simple List] Simple list element added successfully",e.AddSimpleListElementFailure="[Simple List] Adding simple list element failed",e.AddSimpleListElementHttpError="[Simple List] Adding simple list element failed with HTTP error",e.RemoveSimpleListElement="[User] [Simple List] Remove simple list element",e.RemoveExistingSimpleListElement="[Simple List] Remove existing simple list element",e.RemoveSimpleListElementSuccess="[Simple List] Simple list element removed successfully",e.RemoveSimpleListElementFailure="[Simple List] Removing simple list element failed",e.RemoveSimpleListElementHttpError="[Simple List] Removing simple list element failed with HTTP error",e.RevertSimpleListElement="[User] [Simple List] Revert simple list element",e.RevertSimpleListElementSuccess="[Simple List] Simple list element reverted successfully",e.RevertSimpleListElementFailure="[Simple List] Reverting simple list element failed",e.RevertSimpleListElementHttpError="[Simple List] Reverting simple list element failed with HTTP error"}(cv||(cv={})),cv))();const dv=(0,g.PH)(cv.AddSimpleListElement,(0,g.Ky)()),uv=(0,g.PH)(cv.AddSimpleListElementSuccess,(0,g.Ky)()),pv=(0,g.PH)(cv.AddSimpleListElementFailure,(0,g.Ky)()),gv=(0,g.PH)(cv.AddSimpleListElementHttpError,(0,g.Ky)()),hv=(0,g.PH)(cv.RemoveSimpleListElement,(0,g.Ky)()),mv=(0,g.PH)(cv.RevertSimpleListElement,(0,g.Ky)()),fv=(0,g.PH)(cv.RevertSimpleListElementSuccess,(0,g.Ky)()),bv=(0,g.PH)(cv.RevertSimpleListElementFailure,(0,g.Ky)()),Cv=(0,g.PH)(cv.RevertSimpleListElementHttpError,(0,g.Ky)()),vv=(0,g.PH)(cv.RemoveSimpleListElementSuccess,(0,g.Ky)()),yv=(0,g.PH)(cv.RemoveSimpleListElementFailure,(0,g.Ky)()),Sv=(0,g.PH)(cv.RemoveSimpleListElementHttpError,(0,g.Ky)()),Pv=(0,g.PH)(cv.RemoveExistingSimpleListElement,(0,g.Ky)());var Ov=(()=>(function(e){e.RemoveStructure="[User] [Parameter] Remove structure",e.RemoveExistingStructure="[Parameter] Remove existing structure",e.RemoveStructureSuccess="[Parameter] Structure removed successfully",e.RemoveStructureFailure="[Parameter] Removing structure failed",e.RemoveStructureHttpError="[Parameter] Removing structure failed with HTTP Error",e.RevertStructure="[User] [Parameter] Revert structure",e.RevertStructureSuccess="[Parameter] Structure reverted successfully",e.RevertStructureFailure="[Parameter] Reverting structure failed",e.RevertStructureHttpError="[Parameter] Reverting structure failed with HTTP Error"}(Ov||(Ov={})),Ov))();const xv=(0,g.PH)(Ov.RemoveExistingStructure,(0,g.Ky)()),wv=(0,g.PH)(Ov.RemoveStructure,(0,g.Ky)()),Av=(0,g.PH)(Ov.RemoveStructureSuccess,(0,g.Ky)()),_v=(0,g.PH)(Ov.RemoveStructureFailure,(0,g.Ky)()),Tv=(0,g.PH)(Ov.RemoveStructureHttpError,(0,g.Ky)()),Iv=(0,g.PH)(Ov.RevertStructure,(0,g.Ky)()),Ev=(0,g.PH)(Ov.RevertStructureSuccess,(0,g.Ky)()),Mv=(0,g.PH)(Ov.RevertStructureFailure,(0,g.Ky)()),kv=(0,g.PH)(Ov.RevertStructureHttpError,(0,g.Ky)());let Nv=(()=>{class e{constructor(e,t){this.store=e,this.actions$=t,this.goToParameterEditor$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(_l),(0,dC.zg)(e=>{const{moUuid:t,path:n}=e.rowData;return[(0,mb.uX)({routerLink:Ip.r.parameterEditor,activatedRoute:e.activatedRoute}),N({moUuid:t}),ja({path:n})]}))),this.handleAddStructure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Tl),(0,vs.h)(e=>e.rowData.rowType===ht.bm.COMPLEX),(0,dC.zg)(e=>{const{path:t,moUuid:n,childrenCount:i}=e.rowData;return(0,nl.of)(tr({path:`${t}/${i}`,moUuid:n}))}))),this.handleRemoveMultipleParameterElement$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Il),(0,dC.zg)(e=>{const{path:t,rowType:n,moUuid:i}=e.rowData;return(0,nl.of)(n===ht.bm.SIMPLE_LIST_ELEMENT?hv({changes:[{op:"remove",path:t}],moUuid:i}):wv({path:t,moUuid:i}))}))),this.handleRevertMultipleParameterElement$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(El),(0,dC.zg)(e=>{const{path:t,rowType:n,moUuid:i}=e.rowData,o=[{op:"revert",path:t}];return(0,nl.of)(n===ht.bm.SIMPLE_LIST_ELEMENT?mv({changes:o,moUuid:i}):Iv({changes:o,moUuid:i}))}))),this.handleRemoveParameter$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ml),(0,dC.zg)(e=>{const{path:t,moUuid:n}=e.rowData;return(0,nl.of)(Br({request:{changes:[{op:"remove",path:t}],moUuid:n}}))}))),this.updateEmptySimpleListElements$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(El,Ml),(0,Bo.M)(this.store.select(La),this.store.select(me.oI)),(0,vs.h)(([e])=>e.rowData.rowType===ht.bm.SIMPLE_LIST),(0,dC.zg)(([e,t,n])=>{const{path:i,moUuid:o}=e.rowData,s=t.filter(e=>!(e.moUuid===o&&e.planId===n&&e.path.startsWith(i)));return(0,nl.of)(Aa({payload:s}))}))),this.updateEmptyStructures$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(El,Ml),(0,Bo.M)(this.store.select(pr)),(0,vs.h)(([e])=>e.rowData.rowType===ht.bm.COMPLEX),(0,dC.zg)(([e,t])=>{const{path:n,moUuid:i}=e.rowData,o=t.filter(e=>!(e.moUuid===i&&e.path.startsWith(n)));return(0,nl.of)(ir({payload:o}))}))),this.handleRevertParameter$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(kl),(0,dC.zg)(e=>{const{path:t,moUuid:n}=e.rowData;return(0,nl.of)(Jr({request:{changes:[{op:"revert",path:t}],moUuid:n}}))})))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var Lv=(()=>(function(e){e.Add="add",e.Replace="replace",e.Remove="remove"}(Lv||(Lv={})),Lv))();const Dv="Cannot execute action for undefined planId",Zv="Cannot execute action for undefined planOrigin";let Rv=(()=>{class e{constructor(e,t,n,i){this.store=e,this.actions$=t,this.pollingService=n,this.planApiUpdateParametersEndpointsService=i,this.addSimpleListElement$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(dv),(0,Bo.M)(this.store.pipe((0,g.Ys)(me.oI)),this.store.pipe((0,g.Ys)(me.DM)),(e,t,n)=>({action:e,planId:t,planOrigin:n})),(0,dC.zg)(({action:e,planId:t,planOrigin:n})=>{if(!t)throw Error(Dv);if(!n)throw Error(Zv);const i=this.planApiUpdateParametersEndpointsService.getAddSimpleListElementRequestEndpoint(n),o=this.planApiUpdateParametersEndpointsService.getAddSimpleListElementActionRequestEndpoint(t,n),{changes:s,moUuid:a}=e,r={planId:t,body:{changes:s,moUuid:a}},{op:l,path:c}=s[0];return this.pollingService.executeAction({requestEndpoint:i,requestParams:r,pollingEndpoint:o,onActionSuccess:uv,onActionFailure:pv,onActionError:gv,additionalData:{planId:t,planOrigin:n,moUuid:a},actionProgress:{id:Et.AddMultipleParameterElement,identifyingData:{planId:t,moUuid:a,path:c,op:l}}}).pipe((0,NC.K)(()=>(0,nl.of)(pv)))}))),this.addSimpleListElementDeleteAction$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(uv,pv),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i}=t;return this.planApiUpdateParametersEndpointsService.deleteAddSimpleListElementAction(n,e.actionId,i).pipe((0,A.U)(()=>Kr()),(0,NC.K)(e=>(0,nl.of)(zr({error:e}))))}))),this.addSimpleListElementFailureNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(pv,gv),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Add simple list element operation failed",severity:"error",summary:"Add Simple List Element"}})))),this.addSimpleListElementSuccessNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(uv),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Add simple list element operation finished",severity:"success",summary:"Add Simple List Element"}})))),this.selectMoLite$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(uv,vv,Av),(0,A.U)(({additionalData:e})=>N({moUuid:e.moUuid})))),this.updateSimpleParameter$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Zr),(0,Bo.M)(this.store.select(pr),this.store.select(La),this.store.select(me.oI)),(0,A.U)(([e,t,n,i])=>{const{path:o,value:s,moUuid:a,isSettingDefaultValue:r,isNotExistingParameter:l,parameterValueType:c,updateFromComparision:d}=e,u=Ks({inputValue:s,parameterValueType:c}),p=[{op:l?Lv.Add:Lv.Replace,value:u,path:o}];return function(e,t,n){const i=n.filter(t=>t.moUuid===e).find(e=>t.startsWith(e.path));return!!i&&"0"===hr(i.path).structureIdx}(a,o,t)&&p.unshift({op:Lv.Add,path:gr(o)}),function(e,t,n,i){const o=Ra(e,n,i),s=Za(t),a=o.find(e=>e.path===s);return!!a&&0===a.elementIndex}(a,o,i,n)&&p.unshift({op:Lv.Add,path:Za(o)}),Ur({request:{changes:p,moUuid:a},isSettingDefaultValue:r,updateFromComparision:d})}))),this.updateEnumerationSimpleListParameter$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Rr),(0,A.U)(({path:e,value:t,moUuid:n,isSettingDefaultValue:i,isNotExistingParameter:o,updateFromComparision:s,previousValue:a})=>{const r=[],l=[];if(o)r.push({op:"add",path:e}),t.forEach((t,n)=>r.push({op:"add",path:`${e}/${n}`,value:t}));else{t.forEach((t,n)=>{a[n]?t!==a[n]&&r.push({op:"replace",path:`${e}/${n}`,value:t}):r.push({op:"add",path:`${e}/${n}`,value:t})});const n=a.length-t.length;n>0&&(0,_.times)(n,n=>{l.push({op:"remove",path:`${e}/${t.length+n}`})})}return Ur({request:{changes:[...r,...l.reverse()],moUuid:n},isSettingDefaultValue:i,updateFromComparision:s})}))),this.updateParameter$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ur,Br,Jr),(0,Bo.M)(this.store.select(me.oI),this.store.select(me.DM),(e,t,n)=>({action:e,planId:t,planOrigin:n})),(0,dC.zg)(({action:e,planId:t,planOrigin:n})=>{if(!t)throw Error(Dv);if(!n)throw Error(Zv);const{changes:i,moUuid:o}=e.request,s=this.planApiUpdateParametersEndpointsService.getUpdateParametersRequestEndpoint(n),a=this.planApiUpdateParametersEndpointsService.getUpdateParametersActionRequestEndpoint(t,n),r={planId:t,body:{changes:i,moUuid:o}},{path:l,op:c}=i[i.length-1],d={planId:t,moUuid:o,path:l,op:c};let u=!1;return e.hasOwnProperty("isSettingDefaultValue")&&(d.isSettingDefaultValue=e.isSettingDefaultValue),e.hasOwnProperty("updateFromComparision")&&(u=e.updateFromComparision),this.pollingService.executeAction({requestEndpoint:s,requestParams:r,pollingEndpoint:a,onActionOngoing:jr,onActionSuccess:Fr,onActionFailure:$r,onActionError:qr,additionalData:{planId:t,planOrigin:n,moUuid:o,parameterPath:l,updateFromComparision:u},actionProgress:{id:Et.UpdateParameter,identifyingData:d}}).pipe((0,NC.K)(()=>(0,nl.of)($r)))}))),this.updateParameterSelectMoLite$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Fr,Gr,Hr),(0,Bo.M)(this.store.select(ae),this.store.select(Ki)),(0,vs.h)(([e,t,n])=>{const{moUuid:i,updateFromComparision:o}=e.additionalData;return o?(null==n?void 0:n.moUuid)===i:t===i}),(0,A.U)(([e])=>{const{updateFromComparision:t,moUuid:n}=e.additionalData;return t?L({moUuid:n}):N({moUuid:n})}))),this.updateParameterDeleteAction$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Fr,Gr,Hr,$r,Vr,Wr),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i}=t;return this.planApiUpdateParametersEndpointsService.deleteUpdateParameterAction(n,e.actionId,i).pipe((0,A.U)(()=>Kr()),(0,NC.K)(e=>(0,nl.of)(zr({error:e}))))}))),this.updateParametersFailureNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Parameter update operation failed",severity:"info",summary:"Parameter update"}})))),this.updateParametersErrorNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)($r,Vr,Wr,qr,Yr,Qr),(0,A.U)(()=>(0,FC.wN)({payload:{severity:"error",summary:"Parameter update",detail:"Parameter update operation failed"}})))),this.removeSimpleListElement$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(hv),(0,Bo.M)(this.store.select(La),this.store.select(me.oI),(e,t,n)=>({action:e,planId:n,emptySimpleListElements:t})),(0,Ss.b)(({action:e,emptySimpleListElements:t,planId:n})=>{const{moUuid:i,changes:o}=e,s=Da(n,i,o[0].path),a=t.find(e=>e.id===s);if(a)return[wa({idsToRemove:[a.id]})];const r=s.split(/[\/ ]+/),l=r.pop(),c=t.map(e=>{const t=e.id.split(/[\/ ]+/),n=t.pop();return n&&l&&r.join("/")===t.join("/")?{id:n>l?`${t.join("/")}/${parseInt(n,10)-1}`:e.id,moUuid:e.moUuid,path:e.path,planId:e.planId,elementIndex:n>l?parseInt(n,10)-1:e.elementIndex}:e});return[Pv(e),Aa({payload:c})]}))),this.removeExistingSimpleListElement=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Pv),(0,Bo.M)(this.store.pipe((0,g.Ys)(me.oI)),this.store.pipe((0,g.Ys)(me.DM)),(e,t,n)=>({action:e,planId:t,planOrigin:n})),(0,dC.zg)(({action:e,planId:t,planOrigin:n})=>{if(!t)throw Error(Dv);if(!n)throw Error(Zv);const i=this.planApiUpdateParametersEndpointsService.getRemoveSimpleListElementRequestEndpoint(n),o=this.planApiUpdateParametersEndpointsService.getRemoveSimpleListElementActionRequestEndpoint(t,n),{changes:s,moUuid:a}=e,r={planId:t,body:{moUuid:a,changes:s}},{path:l,op:c}=s[0];return this.pollingService.executeAction({requestEndpoint:i,requestParams:r,pollingEndpoint:o,onActionSuccess:vv,onActionFailure:yv,onActionError:Sv,additionalData:{planId:t,planOrigin:n,moUuid:a},actionProgress:{id:Et.RemoveMultipleParameterElement,identifyingData:{planId:t,moUuid:a,path:l,op:c}}}).pipe((0,NC.K)(()=>(0,nl.of)(yv)))}))),this.removeSimpleListElementDeleteAction$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(vv,yv),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i}=t;return this.planApiUpdateParametersEndpointsService.deleteRemoveSimpleListElementAction(n,e.actionId,i).pipe((0,A.U)(()=>Kr()),(0,NC.K)(e=>(0,nl.of)(zr({error:e}))))}))),this.removeSimpleListElementSuccessNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(vv),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Remove simple list element operation finished",severity:"success",summary:"Remove Simple List Element"}})))),this.removeSimpleListElementFailureNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(yv,Sv),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Remove simple list element operation failed",severity:"error",summary:"Remove Simple List Element"}})))),this.removeStructure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(wv),(0,Bo.M)(this.store.select(pr)),(0,Ss.b)(([{path:e,moUuid:t},n])=>{const i=n.find(n=>n.moUuid===t&&n.path===e);if(i)return[nr({filledStructures:[i]})];const o=e.split(/[\/ ]+/),s=o.pop(),a=n.map(e=>{const t=e.path.split(/[\/ ]+/),n=t.pop();return n&&s&&o.join("/")===t.join("/")?{path:n>s?`${t.join("/")}/${parseInt(n,10)-1}`:e.path,moUuid:e.moUuid}:e});return[xv({changes:[{path:e,op:"remove"}],moUuid:t}),ir({payload:a})]}))),this.removeExistingStructure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(xv),(0,Bo.M)(this.store.pipe((0,g.Ys)(me.oI)),this.store.pipe((0,g.Ys)(me.DM)),(e,t,n)=>({action:e,planId:t,planOrigin:n})),(0,dC.zg)(({action:e,planId:t,planOrigin:n})=>{if(!t)throw Error(Dv);if(!n)throw Error(Zv);const i=this.planApiUpdateParametersEndpointsService.getRemoveStructureRequestEndpoint(n),o=this.planApiUpdateParametersEndpointsService.getRemoveStructureActionRequestEndpoint(t,n),{changes:s,moUuid:a}=e,r={planId:t,body:{moUuid:a,changes:s}},{path:l,op:c}=s[0];return this.pollingService.executeAction({requestEndpoint:i,requestParams:r,pollingEndpoint:o,onActionSuccess:Av,onActionFailure:_v,onActionError:Tv,additionalData:{planId:t,planOrigin:n,moUuid:a},actionProgress:{id:Et.RemoveMultipleParameterElement,identifyingData:{planId:t,moUuid:a,path:l,op:c}}}).pipe((0,NC.K)(()=>(0,nl.of)(_v)))}))),this.removeStructureSuccessNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Av),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Remove structure operation finished",severity:"success",summary:"Remove Structure"}})))),this.removeStructureFailureNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(_v,Tv),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Remove structure operation failed",severity:"error",summary:"Remove Structure"}})))),this.removeStructureDeleteAction$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Av,_v),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i}=t;return this.planApiUpdateParametersEndpointsService.deleteRemoveStructureAction(n,e.actionId,i).pipe((0,A.U)(()=>Kr()),(0,NC.K)(e=>(0,nl.of)(zr({error:e}))))})))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(DC.x),Pe.LFG(Yt.hU))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),Uv=(()=>{class e{constructor(e,t){this.actions$=e,this.peService=t,this.downloadNiddFromServer$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(_n),(0,dC.zg)(()=>this.peService.getAllNiddDefinitions().pipe((0,A.U)(e=>In({definitions:e})),(0,NC.K)(e=>(0,nl.of)(Tn({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(EC.qb))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();function Fv(e,t){return(0,Ss.b)(()=>e,t)}function jv(e,t){return!!e&&!!t&&e.status===t.status}let $v=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.store=t,this.planApiEndpointsService=n,this.pollingService=i,this.fetchManagedObject$=(0,oC.GW)(()=>({scheduler:e=LC.P,debounce:t=1e3}={})=>this.actions$.pipe((0,oC.l4)(N)).pipe((0,Mb.b)(t,e),(0,Bo.M)(this.actions$.pipe((0,oC.l4)(Fg))),(0,A.U)(([e,t])=>({fromOrigin:t.planOrigin,moUuid:e.moUuid,planId:t.planId})),(0,dC.zg)(e=>this.planApiEndpointsService.getManagedObject(e).pipe((0,A.U)(e=>Fe({payload:e})),(0,NC.K)(e=>(0,nl.of)((0,FC.wN)({payload:{detail:"Fetch managedObject operation failed",severity:"error",summary:"Fetch managedObject"}}))))))),this.TurnSpinnerOn$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(N,L),(0,A.U)(()=>gt({isLoadingData:!0})))),this.TurnSpinnerOff$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Fe,je),(0,A.U)(()=>gt({isLoadingData:!1})))),this.fetchManagedObjectToComparision$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(L)).pipe((0,Bo.M)(this.actions$.pipe((0,oC.l4)(Fg))),(0,A.U)(([e,t])=>({fromOrigin:t.planOrigin,moUuid:e.moUuid,planId:t.planId})),(0,dC.zg)(e=>this.planApiEndpointsService.getManagedObject(e).pipe((0,A.U)(e=>je({payload:e})),(0,NC.K)(e=>(0,nl.of)((0,FC.wN)({payload:{detail:`Cannot get managedObject: ${e.statusText}`,severity:"error",summary:"Plan configuration"}}))))))),this.deleteManagedObject$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ge),(0,Bo.M)(this.store.pipe((0,g.Ys)(me.oI)),this.store.pipe((0,g.Ys)(me.DM)),(e,t,n)=>({action:e,planId:t,planOrigin:n})),(0,dC.zg)(({action:e,planId:t,planOrigin:n})=>{if(!t)throw Error("Cannot execute action for undefined planId");if(!n)throw Error("Cannot execute action for undefined planOrigin");const{moUuid:i,name:o,parentMoUuid:s,state:a}=e,r=this.planApiEndpointsService.getDeleteManagedObjectRequestEndpoint(n),l=this.planApiEndpointsService.getDeleteManagedObjectActionRequestEndpoint(n,t);return this.pollingService.executeAction({requestEndpoint:r,requestParams:{planId:t,body:{moUuid:i}},pollingEndpoint:l,onActionOngoing:Ve,onActionSuccess:Ye,onActionFailure:Je,onActionError:He,isActionDistinctPredicate:jv,additionalData:{planOrigin:n,planId:t,moUuid:i,name:o,state:a,parentMoUuid:s},actionProgress:{id:Et.RemoveManagedObject,identifyingData:{planId:t,moUuid:i},spinAfterSuccess:!0}}).pipe((0,NC.K)(()=>(0,nl.of)(Je)))}))),this.deleteManagedObjectSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ye),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i,parentMoUuid:o,state:s}=t;return this.planApiEndpointsService.getDeleteActionOfDeleteManagedObjectEndpoint(i,n,e.actionId).pipe((0,dC.zg)(()=>{const e=[(0,FC.wN)({payload:{severity:"success",summary:"Remove Object",detail:"Remove object operation finished"}})];return(i===ht.tX.DELTA&&s===Me.New||i===ht.tX.STAGE)&&((0,_.isEmpty)(o)?e.push(qe()):e.push(N({moUuid:o}))),e}))}))),this.deleteManagedObjectFailure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Je),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i}=t;return this.planApiEndpointsService.getDeleteActionOfDeleteManagedObjectEndpoint(i,n,e.actionId).pipe(Fv([(0,FC.wN)({payload:{severity:"error",summary:"Remove Object",detail:"Remove object operation failed"}})]))}))),this.deleteManagedObjectHttpError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(He),(0,dC.zg)(({})=>(0,nl.of)((0,FC.wN)({payload:{severity:"error",summary:"Remove Object",detail:"Remove object operation failed"}}))))),this.addManagedObject$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(it),(0,Bo.M)(this.store.pipe((0,g.Ys)(me.LU)),(e,{planId:t,planOrigin:n})=>({action:e,planId:t,planOrigin:n})),(0,dC.zg)(({action:e,planId:t,planOrigin:n})=>{if(!t)throw Error("Cannot execute action for undefined planId");if(!n)throw Error("Cannot execute action for undefined planOrigin");const{parentMoUuid:i,niddId:o,instanceId:s,includeDefaults:a}=e.request,r={planId:t,body:{parentMoUuid:i,niddId:o,instanceId:s,includeDefaults:a}},l={requestEndpoint:this.planApiEndpointsService.getAddManagedObjectRequestEndpoint(n),requestParams:r,pollingEndpoint:this.planApiEndpointsService.getAddManagedObjectActionRequestEndpoint(n,t),onActionSuccess:lt,onActionFailure:ct,onActionError:dt,additionalData:Object.assign({planOrigin:n,planId:t},r.body),actionProgress:{id:Et.AddManagedObject,identifyingData:{planId:t,parentMoUuid:i,missingClassName:e.missingClassName},spinAfterSuccess:!1}};return this.pollingService.executeAction(l).pipe((0,NC.K)(()=>(0,nl.of)([])))}))),this.addManagedObjectSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(lt),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i}=t;return this.planApiEndpointsService.deleteAddManagedObjectAction(i,n,e.actionId).pipe(Fv([(0,FC.wN)({payload:{severity:"success",summary:"Add Object",detail:"Add object operation finished"}})]))}))),this.addManagedObjectFailure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ct),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i}=t;return this.planApiEndpointsService.deleteAddManagedObjectAction(i,n,e.actionId).pipe(Fv([(0,FC.wN)({payload:{severity:"error",summary:"Add Object",detail:"Add object operation failed"}})]))}))),this.addManagedObjectHttpError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(dt),(0,dC.zg)(({})=>(0,nl.of)((0,FC.wN)({payload:{severity:"error",summary:"Add Object",detail:"Add object operation failed"}}))))),this.clearManagedObjectToCompareOnSelection$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(N),(0,ys.x)((e,t)=>e.moUuid===t.moUuid),(0,dC.zg)(()=>[Be()]))),this.clearManagedObjectToCompareOnObjectRemoval$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(j),(0,Bo.M)(this.store.select(Ki)),(0,vs.h)(([e,t])=>!!t&&!!e.nodeIds.find(e=>e===t.moUuid)),(0,dC.zg)(()=>[Be()])))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD),Pe.LFG(tv.xj))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var qv=n(52609);let Bv=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.planApiEndpointsService=t,this.pollingService=n,this.store=i,this.changeRevisionOfFetchedPlanTree$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)($),(0,Ss.b)(({planId:e,planOrigin:t,revision:n})=>[R(),Z({planId:e,planOrigin:t,revision:n})]))),this.fetchPlanTreeUpdate$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(k),(0,Bo.M)(this.store.select(qt),(e,t)=>({action:e,actionProgressIds:t})),(0,Ss.b)(({action:e,actionProgressIds:t})=>{const{planId:n,planOrigin:i,revision:o}=e;return this.planApiEndpointsService.getTreeOfPlan({planId:n,from:i,revision:o}).pipe((0,kC.V)(this.pollingService.REQUEST_TIMEOUT_MS),(0,dC.zg)(e=>{const s=[];return(0,_.isUndefined)(o)?s.push(M({nodes:e.created,planId:n})):0!==e.created.length&&s.push(U({nodes:e.created,planId:n})),0!==e.created.length&&t.length>0&&s.push((0,kt.Wt)({actionProgresses:Jo(e.created,n)})),0!==e.updated.length&&s.push(F({nodes:e.updated})),0!==e.removed.length&&s.push(j({nodeIds:e.removed})),o!==e.revision&&s.push($({planId:n,planOrigin:i,revision:e.revision})),s.push(q({fetchingTreeDataStatus:!1})),s}),(0,NC.K)(e=>this.planApiEndpointsService.isNotSupportedPlanOriginError(e)?(0,nl.of)(D(e)):(0,qv.$)()?(0,nl.of)(D(e),$({planId:n,planOrigin:i}),q({fetchingTreeDataStatus:!1})):(0,nl.of)(D(e),q({fetchingTreeDataStatus:!1}))))}))),this.unsubscribeFromPlanTreeChanges$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(R)),{dispatch:!1}),this.updatePlanTreeNodes$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(F),(0,Bo.M)(this.store.select(me.oI),this.store.select(qt),(e,t,n)=>({action:e,planId:t,actionProgressIds:n})),(0,Ss.b)(({action:e,planId:t,actionProgressIds:n})=>{const{nodes:i}=e;return i&&i.length&&n.length?(0,nl.of)((0,kt.Wt)({actionProgresses:Ho(i,t)})):[]}))),this.subscribeOnPlanTreeChanges$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(Z),(0,Ss.b)(({planId:t,planOrigin:n,revision:i})=>this.pollingService.getTimer(e,this.pollingService.POLLING_PERIOD_MS).pipe((0,_e.R)(this.unsubscribeFromPlanTreeChanges$),(0,A.U)(()=>k({planId:t,planOrigin:n,revision:i})))))),this.selectedObjectDeletability$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(N,U,F,j),(0,Bo.M)(this.store.select(re),this.store.select(Fn),this.store.select(ie),this.store.select(me.Ap)),(0,A.U)(([,e,t,n,i])=>!!e&&(!!i||function(e,t,n){var i;const o=t[e.niddId];return!!o&&(!!(0,_.isUndefined)(o.minOccurs)||(null===(i=o.modificationProperty)||void 0===i?void 0:i.deletion))}(e,t))),(0,dC.zg)(e=>[V({isDeletable:e})]))),this.selectedMoOperationRoles$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(N,U,F,j),(0,Bo.M)(this.store.select(re),this.store.select(Fn)),(0,dC.zg)(([,e,t])=>{var n;let i=[];if(e){const o=t[e.niddId];o&&(i=null===(n=o.modificationProperty)||void 0===n?void 0:n.operationRoles)}return(0,nl.of)(Y({operationRoles:i}))}))),this.selectedChildMoOperationRoles$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(N,U,F,j),(0,Bo.M)(this.store.select(re),this.store.select(_t),this.store.select(Fn)),(0,dC.zg)(([,e,t,n])=>{const i=[];if(e){const t=n[e.niddId];if((0,_.isEmpty)(null==t?void 0:t.childrenIds))return(0,nl.of)(J({childMoOperationRoles:[{moName:fs.fq,operationRoles:[]}]}))}return(0,_.forEach)(t,e=>{const t=n[e.niddId];t&&i.push({moName:t.className,operationRoles:t.modificationProperty.operationRoles})}),(0,nl.of)(J({childMoOperationRoles:i}))})))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(Yt.iD),Pe.LFG(DC.x),Pe.LFG(g.yh))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),Gv=(()=>{class e{constructor(e,t){this.actions$=e,this.store=t,this.setParentNiddId$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(N),(0,Bo.M)(this.store.select(re)),(0,vs.h)(([,e])=>!!e),(0,A.U)(([,e])=>Ct({parentNiddId:e.niddId})))),this.setPossibleChildren$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(yt),(0,Bo.M)(this.store.select(Fn),this.store.select(le)),(0,A.U)(([{parentDefinition:e},t,n])=>{const i=(e.childrenIds?e.childrenIds:[]).reduce((e,i)=>{const o=t[i];if(o&&function(e,t){if(!e.modificationProperty.creation)return!1;const n=t.filter(t=>t.niddId===e.niddId).length;return function(e,t){const n=e.maxOccurs;return(0,_.isUndefined)(n)||t+1<=n}(e,n)}(o,n)){const t=this.getExistingInstanceIdsByNiddId(i,n);return[...e,{niddId:i,takenInstanceIds:t}]}return e},[]);return vt({availableChildren:i})}))),this.recalculatePossibleChildrenOnParentNiddIdChange$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ct),(0,ys.x)((e,t)=>!(!e||!t)&&e.parentNiddId===t.parentNiddId),(0,Bo.M)(this.store.select(Fn)),(0,A.U)(([{parentNiddId:e},t])=>({parentDefinition:e&&t[e]})),(0,vs.h)(({parentDefinition:e})=>!!e),(0,A.U)(({parentDefinition:e})=>yt({parentDefinition:e})))),this.recalculatePossibleChildrenOnTreeChanges$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(U,j),(0,Bo.M)(this.store.select(It),this.store.select(Fn)),(0,A.U)(([,e,t])=>({parentDefinition:e&&t[e]})),(0,vs.h)(({parentDefinition:e})=>!!e),(0,A.U)(({parentDefinition:e})=>yt({parentDefinition:e}))))}getExistingInstanceIdsByNiddId(e,t){return t.reduce((t,n)=>{const i=this.getInstanceIdFromName(n.name);return n.niddId!==e||(0,_.isUndefined)(i)?t:[...t,i]},[])}getInstanceIdFromName(e){return(0,_.last)(e.split("-"))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),Vv=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.store=t,this.planApiEndpointsService=n,this.pollingService=i,this.fixErrorsRequest$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Im),(0,Bo.M)(this.store.select(me.DM),this.store.select(me.oI)),(0,A.U)(([e,t,n])=>({request:e,fromOrigin:t,planId:n})),(0,dC.zg)(e=>{const{addMissingObjects:t,fixMandatoryParameters:n}=e.request;return[Mm({request:{addMissingObjects:t,fixMandatoryParameters:n},fromOrigin:e.fromOrigin,planId:e.planId})]}))),this.executeFixErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Mm),(0,Ss.b)(e=>{if(!e.planId)throw Error("Cannot execute action for undefined planId");if(!e.fromOrigin)throw Error("Cannot execute action for undefined planOrigin");const t={requestEndpoint:this.planApiEndpointsService.fixErrors(e.fromOrigin,e.planId),requestParams:{body:e.request},pollingEndpoint:this.planApiEndpointsService.getFixedErrors(e.fromOrigin,e.planId),additionalData:{from:e.fromOrigin,planId:e.planId},onActionSuccess:Em,onActionFailure:Nm,onActionError:km};return this.pollingService.executeAction(t).pipe((0,NC.K)(e=>(0,nl.of)(km(e))))}))),this.deleteFixErrorsAction$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Em,Nm),(0,dC.zg)(e=>this.planApiEndpointsService.deleteFixErrorsAction({actionId:e.response.actionId,from:e.additionalData.from,planId:e.additionalData.planId}).pipe((0,NC.K)(e=>(0,nl.of)(km(e)))))),{dispatch:!1})}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD),Pe.LFG(DC.x))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var Yv=(()=>(function(e){e.TopologyDefinitionError="topologyDefinitionError",e.ParameterDefinitionError="parameterDefinitionError",e.OccurrenceDefinitionError="occurrenceDefinitionError",e.TopologyRelationError="topologyRelationError",e.ParameterRelationError="parameterRelationError",e.HardwareRelationError="hardwareRelationError"}(Yv||(Yv={})),Yv))();function Jv(e){return Boolean(e&&e.from!==ht.tX.ACTIVE&&e.from!==ht.tX.INACTIVE)}function Hv(e){return e&&Math.ceil(e.total/e.itemsPerPage)?Boolean(e.pageNumber<=Math.ceil(e.total/e.itemsPerPage)):Boolean(e)}let Wv=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.planApiEndpointService=n,this.startDownloadTopologyDefinitionErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Wd,lu,hu,Fg,lt),(0,Bo.M)(this.store.select(Xu),this.store.select(me.ji)),(0,vs.h)(([,,e])=>Jv(e)),(0,dC.zg)(([,e])=>e?[Nd()]:[Ld()]))),this.downloadLatestTopologyDefinitionErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ld),(0,Bo.M)(this.store.select(lp),this.store.select(rp),this.store.select(me.ji),this.store.select(ju)),(0,vs.h)(([,e,,t,n])=>!n&&Jv(t)&&Hv(e)),(0,dC.zg)(([,e,t,n])=>this.planApiEndpointService.createDownloadLatestValidationEndpoint(n,{pagination:e,sort:t,validationErrorType:Yv.TopologyDefinitionError}).pipe((0,A.U)(e=>tu({timestamp:e.timestamp,revision:e.revision,topologyDefinitionErrors:e.topologyDefinitionErrors,total:e.total,validationPlanData:{validatedPlan:{from:n.from,planId:n.planId},isOngoing:!1}})),(0,NC.K)(e=>(0,nl.of)(kd(e))))))),this.downloadTopologyDefinitionErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Nd,Id),(0,Bo.M)(this.store.select(Ku),this.store.select(Xu),this.store.select(lp),this.store.select(rp),this.store.select(me.ji)),(0,vs.h)(([,,,,,e])=>Jv(e)),(0,dC.zg)(([,e,t,n,i])=>this.planApiEndpointService.createDownloadValidationPlanErrorEndPoint(e,t,{pagination:n,sort:i,validationErrorType:Yv.TopologyDefinitionError}).pipe((0,A.U)(e=>tu({timestamp:e.timestamp,revision:e.revision,topologyDefinitionErrors:e.topologyDefinitionErrors,total:e.total})),(0,NC.K)(()=>(0,nl.of)(ou({validationId:t})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),Qv=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.planApiEndpointService=n,this.startDownloadTopologyRelationErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Qd,su,uu,Fg),(0,Bo.M)(this.store.select(Xu),this.store.select(me.ji)),(0,vs.h)(([,,e])=>Jv(e)),(0,dC.zg)(([,e])=>e?[Dd()]:[Zd()]))),this.downloadLatestTopologyRelationErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Zd),(0,Bo.M)(this.store.select(xp),this.store.select(Op),this.store.select(me.ji),this.store.select(ju)),(0,vs.h)(([,e,,t,n])=>!n&&Jv(t)&&Hv(e)),(0,dC.zg)(([,e,t,n])=>this.planApiEndpointService.createDownloadLatestValidationEndpoint(n,{pagination:e,sort:t,validationErrorType:Yv.TopologyRelationError}).pipe((0,A.U)(e=>nu({timestamp:e.timestamp,revision:e.revision,topologyRelationErrors:e.topologyRelationErrors,total:e.total,validationPlanData:{validatedPlan:{from:n.from,planId:n.planId},isOngoing:!1}})),(0,NC.K)(e=>(0,nl.of)(kd(e))))))),this.downloadTopologyRelationErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Dd,Id),(0,Bo.M)(this.store.select(Ku),this.store.select(Xu),this.store.select(xp),this.store.select(Op),this.store.select(me.ji)),(0,vs.h)(([,,,,,e])=>Jv(e)),(0,dC.zg)(([,e,t,n,i])=>this.planApiEndpointService.createDownloadValidationPlanErrorEndPoint(e,t,{pagination:n,sort:i,validationErrorType:Yv.TopologyRelationError}).pipe((0,A.U)(e=>nu({timestamp:e.timestamp,revision:e.revision,topologyRelationErrors:e.topologyRelationErrors,total:e.total})),(0,NC.K)(()=>(0,nl.of)(ou({validationId:t})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),zv=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.planApiEndpointService=n,this.startDownloadParameterRelationErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Jd,au,pu,Fg),(0,Bo.M)(this.store.select(Xu),this.store.select(me.ji)),(0,vs.h)(([,,e])=>Jv(e)),(0,dC.zg)(([,e])=>e?[Rd()]:[jd()]))),this.downloadLatestParameterRelationErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(jd),(0,Bo.M)(this.store.select(vp),this.store.select(bp),this.store.select(me.ji),this.store.select(ju)),(0,vs.h)(([,e,,t,n])=>!n&&Jv(t)&&Hv(e)),(0,dC.zg)(([,e,t,n])=>this.planApiEndpointService.createDownloadLatestValidationEndpoint(n,{pagination:e,sort:t,validationErrorType:Yv.ParameterRelationError}).pipe((0,A.U)(e=>Xd({timestamp:e.timestamp,revision:e.revision,parameterRelationErrors:e.parameterRelationErrors,total:e.total,validationPlanData:{validatedPlan:{from:n.from,planId:n.planId},isOngoing:!1}})),(0,NC.K)(e=>(0,nl.of)(kd(e))))))),this.downloadParameterRelationErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Rd,Id),(0,Bo.M)(this.store.select(Ku),this.store.select(Xu),this.store.select(vp),this.store.select(bp),this.store.select(me.ji)),(0,vs.h)(([,,,,,e])=>Jv(e)),(0,dC.zg)(([,e,t,n,i])=>this.planApiEndpointService.createDownloadValidationPlanErrorEndPoint(e,t,{pagination:n,sort:i,validationErrorType:Yv.ParameterRelationError}).pipe((0,A.U)(e=>Xd({timestamp:e.timestamp,revision:e.revision,parameterRelationErrors:e.parameterRelationErrors,total:e.total})),(0,NC.K)(()=>(0,nl.of)(ou({validationId:t})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var Kv=n(62189),Xv=n(58239);let ey=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.store=t,this.planApiEndpointService=n,this.environment=i,this.filterVdu=(0,vs.h)(()=>this.environment.appMetadata.type===Kv.Z.VDU),this.startDownloadHardwareRelationErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Hd,au,pu,Fg),this.filterVdu,(0,Bo.M)(this.store.select(Xu),this.store.select(me.ji)),(0,vs.h)(([,,e])=>Jv(e)),(0,dC.zg)(([,e])=>e?[Fd()]:[Ud()]))),this.downloadLatestHardwareRelationErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ud),this.filterVdu,(0,Bo.M)(this.store.select(yp),this.store.select(Cp),this.store.select(me.ji),this.store.select(ju)),(0,vs.h)(([,e,,t,n])=>!n&&Jv(t)&&Hv(e)),(0,dC.zg)(([,e,t,n])=>this.planApiEndpointService.createDownloadLatestValidationEndpoint(n,{pagination:e,sort:t,validationErrorType:Yv.HardwareRelationError}).pipe((0,A.U)(e=>eu({timestamp:e.timestamp,revision:e.revision,hardwareRelationErrors:e.hardwareRelationErrors,total:e.total,validationPlanData:{validatedPlan:{from:n.from,planId:n.planId},isOngoing:!1}})),(0,NC.K)(e=>(0,nl.of)(kd(e))))))),this.downloadHardwareRelationErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Fd,Id),this.filterVdu,(0,Bo.M)(this.store.select(Ku),this.store.select(Xu),this.store.select(yp),this.store.select(Cp),this.store.select(me.ji)),(0,vs.h)(([,,,,,e])=>Jv(e)),(0,dC.zg)(([,e,t,n,i])=>this.planApiEndpointService.createDownloadValidationPlanErrorEndPoint(e,t,{pagination:n,sort:i,validationErrorType:Yv.HardwareRelationError}).pipe((0,A.U)(e=>eu({timestamp:e.timestamp,revision:e.revision,hardwareRelationErrors:e.hardwareRelationErrors,total:e.total})),(0,NC.K)(()=>(0,nl.of)(ou({validationId:t})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD),Pe.LFG(Xv.q))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),ty=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.planApiEndpointService=n,this.startDownloadParameterDefinitionErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Yd,du,fu,Fg,Fr,Gr,Hr,uv,vv,fv,Av,Ev),(0,Bo.M)(this.store.select(Xu),this.store.select(me.ji)),(0,vs.h)(([,,e])=>Jv(e)),(0,dC.zg)(([,e])=>e?[$d()]:[qd()]))),this.downloadLatestParameterDefinitionErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(qd),(0,Bo.M)(this.store.select(pp),this.store.select(up),this.store.select(me.ji),this.store.select(ju)),(0,vs.h)(([,e,,t,n])=>!n&&Jv(t)&&Hv(e)),(0,dC.zg)(([,e,t,n])=>this.planApiEndpointService.createDownloadLatestValidationEndpoint(n,{pagination:e,sort:t,validationErrorType:Yv.ParameterDefinitionError}).pipe((0,A.U)(e=>{let t=e.parameterDefinitionErrors;return t&&(t=oa(t)),Kd({timestamp:e.timestamp,revision:e.revision,parameterDefinitionErrors:t,total:e.total,validationPlanData:{validatedPlan:{from:n.from,planId:n.planId},isOngoing:!1}})}),(0,NC.K)(e=>(0,nl.of)(kd(e))))))),this.downloadParameterDefinitionErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)($d,Id),(0,Bo.M)(this.store.select(Ku),this.store.select(Xu),this.store.select(pp),this.store.select(up),this.store.select(me.ji)),(0,vs.h)(([,,,,,e])=>Jv(e)),(0,dC.zg)(([,e,t,n,i,o])=>this.planApiEndpointService.createDownloadValidationPlanErrorEndPoint(e,t,{pagination:n,sort:i,validationErrorType:Yv.ParameterDefinitionError}).pipe((0,A.U)(e=>Kd({timestamp:e.timestamp,revision:e.revision,parameterDefinitionErrors:oa(e.parameterDefinitionErrors),total:e.total,validationPlanData:{validatedPlan:{from:o.from,planId:o.planId},isOngoing:!1}})),(0,NC.K)(e=>(0,nl.of)(ou({validationId:t})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),ny=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.planApiEndpointService=n,this.startDownloadOccurrenceDefinitionErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Vd,cu,mu,Fg),(0,Bo.M)(this.store.select(Xu),this.store.select(me.ji)),(0,vs.h)(([,,e])=>Jv(e)),(0,dC.zg)(([,e])=>e?[Bd()]:[Gd()]))),this.downloadLatestOccurrenceDefinitionErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Gd),(0,Bo.M)(this.store.select(tp),this.store.select(np),this.store.select(me.ji),this.store.select(ju)),(0,vs.h)(([,e,,t,n])=>!n&&Jv(t)&&Hv(e)),(0,dC.zg)(([,e,t,n])=>this.planApiEndpointService.createDownloadLatestValidationEndpoint(n,{pagination:e,sort:t,validationErrorType:Yv.OccurrenceDefinitionError}).pipe((0,A.U)(e=>zd({occurrenceDefinitionErrors:e.occurrenceDefinitionErrors,total:e.total,timestamp:e.timestamp,revision:e.revision,validationPlanData:{validatedPlan:{from:n.from,planId:n.planId},isOngoing:!1}})),(0,NC.K)(e=>(0,nl.of)(kd(e))))))),this.downloadOccurrenceDefinitionErrors$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Bd,Id),(0,Bo.M)(this.store.select(Ku),this.store.select(Xu),this.store.select(tp),this.store.select(np),this.store.select(me.ji)),(0,vs.h)(([,,,,,e])=>Jv(e)),(0,dC.zg)(([,e,t,n,i])=>this.planApiEndpointService.createDownloadValidationPlanErrorEndPoint(e,t,{pagination:n,sort:i,validationErrorType:Yv.OccurrenceDefinitionError}).pipe((0,A.U)(e=>zd({occurrenceDefinitionErrors:e.occurrenceDefinitionErrors,total:e.total,revision:e.revision,timestamp:e.timestamp})),(0,NC.K)(()=>(0,nl.of)(ou({validationId:t})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),iy=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.store=t,this.planApiEndpointsService=n,this.pollingService=i,this.copyManagedObject$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ot),(0,Bo.M)(this.store.pipe((0,g.Ys)(me.LU)),(e,{planId:t,planOrigin:n})=>({action:e,planId:t,planOrigin:n})),(0,dC.zg)(({action:e,planId:t,planOrigin:n})=>{if(!t)throw Error("Cannot execute action for undefined planId");if(!n)throw Error("Cannot execute action for undefined planOrigin");const{parentMoUuid:i,newInstanceId:o,includeChildrenObjects:s,moUuid:a,sourcePlanId:r}=e.request,l={planId:t,body:{parentMoUuid:i,newInstanceId:o,includeChildrenObjects:s,moUuid:a,sourcePlanId:r}},c={requestEndpoint:this.planApiEndpointsService.getCopyManagedObjectRequestEndpoint(n),requestParams:l,pollingEndpoint:this.planApiEndpointsService.getCopyManagedObjectActionRequestEndpoint(n,t),onActionSuccess:st,onActionFailure:at,onActionError:rt,additionalData:Object.assign({planOrigin:n,planId:t},l.body),actionProgress:{id:Et.CopyManagedObject,identifyingData:{planId:t,parentMoUuid:i},spinAfterSuccess:e.keepInfiniteSpinner}};return this.pollingService.executeAction(c).pipe((0,NC.K)(()=>(0,nl.of)([])))}))),this.deleteCopyManagedObjectAction$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(st,at),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i}=t;return this.planApiEndpointsService.deleteCopyManagedObjectAction(i,n,e.actionId).pipe((0,A.U)(()=>ut()),(0,NC.K)(e=>(0,nl.of)(pt({error:e}))))}))),this.copyManagedObjectSuccessNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(st),(0,A.U)(()=>(0,FC.wN)({payload:{severity:"success",summary:"Copy Object",detail:"Copy object operation finished"}})))),this.copyManagedObjectErrorNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(at,rt,tt),(0,dC.zg)(()=>(0,nl.of)((0,FC.wN)({payload:{severity:"error",summary:"Copy Object",detail:"Copy object operation failed"}}))))),this.requestManagedObjectCopySources$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(et),(0,dC.zg)(e=>this.planApiEndpointsService.getPossibleManagedObjectsToCopy(e.request).pipe((0,A.U)(e=>$e({payload:e})),(0,NC.K)(e=>(0,nl.of)(tt({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD),Pe.LFG(tv.xj))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),oy=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.planApiEndpointService=n,this.downloadParameterRelationDetails$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Cu,Fr,Gr,Hr,uv,vv,fv,Av,Ev),(0,Bo.M)(this.store.select(me.ji),this.store.select(_p)),(0,dC.zg)(([,e,t])=>t?this.planApiEndpointService.getRelationErrorsDetailsObject(e,t).pipe((0,A.U)(e=>Pu({parameterRelationErrorDetail:oa(e)})),(0,NC.K)(e=>(0,nl.of)(xu({error:e})))):(0,nl.of)(Pu({parameterRelationErrorDetail:[]})))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),sy=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.store=t,this.planApiEndpointService=n,this.environment=i,this.downloadHardwareRelationDetails$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(vu,Fr,Gr,Hr,uv,vv,fv,Av,Ev),(0,vs.h)(()=>this.environment.appMetadata.type===Kv.Z.VDU),(0,Bo.M)(this.store.select(me.ji),this.store.select(Tp)),(0,dC.zg)(([,e,t])=>t?this.planApiEndpointService.getRelationErrorsDetailsObject(e,t).pipe((0,A.U)(e=>Ou({hardwareRelationErrorDetail:oa(e)})),(0,NC.K)(e=>(0,nl.of)(wu({error:e})))):(0,nl.of)(Ou({hardwareRelationErrorDetail:[]})))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(Yt.iD),Pe.LFG(Xv.q))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();const ay="Cannot execute action for undefined planId",ry="Cannot execute action for undefined planOrigin";let ly=(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.actions$=t,this.pollingService=n,this.planApiEndpointsService=i,this.planApiUpdateParametersEndpointsService=o,this.revertSimpleListElement$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(mv),(0,Bo.M)(this.store.pipe((0,g.Ys)(me.oI)),this.store.pipe((0,g.Ys)(me.DM)),(e,t,n)=>({action:e,planId:t,planOrigin:n})),(0,dC.zg)(({action:e,planId:t,planOrigin:n})=>{if(!t)throw Error(ay);if(!n)throw Error(ry);const i=this.planApiUpdateParametersEndpointsService.getRevertSimpleListElementRequestEndpoint(n),o=this.planApiUpdateParametersEndpointsService.getRevertSimpleListElementActionRequestEndpoint(t,n),{changes:s,moUuid:a}=e,r={planId:t,body:{moUuid:a,changes:s}},{path:l,op:c}=s[0];return this.pollingService.executeAction({requestEndpoint:i,requestParams:r,pollingEndpoint:o,onActionSuccess:fv,onActionFailure:bv,onActionError:Cv,additionalData:{planId:t,planOrigin:n,moUuid:a},actionProgress:{id:Et.RevertMultipleParameterElement,identifyingData:{planId:t,moUuid:a,path:l,op:c}}}).pipe((0,NC.K)(()=>(0,nl.of)(bv)))}))),this.revertSimpleListElementDeleteAction$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(fv,bv),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i}=t;return this.planApiUpdateParametersEndpointsService.deleteRevertSimpleListElementAction(n,e.actionId,i).pipe((0,A.U)(()=>Kr()),(0,NC.K)(e=>(0,nl.of)(zr({error:e}))))}))),this.revertSimpleListFailureNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(bv,Cv),(0,A.U)(()=>(0,FC.wN)({payload:{severity:"error",summary:"Revert Simple List Element",detail:"Revert simple list element operation failed"}})))),this.revertSimpleListSuccessNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(fv),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Revert simple list element operation finished",severity:"success",summary:"Revert Simple List Element"}})))),this.selectMo$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(fv,Ev),(0,A.U)(({additionalData:e})=>N({moUuid:e.moUuid})))),this.revertStructure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Iv),(0,Bo.M)(this.store.pipe((0,g.Ys)(me.oI)),this.store.pipe((0,g.Ys)(me.DM)),(e,t,n)=>({action:e,planId:t,planOrigin:n})),(0,dC.zg)(({action:e,planId:t,planOrigin:n})=>{if(!t)throw Error(ay);if(!n)throw Error(ry);const i=this.planApiUpdateParametersEndpointsService.getRevertStructureRequestEndpoint(n),o=this.planApiUpdateParametersEndpointsService.getRevertStructureActionRequestEndpoint(t,n),{changes:s,moUuid:a}=e,r={planId:t,body:{moUuid:a,changes:s}},{path:l,op:c}=s[0];return this.pollingService.executeAction({requestEndpoint:i,requestParams:r,pollingEndpoint:o,onActionSuccess:Ev,onActionFailure:Mv,onActionError:kv,additionalData:{planId:t,planOrigin:n,moUuid:a},actionProgress:{id:Et.RevertMultipleParameterElement,identifyingData:{planId:t,moUuid:a,path:l,op:c}}}).pipe((0,NC.K)(()=>(0,nl.of)(Mv)))}))),this.revertStructureDeleteAction$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ev,Mv),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n,planOrigin:i}=t;return this.planApiUpdateParametersEndpointsService.deleteRevertStructureAction(n,e.actionId,i).pipe((0,A.U)(()=>Kr()),(0,NC.K)(e=>(0,nl.of)(zr({error:e}))))}))),this.revertStructureFailureNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Mv,kv),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Revert structure operation failed",severity:"error",summary:"Revert Structure"}})))),this.revertStructureSuccessNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ev),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Revert structure operation finished",severity:"success",summary:"Revert Structure"}}))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(DC.x),Pe.LFG(Yt.iD),Pe.LFG(Yt.hU))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),cy=(()=>{class e{constructor(e,t){this.store=e,this.actions$=t,this.newEmptySimpleListElement$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Tl),(0,Bo.M)(this.store.select(me.oI)),(0,vs.h)(([e,t])=>e.rowData.rowType===ht.bm.SIMPLE_LIST&&!!t),(0,A.U)(([e,t])=>{const{moUuid:n,value:i,path:o}=e.rowData,s=(null==i?void 0:i.length)||0,a=Da(t,n,`${o}/${s}`);return xa({payload:{id:a,moUuid:n,path:o,planId:t,elementIndex:s}})}))),this.removeFilledSimpleListElement$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Fe),(0,Bo.M)(this.store.select(me.oI),this.store.select(La)),(0,A.U)(([{payload:e},t,n])=>function(e,t,n){const i=Ra(e.moUuid,t,n),o=[];return i.forEach(t=>{const n=t.path.split("/")[1],i=Ua(e,n);(null==i?void 0:i.value.length)&&(null==i?void 0:i.value[t.elementIndex])&&o.push(t.id)}),o}(e,t,n)),(0,vs.h)(e=>!!e.length),(0,A.U)(e=>wa({idsToRemove:e}))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),dy=(()=>{class e{constructor(e,t){this.store=e,this.actions$=t,this.removeFilledStructure$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Fe),(0,Bo.M)(this.store.select(pr)),(0,A.U)(([{payload:e},t])=>function(e,t){const n=fr(t,e.moUuid),i=[];return n.forEach(t=>{const{parameterName:n,structureIdx:o}=hr(t.path),s=mr(e,n);if(!s)return;const a=s.value[o];a&&a.structureParameters&&0!==a.structureParameters.length&&i.push(t)}),i}(e,t)),(0,vs.h)(e=>0!==e.length),(0,A.U)(e=>nr({filledStructures:e}))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();function uy(e){const t=[];return(0,_.forEach)(e,(n,i)=>{if(!(0,_.isNil)(n))switch(i){case"minOccurs":t.push({key:"Minimum number of instances",value:n.toString()});break;case"maxOccurs":t.push({key:"Maximum number of instances",value:n.toString()});break;case"modificationProperty":t.push({key:"Can be created",value:e.modificationProperty.creation?"YES":"NO"},{key:"Can be modified",value:e.modificationProperty.modification?"YES":"NO"},{key:"Can be deleted",value:e.modificationProperty.deletion?"YES":"NO"})}}),t}function py(e,t){if(!e||!t)return;const n=e.entities;return n?n[t.niddId]:void 0}var gy=(()=>(function(e){e.Mandatory="Mandatory",e.Optional="Optional",e.SetBySystem="Set by system"}(gy||(gy={})),gy))();function hy(e){const t=[];return(0,_.forEach)(e,(e,n)=>{if(!(0,_.isNil)(e))switch(n){case"value":t.push({key:(0,_.upperFirst)((0,_.lowerCase)(n)),value:e.toString()});break;case"parameterValueType":t.push({key:"Data type",value:e.toString()})}}),t}function my(e,t){if(!e||!e.definition)return;const n=e.definition.descriptionOfRelationship,i=e.definition.description,o=e.definition.name,s=e.definition.abbreviation;return(0,_.forEach)(e.definition,(n,i)=>{if(!(0,_.isNil)(n))switch(i){case"defaultValue":t.push({key:(0,_.upperFirst)((0,_.lowerCase)(i)),value:fy(e.definition,e.parameterValueType)});break;case"modificationType":t.push({key:(0,_.upperFirst)((0,_.lowerCase)(i)),value:(0,_.upperFirst)((0,_.toLower)(n))});break;case"step":case"unit":t.push({key:(0,_.upperFirst)((0,_.lowerCase)(i)),value:n})}}),(0,_.isNil)(e.definition)||(0,_.isNil)(e.definition.minValue)||(0,_.isNil)(e.definition.maxValue)||t.push({key:"Range",value:`${e.definition.minValue}...${e.definition.maxValue}`}),(0,_.isNil)(e.definition)||t.push({key:"Creation priority",value:(a=e.definition,pi(a)?gy.SetBySystem:ui(a)?gy.Mandatory:gy.Optional)}),(0,_.isNil)(e.definition.maxOccurs)||t.push({key:"Max items quantity",value:`${e.definition.maxOccurs}`}),(0,_.isNil)(e.definition)||t.push({key:"Security admin only",value:`${e.definition.secAdmOnly||!1}`}),{descriptionOfRelationship:n,description:i,title:o,subTitle:s};var a}function fy(e,t){if(t!==Yn.Enumeration&&e&&!("enumValues"in e))return e.defaultValue;const n=(0,_.find)(e.enumValues,{value:e.defaultValue});if(!n)throw new Error("Invalid defaultValue in NIDD");return n.name}function by(e){const t=[];return e.definition&&pi(e.definition)||e&&e.definitionValidation&&t.push({type:wn.MR9.error,value:e.definitionValidation}),t}let Cy=(()=>{class e{constructor(e,t){this.actions$=e,this.store=t,this.selectedManagedObject$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Fe),(0,Bo.M)(this.store.select(Rn)),(0,A.U)(([e,t])=>{const n=py(t,e.payload);if(!n)return Ce();const i=uy(n);return be({listData:i,title:n.fullName,subTitle:n.className})}))),this.selectedParameterDetails$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ye),(0,A.U)(e=>{if((0,_.isNil)(e))return Ce();const t=hy(e),n=my(e,t),i=by(e);return fe(Object.assign(Object.assign({listData:t},n),{validationData:i}))}))),this.selectedObjectsQuantity$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Se),(0,A.U)(e=>{const t=e.classNameDefinition,n=uy(t);return be({listData:n,title:t.fullName,subTitle:t.className})})))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),vy=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.store=t,this.peService=n,this.pollingService=i,this.revertManagedObject$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(We),(0,Bo.M)(this.store.pipe((0,g.Ys)(me.oI)),(e,t)=>({action:e,planId:t})),(0,dC.zg)(({action:e,planId:t})=>{if(!t)throw Error("Cannot execute action for undefined planId");const{moUuid:n}=e;return this.pollingService.executeAction({requestEndpoint:()=>this.peService.revertManagedObject({planId:t,body:e}),requestParams:{planId:t,body:{moUuid:n}},pollingEndpoint:({actionId:e})=>this.peService.getRevertManagedObjectAction({planId:t,actionId:e}),onActionOngoing:Qe,onActionSuccess:ze,onActionFailure:Ke,onActionError:Xe,additionalData:{planId:t,moUuid:n},actionProgress:{id:Et.RevertManagedObject,identifyingData:{planId:t,moUuid:n},spinAfterSuccess:!1}}).pipe((0,NC.K)(()=>(0,nl.of)(Ke)))}))),this.revertManagedObjectDeleteAction$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ze,Ke),(0,dC.zg)(({response:e,additionalData:t})=>{const{planId:n}=t,{actionId:i}=e;return this.peService.deleteActionOfRevertManagedObject({planId:n,actionId:i}).pipe((0,A.U)(()=>ut()),(0,NC.K)(e=>(0,nl.of)(pt({error:e}))))}))),this.revertManagedObjectSelectMoLite$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ze),(0,A.U)(({additionalData:e})=>{const{moUuid:t}=e;return N({moUuid:t})}))),this.revertManagedObjectFailureNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(Ke,Xe),(0,A.U)(()=>(0,FC.wN)({payload:{severity:"error",summary:"Revert Object",detail:"Revert object operation failed"}})))),this.revertManagedObjectSuccessNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ze),(0,A.U)(()=>(0,FC.wN)({payload:{severity:"success",summary:"Revert Object",detail:"Revert object operation finished"}}))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(g.yh),Pe.LFG(nv.q),Pe.LFG(tv.xj))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var yy=n(38017);let Sy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[yy.O,wn.g3K,cC.E,wn.EJq,gC.F,Uh.DL,Sh.cc,wn.TPj,rC.q,sC.S,aC,xi.kW,Ei.j,Nr.z,Xb.A,wn.YI8,xi.kW,xn.u5,xn.UX,wi.nD,wn.dje,Fb.D,lC.w,hC.s,wn.gkd,m.ez,el.q4,wn.y$Z,wn.BXv,mt.xc,pC,g.Aw.forFeature("plansTree",z),g.Aw.forFeature(fb,vb),g.Aw.forFeature("selectedPlan",CC),g.Aw.forFeature(ds,ps),g.Aw.forFeature("planActivation",OC),g.Aw.forFeature("planSend",Gf),g.Aw.forFeature(xC.aW,xC.I6),g.Aw.forFeature("receivePlan",_C),g.Aw.forFeature("nidd",Nn),g.Aw.forFeature(Mu,Zu),g.Aw.forFeature(Yi,Qi),g.Aw.forFeature(Pt,wt),g.Aw.forFeature(y,P),g.Aw.forFeature("fixErrors",IC),g.Aw.forFeature(Zp,Fp),g.Aw.forFeature(_a,Ma),g.Aw.forFeature(qa,Ga),g.Aw.forFeature(or,lr),oC.sQ.forFeature([VC,XC,av,$C,zC,ev,sv,ov,UC,Uv,Vv,Gv,lv,Wv,Qv,zv,oy,sy,ty,ny,Rv,ly,Nv,Bv,$v,iy,Cy,vy,dy,cy,ey]),iC.q,jm.U$,wn.Fme,wn.auk,mC.F,fC.oS],wn.dje,Sh.cc,wn.TPj,rC.q,sC.S,aC,xn.u5,xn.UX,wi.nD,m.ez,wn.y$Z,wn.EJq]}),e})();var Py=n(21499);const Oy={disabledParameterDeleteButtons:(0,I.H)({selectId:function({planId:e,moUuid:t,parameterPath:n}){return`PLAN-${e}/MO-${t}${n}`},sortComparer:!1}).getInitialState()},xy=(0,g.Lq)(Oy);function wy(e,t){return xy(e,t)}var Ay=n(70047),_y=n(25616);let Ty=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[Ay.f,wn.XKI,wn.IR6,yr.dp,m.ez,wn.F8l,Kb,h.o9,Ei.j,xi.kW,tC,Xb.A,nC.$,Py.F,wn.jPy,iC.q,Sy,wn.YI8,pC,_y.FZ,g.Aw.forFeature(Ds,Vs),g.Aw.forFeature(Ds,Vs),g.Aw.forFeature("parameter",wy),g.Aw.forFeature(Wa,za)]]}),e})();var Iy=n(56964);let Ey=(()=>{class e extends Mp.O{ngOnInit(){this.setMenuItemsMap([Ip.r.ipsecPskConfiguration])}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Pe.n5z(e)))(n||e)}}(),e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ipsec-psk-navigation"]],features:[Pe.qOj],decls:1,vars:1,consts:[[3,"menuItemsMap"]],template:function(e,t){1&e&&Pe._UZ(0,"ui-webem-submenu",0),2&e&&Pe.Q6J("menuItemsMap",t.menuItemsMap)},directives:[Iy._],encapsulation:2}),e})();var My=(()=>(function(e){e.SET_OPERATION_ID="[IpsecPskConfiguration] Set operation id",e.SET_OPERATION_STATUS="[IpsecPskConfiguration] Set operation status",e.RESET_OPERATION_STATUS="[IpsecPskConfiguration] Reset operation status",e.IPSEC_SET_PSK_LOADING="[IpsecPskConfiguration] set pre-shared key loading state",e.IPSEC_SET_PSK_NOT_LOADING="[IpsecPskConfiguration] set pre-shared key not loading state",e.UPDATE_PRE_SHARED_KEY="[IpsecPskConfiguration] update pre-shared key: pre-shared key",e.SUBSCRIBE_UPDATE_PRE_SHARED_KEY_STATUS_WATCH="[IpsecPskConfiguration] subscribe update ipsec psk operation status watch",e.SUBSCRIBE_UPDATE_PRE_SHARED_KEY_ERROR="[IpsecPskConfiguration] subscribe update ipsec psk operation error",e.UNSUBSCRIBE_UPDATE_PRE_SHARED_KEY_STATUS_WATCH="[IpsecPskConfiguration] unsubscribe update ipsec psk operation status watch",e.CLEAN_UPDATE_IPSEC_PSK_STATE_IF_IS_NOT_ONGOING="[IpsecPskConfiguration] clean update ipsec psk state if is not ongoing",e.SET_PSK_VALIDATION_RULES="[IpsecPskConfiguration] Set pre-shared key validation rules"}(My||(My={})),My))();const ky=(0,g.PH)(My.IPSEC_SET_PSK_LOADING),Ny=(0,g.PH)(My.IPSEC_SET_PSK_NOT_LOADING),Ly=(0,g.PH)(My.SET_OPERATION_ID,(0,g.Ky)()),Dy=(0,g.PH)(My.SET_OPERATION_STATUS,(0,g.Ky)()),Zy=(0,g.PH)(My.RESET_OPERATION_STATUS,(0,g.Ky)()),Ry=(0,g.PH)(My.UPDATE_PRE_SHARED_KEY,(0,g.Ky)()),Uy=(0,g.PH)(My.SUBSCRIBE_UPDATE_PRE_SHARED_KEY_STATUS_WATCH,(0,g.Ky)()),Fy=(0,g.PH)(My.SUBSCRIBE_UPDATE_PRE_SHARED_KEY_ERROR,(0,g.Ky)()),jy=(0,g.PH)(My.UNSUBSCRIBE_UPDATE_PRE_SHARED_KEY_STATUS_WATCH),$y=(0,g.PH)(My.CLEAN_UPDATE_IPSEC_PSK_STATE_IF_IS_NOT_ONGOING),qy=(0,g.PH)(My.SET_PSK_VALIDATION_RULES,(0,g.Ky)());var By=(()=>(function(e){e.MAX_LENGTH="MAX_LENGTH",e.MIN_LENGTH="MIN_LENGTH",e.CONSECUTIVE_CHAR="CONSECUTIVE_CHAR",e.DIGIT_NUMBER="DIGIT_NUMBER",e.LOWER_UPPER_CASE="LOWER_UPPER_CASE",e.DISALLOWED_ASCII="DISALLOWED_ASCII",e.NON_ALPHA_NUMBER="NON_ALPHA_NUMBER"}(By||(By={})),By))();const Gy=(0,g.Lq)({pskLoading:!1,pskValidationRules:[]},(0,g.on)(ky,(e,t)=>Object.assign(Object.assign({},e),{pskLoading:!0})),(0,g.on)(Ny,(e,t)=>Object.assign(Object.assign({},e),{pskLoading:!1})),(0,g.on)(qy,(e,t)=>Object.assign(Object.assign({},e),{pskValidationRules:t.payload})));function Vy(e,t){return Gy(e,t)}const Yy=(0,g.ZF)("IpSecImportFromFile"),Jy=(0,g.P1)(Yy,e=>e.pskLoading),Hy=(0,g.P1)(Yy,e=>e.pskValidationRules);var Wy=(()=>(function(e){e.UPDATE_IPSEC_PSK="updateIpsecPreSharedKey"}(Wy||(Wy={})),Wy))();const Qy=(0,g.Lq)({[Wy.UPDATE_IPSEC_PSK]:{id:"",operationStatus:null}},(0,g.on)(Ly,(e,{operationType:t,operationId:n})=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{id:n})})),(0,g.on)(Dy,(e,{operationType:t,operationStatus:n})=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{operationStatus:n})})),(0,g.on)(Zy,(e,{operationType:t})=>Object.assign(Object.assign({},e),{[t]:{id:"",operationStatus:null}})));function zy(e,t){return Qy(e,t)}const Ky=(0,g.ZF)("IpSecOperations"),Xy=(0,g.P1)(Ky,e=>e[Wy.UPDATE_IPSEC_PSK]),eS=(0,g.P1)(Ky,e=>function(e,t){const n=e[t];return!(0,_.isNull)(n.operationStatus)&&"Ongoing"===n.operationStatus.status}(e,Wy.UPDATE_IPSEC_PSK)),tS=(0,g.P1)(Ky,e=>function(e,t){const n=e[t];return!(0,_.isNull)(n.operationStatus)&&("Successful"===n.operationStatus.status||"Failed"===n.operationStatus.status)}(e,Wy.UPDATE_IPSEC_PSK));var nS=n(71794),iS=n(2822),oS=n(87392);function sS(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-button",12),Pe.NdJ("action",function(t){return Pe.CHM(e),Pe.oxw().ipsecOnPskUpload(t)}),Pe.ALo(2,"async"),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("model",e.model)("options",n.importButtonOptions)("disabled",Pe.lcZ(2,3,n.updateIpsecPskKeyInProgress$))}}function aS(e,t){1&e&&(Pe.TgZ(0,"div",13),Pe._UZ(1,"i",14),Pe._uU(2," The file is empty. Please choose another file. "),Pe.qZA())}function rS(e,t){if(1&e&&(Pe.TgZ(0,"span",18),Pe._UZ(1,"i",19),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngClass",e.result.iconClass)}}function lS(e,t){if(1&e&&(Pe.TgZ(0,"span",20),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Oqu(e.result.message)}}function cS(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,rS,2,1,"span",16),Pe.YNc(2,lS,2,1,"span",17),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.iconClass),Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.message)}}const dS=function(e){return{result:e}};function uS(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-button",15),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().onUpdatePreSharedKeyButtonClick()}),Pe.ALo(2,"async"),Pe.qZA(),Pe.YNc(3,cS,3,2,"ng-container",9),Pe.ALo(4,"async"),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("model",e.model)("disabled",n.isUpdateIpsecPskDisabled()||Pe.lcZ(2,3,n.updateIpsecPskKeyInProgress$)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(7,dS,Pe.lcZ(4,5,n.updateIpsecPskResult$)))}}const pS=function(e){return{model:e}};let gS=(()=>{class e{constructor(e,t,n){this.store=e,this.formBuilder=t,this.logger=n,this.isEmptyPreSharedKeyFile=!1,this.showPreSharedKeyPassword=!1,this.ngUnsubscribe=new Ae.xQ,this.importButtonOptions={fileUpload:!0,accept:"text/plain"},this.operationStatusEnum={ONGOING:"Ongoing",SUCCESSFUL:"Successful",FAILED:"Failed"},this.icons={ONGOING:"mdi mdi-loading mdi-spin",SUCCESS_ICON:"success-icon mdi mdi-check-circle",ERROR_ICON:"alert-icon mdi mdi-alert"},this.isOperationEnd=!0,this.PRESHAREDKEY="preSharedKey",this.PSK_OPTIONS_DEFAULT={minLength:8,maxLength:128,minNumberOfDigits:2,minNonAlphaNumerical:1},this.validationChange=new Pe.vpe}ngOnInit(){this.updateIpsecPskKeyInProgress$=this.store.select(eS),this.updateIpsecPskKeyEnd$=this.store.select(tS),this.updateIpsecPskResult$=this.store.pipe((0,g.Ys)(Xy),(0,ys.x)(_.isEqual),(0,A.U)(this.getIpsecOperationResult.bind(this))),this.initForm(),this.ipsecPskButtonModel$=this.store.pipe((0,g.Ys)(Jy),(0,ys.x)(),(0,A.U)(this.createImportButtonModel.bind(this))),this.updatePreSharedKeyButtonModel$=this.store.pipe((0,g.Ys)(Xy),(0,ys.x)(_.isEqual),(0,A.U)(e=>this.createUpdateActionButtonModel(e,"Update"))),this.emitValidationStatus()}emitValidationStatus(){const e=this.form.get(this.PRESHAREDKEY),t=this.form.errors,n={preSharedKey:e.errors||t?Object.assign(Object.assign({},e.errors),t):{}};this.validationChange.emit(n)}cleanUpdateIpsecPskState(){this.isOperationEnd&&this.store.dispatch($y())}setPreSharedKeyVisible(e){this.showPreSharedKeyPassword=e}onUpdatePreSharedKeyButtonClick(){this.store.dispatch(Ry({payload:{password:this.form.controls.preSharedKey.value}})),this.form.reset({preSharedKey:""})}isUpdateIpsecPskDisabled(){return""===this.form.controls.preSharedKey.value||this.form.controls.preSharedKey.invalid}createUpdateActionButtonModel(e,t){const n={label:t,length:wn.Wmq.Short};return!_.isNull(e.operationStatus)&&_.isEqual(e.operationStatus.status,this.operationStatusEnum.ONGOING)&&(n.icon="mdi mdi-loading mdi-spin",n.label="",n.title=`${t} in progress...`),n}createImportButtonModel(e){const t={label:"Browse...",length:wn.Wmq.Short};return e&&(t.icon=this.icons.ONGOING,t.label=""),t}initForm(){this.form=this.formBuilder.group({preSharedKey:["",[xn.kI.required,nS.A.minLength(this.PSK_OPTIONS_DEFAULT.minLength),nS.A.maxLength(this.PSK_OPTIONS_DEFAULT.maxLength),nS.A.minimumDigitNumbers(this.PSK_OPTIONS_DEFAULT.minNumberOfDigits),nS.A.minNonAlphaNumerical(this.PSK_OPTIONS_DEFAULT.minNonAlphaNumerical),nS.A.noConsecutiveCharacters(),nS.A.upperCaseAndLowerCase(),nS.A.disallowedSpecialAsciiCharacters()]]});const e=this.form.get(this.PRESHAREDKEY);e&&e.valueChanges.pipe((0,_e.R)(this.ngUnsubscribe),(0,Mb.b)(100),(0,ys.x)()).subscribe(()=>this.emitValidationStatus()),this.updateIpsecPskKeyEnd$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.isOperationEnd=e}),this.updateIpsecPskKeyInProgress$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(t=>{t?null==e||e.disable():null==e||e.enable()})}removeBrowserFileError(){this.isEmptyPreSharedKeyFile=!1}ipsecOnPskUpload(e){this.store.dispatch(ky()),this.readFileContent(e.file,this.setPreSharedKey.bind(this))}setFileContent(e,t){const n=e.target;let{result:i}=n;if(i=i.trim(),this.store.dispatch(Ny()),i){const e=this.getTargetResultWithoutNewLinesAtTheEnd(i);this.form.patchValue({[t]:e}),this.isEmptyPreSharedKeyFile=!1}else this.form.patchValue({[t]:""}),this.isEmptyPreSharedKeyFile=!0;this.form.controls[t].markAsDirty()}getTargetResultWithoutNewLinesAtTheEnd(e){for(;"\n"===e[e.length-1];)e=e.slice(0,e.length-2);return e}setPreSharedKey(e){this.setFileContent(e,"preSharedKey")}readFileContent(e,t){if(e){const n=new FileReader;n.onerror=()=>{n.abort(),this.logger.warn("Failed to read file in IPSec PSK Configuration:",n.error)},n.onload=t,n.readAsText(e)}}getIpsecOperationResult(e){const t={message:"",iconClass:""};if(_.isEmpty(e)||_.isNull(e.operationStatus))return t;switch(e.operationStatus.status){case this.operationStatusEnum.SUCCESSFUL:return{message:this.operationStatusEnum.SUCCESSFUL,iconClass:this.icons.SUCCESS_ICON};case this.operationStatusEnum.FAILED:return{message:e.operationStatus.reason||this.operationStatusEnum.FAILED,iconClass:this.icons.ERROR_ICON};default:return t}}ngOnDestroy(){this.store.dispatch($y()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(xn.qu),Pe.Y36(iS.Kf))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ipsec-psk-configuration"]],outputs:{validationChange:"validationChange"},decls:16,vars:14,consts:[[1,"p-col-3"],[3,"formGroup"],[1,"p-nogutter","pre-shared-key-inputs"],[1,"p-col-12","ui-inputgroup"],[1,"label"],[1,"input-text"],[1,"p-col-12","ui-inputgroup","shared-key"],["pInputText","","name","preSharedKey","type","password","autocomplete","off","formControlName","preSharedKey",3,"type","ngModelChange","focus"],[1,"eye-class",3,"disabled","isPasswordVisible"],[4,"ngIf"],["class","errors fade show",4,"ngIf"],[1,"action-info-area"],["id","webem-ipsec-pre-shared-key-import",1,"primary-button",3,"model","options","disabled","action"],[1,"errors","fade","show"],["aria-hidden","true",1,"mdi","mdi-alert","icon-class"],["id","webem-pre-shared-key-update-button",1,"primary-button",3,"model","disabled","action"],["class","icon-area",4,"ngIf"],["class","operation-result",4,"ngIf"],[1,"icon-area"],[1,"notification-icon-update",3,"ngClass"],[1,"operation-result"]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"form",1),Pe.TgZ(2,"div",2),Pe.TgZ(3,"div",3),Pe.TgZ(4,"label",4),Pe._uU(5," Pre-Shared key: "),Pe.qZA(),Pe.qZA(),Pe.TgZ(6,"div",5),Pe.TgZ(7,"div",6),Pe.TgZ(8,"input",7),Pe.NdJ("ngModelChange",function(){return t.cleanUpdateIpsecPskState()})("focus",function(){return t.removeBrowserFileError()}),Pe.qZA(),Pe.TgZ(9,"ui-webem-show-password-button",8),Pe.NdJ("isPasswordVisible",function(e){return t.setPreSharedKeyVisible(e)}),Pe.qZA(),Pe.YNc(10,sS,3,5,"ng-container",9),Pe.ALo(11,"async"),Pe.qZA(),Pe.qZA(),Pe.YNc(12,aS,3,0,"div",10),Pe.qZA(),Pe.TgZ(13,"div",11),Pe.YNc(14,uS,5,9,"ng-container",9),Pe.ALo(15,"async"),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e){let e;Pe.xp6(1),Pe.Q6J("formGroup",t.form),Pe.xp6(7),Pe.Q6J("type",t.showPreSharedKeyPassword?"text":"password"),Pe.xp6(1),Pe.Q6J("disabled",!(null!=(e=t.form.get("preSharedKey"))&&e.value)),Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(10,pS,Pe.lcZ(11,6,t.ipsecPskButtonModel$))),Pe.xp6(2),Pe.Q6J("ngIf",t.isEmptyPreSharedKeyFile),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(12,pS,Pe.lcZ(15,8,t.updatePreSharedKeyButtonModel$)))}},directives:[xn._Y,xn.JL,xn.sg,xn.Fj,Ei.o,xn.JJ,xn.u,oS.G,m.O5,Ui.r,m.mk],pipes:[m.Ov],styles:["[_nghost-%COMP%]    {display:block;height:100%}[_nghost-%COMP%]     ui-webem-button.primary-button button{min-width:70px}[_nghost-%COMP%]     ui-webem-button.primary-button #webem-ipsec-pre-shared-key-import{margin-left:10px;margin-bottom:0}[_nghost-%COMP%]     ui-webem-button.primary-button #webem-ipsec-pre-shared-key-import:hover:not([disabled]){background-color:#f9feff;border-color:#00c9ff;color:#1b1b1b}[_nghost-%COMP%]     ui-webem-button.primary-button #webem-pre-shared-key-update-button{margin-top:30px}[_nghost-%COMP%]     ui-webem-button.primary-button #webem-pre-shared-key-update-button button:disabled{background-color:#5d7cb1;color:#f9feff;border:none}[_nghost-%COMP%]     ui-webem-button.primary-button #webem-pre-shared-key-update-button button:enabled{background-color:#124191;color:#f9feff;box-shadow:0 2px 3px 0 rgba(0,0,0,.1);border:none}[_nghost-%COMP%]     ui-webem-button.primary-button #webem-pre-shared-key-update-button button:enabled:hover{background-color:#082961;color:#f9feff;box-shadow:0 2px 3px 0 rgba(0,0,0,.1);border:none}[_nghost-%COMP%]     ui-webem-button.primary-button #webem-pre-shared-key-update-button button:enabled:active{background-color:#124191;color:#f9feff;box-shadow:0 3px 5px 0 rgba(0,0,0,.3);border:none}[_nghost-%COMP%]     .pre-shared-key-inputs{padding:0;width:398px}[_nghost-%COMP%]     .shared-key{position:relative;margin-bottom:0;padding:0}[_nghost-%COMP%]     .shared-key input{width:100%;height:26px;padding-right:30px;background:#fff;border:1px solid #98a2ae;border-radius:3px}[_nghost-%COMP%]     .eye-class{height:22px;width:26px;position:absolute;top:13px;right:21%;text-align:center;transform:translateY(-50%)}[_nghost-%COMP%]     .eye-class .disabled{pointer-events:none}[_nghost-%COMP%]     .fade.show{width:100%}[_nghost-%COMP%]     .errors{margin-top:1px;font-size:10px;position:absolute;color:#da1914}[_nghost-%COMP%]     .icon-class{top:1px;font-size:14px}[_nghost-%COMP%]     .action-info-area{display:flex;align-items:center;height:45px;width:317px}[_nghost-%COMP%]     .operation-result{margin-left:8px;margin-top:30px;color:#98a2ae;font-size:14px}[_nghost-%COMP%]     .icon-area{margin-top:30px}[_nghost-%COMP%]     .notification-icon-update{margin-left:15px;font-size:26px}[_nghost-%COMP%]     .notification-icon-update.alert-icon{color:#da1914}[_nghost-%COMP%]     .notification-icon-update.success-icon{color:#3daa00}"]}),e})();const hS=function(e){return{"not-all-rules-passed":e}};function mS(e,t){if(1&e&&(Pe.TgZ(0,"div",3),Pe.TgZ(1,"div",4),Pe._uU(2),Pe.qZA(),Pe.TgZ(3,"div",5),Pe._uU(4),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw();Pe.xp6(2),Pe.hij(" ",e.title," "),Pe.xp6(1),Pe.Q6J("ngClass",Pe.VKq(4,hS,e.getNumberOfPassedRules()!==e.getTotalNumberOfRules())),Pe.xp6(1),Pe.AsE(" ",e.getNumberOfPassedRules()," / ",e.getTotalNumberOfRules()," ")}}const fS=function(e){return{"passed-rule":e}};function bS(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",6),Pe._UZ(2,"i",7),Pe.TgZ(3,"span"),Pe._uU(4),Pe.qZA(),Pe.qZA(),Pe.BQk()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("ngClass",Pe.VKq(4,fS,e.isRulePassed)),Pe.uIk("data-validation-rule-value",e.value)("data-validation-rule-is-passed",e.isRulePassed),Pe.xp6(3),Pe.Oqu(e.value)}}let CS=(()=>{class e{getNumberOfPassedRules(){return this.rulesData.filter(e=>e.isRulePassed).length}getTotalNumberOfRules(){return this.rulesData.length}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-validation-rules-details"]],inputs:{rulesData:"rulesData",title:"title"},decls:3,vars:2,consts:[["class","validation-title",4,"ngIf"],[1,"validation-rules-container"],[4,"ngFor","ngForOf"],[1,"validation-title"],[1,"pull-left"],[1,"passed-rules-counter",3,"ngClass"],[1,"validation-rule",3,"ngClass"],[1,"mdi","mdi-checkbox-marked-circle","validation-rule-icon"]],template:function(e,t){1&e&&(Pe.YNc(0,mS,5,6,"div",0),Pe.TgZ(1,"div",1),Pe.YNc(2,bS,5,6,"ng-container",2),Pe.qZA()),2&e&&(Pe.Q6J("ngIf",t.title),Pe.xp6(2),Pe.Q6J("ngForOf",t.rulesData))},directives:[m.O5,m.sg,m.mk],styles:[".validation-rule[_ngcontent-%COMP%]{justify-content:normal;font-size:11px}.validation-rule[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:11px}.validation-rule[_ngcontent-%COMP%]:not(.passed-rule) > span[_ngcontent-%COMP%]{color:#98a2ae}.passed-rules-counter[_ngcontent-%COMP%]{margin-left:auto;color:#1b1b1b;font-weight:400}.not-all-rules-passed[_ngcontent-%COMP%]{color:#98a2ae}.validation-title[_ngcontent-%COMP%]{justify-content:flex-end;height:23px;font-weight:bolder;padding-left:3px;margin-bottom:15px;display:flex;align-items:center}.validation-rule-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#98a2ae;margin-right:4px}.passed-rule[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3daa00}"],changeDetection:0}),e})();const vS=[{path:"",component:(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.rules$=this.store.select(Hy)}ngOnDestroy(){}validationChange(e){const t=function(e){return[{value:"Should have a minimum of 8 and a maximum of 128 characters",isRulePassed:!t([By.MIN_LENGTH,By.MAX_LENGTH])},{value:"At least two numbers, both upper and lower case characters, no two identical characters consecutively",isRulePassed:!t([By.DIGIT_NUMBER,By.LOWER_UPPER_CASE,By.CONSECUTIVE_CHAR])},{value:"At least one non-alphanumeric character excluding space and quotation marks",isRulePassed:!t([By.NON_ALPHA_NUMBER,By.DISALLOWED_ASCII])}];function t(t){return e&&t.some(t=>e[t])}}(e.preSharedKey);this.store.dispatch(qy({payload:t}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ipsec-psk-configuration-home"]],decls:6,vars:4,consts:[[1,"p-grid","ipsec-psk"],[3,"validationChange"],[1,"psk-rules-column","p-col-3"],[3,"rulesData","title"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"ipsec-psk-configuration",1),Pe.NdJ("validationChange",function(e){return t.validationChange(e)}),Pe.qZA(),Pe.TgZ(2,"div",2),Pe.TgZ(3,"div"),Pe._UZ(4,"ui-webem-validation-rules-details",3),Pe.ALo(5,"async"),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(4),Pe.Q6J("rulesData",Pe.lcZ(5,2,t.rules$))("title","The pre-shared key should fulfill the following requirements:"))},directives:[gS,CS],pipes:[m.Ov],styles:[".ipsec-psk[_ngcontent-%COMP%]{padding-left:20px;width:100%;padding-top:10px}.psk-rules-column[_ngcontent-%COMP%]{padding-left:18px;min-width:550px}.psk-rules-column[_ngcontent-%COMP%]   .validation-title[_ngcontent-%COMP%]{color:#1b1b1b;margin-bottom:14px}.psk-rules-column[_ngcontent-%COMP%]   .validation-title[_ngcontent-%COMP%]   .pull-left[_ngcontent-%COMP%]{font-size:12px}.psk-rules-column[_ngcontent-%COMP%]   .validation-title[_ngcontent-%COMP%]   .passed-rules-counter[_ngcontent-%COMP%]{font-size:11px}.psk-rules-column[_ngcontent-%COMP%]   .validation-rules-container[_ngcontent-%COMP%]   .validation-rule[_ngcontent-%COMP%]{margin-bottom:15px}"]}),e})(),outlet:"content_center"},{path:"",component:Ey,outlet:"content_menu"}];let yS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(vS)],f.Bz]}),e})();var SS=n(93137),PS=n(7280),OS=n(72216),xS=(()=>(function(e){e.SUCCESSFUL="Successful",e.FAILED="Failed",e.ONGOING="Ongoing"}(xS||(xS={})),xS))();let wS=(()=>{class e{constructor(e,t,n,i,o,s){this.store=e,this.action$=t,this.logger=n,this.securityService=i,this.asyncOperationsService=o,this.pollingService=s,this.INFO="info",this.ERROR="error",this.SUCCESS="success",this.UPDATE_PSK_DESC_SUMMARY="Update IPSec PSK",this.TOAST_FAILED_MESSAGE={updateIpsecPreSharedKey:{summary:this.UPDATE_PSK_DESC_SUMMARY,detail:"Update IPSec PSK operation failed"}},this.TOAST_SUCCESS_MESSAGE={updateIpsecPreSharedKey:{summary:this.UPDATE_PSK_DESC_SUMMARY,detail:"Update IPSec PSK operation finished"}},this.TOAST_START_MESSAGE={updateIpsecPreSharedKey:{summary:this.UPDATE_PSK_DESC_SUMMARY,detail:"Update IPSec PSK operation started"}},this.UpdatePreSharedKey$=(0,oC.GW)(()=>this.action$.pipe((0,oC.l4)(Ry),(0,SS.p)(1e3),(0,MC.z)(e=>this.securityService.securityPresharedkeyPost({body:e.payload}).pipe((0,dC.zg)(e=>[Ly({operationType:Wy.UPDATE_IPSEC_PSK,operationId:e}),Uy({operationType:Wy.UPDATE_IPSEC_PSK,operationId:e}),(0,FC.wN)({payload:{detail:this.TOAST_START_MESSAGE[Wy.UPDATE_IPSEC_PSK].detail,severity:this.INFO,summary:this.TOAST_START_MESSAGE[Wy.UPDATE_IPSEC_PSK].summary}})]),(0,NC.K)(()=>(0,nl.of)(Fy({payload:Wy.UPDATE_IPSEC_PSK}))))))),this.SubscribeUpdateIpsecPskOperationStatusWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.action$.pipe((0,oC.l4)(Uy),(0,MC.z)(t=>this.watchOperationStatus(t,this.UnsubscribeUpdateKeyOperationStatusWatch$,e)))),this.SubscribeUpdatePskOperationError$=(0,oC.GW)(()=>this.action$.pipe((0,oC.l4)(Fy),(0,A.U)(({payload:e})=>(0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[e].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[e].summary}})))),this.cleanUpdateIpsecPskStateIfIsNotOngoing$=(0,oC.GW)(()=>this.action$.pipe((0,oC.l4)($y),(0,Bo.M)(this.store.pipe((0,g.Ys)(eS),(0,Ps.d)())),(0,vs.h)(([,e])=>!e),(0,dC.zg)(()=>[Zy({operationType:Wy.UPDATE_IPSEC_PSK})]))),this.UnsubscribeUpdateKeyOperationStatusWatch$=(0,oC.GW)(()=>this.action$.pipe((0,oC.l4)(jy)),{dispatch:!1})}watchOperationStatus(e,t,n){return this.pollingService.getTimer(n).pipe((0,_e.R)(t),(0,Ss.b)(()=>this.asyncOperationsService.operationsIdGet({id:e.operationId}).pipe((0,NC.K)(this.dispatchUpdateIpsecPskError.bind(this)))),(0,ys.x)(_.isEqual),(0,dC.zg)(t=>this.manageOperationStatus(t,e.operationType,e.operationId)))}manageOperationStatus(e,t,n){const i=jy(),o={detail:`${t} operation (id: ${n}): ${e.status}`,summary:this.UPDATE_PSK_DESC_SUMMARY,severity:e.status===xS.ONGOING&&this.INFO||e.status===xS.SUCCESSFUL&&this.SUCCESS||this.ERROR},s=[Dy({operationType:t,operationStatus:e})];return this.setToDispatchValue(e,s,t,i,o)}setToDispatchValue(e,t,n,i,o){return e.status!==xS.FAILED&&e.status!==xS.SUCCESSFUL||(t.push(i),e.reason&&(o.detail=`${n} fail reason: ${e.reason}`)),e.status===xS.SUCCESSFUL&&t.push((0,FC.wN)({payload:{detail:this.TOAST_SUCCESS_MESSAGE[n].detail,severity:this.SUCCESS,summary:this.TOAST_SUCCESS_MESSAGE[n].summary}})),e.status===xS.FAILED&&t.push((0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[n].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[n].summary}})),t}dispatchUpdateIpsecPskError(e){return this.logger.warn(e),(0,nl.of)()}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(iS.Kf),Pe.LFG(PS.I),Pe.LFG(OS.z),Pe.LFG(ls.xj))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),AS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[],imports:[[yS,xn.u5,xn.UX,wn.EJq,wn.y$Z,Ei.j,m.ez,wn.yyE,wn.ADU,g.Aw.forFeature("IpSecImportFromFile",Vy),g.Aw.forFeature("IpSecOperations",zy),oC.sQ.forFeature([wS])]]}),e})();var _S=n(93689),TS=(()=>(function(e){e.UnsubscribeFromParameterUpdates="[Parameter Search] Unsubscribe from parameter updates",e.SubscribeToParameterUpdates="[Parameter Search] Subscribe to parameter updates"}(TS||(TS={})),TS))();const IS=(0,g.PH)(TS.UnsubscribeFromParameterUpdates),ES=(0,g.PH)(TS.SubscribeToParameterUpdates);function MS(e,t){if(1&e&&(Pe.TgZ(0,"div",5),Pe.TgZ(1,"div"),Pe._UZ(2,"i",6),Pe.TgZ(3,"span"),Pe._uU(4,"Selected delta plan is outdated and cannot be modified or activated."),Pe.qZA(),Pe._UZ(5,"br"),Pe.TgZ(6,"span",7),Pe._uU(7),Pe.qZA(),Pe.qZA(),Pe._UZ(8,"change-to-planed-configuration-button",8),Pe.qZA()),2&e){const e=Pe.oxw(2).ngIf,t=Pe.oxw();Pe.xp6(7),Pe.Oqu(t.changeToPlanConfigurationMessage),Pe.xp6(1),Pe.Q6J("selectedPlan",e.selectedPlan)}}function kS(e,t){if(1&e&&(Pe.TgZ(0,"div",2),Pe.TgZ(1,"div"),Pe._UZ(2,"i",3),Pe._uU(3),Pe.qZA(),Pe.YNc(4,MS,9,2,"div",4),Pe.qZA()),2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.xp6(3),Pe.hij(" ",t.tabName," tab not valid for outdated delta "),Pe.xp6(1),Pe.Q6J("ngIf",!e.isOutdatedDeltaPlanDialogOpened)}}function NS(e,t){if(1&e&&(Pe.TgZ(0,"div"),Pe.YNc(1,kS,5,2,"div",1),Pe.qZA()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",e.isDeltaPlanOutdated)}}const LS=function(e,t,n){return{selectedPlan:e,isDeltaPlanOutdated:t,isOutdatedDeltaPlanDialogOpened:n}};let DS=(()=>{class e{constructor(e,t){this.store=e,this.roleAccessPeService=t,this.changeToPlanConfigurationMessage=""}ngOnInit(){this.isSelectedPlan$=this.store.select(me.ji),this.isDeltaPlanOutdated$=this.store.select(me.gb),this.isOutdatedDeltaPlanDialogOpened$=this.store.select(wn.Ysf),this.changeToPlanConfigurationMessage=this.roleAccessPeService.getChangeToPlanedConfigurationMessageForCurrentRole()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Yt.El))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-outdated-delta-plan-action"]],inputs:{tabName:"tabName"},decls:4,vars:11,consts:[[4,"ngIf"],["class","status-notification",4,"ngIf"],[1,"status-notification"],[1,"information-icon","mdi","mdi-information"],["class","space-between",4,"ngIf"],[1,"space-between"],[1,"alert-icon","mdi","mdi-alert"],[1,"second-line-text"],[3,"selectedPlan"]],template:function(e,t){1&e&&(Pe.YNc(0,NS,2,1,"div",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async")),2&e&&Pe.Q6J("ngIf",Pe.kEZ(7,LS,Pe.lcZ(1,1,t.isSelectedPlan$),Pe.lcZ(2,3,t.isDeltaPlanOutdated$),Pe.lcZ(3,5,t.isOutdatedDeltaPlanDialogOpened$)))},directives:[m.O5,Cs],pipes:[m.Ov],styles:[".second-line-text[_ngcontent-%COMP%]{margin-left:33px}  .change-configuration-button .p-button{margin:20px 0 18px 33px;min-width:180px}.status-notification[_ngcontent-%COMP%]{font-size:14px;color:#98a2ae;height:100%}.status-notification[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{margin-right:8px;width:24px}.status-notification[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px}.status-notification[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]:before{font-size:unset}.status-notification[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#da1914;position:relative;top:5px}.status-notification[_ngcontent-%COMP%]   .alert-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}.status-notification[_ngcontent-%COMP%]   .space-between[_ngcontent-%COMP%]{padding-top:24px}"]}),e})();var ZS=n(58220);let RS=(()=>{class e{transform(e){return e.fullName+"\n"+e.distname}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"prepareFullNameDistnameTooltip",type:e,pure:!0}),e})(),US=(()=>{class e{transform(e){return e.rowType===ht.bm.SIMPLE_LIST_ELEMENT}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isSimpleListElement",type:e,pure:!0}),e})(),FS=(()=>{class e{transform(e,t){return e.level||e.node.children&&e.node.children.length}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isDistNameNested",type:e,pure:!0}),e})();const jS=["table"];function $S(e,t){1&e&&(Pe.TgZ(0,"div"),Pe._UZ(1,"configuration-shared-outdated-delta-plan-action",6),Pe.qZA())}function qS(e,t){1&e&&(Pe.TgZ(0,"div",7),Pe._UZ(1,"ui-webem-spinner"),Pe._uU(2," Searching in progress... "),Pe.qZA())}function BS(e,t){1&e&&(Pe.TgZ(0,"div",2),Pe.TgZ(1,"div",7),Pe._UZ(2,"i",8),Pe._uU(3," Enter a search phrase in the search field to proceed "),Pe.qZA(),Pe.qZA())}function GS(e,t){if(1&e&&(Pe.TgZ(0,"div",2),Pe.TgZ(1,"div",7),Pe._UZ(2,"i",8),Pe._uU(3),Pe._UZ(4,"br"),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(3),Pe.hij(" No parameters matching '",e.searchPhrase,"'")}}function VS(e,t){1&e&&(Pe.TgZ(0,"div",2),Pe.TgZ(1,"div",7),Pe._UZ(2,"i",8),Pe._uU(3," Select configuration from the list and enter a search phrase in the search field to proceed "),Pe.qZA(),Pe.qZA())}function YS(e,t){1&e&&(Pe.TgZ(0,"div",2),Pe.TgZ(1,"div",7),Pe._UZ(2,"i",8),Pe._uU(3," Parameter Search tab not valid for inactive configuration "),Pe.qZA(),Pe.qZA())}function JS(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,VS,4,0,"div",4),Pe.YNc(2,YS,4,0,"div",4),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngIf",!e.selectedPlan),Pe.xp6(1),Pe.Q6J("ngIf",e.selectedPlan&&!e.selectIsSearchOnGoing)}}function HS(e,t){if(1&e&&(Pe.TgZ(0,"div",2),Pe.TgZ(1,"div",17),Pe.TgZ(2,"div",18),Pe.TgZ(3,"span"),Pe._uU(4),Pe.qZA(),Pe.qZA(),Pe.TgZ(5,"div",19),Pe._UZ(6,"i",8),Pe.TgZ(7,"span"),Pe._uU(8),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw(2).ngIf,t=Pe.oxw();Pe.xp6(4),Pe.hij("Search results for '",e.searchPhrase,"'"),Pe.xp6(4),Pe.Oqu(t.timestampMessage)}}function WS(e,t){if(1&e&&Pe._UZ(0,"p-treeTableSortIcon",24),2&e){const e=Pe.oxw().$implicit;Pe.Q6J("field",e.field)}}function QS(e,t){if(1&e&&(Pe.TgZ(0,"th",21),Pe.TgZ(1,"span",22),Pe._uU(2),Pe.qZA(),Pe.YNc(3,WS,1,1,"p-treeTableSortIcon",23),Pe.qZA()),2&e){const e=t.$implicit;Pe.Q6J("ttResizableColumnDisabled",!e.isResizable)("ttSortableColumn",e.field)("ttSortableColumnDisabled",!e.isSortable)("ngClass",e.class)("ngStyle",e.style),Pe.uIk("data-header",e.header),Pe.xp6(1),Pe.Q6J("ngStyle",e.headerStyle),Pe.xp6(1),Pe.hij(" ",e.header,""),Pe.xp6(1),Pe.Q6J("ngIf",e.isSortable)}}function zS(e,t){if(1&e&&(Pe.TgZ(0,"tr"),Pe.YNc(1,QS,4,9,"th",20),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("ngForOf",e)}}const KS=function(e,t){return{actionsColumnDeltaPlan:e,actionsColumnStagedPlan:t}};function XS(e,t){if(1&e&&(Pe._UZ(0,"col",27),Pe.ALo(1,"isDeltaPlan"),Pe.ALo(2,"isDeltaPlan")),2&e){const e=Pe.oxw(3).ngIf;Pe.Q6J("ngClass",Pe.WLB(5,KS,Pe.lcZ(1,1,e.selectedPlan),!Pe.lcZ(2,3,e.selectedPlan)))}}function eP(e,t){if(1&e&&(Pe.TgZ(0,"colgroup"),Pe._UZ(1,"col",25),Pe._UZ(2,"col"),Pe._UZ(3,"col"),Pe._UZ(4,"col"),Pe.YNc(5,XS,3,8,"col",26),Pe.ALo(6,"isActivePlan"),Pe._uU(7," > "),Pe.qZA()),2&e){const e=Pe.oxw(2).ngIf;Pe.xp6(5),Pe.Q6J("ngIf",!Pe.lcZ(6,1,e.selectedPlan))}}function tP(e,t){1&e&&Pe._UZ(0,"i",39)}function nP(e,t){1&e&&Pe._UZ(0,"i",40)}function iP(e,t){1&e&&Pe._UZ(0,"i",41)}const oP=function(e){return{"nested-distName":e}};function sP(e,t){if(1&e&&(Pe.TgZ(0,"div",42),Pe.ALo(1,"isDistNameNested"),Pe._uU(2),Pe.qZA()),2&e){const e=Pe.oxw(),t=e.rowData;Pe.Q6J("ngClass",Pe.VKq(4,oP,Pe.lcZ(1,2,e.$implicit))),Pe.xp6(2),Pe.hij(" ",t.distname," ")}}function aP(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe.TgZ(1,"span"),Pe._uU(2),Pe.ALo(3,"formatBitMaskIfNecessary"),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw(2).rowData;Pe.xp6(2),Pe.hij(" ",Pe.lcZ(3,1,e)," ")}}function rP(e,t){if(1&e&&(Pe.TgZ(0,"div",43),Pe.YNc(1,aP,4,3,"span",1),Pe.ALo(2,"isSimpleElementParameter"),Pe.ALo(3,"isEnumerationList"),Pe.qZA()),2&e){const e=Pe.oxw().rowData;Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,1,e)||Pe.lcZ(3,3,e))}}function lP(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe._UZ(1,"configuration-shared-input",46),Pe.ALo(2,"isParameterInputDisabled"),Pe.ALo(3,"async"),Pe.qZA()),2&e){Pe.oxw();const e=Pe.MAs(1),t=Pe.oxw(),n=t.rowData,i=t.$implicit,o=Pe.oxw(2).ngIf,s=Pe.oxw();Pe.xp6(1),Pe.Q6J("inputData",n)("inputValue",n.value)("isDisabled",Pe.xi3(2,7,n,o.selectedPlan))("rowNode",i)("appendTo",e)("parameterRelationErrorsDetails",Pe.lcZ(3,10,s.parameterRelationErrorsDetails$))("configurationParameterRoleAccessControl",n.definition.secAdmOnly)}}function cP(e,t){if(1&e&&(Pe.TgZ(0,"div",44,45),Pe.YNc(2,lP,4,12,"span",1),Pe.ALo(3,"isSimpleElementParameter"),Pe.ALo(4,"isEnumerationList"),Pe.qZA()),2&e){const e=Pe.oxw().rowData;Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(3,1,e)||Pe.lcZ(4,3,e))}}const dP=function(e,t){return{peActionsCellDeltaPlan:e,peActionsCellStagePlan:t}};function uP(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"td",27),Pe.TgZ(1,"div",27),Pe._UZ(2,"configuration-shared-revert-parameter-button",47),Pe.ALo(3,"isObjectDeleted"),Pe.ALo(4,"isNewObject"),Pe._UZ(5,"configuration-shared-set-default-button",48),Pe.ALo(6,"isObjectDeleted"),Pe._UZ(7,"configuration-shared-add-multiple-element-button",49),Pe._UZ(8,"configuration-shared-remove-multiple-element-button",50),Pe._UZ(9,"configuration-shared-remove-parameter-button",48),Pe.ALo(10,"isObjectDeleted"),Pe.TgZ(11,"ui-webem-button",51),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(2).rowData;return Pe.oxw(3).goToParameterEditor(t)}),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2),i=n.rowData,o=n.$implicit,s=Pe.oxw(2).ngIf,a=Pe.oxw();Pe.Q6J("ngClass",Pe.WLB(33,KS,e.isDeltaPlan,!e.isDeltaPlan)),Pe.xp6(1),Pe.Q6J("ngClass",Pe.WLB(36,dP,e.isDeltaPlan,!e.isDeltaPlan)),Pe.xp6(1),Pe.Q6J("rowData",i)("selectedPlan",s.selectedPlan)("isDeltaPlanOutdated",s.isDeltaPlanOutdated)("isParameterFromDeletedObject",Pe.lcZ(3,25,i.managedObjectState))("isParameterFromNewObject",Pe.lcZ(4,27,i.managedObjectState)),Pe.xp6(3),Pe.Q6J("rowData",i)("selectedPlan",s.selectedPlan)("isParameterFromDeletedObject",Pe.lcZ(6,29,i.managedObjectState))("isDeltaPlanOutdated",s.isDeltaPlanOutdated),Pe.xp6(2),Pe.Q6J("rowNode",o.node)("rowData",i)("selectedPlan",s.selectedPlan)("isDeltaPlanOutdated",s.isDeltaPlanOutdated)("notAllowedToAdd",!0),Pe.xp6(1),Pe.Q6J("rowData",i)("selectedPlan",s.selectedPlan)("isDeltaPlanOutdated",s.isDeltaPlanOutdated)("notAllowedToRemove",!0),Pe.xp6(1),Pe.Q6J("rowData",i)("selectedPlan",s.selectedPlan)("isParameterFromDeletedObject",Pe.lcZ(10,31,i.managedObjectState))("isDeltaPlanOutdated",s.isDeltaPlanOutdated),Pe.xp6(2),Pe.Q6J("model",a.redirectToParameterEditor)}}const pP=function(e){return{isDeltaPlan:e}};function gP(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,uP,12,39,"td",26),Pe.ALo(2,"isDeltaPlan"),Pe.BQk()),2&e){const e=Pe.oxw(3).ngIf;Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(3,pP,Pe.lcZ(2,1,e.selectedPlan)))}}const hP=function(e,t){return{deleted:e,isNotExisting:t}};function mP(e,t){if(1&e&&(Pe.TgZ(0,"tr",28),Pe.ALo(1,"isParameterDeleted"),Pe.ALo(2,"isParameterNotExisting"),Pe.TgZ(3,"td",29),Pe.YNc(4,tP,1,0,"i",30),Pe.ALo(5,"isParameterChanged"),Pe.YNc(6,nP,1,0,"i",31),Pe.ALo(7,"isParameterMandatory"),Pe.YNc(8,iP,1,0,"i",32),Pe.ALo(9,"hasStructureParameterErrors"),Pe.ALo(10,"isParameterDeleted"),Pe.qZA(),Pe.TgZ(11,"td",33),Pe.ALo(12,"prepareFullNameDistnameTooltip"),Pe._UZ(13,"p-treeTableToggler",34),Pe.TgZ(14,"div",35),Pe._uU(15),Pe.qZA(),Pe.YNc(16,sP,3,6,"div",36),Pe.ALo(17,"isSimpleListElement"),Pe.qZA(),Pe.TgZ(18,"td",33),Pe._uU(19),Pe.qZA(),Pe.TgZ(20,"td"),Pe.ALo(21,"formatBitMaskIfNecessary"),Pe.YNc(22,rP,4,5,"div",37),Pe.ALo(23,"isActivePlan"),Pe.YNc(24,cP,5,5,"ng-template",null,38,Pe.W1O),Pe.qZA(),Pe.YNc(26,gP,3,5,"ng-container",1),Pe.ALo(27,"isActivePlan"),Pe.qZA()),2&e){const e=t.$implicit,n=t.rowData,i=Pe.MAs(25),o=Pe.oxw(2).ngIf;Pe.Q6J("ttRow",e)("ttSelectableRow",e)("ngClass",Pe.WLB(41,hP,Pe.lcZ(1,19,n),Pe.lcZ(2,21,n))),Pe.uIk("data-fullname",n.fullName)("data-distname",n.distname)("data-name",n.name),Pe.xp6(4),Pe.Q6J("ngIf",Pe.lcZ(5,23,n)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(7,25,n)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(9,27,e.node)&&!Pe.lcZ(10,29,n)),Pe.xp6(3),Pe.Q6J("title",Pe.lcZ(12,31,n)),Pe.xp6(2),Pe.Q6J("rowNode",e),Pe.xp6(2),Pe.Oqu(n.fullName),Pe.xp6(1),Pe.Q6J("ngIf",!Pe.lcZ(17,33,n)),Pe.xp6(2),Pe.Q6J("title",n.name),Pe.xp6(1),Pe.Oqu(n.name),Pe.xp6(1),Pe.uIk("title",Pe.lcZ(21,35,n)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(23,37,o.selectedPlan))("ngIfElse",i),Pe.xp6(4),Pe.Q6J("ngIf",!Pe.lcZ(27,39,o.selectedPlan))}}function fP(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",9),Pe.YNc(1,HS,9,2,"div",4),Pe.TgZ(2,"div",10),Pe.TgZ(3,"p-treeTable",11,12),Pe.NdJ("selectionChange",function(t){return Pe.CHM(e),Pe.oxw(2).selectedNode=t})("onLazyLoad",function(t){return Pe.CHM(e),Pe.oxw(2).onLoadNewPage(t)})("onNodeSelect",function(t){return Pe.CHM(e),Pe.oxw(2).setParameterSearchDetails(t)})("onNodeUnselect",function(){return Pe.CHM(e),Pe.oxw(2).clearParameterSearchDetails()}),Pe.YNc(5,zS,2,1,"ng-template",13),Pe.YNc(6,eP,8,3,"ng-template",14),Pe.YNc(7,mP,28,44,"ng-template",15),Pe.qZA(),Pe.TgZ(8,"div"),Pe.TgZ(9,"ui-webem-table-pagination",16),Pe.NdJ("PageChange",function(t){return Pe.CHM(e),Pe.oxw(2).onPageChange(t)}),Pe.ALo(10,"async"),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",t.timestampMessage||e.searchPhrase),Pe.xp6(2),Pe.Q6J("value",e.tableTreeNodes)("columns",t.cols)("scrollable",!1)("rows",e.itemsPerPage)("selection",t.selectedNode)("loading",e.selectIsSearchOnGoing)("lazy",!0)("loadingIcon",t.SPINNER_CLASS)("customSort",!0)("sortField","parameterFullName")("autoLayout",!0)("resizableColumns",!0),Pe.xp6(6),Pe.Q6J("itemsPerPage",e.itemsPerPage)("totalNumberOfItems",e.totalNumberOfResults)("pageNumber",Pe.lcZ(10,16,t.pageNumber$))}}function bP(e,t){if(1&e&&(Pe.TgZ(0,"div"),Pe.YNc(1,$S,2,0,"div",1),Pe.TgZ(2,"div",2),Pe.YNc(3,qS,3,0,"div",3),Pe.qZA(),Pe.YNc(4,BS,4,0,"div",4),Pe.ALo(5,"isInactivePlan"),Pe.YNc(6,GS,5,1,"div",4),Pe.YNc(7,JS,3,2,"ng-container",1),Pe.ALo(8,"isInactivePlan"),Pe.YNc(9,fP,11,18,"div",5),Pe.qZA()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",e.isDeltaPlanOutdated),Pe.xp6(2),Pe.Q6J("ngIf",e.selectIsSearchOnGoing&&!e.totalNumberOfResults),Pe.xp6(1),Pe.Q6J("ngIf",!e.isDeltaPlanOutdated&&""===e.searchPhrase&&!Pe.lcZ(5,6,e.selectedPlan)&&!e.selectIsSearchOnGoing&&0===e.totalNumberOfResults),Pe.xp6(2),Pe.Q6J("ngIf",!(e.totalNumberOfResults||""===e.searchPhrase||e.selectIsSearchOnGoing)),Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(8,8,e.selectedPlan)&&!e.selectIsSearchOnGoing),Pe.xp6(2),Pe.Q6J("ngIf",e.totalNumberOfResults)}}const CP=function(e,t,n,i,o,s,a,r){return{searchPhrase:e,totalNumberOfResults:t,itemsPerPage:n,tableTreeNodes:i,selectedPlan:o,planId:s,isDeltaPlanOutdated:a,selectIsSearchOnGoing:r}},vP=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.getRelationErrorService=t,this.router=n,this.route=i,this.elRef=o,this.redirectToParameterEditor=ht.R$,this.spinners=Et,this.SPINNER_CLASS=_S.w,this.ngUnsubscribe=new Ae.xQ,this.HEADER_OFFSET=115,this.router.events.subscribe(e=>{e instanceof f.m2&&this.clearParameterSearchDetails()})}onResize(){this.changeScrollableArgument()}changeScrollableArgument(){this.pTable&&this.pTableElement&&this.pTableElement.nativeElement&&this.pTableElement.nativeElement.children[0]&&(this.pTable.scrollable=this.pTableElement.nativeElement.children[0].offsetHeight-24>=(this.elRef.nativeElement&&this.elRef.nativeElement.children[0]&&this.elRef.nativeElement.children[0].offsetHeight-this.HEADER_OFFSET))}ngOnInit(){this.store.dispatch(ES()),this.isSelectedPlan$=this.store.select(me.ji),this.searchingPhrase$=this.store.pipe((0,g.Ys)(Ab)),this.selectedPlanId$=this.store.select(me.oI),this.parameterRelationErrorsDetails$=this.getRelationErrorService.getRelationErrorObservable(zi,this.ngUnsubscribe),this.tableColumnsDefinition(),this.searchingPhrase$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.isSearchNotEmpty=!!e}),this.tableTreeNodes$=(0,ft.aj)([this.store.select(Rn),this.store.select(_b)]).pipe((0,vs.h)(([e,t])=>(null==e?void 0:e.entities)&&!!t),(0,A.U)(([e,t])=>{const n=t.map(t=>e.entities[t.niddId]);if(n)return function(e,t){return t.reduce((t,n)=>{const i=n.niddId,o=n.parameterName,s=n.parameter,a=e.find(e=>e.niddId===i),r=(a?a.parameters:[])[o];if(gi(zn(r)))return t;if(!s)return[...t,ra(r,n.moUuid,n.distname,n.state)];const l=Object.assign({},{distname:n.distname,moUuid:n.moUuid},s);return[...t,da(l,r,n.state)]},[])}(n,t)})),this.totalNumberOfResults$=this.store.select(Sb),this.itemsPerPage$=this.store.select(Pb),this.pageNumber$=this.store.select(Ob),this.store.select(xb).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.filterData=e),this.isSearchNotEmpty&&this.store.dispatch(Kg()),this.isDeltaPlanOutdated$=this.store.select(me.gb),this.store.select(Tb).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{e&&(this.timestampMessage=this.createTimestampMessage(e))}),this.selectIsSearchOnGoing$=this.store.select(Ib),this.totalNumberOfResults$.pipe((0,_e.R)(this.ngUnsubscribe),(0,vs.h)(e=>!!e),(0,il.g)(100)).subscribe(()=>this.changeScrollableArgument())}onPageChange(e){this.isSearchNotEmpty&&(this.store.dispatch(eh({pageNumber:e})),this.store.dispatch(Kg()),this.clearParameterSearchDetails())}ngOnDestroy(){this.store.dispatch(IS()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}tableColumnsDefinition(){const e=[{field:"status",header:"Status",class:"status-column",isVisibleInActivePlanTable:!0},{field:"parameterFullName",header:"Parameter name",isResizable:!0,isSortable:!0,isVisibleInActivePlanTable:!0},{field:"parameterAbbreviation",header:"Abbreviation",isResizable:!0,isSortable:!0,isVisibleInActivePlanTable:!0},{field:"value",header:"Value",isVisibleInActivePlanTable:!0,style:{"min-width.px":"170"}},{field:"actions",header:"Action",headerStyle:{display:"flex","justify-content":"center"}}];this.isSelectedPlan$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(t=>{if(t)return this.cols=t.from!==ht.tX.ACTIVE?e:e.filter(e=>e.isVisibleInActivePlanTable)})}goToParameterEditor(e){this.store.dispatch(_l({rowData:e,activatedRoute:this.route}))}onLoadNewPage(e){this.filterData.sortedBy===e.sortField&&this.filterData.sortOrder===(1===e.sortOrder?"asc":"desc")||e.sortField&&e.sortOrder&&(this.store.dispatch(Qg({sortOrder:e.sortOrder,sortedBy:e.sortField})),this.store.dispatch(Kg()))}setParameterSearchDetails(e){if(e&&e.node&&e.node.data){const t=pa(e.node.data);this.store.dispatch(ye(t))}}clearParameterSearchDetails(){this.store.dispatch(Ce())}createTimestampMessage(e){return`Following data relevant for timestamp ${new ls.ou(ls.ou.parse(e)).toFormattedDateTime()}`}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Yt.jg),Pe.Y36(f.F0),Pe.Y36(f.gz),Pe.Y36(Pe.SBq))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["parameter-search-tab"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(jS,5),Pe.Gf(jS,7,Pe.SBq)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.pTable=e.first),Pe.iGM(e=Pe.CRH())&&(t.pTableElement=e.first)}},hostBindings:function(e,t){1&e&&Pe.NdJ("resize",function(){return t.onResize()},!1,Pe.Jf7)},decls:10,vars:26,consts:[[1,"parameter-search-tab"],[4,"ngIf"],[1,"search-status-notification"],["class","notification-container",4,"ngIf"],["class","search-status-notification",4,"ngIf"],["id","global-search-table","class","parameter-search-results",4,"ngIf"],["tabName","Parameter Search"],[1,"notification-container"],[1,"information-icon","mdi","mdi-information"],["id","global-search-table",1,"parameter-search-results"],[1,"table-with-pagination-shadow-wrapper"],["scrollHeight","calc(100vh - 236px)","selectionMode","single","compareSelectionBy","equals",1,"parameter-search-results-table",3,"value","columns","scrollable","rows","selection","loading","lazy","loadingIcon","customSort","sortField","autoLayout","resizableColumns","selectionChange","onLazyLoad","onNodeSelect","onNodeUnselect"],["table",""],["pTemplate","header"],["pTemplate","colgroup"],["pTemplate","body"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange"],[1,"notification-container","results-notification"],[1,"search-phrase"],[1,"timestamp"],["ttResizableColumn","",3,"ttResizableColumnDisabled","ttSortableColumn","ttSortableColumnDisabled","ngClass","ngStyle",4,"ngFor","ngForOf"],["ttResizableColumn","",3,"ttResizableColumnDisabled","ttSortableColumn","ttSortableColumnDisabled","ngClass","ngStyle"],[3,"ngStyle"],["class","table-sort-icons",3,"field",4,"ngIf"],[1,"table-sort-icons",3,"field"],[1,"status-column"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ttRow","ttSelectableRow","ngClass"],[1,"pe-icons"],["class","mdi mdi-pencil",4,"ngIf"],["class","mdi mdi-asterisk",4,"ngIf"],["class","mdi mdi-alert status-error-icon",4,"ngIf"],[3,"title"],[3,"rowNode"],[1,"parameter-full-name"],["class","parameter-distname",3,"ngClass",4,"ngIf"],["class","value-column",4,"ngIf","ngIfElse"],["parameterInput",""],[1,"mdi","mdi-pencil"],[1,"mdi","mdi-asterisk"],[1,"mdi","mdi-alert","status-error-icon"],[1,"parameter-distname",3,"ngClass"],[1,"value-column"],[1,"tooltip-container"],["tooltipContainer",""],[3,"inputData","inputValue","isDisabled","rowNode","appendTo","parameterRelationErrorsDetails","configurationParameterRoleAccessControl"],[3,"rowData","selectedPlan","isDeltaPlanOutdated","isParameterFromDeletedObject","isParameterFromNewObject"],[3,"rowData","selectedPlan","isParameterFromDeletedObject","isDeltaPlanOutdated"],[3,"rowNode","rowData","selectedPlan","isDeltaPlanOutdated","notAllowedToAdd"],[3,"rowData","selectedPlan","isDeltaPlanOutdated","notAllowedToRemove"],[1,"navigate-to-pe",3,"model","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.YNc(1,bP,10,10,"div",1),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.ALo(5,"async"),Pe.ALo(6,"async"),Pe.ALo(7,"async"),Pe.ALo(8,"async"),Pe.ALo(9,"async"),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngIf",Pe.qlk(17,CP,Pe.lcZ(2,1,t.searchingPhrase$),Pe.lcZ(3,3,t.totalNumberOfResults$),Pe.lcZ(4,5,t.itemsPerPage$),Pe.lcZ(5,7,t.tableTreeNodes$),Pe.lcZ(6,9,t.isSelectedPlan$),Pe.lcZ(7,11,t.selectedPlanId$),Pe.lcZ(8,13,t.isDeltaPlanOutdated$),Pe.lcZ(9,15,t.selectIsSearchOnGoing$))))},directives:[m.O5,DS,mo.O,yr.iw,Ri.jx,ZS.Q,m.sg,yr.ym,yr.OB,m.mk,m.PC,yr.He,yr.V4,yr.e2,yr.gc,xl,wl,Gl,nc,hc,Sc,Tc,Ui.r],pipes:[m.Ov,_o,ic,Nl,rl,Zl,Ql,Pc,Ec,RS,US,Ic,FS,kc,Ul,lc,Ht,Hl],styles:["input[_ngcontent-%COMP%]{width:100%;height:22px}.parameter-search-results[_ngcontent-%COMP%]{height:100%;width:100%;padding-right:15px}.mdi[_ngcontent-%COMP%]:before{font-size:11px}.pe-icons[_ngcontent-%COMP%]{text-align:center}.pe-icons[_ngcontent-%COMP%]   .mdi-asterisk[_ngcontent-%COMP%]{color:#da1914}.pe-icons[_ngcontent-%COMP%]   .mdi-pencil[_ngcontent-%COMP%]{color:#124191}[_nghost-%COMP%]  .p-highlight .pe-icons .mdi{color:#fff}[_nghost-%COMP%]  .p-treetable-tbody>tr>td:nth-child(4){overflow:visible}[_nghost-%COMP%]  .deleted{text-decoration:line-through}[_nghost-%COMP%]  .deleted input{text-decoration:line-through}.validation-error-icon[_ngcontent-%COMP%]{margin-left:-15px}.error-icon[_ngcontent-%COMP%]{color:#be0006;vertical-align:middle}.isNotExisting[_ngcontent-%COMP%]{color:#bec8d2!important}.search-status-notification[_ngcontent-%COMP%]{font-size:14px;color:#98a2ae;height:100%}.search-status-notification[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{margin-right:7px;width:24px}.search-status-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:35px}.search-status-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px}.search-status-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]:before{font-size:unset}.search-status-notification[_ngcontent-%COMP%]   .results-notification[_ngcontent-%COMP%]{justify-content:space-between;border-bottom:1px solid #98a2ae;margin-bottom:10px;height:35px}.search-status-notification[_ngcontent-%COMP%]   .results-notification[_ngcontent-%COMP%]   .search-phrase[_ngcontent-%COMP%]{color:#4d5766;height:100%;display:flex;align-items:center;font-size:16px}.search-status-notification[_ngcontent-%COMP%]   .results-notification[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;place-content:flex-end}.parameter-search-tab[_ngcontent-%COMP%]{padding-left:15px;height:calc(100% - 45px);width:100%;background-color:#edf2f5}.parameter-distname[_ngcontent-%COMP%]{font-size:12px;color:#98a2ae;text-decoration:none;line-height:21px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;direction:rtl}.status-column[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;justify-content:center}.nested-distName[_ngcontent-%COMP%]{padding-left:0}.tooltip-container[_ngcontent-%COMP%]{position:relative}.status-error-icon[_ngcontent-%COMP%]{color:#be0006}.status-column[_ngcontent-%COMP%]{border-left:hidden;width:60px}.value-column[_ngcontent-%COMP%]{text-overflow:ellipsis;display:block;overflow:hidden}.status-header-column[_ngcontent-%COMP%]{border-left:hidden;width:60px;padding-left:13px}.actionsColumnDeltaPlan[_ngcontent-%COMP%]{width:145px}.actionsColumnStagedPlan[_ngcontent-%COMP%]{width:111px}.peActionsCellDeltaPlan[_ngcontent-%COMP%]{border-right:hidden;display:grid;justify-content:stretch;grid-column-gap:8px;align-items:center;grid-template-columns:[first] 26px [second] 26px [third] 26px [fourth] 26px [end]}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-revert-parameter-button[_ngcontent-%COMP%]{grid-area:first}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-add-multiple-element-button[_ngcontent-%COMP%], .peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-set-default-button[_ngcontent-%COMP%]{grid-area:second}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-remove-multiple-element-button[_ngcontent-%COMP%], .peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-remove-parameter-button[_ngcontent-%COMP%]{grid-area:third}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   .navigate-to-pe[_ngcontent-%COMP%]{grid-area:fourth}.peActionsCellStagePlan[_ngcontent-%COMP%]{border-right:hidden;display:grid;justify-content:stretch;grid-column-gap:8px;align-items:center;grid-template-columns:[first] 26px [second] 26px [third]}.peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-add-multiple-element-button[_ngcontent-%COMP%], .peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-set-default-button[_ngcontent-%COMP%]{grid-area:first}.peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-remove-multiple-element-button[_ngcontent-%COMP%], .peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-remove-parameter-button[_ngcontent-%COMP%]{grid-area:second}.peActionsCellStagePlan[_ngcontent-%COMP%]   .navigate-to-pe[_ngcontent-%COMP%]{grid-area:third}.divider[_ngcontent-%COMP%]{width:8px;height:auto;display:inline-block}.parameter-full-name[_ngcontent-%COMP%]{line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"]}),e})(),outlet:"content_center"},{path:"",component:Dp,outlet:"content_menu"},{path:"",component:vg,outlet:"content_right"},{path:"",component:Qb,outlet:"content_actions_bar"}];let yP=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(vP)],f.Bz]}),e})(),SP=(()=>{class e{constructor(e){this.actions$=e,this.unsubscribeFromParameterUpdates$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(IS)),{dispatch:!1}),this.subscribeToParametersUpdates$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ES),(0,MC.z)(()=>this.updateSearchOnParameterUpdates$())))}updateSearchOnParameterUpdates$(){return this.actions$.pipe((0,oC.l4)(Fr,$r,qr,Ev,fv),(0,_e.R)(this.unsubscribeFromParameterUpdates$),(0,A.U)(()=>Kg()))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),PP=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,Sy,yP,oC.sQ.forFeature([SP]),wn.EJq,wn.F8l,yr.dp,Ei.j,m.ez,xn.u5,wn._Qj,wn.QGW,pC,wn.g3K,cC.E,wn.Fme]]}),e})();var OP=n(44748);let xP=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz,Ri.m8,eC.T],f.Bz,Ri.m8]}),e})();var wP=n(72257),AP=n(57429),_P=n(91227),TP=n(35754);function IP(e,t){if(1&e&&(Pe.TgZ(0,"div",1),Pe._UZ(1,"i",2),Pe.TgZ(2,"span",3),Pe.ALo(3,"async"),Pe._uU(4),Pe.ALo(5,"async"),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw();Pe.xp6(2),Pe.s9C("title",Pe.lcZ(3,2,e.validationTimestamp$)),Pe.xp6(2),Pe.Oqu(Pe.lcZ(5,4,e.validationTimestamp$))}}let EP=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.shouldShowValidationTimestamp$=(0,ft.aj)([this.store.select(wp),this.store.select(me.ji)]).pipe((0,A.U)(([e,t])=>!(!e||!t)&&t.revision!==e)),this.validationTimestamp$=this.store.select(Ap).pipe((0,vs.h)(e=>!!e),(0,A.U)(e=>`Following data relevant for timestamp ${this.formatTimestamp(e)}`))}formatTimestamp(e){return new ls.ou(ls.ou.parse(e)).toFormattedDateTime()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-shared-validation-timestamp"]],decls:2,vars:3,consts:[["class","message-container",4,"ngIf"],[1,"message-container"],[1,"information-icon","mdi","mdi-information"],[1,"timestamp-message",3,"title"]],template:function(e,t){1&e&&(Pe.YNc(0,IP,6,6,"div",0),Pe.ALo(1,"async")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.shouldShowValidationTimestamp$))},directives:[m.O5],pipes:[m.Ov],styles:[".message-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#98a2ae}.message-container[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:7px;margin-left:auto}.timestamp-message[_ngcontent-%COMP%]{font-size:14px;white-space:nowrap;text-overflow:ellipsis;text-align:right;overflow:hidden}"]}),e})();function MP(e,t){1&e&&(Pe.TgZ(0,"span",2),Pe._UZ(1,"i",3),Pe.qZA())}let kP=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-tab-headers"]],inputs:{tabMenuItem:"tabMenuItem",areAnyErrors:"areAnyErrors"},decls:3,vars:3,consts:[[1,"disable-highlight",3,"id"],["class","errors-badge",4,"ngIf"],[1,"errors-badge"],[1,"mdi","mdi-checkbox-blank-circle"]],template:function(e,t){1&e&&(Pe.TgZ(0,"span",0),Pe._uU(1),Pe.qZA(),Pe.YNc(2,MP,2,0,"span",1)),2&e&&(Pe.Q6J("id",t.tabMenuItem.url),Pe.xp6(1),Pe.Oqu(t.tabMenuItem.label),Pe.xp6(1),Pe.Q6J("ngIf",t.areAnyErrors))},directives:[m.O5],styles:[".errors-badge[_ngcontent-%COMP%]{color:#da1914;margin-top:7px;padding-left:3px}.disable-highlight[_ngcontent-%COMP%]{user-select:none;-moz-user-select:none}"]}),e})();function NP(e,t){1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",10),Pe.Hsn(2),Pe.qZA(),Pe.BQk())}function LP(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,NP,3,0,"ng-container",9),Pe.BQk()),2&e){const e=Pe.oxw(8);Pe.xp6(1),Pe.Q6J("ngTemplateOutlet",e.errorTabContent)}}function DP(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,LP,2,1,"ng-container",1),Pe.BQk()),2&e){Pe.oxw(6);const e=Pe.MAs(13),t=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",t.areAnyErrors)("ngIfElse",e)}}function ZP(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,DP,2,2,"ng-container",1),Pe.BQk()),2&e){const e=Pe.oxw(5).ngIf,t=Pe.MAs(5);Pe.xp6(1),Pe.Q6J("ngIf",!e.selectValidatePlanIsOngoing)("ngIfElse",t)}}function RP(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,ZP,2,2,"ng-container",1),Pe.BQk()),2&e){const e=Pe.oxw(4).ngIf,t=Pe.MAs(15);Pe.xp6(1),Pe.Q6J("ngIf",!e.selectValidatedPlanIsFailure)("ngIfElse",t)}}function UP(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,RP,2,2,"ng-container",1),Pe.BQk()),2&e){const e=Pe.oxw(3).ngIf,t=Pe.MAs(3);Pe.xp6(1),Pe.Q6J("ngIf",e.selectedPlanIsValidated)("ngIfElse",t)}}function FP(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,UP,2,2,"ng-container",1),Pe.BQk()),2&e){const e=Pe.oxw(2).ngIf,t=Pe.MAs(9);Pe.xp6(1),Pe.Q6J("ngIf",e.selectValidationPlan)("ngIfElse",t)}}function jP(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,FP,2,2,"ng-container",1),Pe.BQk()),2&e){const e=Pe.oxw().ngIf,t=Pe.MAs(7);Pe.xp6(1),Pe.Q6J("ngIf",e.selectedPlan)("ngIfElse",t)}}function $P(e,t){1&e&&(Pe.TgZ(0,"div",11),Pe._UZ(1,"i",12),Pe.TgZ(2,"span",13),Pe._uU(3,"Selected plan was not yet validated."),Pe.qZA(),Pe.qZA())}function qP(e,t){1&e&&(Pe.TgZ(0,"div",11),Pe.TgZ(1,"span",14),Pe._UZ(2,"ui-webem-spinner"),Pe.TgZ(3,"span",15),Pe._uU(4,"Validation in progress..."),Pe.qZA(),Pe.qZA(),Pe.qZA())}function BP(e,t){1&e&&(Pe.TgZ(0,"div",11),Pe._UZ(1,"i",12),Pe.TgZ(2,"span",16),Pe._uU(3,"Select configuration from the list to proceed"),Pe.qZA(),Pe.qZA())}function GP(e,t){1&e&&(Pe.TgZ(0,"span",20),Pe._uU(1,"Errors tab are not valid for active configuration"),Pe.qZA())}function VP(e,t){1&e&&(Pe.TgZ(0,"span",21),Pe._uU(1,"Errors tab are not valid for inactive configuration"),Pe.qZA())}function YP(e,t){1&e&&(Pe.TgZ(0,"span",22),Pe._uU(1,"Selected plan was not yet validated. Validate plan in order to get validation results"),Pe.qZA())}function JP(e,t){if(1&e&&(Pe.TgZ(0,"div",11),Pe._UZ(1,"i",12),Pe.YNc(2,GP,2,0,"span",17),Pe.ALo(3,"isActivePlan"),Pe.YNc(4,VP,2,0,"span",18),Pe.ALo(5,"isInactivePlan"),Pe.YNc(6,YP,2,0,"span",19),Pe.ALo(7,"isActivePlan"),Pe.ALo(8,"isInactivePlan"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(3,3,e.selectedPlan)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(5,5,e.selectedPlan)),Pe.xp6(2),Pe.Q6J("ngIf",!(Pe.lcZ(7,7,e.selectedPlan)||Pe.lcZ(8,9,e.selectedPlan)))}}function HP(e,t){1&e&&(Pe.TgZ(0,"div",23),Pe._UZ(1,"configuration-shared-outdated-delta-plan-action",24),Pe.qZA())}function WP(e,t){1&e&&(Pe.TgZ(0,"div",11),Pe._UZ(1,"i",12),Pe.TgZ(2,"span",25),Pe._uU(3,"Plan validated. There are no errors detected"),Pe.qZA(),Pe.qZA())}function QP(e,t){if(1&e&&(Pe.TgZ(0,"div",11),Pe._UZ(1,"img",26),Pe.TgZ(2,"span"),Pe._uU(3),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.xp6(1),Pe.Q6J("src",t.ERROR_ICON,Pe.LSH),Pe.xp6(2),Pe.hij("Failed to validate plan: ",e.selectedPlan.planName,"")}}function zP(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,jP,2,2,"ng-container",1),Pe.YNc(2,$P,4,0,"ng-template",null,2,Pe.W1O),Pe.YNc(4,qP,5,0,"ng-template",null,3,Pe.W1O),Pe.YNc(6,BP,4,0,"ng-template",null,4,Pe.W1O),Pe.YNc(8,JP,9,11,"ng-template",null,5,Pe.W1O),Pe.YNc(10,HP,2,0,"ng-template",null,6,Pe.W1O),Pe.YNc(12,WP,4,0,"ng-template",null,7,Pe.W1O),Pe.YNc(14,QP,4,2,"ng-template",null,8,Pe.W1O),Pe.BQk()),2&e){const e=t.ngIf,n=Pe.MAs(11);Pe.xp6(1),Pe.Q6J("ngIf",!e.isDeltaPlanOutdated)("ngIfElse",n)}}const KP=function(e,t,n,i,o,s){return{selectValidationPlan:e,selectedPlan:t,selectValidatePlanIsOngoing:n,selectedPlanIsValidated:i,isDeltaPlanOutdated:o,selectValidatedPlanIsFailure:s}},XP=["*"];let eO=(()=>{class e{constructor(e){this.store=e,this.ERROR_ICON="assets/svg-icons/error_icon.svg"}ngOnInit(){this.selectedPlan$=this.store.select(me.ji),this.selectValidatedPlan$=this.store.select(Ku),this.selectValidatePlanIsOngoing$=this.store.select(ju),this.selectedPlanIsValidated$=this.store.select(Fu),this.isDeltaPlanOutdated$=this.store.select(me.gb),this.selectValidatedPlanIsFailure$=this.store.select($u)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-messages-wrappers"]],contentQueries:function(e,t,n){if(1&e&&Pe.Suo(n,Pe.Rgc,5),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.errorTabContent=e.first)}},inputs:{areAnyErrors:"areAnyErrors"},ngContentSelectors:XP,decls:7,vars:20,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["planNotValidated",""],["planValidationOngoing",""],["noSelectedPlan",""],["noSelectValidatePlanId",""],["outdatedDeltaPlan",""],["planValidated",""],["validatePlanFailure",""],[4,"ngTemplateOutlet"],[1,"errors-tab-container"],[1,"errors-tab-title"],[1,"information-icon","mdi","mdi-information"],["id","plan-not-validated"],[1,"info-with-spinner"],["id","plan-validation-ongoing"],["id","no-selected-plan"],["id","no-validate-active-plan",4,"ngIf"],["id","no-validate-inactive-plan",4,"ngIf"],["id","no-validate-plan",4,"ngIf"],["id","no-validate-active-plan"],["id","no-validate-inactive-plan"],["id","no-validate-plan"],[1,"outdated-plan-notifications"],["tabName","Errors"],["id","plan-validated"],["alt","Error Icon",1,"error-icon",3,"src"]],template:function(e,t){1&e&&(Pe.F$t(),Pe.YNc(0,zP,16,2,"ng-container",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.ALo(5,"async"),Pe.ALo(6,"async")),2&e&&Pe.Q6J("ngIf",Pe.HTZ(13,KP,Pe.lcZ(1,1,t.selectValidatedPlan$),Pe.lcZ(2,3,t.selectedPlan$),Pe.lcZ(3,5,t.selectValidatePlanIsOngoing$),Pe.lcZ(4,7,t.selectedPlanIsValidated$),Pe.lcZ(5,9,t.isDeltaPlanOutdated$),Pe.lcZ(6,11,t.selectValidatedPlanIsFailure$)))},directives:[m.O5,m.tP,mo.O,DS],pipes:[m.Ov,ic,_o],styles:[".errors-tab-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#edf2f5;height:calc(100% - 45px)}.errors-tab-title[_ngcontent-%COMP%]{padding:0 18px;font-size:14px;color:#98a2ae;height:36px;display:flex;align-items:center}.errors-tab-title[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px}.errors-tab-title[_ngcontent-%COMP%]   ui-webem-spinner[_ngcontent-%COMP%]{width:24px;margin-right:10px;transform:translateY(-13px) rotate(90deg)}.errors-tab-title[_ngcontent-%COMP%]   ui-webem-spinner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-top:3px}.info-with-spinner[_ngcontent-%COMP%]{margin-top:13px;display:flex}.outdated-plan-notifications[_ngcontent-%COMP%]{padding:5px 15px}.error-icon[_ngcontent-%COMP%]{padding-right:5px;padding-bottom:8px}"]}),e})();var tO=n(26561);function nO(e=0,t=LC.P){return(!(0,tO.k)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=LC.P),new YC.y(n=>(n.add(t.schedule(iO,e,{subscriber:n,counter:0,period:e})),n))}function iO(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}function oO(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"div",2),Pe.TgZ(2,"form",3),Pe.TgZ(3,"div",4),Pe.TgZ(4,"label",5),Pe._uU(5,"Object ID:"),Pe.qZA(),Pe._UZ(6,"input",6),Pe.qZA(),Pe.TgZ(7,"div",7),Pe._UZ(8,"p-checkbox",8),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(9,"div",9),Pe.TgZ(10,"p-footer"),Pe.TgZ(11,"ui-webem-button",10),Pe.NdJ("action",function(){const t=Pe.CHM(e).ngIf;return Pe.oxw().add(t)}),Pe.qZA(),Pe.TgZ(12,"ui-webem-button",11),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().webemOverlayPanelComponent.overlayPanel.hide()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.BQk()}if(2&e){const e=Pe.oxw();Pe.xp6(2),Pe.Q6J("formGroup",e.form),Pe.xp6(9),Pe.Q6J("model",e.okButton)("disabled",e.form.invalid)("options",e.buttonOptions),Pe.xp6(1),Pe.Q6J("model",e.cancelButton)("options",e.buttonOptions)}}let sO=(()=>{class e{constructor(e){this.store=e,this.baseObjectIdInput=new xn.NI,this.loadDefaultValues=new xn.NI([]),this.form=new xn.cw({baseObjectId:this.baseObjectIdInput,loadDefaultValues:this.loadDefaultValues}),this.niddDefinition$=new Ae.xQ,this.errorSubject=new Ae.xQ,this.ngUnsubscribe=new Ae.xQ,this.buttonOptions={forceWidth:"70px"},this.okButton={label:"OK",theme:wn.bnJ.Accent},this.cancelButton={label:"Cancel"}}ngOnInit(){this.webemOverlayPanelComponent.dismissable=!1,this.errorSubject.pipe((0,_e.R)(this.ngUnsubscribe),(0,dC.zg)(e=>this.store.select($n(e.missingClassName)))).subscribe(e=>{e&&(this.baseObjectIdInput.setValidators(bi(e,[])),this.niddDefinition$.next(e))})}toggle(e,t){this.error=t,this.errorSubject.next(t),this.webemOverlayPanelComponent.overlayPanel.toggle(e.event)}hide(){this.webemOverlayPanelComponent.overlayPanel.overlayVisible&&this.webemOverlayPanelComponent.overlayPanel.hide()}add(e){const t=Number.parseInt(this.form.value.baseObjectId,10);this.store.dispatch(it({request:{niddId:e.niddId,instanceId:t,includeDefaults:!(0,_.isEmpty)(this.form.value.loadDefaultValues),parentMoUuid:this.error.parentMoUuid?this.error.parentMoUuid:"root"},missingClassName:this.error.missingClassName})),this.webemOverlayPanelComponent.overlayPanel.hide()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}resetForm(){this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-add-object-overlay-panel"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(wn.oSc,7),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.webemOverlayPanelComponent=e.first)}},decls:3,vars:3,consts:[[3,"hideEvent"],[4,"ngIf"],[1,"p-dialog-content"],[1,"add-object-form",3,"formGroup"],[1,"form-input"],["for","add-object"],["id","add-object","autocomplete","off","placeholder","<Insert value>","name","name","type","text","pInputText","","formControlName","baseObjectId"],[1,"form-checkbox"],["name","loadDefaultValues","value","loadDefaultValues","label","Load default values","formControlName","loadDefaultValues"],[1,"p-dialog-footer"],[1,"footer-button",3,"model","disabled","options","action"],[1,"footer-button",3,"model","options","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-overlay-panel",0),Pe.NdJ("hideEvent",function(){return t.resetForm()}),Pe.YNc(1,oO,13,6,"ng-container",1),Pe.ALo(2,"async"),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,1,t.niddDefinition$)))},directives:[Oi.o,m.O5,xn._Y,xn.JL,xn.sg,xn.Fj,Ei.o,xn.JJ,xn.u,wi.XZ,Ri.$_,Ui.r],pipes:[m.Ov],styles:[".add-object-form[_ngcontent-%COMP%]{width:250px}.add-object-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#4d5766;cursor:pointer}.add-object-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#1b1b1b;width:100%}.form-checkbox[_ngcontent-%COMP%]{padding-top:15px;color:#1b1b1b}  .p-dialog-footer .p-button{width:75px!important}  .p-overlaypanel{margin-left:15px}.footer-button[_ngcontent-%COMP%]{padding-right:8px}"]}),e})();var aO=n(48386);const rO=["ptable"];function lO(e,t){if(1&e&&Pe._UZ(0,"p-sortIcon",11),2&e){const e=Pe.oxw().$implicit;Pe.Q6J("field",e.field)}}function cO(e,t){if(1&e&&(Pe.TgZ(0,"th",9),Pe._uU(1),Pe.YNc(2,lO,1,1,"p-sortIcon",10),Pe.qZA()),2&e){const e=t.$implicit;Pe.Tol(e.class),Pe.Q6J("pResizableColumnDisabled",!e.isResizable)("pSortableColumn",e.field)("pSortableColumnDisabled",!e.isSortable),Pe.xp6(1),Pe.hij(" ",e.header," "),Pe.xp6(1),Pe.Q6J("ngIf",e.isSortable)}}function dO(e,t){if(1&e&&(Pe.TgZ(0,"tr",7),Pe.YNc(1,cO,3,7,"th",8),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("ngForOf",e)}}function uO(e,t){1&e&&(Pe.TgZ(0,"colgroup"),Pe._UZ(1,"col"),Pe._UZ(2,"col"),Pe._UZ(3,"col",12),Pe.qZA())}function pO(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",19),Pe.TgZ(1,"ui-webem-button",20),Pe.NdJ("action",function(t){Pe.CHM(e);const n=Pe.oxw().$implicit,i=Pe.oxw(2),o=Pe.MAs(10);return i.addObject(o,t,n)}),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw().$implicit,i=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("disabled",e.inProgress||e.isDeltaPlanOutdated)("model",i.getActionButtonModel(e.inProgress))("configurationMoRoleAccessControl",i.getOperationRoles(n.missingClassName))}}const gO=function(e,t,n){return{planId:e,parentMoUuid:t,missingClassName:n}},hO=function(e,t){return{id:e,identifyingData:t}},mO=function(e,t){return{inProgress:e,isDeltaPlanOutdated:t}};function fO(e,t){if(1&e&&(Pe.TgZ(0,"tr",14),Pe.TgZ(1,"td",15),Pe._uU(2),Pe.qZA(),Pe.TgZ(3,"td",16),Pe._uU(4),Pe.qZA(),Pe.TgZ(5,"td",17),Pe.YNc(6,pO,2,3,"div",18),Pe.ALo(7,"isActionInProgress"),Pe.ALo(8,"async"),Pe.ALo(9,"async"),Pe.qZA(),Pe.qZA()),2&e){const e=t.$implicit,n=Pe.oxw().ngIf,i=Pe.oxw();Pe.xp6(1),Pe.Q6J("title",e.missingClassName),Pe.xp6(1),Pe.Oqu(e.missingClassName),Pe.xp6(1),Pe.Q6J("title",e.parentDistName),Pe.xp6(1),Pe.Oqu(e.parentDistName),Pe.xp6(2),Pe.Q6J("ngIf",Pe.WLB(19,mO,Pe.xi3(7,5,Pe.lcZ(8,8,i.actionProgressIds$),Pe.WLB(16,hO,i.spinnerId,Pe.kEZ(12,gO,n,e.parentMoUuid,e.missingClassName))),Pe.lcZ(9,10,i.isDeltaPlanOutdated$)))}}function bO(e,t){1&e&&Pe.YNc(0,fO,10,22,"ng-template",13)}function CO(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div"),Pe.TgZ(1,"ui-webem-table-pagination",21),Pe.NdJ("PageChange",function(t){return Pe.CHM(e),Pe.oxw().onPageChange(t)}),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("itemsPerPage",e.pagination.itemsPerPage)("totalNumberOfItems",e.pagination.total)("pageNumber",e.pagination.pageNumber)}}const vO=function(e){return{pagination:e}};let yO=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new Ae.xQ,this.tablePageChange=new Pe.vpe,this.columns=[{field:Iu.j.ClassName,header:"Missing object",isResizable:!0,isSortable:!0,class:"topology-errors-table-col"},{field:Iu.j.ParentDistName,header:"Parent distinguished name",isResizable:!1,isSortable:!0},{field:"",header:"Action",isResizable:!1,isSortable:!1,class:"topology-errors-table-center"}],this.spinnerId=Et.AddManagedObject,this.SPINNER_CLASS=_S.w,this.listener=e=>{e.target!==document&&"ui-table-scrollable-body"!==e.target.className||this.addObjectOverlayPanelComponent.hide()},this.store.pipe((0,g.Ys)(Fn),(0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.nidd=e})}ngAfterContentChecked(){this.pTable&&(this.pTable.scrollable=this.pTableElement.nativeElement.children[0].offsetHeight>this.offsetHeight)}ngOnInit(){document.addEventListener("scroll",this.listener,!0),this.selectedPlanId$=this.store.select(me.oI),this.actionProgressIds$=this.store.select(qt),this.isDeltaPlanOutdated$=this.store.select(me.gb),this.store.pipe((0,g.Ys)(sp),(0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.selectTopologyDefinitionErrors=[...e]),this.store.select(rp).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.filterData=e),this.pagination$=this.store.select(lp),this.tabChangeEvent$.pipe((0,_e.R)(this.ngUnsubscribe),(0,aO.P)(()=>nO(1e3))).subscribe(()=>this.addObjectOverlayPanelComponent.hide())}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),document.removeEventListener("scroll",this.listener,!0)}addObject(e,t,n){e.toggle(t,n)}onLoadNewPage(e){const t=1===e.sortOrder?"asc":"desc";this.filterData.sortBy===e.sortField&&this.filterData.sortOrder===t||e.sortField&&e.sortOrder&&(this.tablePageChange.emit(),this.store.dispatch(hu({sort:{sortOrder:t,sortBy:e.sortField}})))}onPageChange(e){this.tablePageChange.emit(),this.store.dispatch(lu({pageNumber:e}))}getOperationRoles(e){let t=[];const n=(0,_.find)(this.nidd,t=>e===(null==t?void 0:t.className));return n&&(t=n.modificationProperty.operationRoles),t}getActionButtonModel(e){return(0,_.cloneDeep)(e?ht.sW:ht.fD)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-topology-definition"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(sO,7),Pe.Gf(rO,7,Pe.SBq),Pe.Gf(rO,7)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.addObjectOverlayPanelComponent=e.first),Pe.iGM(e=Pe.CRH())&&(t.pTableElement=e.first),Pe.iGM(e=Pe.CRH())&&(t.pTable=e.first)}},inputs:{tabChangeEvent$:"tabChangeEvent$",offsetHeight:"offsetHeight"},outputs:{tablePageChange:"tablePageChange"},decls:11,vars:17,consts:[[1,"tab-errors-container","table-with-pagination-shadow-wrapper"],["id","topology-errors-table",3,"value","scrollable","scrollHeight","lazy","loadingIcon","customSort","columns","resizableColumns","autoLayout","onLazyLoad"],["ptable",""],["pTemplate","header"],["pTemplate","colgroup"],[4,"ngIf"],["addObjectOverlayPanel",""],["id","topology-errors-table-header",1,"topology-errors-table-row"],["pResizableColumn","",3,"pResizableColumnDisabled","pSortableColumn","pSortableColumnDisabled","class",4,"ngFor","ngForOf"],["pResizableColumn","",3,"pResizableColumnDisabled","pSortableColumn","pSortableColumnDisabled"],["class","table-sort-icons",3,"field",4,"ngIf"],[1,"table-sort-icons",3,"field"],[1,"topology-errors-col-action"],["pTemplate","body"],["id","topology-errors-table-row"],[1,"topology-errors-table-col",3,"title"],[3,"title"],[1,"definition-errors-table-center"],["class","topology-errors-action",4,"ngIf"],[1,"topology-errors-action"],[3,"disabled","model","configurationMoRoleAccessControl","action"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"p-table",1,2),Pe.NdJ("onLazyLoad",function(e){return t.onLoadNewPage(e)}),Pe.YNc(3,dO,2,1,"ng-template",3),Pe.YNc(4,uO,4,0,"ng-template",4),Pe.YNc(5,bO,1,0,void 0,5),Pe.ALo(6,"async"),Pe.qZA(),Pe.YNc(7,CO,2,3,"div",5),Pe.ALo(8,"async"),Pe._UZ(9,"errors-add-object-overlay-panel",null,6),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("value",t.selectTopologyDefinitionErrors)("scrollable",!1)("scrollHeight",t.offsetHeight+"px")("lazy",!0)("loadingIcon",t.SPINNER_CLASS)("customSort",!0)("columns",t.columns)("resizableColumns",!0)("autoLayout",!0),Pe.xp6(4),Pe.Q6J("ngIf",Pe.lcZ(6,11,t.selectedPlanId$)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(15,vO,Pe.lcZ(8,13,t.pagination$))))},directives:[jm.iA,Ri.jx,m.O5,sO,m.sg,jm.Q7,jm.lQ,jm.fz,Ui.r,wl,ZS.Q],pipes:[m.Ov,Co],styles:[".tab-errors-container[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}[_nghost-%COMP%]{display:flex;flex-direction:column}.topology-errors-table-col[_ngcontent-%COMP%]{width:15%}.topology-errors-table-center[_ngcontent-%COMP%]{text-align:center}.topology-errors-icons[_ngcontent-%COMP%]{font-size:16px;text-align:center}.topology-errors-icons[_ngcontent-%COMP%]   .mdi-check[_ngcontent-%COMP%]{color:#3daa00}.topology-errors-title[_ngcontent-%COMP%]{padding:0 15px;color:#4d5766;font-size:16px}.topology-errors-title[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:5px 0 10px;color:#ccc}.topology-errors-col-status[_ngcontent-%COMP%]{width:15%}.topology-errors-col-action[_ngcontent-%COMP%]{width:48px}.topology-errors-action[_ngcontent-%COMP%]{text-align:center}"]}),e})();function SO(e){var t,n;return t=e.reduce((e,t)=>(e.find(e=>e.parameterError.parameterPath.includes(t.parameterError.parameterPath.split("/")[1])&&e.parameterError.distname===t.parameterError.distname)||e.push(t),e),[]).map(e=>{const t=e.niddDefinition,n=t.parameterContainerType,i=`${n}Parameter`,o=e.parameterError.currentParameterState||e.parameterError.validationParameterState,s=(a=n)===Jn.r.Complex?Jn.r.Complex:a===Jn.r.SimpleList?Jn.r.SimpleList:Jn.r.Simple;var a;const r=Object.assign(Object.assign({},e.parameterError),{parameterType:s,[i]:o[i]}),l=!!r[i],c=e.parameterError.managedObjectState,{moUuid:d,distname:u}=e.parameterError;return l?da(r,t,c):ra(t,d,u,c)}),n=e.map(e=>e.parameterError),t.map(e=>(e.children?e.data.rowType===ht.bm.COMPLEX?(e.children.forEach(e=>{e.children&&(e.children=function(e,t){const n=OO(e,t);return n?n.map(e=>xO(e)):n}(e.children,n))}),e.children=e.children.filter(e=>function(e){return e.children&&e.children.length>0}(e))):e.children=function(e,t){return OO(e,t)}(e.children,n):xO(e),e.data.rowspan=function(e){let t=1;return e.children?(t+=e.children.length,e.children.forEach(e=>{e.children&&(t+=e.children.length)}),t):t}(e),e))}function PO(e,t){return e.reduce((e,n)=>{const i=t[n.niddId],o=n.parameterPath.split("/")[1];return i&&e.push({parameterError:n,niddDefinition:i.parameters[o]}),e},[])}function OO(e,t){return e.filter(e=>function(e,t){return!!t.find(t=>{const n=e.data.distname===t.distname,i=e.data.path===t.parameterPath,o=e.data.path.includes(t.parameterPath);return n&&(i||Object.keys(t.validationParameterState).length<=1&&o)})}(e,t))}function xO(e){return ta(e.data.state)||(e.data.definitionValidation=zs(e.data.value,e.data.definition,e.data.parameterValueType)),e}let wO=(()=>{class e{transform(e){return e.rowType===ht.bm.STRUCTURE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isStructureParameter",type:e,pure:!0}),e})();const AO=["ptable"];function _O(e,t){if(1&e&&Pe._UZ(0,"p-treeTableSortIcon",9),2&e){const e=Pe.oxw().$implicit;Pe.Q6J("field",e.field)}}function TO(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"th",6),Pe.TgZ(2,"span",7),Pe._uU(3),Pe.qZA(),Pe.YNc(4,_O,1,1,"p-treeTableSortIcon",8),Pe.qZA(),Pe.BQk()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Tol(e.class),Pe.Q6J("ngStyle",e.style?e.style:null)("id",e.field)("ttSortableColumn",e.field)("ttSortableColumnDisabled",!e.isSortable)("ttResizableColumnDisabled",!!e.isResizable&&e.isResizable),Pe.xp6(1),Pe.Q6J("ngStyle",e.headerStyle?e.headerStyle:null),Pe.xp6(1),Pe.hij(" ",e.header,""),Pe.xp6(1),Pe.Q6J("ngIf",e.isSortable)}}function IO(e,t){if(1&e&&(Pe.TgZ(0,"tr"),Pe.YNc(1,TO,5,10,"ng-container",5),Pe.qZA()),2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngForOf",e.columns)}}const EO=function(e,t){return{actionsColumnDeltaPlan:e,actionsColumnStagedPlan:t}};function MO(e,t){if(1&e&&(Pe.TgZ(0,"colgroup"),Pe._UZ(1,"col"),Pe._UZ(2,"col"),Pe._UZ(3,"col",11),Pe._UZ(4,"col",12),Pe._UZ(5,"col",13),Pe.ALo(6,"isDeltaPlan"),Pe.ALo(7,"isDeltaPlan"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(5),Pe.Q6J("ngClass",Pe.WLB(5,EO,Pe.lcZ(6,1,e.selectedPlan),!Pe.lcZ(7,3,e.selectedPlan)))}}function kO(e,t){1&e&&Pe.YNc(0,MO,8,8,"ng-template",10)}const NO=function(e,t){return{"td-object-dist-name":e,"highlight-selected-column":t}};function LO(e,t){if(1&e&&(Pe.TgZ(0,"td",19),Pe.ALo(1,"isMultipleParameter"),Pe._uU(2),Pe.qZA()),2&e){const e=Pe.oxw(2).rowData,t=Pe.oxw();Pe.Q6J("id","parameter-errors-distname-column-"+e.name)("ngClass",Pe.WLB(7,NO,e.rowspan>t.oneCellSpan,t.haveTheSameDistName(t.selectedNode,e.distname)))("title",e.distname),Pe.uIk("rowspan",Pe.lcZ(1,5,e)?e.rowspan:t.oneCellSpan),Pe.xp6(2),Pe.hij(" ",e.distname," ")}}function DO(e,t){if(1&e&&Pe._UZ(0,"p-treeTableToggler",20),2&e){const e=Pe.oxw(2).$implicit;Pe.Q6J("rowNode",e)}}function ZO(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe._UZ(1,"configuration-shared-input",24),Pe.ALo(2,"isParameterDeleted"),Pe.ALo(3,"isParameterEditable"),Pe.ALo(4,"isParameterModifiable"),Pe.ALo(5,"async"),Pe.qZA()),2&e){Pe.oxw();const e=Pe.MAs(5),t=Pe.oxw().ngIf,n=Pe.oxw(),i=n.rowData,o=n.$implicit,s=Pe.oxw();Pe.xp6(1),Pe.Q6J("appendTo",e)("inputData",i)("inputValue",i.value)("isDisabled",Pe.lcZ(2,7,i)||!Pe.lcZ(3,9,i)||!Pe.lcZ(4,11,i)||t.isDeltaPlanOutdated)("rowNode",o)("parameterRelationErrorsDetails",Pe.lcZ(5,13,s.parameterRelationErrorsDetails$))("configurationParameterRoleAccessControl",i.definition.secAdmOnly)}}function RO(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"td",17),Pe._uU(2),Pe.qZA(),Pe.TgZ(3,"td",21),Pe.TgZ(4,"div",22,23),Pe.YNc(6,ZO,6,15,"span",3),Pe.ALo(7,"isSimpleElementParameter"),Pe.ALo(8,"isEnumerationList"),Pe.qZA(),Pe.qZA(),Pe.BQk()),2&e){const e=Pe.oxw(2).rowData;Pe.xp6(1),Pe.Q6J("id","abbreviation-column-"+e.name)("title",e.name),Pe.xp6(1),Pe.Oqu(e.name),Pe.xp6(1),Pe.uIk("title",e.value),Pe.xp6(3),Pe.Q6J("ngIf",Pe.lcZ(7,5,e)||Pe.lcZ(8,7,e))}}const UO=function(e,t){return{peActionsCellDeltaPlan:e,peActionsCellStagePlan:t}};function FO(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"td",26),Pe.TgZ(1,"div",13),Pe._UZ(2,"configuration-shared-revert-parameter-button",27),Pe.ALo(3,"isNewObject"),Pe._UZ(4,"configuration-shared-set-default-button",28),Pe._UZ(5,"configuration-shared-add-multiple-element-button",29),Pe._UZ(6,"configuration-shared-remove-multiple-element-button",30),Pe._UZ(7,"configuration-shared-remove-parameter-button",28),Pe.TgZ(8,"ui-webem-button",31),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(3).rowData;return Pe.oxw().goToParameterEditor(t)}),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2).ngIf,i=Pe.oxw(),o=i.rowData,s=i.$implicit,a=Pe.oxw();Pe.Q6J("ngClass",Pe.WLB(25,EO,e.isDeltaPlan,!e.isDeltaPlan))("id","parameter-errors-actions-column-"+o.name),Pe.xp6(1),Pe.Q6J("ngClass",Pe.WLB(28,UO,e.isDeltaPlan,!e.isDeltaPlan)),Pe.xp6(1),Pe.Q6J("rowData",o)("selectedPlan",n.selectedPlan)("isParameterFromNewObject",Pe.lcZ(3,23,o.managedObjectState))("isDeltaPlanOutdated",n.isDeltaPlanOutdated),Pe.xp6(2),Pe.Q6J("rowData",o)("selectedPlan",n.selectedPlan)("isDeltaPlanOutdated",n.isDeltaPlanOutdated),Pe.xp6(1),Pe.Q6J("rowData",o)("rowNode",s.node)("selectedPlan",n.selectedPlan)("isDeltaPlanOutdated",n.isDeltaPlanOutdated)("notAllowedToAdd",!0),Pe.xp6(1),Pe.Q6J("rowData",o)("selectedPlan",n.selectedPlan)("isDeltaPlanOutdated",n.isDeltaPlanOutdated)("notAllowedToRemove",!0),Pe.xp6(1),Pe.Q6J("rowData",o)("selectedPlan",n.selectedPlan)("isDeltaPlanOutdated",n.isDeltaPlanOutdated),Pe.xp6(1),Pe.Q6J("model",a.goToButton)}}const jO=function(e){return{isDeltaPlan:e}};function $O(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,FO,9,31,"td",25),Pe.ALo(2,"isDeltaPlan"),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(3,jO,Pe.lcZ(2,1,e.selectedPlan)))}}const qO=function(e){return{"highlight-selected-distname-column":e}};function BO(e,t){if(1&e&&(Pe.TgZ(0,"tr",15),Pe.YNc(1,LO,3,10,"td",16),Pe.TgZ(2,"td",17),Pe.ALo(3,"isStructureParameter"),Pe.YNc(4,DO,1,1,"p-treeTableToggler",18),Pe.TgZ(5,"span"),Pe._uU(6),Pe.qZA(),Pe.qZA(),Pe.YNc(7,RO,9,9,"ng-container",3),Pe.ALo(8,"isStructureParameter"),Pe.YNc(9,$O,3,5,"ng-container",3),Pe.ALo(10,"isActivePlan"),Pe.qZA()),2&e){const e=t.ngIf,n=Pe.oxw(),i=n.$implicit,o=n.rowData,s=Pe.oxw();Pe.Q6J("ttRow",i)("ttSelectableRow",i)("ngClass",Pe.VKq(20,qO,s.haveTheSameDistName(s.selectedNode,o.distname))),Pe.uIk("data-name",o.name)("data-fullname",o.fullName)("data-distname",o.distname),Pe.xp6(1),Pe.Q6J("ngIf",!s.isRowChildOfObject(o)),Pe.xp6(1),Pe.Q6J("id","parameter-errors-full-name-column-"+o.name)("title",o.fullName),Pe.uIk("colspan",Pe.lcZ(3,14,o)?s.structureRowSpan:s.oneCellSpan),Pe.xp6(2),Pe.Q6J("ngIf",s.shouldShowToggler(i)),Pe.xp6(2),Pe.Oqu(o.fullName),Pe.xp6(1),Pe.Q6J("ngIf",!Pe.lcZ(8,16,o)),Pe.xp6(2),Pe.Q6J("ngIf",!Pe.lcZ(10,18,e.selectedPlan))}}const GO=function(e,t,n){return{planId:e,isDeltaPlanOutdated:t,selectedPlan:n}};function VO(e,t){if(1&e&&(Pe.YNc(0,BO,11,22,"tr",14),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async")),2&e){const e=Pe.oxw();Pe.Q6J("ngIf",Pe.kEZ(7,GO,Pe.lcZ(1,1,e.selectedPlanId$),Pe.lcZ(2,3,e.isDeltaPlanOutdated$),Pe.lcZ(3,5,e.selectedPlan$)))}}const YO=function(e){return{selectedPlan:e}};let JO=(()=>{class e{constructor(e,t,n,i){this.store=e,this.getRelationErrorService=t,this.activatedRoute=n,this.changeDetectorRef=i,this.goToButton=ht.R$,this.columns=[{field:"distname",header:"Object distinguished name",isResizable:!1,class:"hide-left-border",isSortable:!1},{field:ht.jo.ParameterFullName,header:"Parameter name",isResizable:!1,class:"",isSortable:!0},{field:ht.jo.ParameterAbbreviation,header:"Abbreviation",isResizable:!1,class:"",isSortable:!0},{field:"value",header:"Value",isResizable:!0,style:{"min-width.px":"170"},class:"col-value",isSortable:!1},{field:"actions",header:"Action",isResizable:!0,class:"hide-right-border",isSortable:!1,headerStyle:{display:"flex","justify-content":"center"}}],this.actualRowSpan=0,this.structureRowSpan=3,this.oneCellSpan=1,this.spinners=Et,this.scrollable=!1,this.lazy=!1,this.customSort=!1,this.ngUnsubscribe=new Ae.xQ,this.SPINNER_CLASS=_S.w,this.shouldShowToggler=ea}onResize(){this.changeScrollableArgument()}ngOnInit(){this.selectedPlanId$=this.store.select(me.oI),this.actionProgressIds$=this.store.select(qt),this.selectedPlan$=this.store.select(me.ji),this.isDeltaPlanOutdated$=this.store.select(me.gb),this.parameterRelationErrorsDetails$=this.getRelationErrorService.getRelationErrorObservable(zi,this.ngUnsubscribe)}ngOnChanges(){this.changeScrollableArgument()}changeScrollableArgument(){this.changeDetectorRef.detectChanges(),this.scrollable&&this.pTable&&(this.pTable.scrollable=this.pTableElement.nativeElement.children[0].offsetHeight-24>=this.offsetHeight)}isRowChildOfObject(e){return(0,_.isUndefined)(e.rowspan)}onNodeChanging(e){this.changeScrollableArgument(),this.actualRowSpan=0,this.updateNodeRowSpan(e.node);const t=(0,_.isNull)(e.node.parent)?e.node.data.distname:e.node.parent.data.distname,n=(0,_.isNull)(e.node.parent)?e.node.data.name:e.node.parent.data.name;this.validationErrors.forEach(e=>{e.data.distname===t&&e.data.name===n&&(e.data.rowspan=this.getActualRowSpan())})}goToParameterEditor(e){this.store.dispatch(_l({rowData:e,activatedRoute:this.activatedRoute}))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}getActualRowSpan(){return this.actualRowSpan}showParameterDetails(e){if(e&&e.data){const t=pa(e.data);this.store.dispatch(ye(t))}else this.store.dispatch(Ce())}onLoadNewPage(e){const t=1===e.sortOrder?"asc":"desc";this.filterData.sortBy===e.sortField&&this.filterData.sortOrder===t||e.sortField&&e.sortOrder&&this.store.dispatch(this.action({sort:{sortOrder:t,sortBy:e.sortField}}))}haveTheSameDistName(e,t){return!(!e||!e.data)&&e.data.distname===t}updateNodeRowSpan(e){++this.actualRowSpan,null!==e.parent?this.countActualRowSpan(e.parent):(0,_.isNull)(e.parent)&&e.expanded&&this.countActualRowSpan(e)}countActualRowSpan(e){e.children&&e.children.forEach(e=>{++this.actualRowSpan,e.expanded&&e&&this.countActualRowSpan(e)})}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Yt.jg),Pe.Y36(f.gz),Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-parameter-errors-table"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(AO,7),Pe.Gf(AO,7,Pe.SBq)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.pTable=e.first),Pe.iGM(e=Pe.CRH())&&(t.pTableElement=e.first)}},hostBindings:function(e,t){1&e&&Pe.NdJ("resize",function(){return t.onResize()},!1,Pe.Jf7)},inputs:{validationErrors:"validationErrors",scrollable:"scrollable",lazy:"lazy",customSort:"customSort",filterData:"filterData",pagination$:"pagination$",offsetHeight:"offsetHeight",action:"action"},features:[Pe.TTD],decls:6,vars:15,consts:[["styleClass","p-error-tree-table","selectionMode","single","compareSelectionBy","equals",3,"value","scrollable","scrollHeight","resizableColumns","autoLayout","columns","lazy","loadingIcon","customSort","selection","onNodeExpand","onNodeCollapse","selectionChange","onLazyLoad"],["ptable",""],["pTemplate","header"],[4,"ngIf"],["pTemplate","body"],[4,"ngFor","ngForOf"],["ttResizableColumn","",3,"ngStyle","id","ttSortableColumn","ttSortableColumnDisabled","ttResizableColumnDisabled"],[3,"ngStyle"],[3,"field",4,"ngIf"],[3,"field"],["pTemplate","colgroup"],[1,"col-name"],[1,"col-value"],[3,"ngClass"],[3,"ttRow","ttSelectableRow","ngClass",4,"ngIf"],[3,"ttRow","ttSelectableRow","ngClass"],["class","hide-left-border",3,"id","ngClass","title",4,"ngIf"],[3,"id","title"],[3,"rowNode",4,"ngIf"],[1,"hide-left-border",3,"id","ngClass","title"],[3,"rowNode"],["id","parameter-errors-input-column",1,"tooltip-unhide"],[1,"tooltip-container"],["tooltipContainer",""],[3,"appendTo","inputData","inputValue","isDisabled","rowNode","parameterRelationErrorsDetails","configurationParameterRoleAccessControl"],[3,"ngClass","id",4,"ngIf"],[3,"ngClass","id"],[3,"rowData","selectedPlan","isParameterFromNewObject","isDeltaPlanOutdated"],[3,"rowData","selectedPlan","isDeltaPlanOutdated"],[3,"rowData","rowNode","selectedPlan","isDeltaPlanOutdated","notAllowedToAdd"],[3,"rowData","selectedPlan","isDeltaPlanOutdated","notAllowedToRemove"],[1,"navigate-to-pe",3,"model","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"p-treeTable",0,1),Pe.NdJ("onNodeExpand",function(e){return t.onNodeChanging(e)})("onNodeCollapse",function(e){return t.onNodeChanging(e)})("selectionChange",function(e){return t.showParameterDetails(e)})("onLazyLoad",function(e){return t.onLoadNewPage(e)})("selectionChange",function(e){return t.selectedNode=e}),Pe.YNc(2,IO,2,1,"ng-template",2),Pe.YNc(3,kO,1,0,void 0,3),Pe.ALo(4,"async"),Pe.YNc(5,VO,4,11,"ng-template",4),Pe.qZA()),2&e&&(Pe.Q6J("value",t.validationErrors)("scrollable",t.scrollable)("scrollHeight",t.offsetHeight+"px")("resizableColumns",!0)("autoLayout",!0)("columns",t.columns)("lazy",t.lazy)("loadingIcon",t.SPINNER_CLASS)("customSort",t.customSort)("selection",t.selectedNode),Pe.xp6(3),Pe.Q6J("ngIf",Pe.VKq(13,YO,Pe.lcZ(4,11,t.selectedPlan$))))},directives:[yr.iw,Ri.jx,m.O5,m.sg,yr.ym,m.PC,yr.OB,yr.He,m.mk,yr.V4,yr.e2,yr.gc,xl,wl,Gl,nc,hc,Sc,Tc,Ui.r],pipes:[m.Ov,Nl,wO,ic,Rl,kc,Ul,rl,oc,Wl,Hl],styles:[".tab-errors-container[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.empty-button[_ngcontent-%COMP%]{width:26px;border:1px solid transparent;display:inline-block}.definition-errors-title[_ngcontent-%COMP%]{padding:0 15px;color:#4d5766;font-size:16px}.definition-errors-title[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0 0 10px;border-top:1px solid #98a2ae}input[_ngcontent-%COMP%]{width:100%;height:22px}.mdi[_ngcontent-%COMP%]:before{font-size:12px}.small-size[_ngcontent-%COMP%]{font-size:14px!important}.validation-error-icon[_ngcontent-%COMP%]{margin-left:-22px}.hide-left-border[_ngcontent-%COMP%]{border-left:hidden!important}.tooltip-unhide[_ngcontent-%COMP%]{overflow:visible!important}.error-icon[_ngcontent-%COMP%]{color:#be0006;vertical-align:middle}.corrected-icon[_ngcontent-%COMP%]{color:#3daa00;vertical-align:middle}.tooltip-container[_ngcontent-%COMP%]{position:relative}.divider[_ngcontent-%COMP%]{width:8px;height:auto;display:inline-block}.col-name[_ngcontent-%COMP%], .col-value[_ngcontent-%COMP%]{width:225px}  p-treeTable .p-treetable-resizable th.p-resizable-column{position:sticky;top:0}.actionsColumnDeltaPlan[_ngcontent-%COMP%]{width:145px}.actionsColumnStagedPlan[_ngcontent-%COMP%]{width:111px}.peActionsCellDeltaPlan[_ngcontent-%COMP%]{border-right:hidden;display:grid;justify-content:stretch;grid-column-gap:8px;align-items:center;grid-template-columns:[first] 26px [second] 26px [third] 26px [fourth] 26px [end]}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-revert-parameter-button[_ngcontent-%COMP%]{grid-area:first}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-add-multiple-element-button[_ngcontent-%COMP%], .peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-set-default-button[_ngcontent-%COMP%]{grid-area:second}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-remove-multiple-element-button[_ngcontent-%COMP%], .peActionsCellDeltaPlan[_ngcontent-%COMP%]   configuration-shared-remove-parameter-button[_ngcontent-%COMP%]{grid-area:third}.peActionsCellDeltaPlan[_ngcontent-%COMP%]   .navigate-to-pe[_ngcontent-%COMP%]{grid-area:fourth}.peActionsCellStagePlan[_ngcontent-%COMP%]{border-right:hidden;display:grid;justify-content:stretch;grid-column-gap:8px;align-items:center;grid-template-columns:[first] 26px [second] 26px [third]}.peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-add-multiple-element-button[_ngcontent-%COMP%], .peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-set-default-button[_ngcontent-%COMP%]{grid-area:first}.peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-remove-multiple-element-button[_ngcontent-%COMP%], .peActionsCellStagePlan[_ngcontent-%COMP%]   configuration-shared-remove-parameter-button[_ngcontent-%COMP%]{grid-area:second}.peActionsCellStagePlan[_ngcontent-%COMP%]   .navigate-to-pe[_ngcontent-%COMP%]{grid-area:third}.highlight-selected-distname-column[_ngcontent-%COMP%]  td.p-highlight{background-color:#124191;color:#fff}"]}),e})();function HO(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div"),Pe.TgZ(1,"ui-webem-table-pagination",3),Pe.NdJ("PageChange",function(t){return Pe.CHM(e),Pe.oxw().onPageChange(t)}),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("itemsPerPage",e.pagination.itemsPerPage)("totalNumberOfItems",e.pagination.total)("pageNumber",e.pagination.pageNumber)}}const WO=function(e){return{pagination:e}};let QO=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new Ae.xQ,this.tablePageChange=new Pe.vpe,this.changeCurrentSortObjectDefinitionErrors=fu}ngOnInit(){this.tableTreeNodes=(0,ft.aj)([this.store.select(Rn),this.store.select(cp)]).pipe((0,A.U)(([e,t])=>{if(!e||!t)return;const n=e.entities;if(!n)return;const i=PO(t,n);return 0!==i.length?SO(i):void 0})).subscribe(e=>{e&&(this.validationErrors=e)}),this.store.select(up).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.filterData=e),this.pagination$=this.store.select(pp)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onPageChange(e){this.tablePageChange.emit(),this.store.dispatch(du({pageNumber:e}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-parameter-errors"]],inputs:{offsetHeight:"offsetHeight"},outputs:{tablePageChange:"tablePageChange"},decls:4,vars:13,consts:[[1,"tab-errors-container","table-with-pagination-shadow-wrapper"],[3,"lazy","validationErrors","scrollable","customSort","filterData","pagination$","offsetHeight","action"],[4,"ngIf"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe._UZ(1,"errors-parameter-errors-table",1),Pe.YNc(2,HO,2,3,"div",2),Pe.ALo(3,"async"),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("lazy",!0)("validationErrors",t.validationErrors)("scrollable",!0)("customSort",!0)("filterData",t.filterData)("pagination$",t.pagination$)("offsetHeight",t.offsetHeight)("action",t.changeCurrentSortObjectDefinitionErrors),Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(11,WO,Pe.lcZ(3,9,t.pagination$))))},directives:[JO,m.O5,ZS.Q],pipes:[m.Ov],styles:[".tab-errors-container[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}"]}),e})();function zO(e,t){return(0,_.find)(t,{className:e})}const KO=["ptable"];function XO(e,t){1&e&&(Pe.TgZ(0,"tr"),Pe.TgZ(1,"th",8),Pe._uU(2," Object "),Pe._UZ(3,"p-sortIcon",9),Pe.qZA(),Pe.TgZ(4,"th",10),Pe._uU(5,"Max. quantity"),Pe.qZA(),Pe.TgZ(6,"th",10),Pe._uU(7,"Current quantity"),Pe.qZA(),Pe.TgZ(8,"th",11),Pe._uU(9," Parent distinguished name "),Pe._UZ(10,"p-sortIcon",9),Pe.qZA(),Pe.TgZ(11,"th"),Pe._uU(12,"Action"),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("pSortableColumn","className"),Pe.xp6(2),Pe.Q6J("field","className"),Pe.xp6(5),Pe.Q6J("pSortableColumn","parentDistname"),Pe.xp6(2),Pe.Q6J("field","parentDistname"))}function ex(e,t){1&e&&(Pe.TgZ(0,"colgroup"),Pe._UZ(1,"col",12),Pe._UZ(2,"col",13),Pe._UZ(3,"col",14),Pe._UZ(4,"col"),Pe._UZ(5,"col",15),Pe.qZA())}function tx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"tr",16),Pe.TgZ(1,"td",17),Pe._uU(2),Pe.qZA(),Pe.TgZ(3,"td",17),Pe._uU(4),Pe.qZA(),Pe.TgZ(5,"td",17),Pe._uU(6),Pe.qZA(),Pe.TgZ(7,"td",17),Pe._uU(8),Pe.qZA(),Pe.TgZ(9,"td",18),Pe.TgZ(10,"ui-webem-button",19),Pe.NdJ("action",function(){const t=Pe.CHM(e).$implicit;return Pe.oxw(2).navigateToParameterEditor(t)}),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.$implicit,n=Pe.oxw(2);Pe.Q6J("pSelectableRow",e),Pe.xp6(1),Pe.Q6J("title",e.className),Pe.xp6(1),Pe.Oqu(e.className),Pe.xp6(1),Pe.Q6J("title",e.maxQuantity),Pe.xp6(1),Pe.Oqu(e.maxQuantity),Pe.xp6(1),Pe.Q6J("title",e.currentQuantity+" ("+(e.currentQuantity-e.maxQuantity)+")"),Pe.xp6(1),Pe.AsE("",e.currentQuantity," (",e.currentQuantity-e.maxQuantity,")"),Pe.xp6(1),Pe.Q6J("title",e.parentDistname),Pe.xp6(1),Pe.Oqu(e.parentDistname),Pe.xp6(2),Pe.Q6J("model",n.navigateToParameterEditorButton)}}function nx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-table-pagination",20),Pe.NdJ("PageChange",function(t){return Pe.CHM(e),Pe.oxw(2).onPageChange(t)}),Pe.qZA()}if(2&e){const e=t.ngIf;Pe.Q6J("itemsPerPage",e.itemsPerPage)("totalNumberOfItems",e.total)("pageNumber",e.pageNumber)}}function ix(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",1),Pe.TgZ(1,"p-table",2,3),Pe.NdJ("onRowSelect",function(t){return Pe.CHM(e),Pe.oxw().onRowSelect(t)})("onRowUnselect",function(){return Pe.CHM(e),Pe.oxw().onRowUnselect()})("onSort",function(t){return Pe.CHM(e),Pe.oxw().onSort(t)})("selectionChange",function(t){return Pe.CHM(e),Pe.oxw().selectedRow=t}),Pe.YNc(3,XO,13,4,"ng-template",4),Pe.YNc(4,ex,6,0,"ng-template",5),Pe.YNc(5,tx,11,11,"ng-template",6),Pe.qZA(),Pe.YNc(6,nx,1,3,"ui-webem-table-pagination",7),Pe.ALo(7,"async"),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("value",e)("lazy",!0)("customSort",!0)("resizableColumns",!0)("scrollable",!1)("scrollHeight",n.calculateOffset())("autoLayout",!0)("selection",n.selectedRow),Pe.xp6(5),Pe.Q6J("ngIf",Pe.lcZ(7,9,n.occurrencePagination$))}}let ox=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.navigateToParameterEditorButton=ht.R$,this.tablePageChange=new Pe.vpe}ngAfterContentChecked(){this.pTable&&(this.pTable.scrollable=this.pTableElement.nativeElement.children[0].offsetHeight>this.offsetHeight)}calculateOffset(){return`${this.offsetHeight}px`}ngOnInit(){this.occurenceDefinitionErrors$=(0,ft.aj)([this.store.select(ip),this.store.select(Un)]).pipe((0,A.U)(([e,t])=>function(e,t){return(0,_.map)(e,e=>{const{maxQuantity:n,currentQuantity:i}=function(e){const t=e.match(/\d+/g);if(!t||t.length<2)return{maxQuantity:"",currentQuantity:""};const[n,i]=t;return{maxQuantity:i,currentQuantity:n}}(e.errorDescription);return{parentMoUuid:e.parentMoUuid,className:e.className,classNameDefinition:zO(e.className,t),parentDistname:e.parentDistname,maxQuantity:n,currentQuantity:i}})}(e,t))),this.occurrencePagination$=this.store.select(tp)}navigateToParameterEditor(e){this.store.dispatch(N({moUuid:e.parentMoUuid})),this.store.dispatch((0,mb.uX)({routerLink:Ip.r.parameterEditor,activatedRoute:this.activatedRoute}))}onPageChange(e){this.tablePageChange.emit(),this.store.dispatch(cu({pageNumber:e})),this.store.dispatch(Ce())}onSort(e){this.tablePageChange.emit(),this.store.dispatch(mu({sort:{sortOrder:1===e.order?ht.As.Ascending:ht.As.Descending,sortBy:e.field}}))}onRowSelect({data:e}){this.store.dispatch(Se(e))}onRowUnselect(){this.store.dispatch(ve())}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(f.gz))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-objects-quantity-errors"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(KO,5),Pe.Gf(KO,5,Pe.SBq)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.pTable=e.first),Pe.iGM(e=Pe.CRH())&&(t.pTableElement=e.first)}},inputs:{offsetHeight:"offsetHeight"},outputs:{tablePageChange:"tablePageChange"},decls:2,vars:3,consts:[["class","tab-errors-container",4,"ngIf"],[1,"tab-errors-container"],["selectionMode","single","compareSelectionBy","equals",3,"value","lazy","customSort","resizableColumns","scrollable","scrollHeight","autoLayout","selection","onRowSelect","onRowUnselect","onSort","selectionChange"],["ptable",""],["pTemplate","header"],["pTemplate","colgroup"],["pTemplate","body"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange",4,"ngIf"],["pResizableColumn","",3,"pSortableColumn"],[3,"field"],["pResizableColumn",""],[3,"pSortableColumn"],[1,"object-header"],[1,"max-quantity-header"],[1,"current-quantity-header"],[1,"action-header"],[3,"pSelectableRow"],[3,"title"],[1,"action-body"],[3,"model","action"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange"]],template:function(e,t){1&e&&(Pe.YNc(0,ix,8,11,"div",0),Pe.ALo(1,"async")),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.occurenceDefinitionErrors$))},directives:[m.O5,jm.iA,Ri.jx,jm.Q7,jm.lQ,jm.fz,jm.Ei,Ui.r,ZS.Q],pipes:[m.Ov],styles:[".tab-errors-container[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.object-header[_ngcontent-%COMP%]{width:20%}.max-quantity-header[_ngcontent-%COMP%]{width:7%}.current-quantity-header[_ngcontent-%COMP%]{width:8%}.action-header[_ngcontent-%COMP%]{width:43px}.action-body[_ngcontent-%COMP%]{text-align:center}"]}),e})();function sx(e,t){if(1&e&&(Pe.TgZ(0,"th"),Pe._uU(1),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.hij(" ",e.header," ")}}function ax(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"tr"),Pe.YNc(1,sx,2,1,"th",5),Pe.qZA(),Pe.TgZ(2,"tr"),Pe.TgZ(3,"th"),Pe.TgZ(4,"ui-webem-filter-input",6),Pe.NdJ("valueChange",function(t){Pe.CHM(e);const n=Pe.oxw(),i=Pe.MAs(2);return n.filterChanged(t,i)}),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("ngForOf",e)}}function rx(e,t){if(1&e&&(Pe.TgZ(0,"tr"),Pe.TgZ(1,"td",7),Pe._uU(2),Pe.qZA(),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("title",e.errorDescription),Pe.xp6(1),Pe.hij(" ",e.errorDescription," ")}}let lx=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new Ae.xQ,this.tablePageChange=new Pe.vpe,this.SPINNER_CLASS=_S.w,this.tableColumns=[{field:"errorDescription",header:"Validation message",isSortable:!1}]}ngOnInit(){this.offsetHeight=this.offsetHeight-27,this.store.pipe((0,g.Ys)(Sp),(0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.validationErrors=[...e]}),this.store.select(Op).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.filterData=e),this.pagination$=this.store.select(xp)}onLoadNewPage(e){const t=1===e.sortOrder?"asc":"desc";this.filterData.sortBy===e.sortField&&this.filterData.sortOrder===t||e.sortField&&e.sortOrder&&this.store.dispatch(uu({sort:{sortOrder:t,sortBy:e.sortField}}))}onPageChange(e){this.tablePageChange.emit(),this.store.dispatch(su({pageNumber:e}))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}filterChanged(e,t){t.filterGlobal(e,"contains")}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-topology-relation-errors"]],inputs:{offsetHeight:"offsetHeight"},outputs:{tablePageChange:"tablePageChange"},decls:5,vars:8,consts:[[1,"tab-errors-container","table-with-pagination-shadow-wrapper"],[3,"columns","value","scrollable","scrollHeight","loadingIcon","customSort","resizableColumns","autoLayout"],["ptable",""],["pTemplate","header"],["pTemplate","body"],[4,"ngFor","ngForOf"],["id","global-relation-error-search",3,"value","valueChange"],[3,"title"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"p-table",1,2),Pe.YNc(3,ax,5,1,"ng-template",3),Pe.YNc(4,rx,3,2,"ng-template",4),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("columns",t.tableColumns)("value",t.validationErrors)("scrollable",!0)("scrollHeight",t.offsetHeight+"px")("loadingIcon",t.SPINNER_CLASS)("customSort",!0)("resizableColumns",!0)("autoLayout",!0))},directives:[jm.iA,Ri.jx,m.sg,ho.T],styles:[".tab-errors-container[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.topology-relation-errors-title[_ngcontent-%COMP%]{padding:0 15px;color:#4d5766;font-size:16px}.topology-relation-errors-title[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0 0 10px;border-top:1px solid #98a2ae}.filter-row[_ngcontent-%COMP%]{display:table-row}[_nghost-%COMP%]     .filter-row th{border-color:#bec8d2;border-style:solid hidden;border-width:1px;padding:1px 8px;background:#fff}[_nghost-%COMP%]     .filter-row .filter-input{--input-height:23px}[_nghost-%COMP%]     .filter-row .filter-input .input-float-icon{font-size:17px!important;color:#98a2ae;margin-left:8px!important}[_nghost-%COMP%]     .filter-row .filter-input i{line-height:1}[_nghost-%COMP%]     .p-datatable .p-sortable-column.p-highlight{color:#1b1b1b;background-color:#fff}[_nghost-%COMP%]     .p-datatable .p-sortable-column.p-highlight .p-sortable-column-icon{color:#848484}"]}),e})();function cx(e,t,n){return Math.floor(e*t/100-n)}const dx={percent:{area1:60,area2:40}};function ux(e,t){if(1&e&&(Pe.TgZ(0,"div",2),Pe._UZ(1,"errors-parameter-errors-table",3),Pe.qZA()),2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("lazy",!1)("validationErrors",e)("scrollable",!0)("customSort",!1)("offsetHeight",n.calculateOffset())}}function px(e,t){1&e&&(Pe.TgZ(0,"div",4),Pe._UZ(1,"i",5),Pe.TgZ(2,"span",6),Pe._uU(3,"Select object to fix its relation errors"),Pe.qZA(),Pe.qZA())}let gx=(()=>{class e{constructor(e){this.store=e,this.OFFSET_BETWEEN_TABLES=68}calculateOffset(){return cx(this.offsetHeight,dx.percent.area2,this.OFFSET_BETWEEN_TABLES)}ngOnInit(){this.selectParameterRelationDetails$=(0,ft.aj)([this.store.select(Rn),this.store.select(Yu)]).pipe((0,A.U)(([e,t])=>{if(!e||!t)return;const n=e.entities;if(!n)return;const i=PO((e=>e.map(e=>({currentParameterState:e.currentParameterState||void 0,distname:e.parentDistname,errorDescription:"",moUuid:e.parentMoUuid,niddId:e.parentNiddId,parameterPath:e.parameterPath,validationParameterState:e.validationParameterState,managedObjectState:e.parentManagedObjectState})))(t),n);return 0!==i.length?SO(i):void 0}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-parameter-relation-details"]],inputs:{offsetHeight:"offsetHeight"},decls:4,vars:4,consts:[["class","tab-errors-container table-with-pagination-shadow-wrapper",4,"ngIf","ngIfElse"],["noSelectedObject",""],[1,"tab-errors-container","table-with-pagination-shadow-wrapper"],[3,"lazy","validationErrors","scrollable","customSort","offsetHeight"],[1,"no-selected-mo"],[1,"information-icon","mdi","mdi-information"],["id","no-validate-plan"]],template:function(e,t){if(1&e&&(Pe.YNc(0,ux,2,5,"div",0),Pe.ALo(1,"async"),Pe.YNc(2,px,4,0,"ng-template",null,1,Pe.W1O)),2&e){const e=Pe.MAs(3);Pe.Q6J("ngIf",Pe.lcZ(1,2,t.selectParameterRelationDetails$))("ngIfElse",e)}},directives:[m.O5,JO],pipes:[m.Ov],styles:[".tab-errors-container[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#98a2ae}.information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}.no-selected-mo[_ngcontent-%COMP%]{background-color:transparent;padding-left:15px;font-size:14px;color:#98a2ae;width:100%;display:flex;align-items:center}.no-selected-mo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;margin-right:6px}"]}),e})();const hx=["ptable"],mx=["errorsFixing"];function fx(e,t){if(1&e&&Pe._UZ(0,"p-sortIcon",17),2&e){const e=Pe.oxw().$implicit;Pe.Q6J("field",e.field)}}function bx(e,t){if(1&e&&(Pe.TgZ(0,"th",15),Pe._uU(1),Pe.YNc(2,fx,1,1,"p-sortIcon",16),Pe.qZA()),2&e){const e=t.$implicit;Pe.Tol(e.class),Pe.Q6J("pResizableColumnDisabled",!e.isResizable)("pSortableColumn",e.field)("id",e.field)("pSortableColumnDisabled",!e.isSortable),Pe.xp6(1),Pe.hij(" ",e.header," "),Pe.xp6(1),Pe.Q6J("ngIf",e.isSortable)}}function Cx(e,t){if(1&e&&(Pe.TgZ(0,"tr",13),Pe.YNc(1,bx,3,8,"th",14),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("ngForOf",e)}}function vx(e,t){1&e&&(Pe.TgZ(0,"colgroup"),Pe._UZ(1,"col"),Pe._UZ(2,"col"),Pe._UZ(3,"col"),Pe.qZA())}function yx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"tr",18),Pe.TgZ(1,"td",19),Pe._uU(2),Pe.qZA(),Pe.TgZ(3,"td",19),Pe._uU(4),Pe.qZA(),Pe.TgZ(5,"td",20),Pe.TgZ(6,"ui-webem-button",21),Pe.NdJ("action",function(){const t=Pe.CHM(e).$implicit;return Pe.oxw(2).redirectToPe(t.moUuid)}),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.$implicit,n=t.$implicit,i=Pe.oxw(2);Pe.Q6J("pSelectableRow",n),Pe.xp6(1),Pe.Q6J("id","parameter-relation-errors-distname-column-"+e.distname)("title",e.distname),Pe.xp6(1),Pe.hij(" ",e.distname," "),Pe.xp6(1),Pe.Q6J("id","parameter-relation-errors-description-column-"+e.distname)("title",e.errorDescription),Pe.xp6(1),Pe.hij(" ",e.errorDescription," "),Pe.xp6(1),Pe.Q6J("id","parameter-relation-errors-action-column-"+e.distname),Pe.xp6(1),Pe.Q6J("model",i.redirectToParameterEditor)}}function Sx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",6),Pe.TgZ(1,"p-table",7,8),Pe.NdJ("onLazyLoad",function(t){return Pe.CHM(e),Pe.oxw().onLoadNewPage(t)})("onRowSelect",function(t){return Pe.CHM(e),Pe.oxw().onRowSelect(t)})("onRowUnselect",function(){return Pe.CHM(e),Pe.oxw().onRowUnselect()})("selectionChange",function(t){return Pe.CHM(e),Pe.oxw().selectedNode=t}),Pe.YNc(3,Cx,2,1,"ng-template",9),Pe.YNc(4,vx,4,0,"ng-template",10),Pe.YNc(5,yx,7,9,"ng-template",11),Pe.qZA(),Pe.TgZ(6,"ui-webem-table-pagination",12),Pe.NdJ("PageChange",function(t){return Pe.CHM(e),Pe.oxw().onPageChange(t)}),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("value",n.relationErrors)("lazy",!0)("loadingIcon",n.SPINNER_CLASS)("customSort",!0)("columns",n.columns)("resizableColumns",!0)("scrollable",!1)("scrollHeight",n.calculateOffset())("autoLayout",!0)("selection",n.selectedNode),Pe.xp6(5),Pe.Q6J("itemsPerPage",e.pagination.itemsPerPage)("totalNumberOfItems",e.pagination.total)("pageNumber",e.pagination.pageNumber)}}function Px(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"as-split-area",22),Pe.TgZ(1,"div",23,24),Pe.TgZ(3,"div",25),Pe.TgZ(4,"button",26),Pe.NdJ("click",function(){return Pe.CHM(e),Pe.oxw().togglePanel()}),Pe.qZA(),Pe.qZA(),Pe.TgZ(5,"div",27),Pe.TgZ(6,"h4"),Pe._uU(7,"Error Fixing"),Pe.qZA(),Pe.qZA(),Pe._UZ(8,"errors-parameter-relation-details",28),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.Q6J("size",e.AREA2_SIZE)("maxSize",e.AREA2_MAX_SIZE)("minSize",e.AREA2_MIN_SIZE),Pe.xp6(4),Pe.Q6J("icon",e.closeButton.icon?e.closeButton.icon:""),Pe.xp6(4),Pe.Q6J("offsetHeight",e.offsetHeight)}}function Ox(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",29),Pe.TgZ(1,"button",30),Pe.NdJ("click",function(){return Pe.CHM(e),Pe.oxw().togglePanel()}),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("icon",e.openButton.icon?e.openButton.icon:"")}}const xx=function(e){return{pagination:e}};let wx=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.redirectToParameterEditor=ht.R$,this.tablePageChange=new Pe.vpe,this.isPanelVisible=!0,this.columns=[{field:"distName",header:"Object distinguished name",isResizable:!0,isSortable:!1,class:"parameter-errors-table-col"},{field:"description",header:"Error description",isResizable:!1,isSortable:!1,class:"parameter-errors-table-col"},{field:"action",header:"Action",isResizable:!1,isSortable:!1,class:"parameter-errors-table-col parameter-errors-table-center"}],this.ngUnsubscribe=new Ae.xQ,this.buttonOptions={forceWidth:"26px",forceHeight:"32px"},this.OPEN_PANEL_BUTTON_OFFSET=26,this.CLOSE_PANEL_BUTTON_OFFSET=21,this.TABLE_HEADER_PAGINATION_OFFSET=54,this.AREA1_SIZE=60,this.AREA2_SIZE=40,this.AREA2_MAX_SIZE=70,this.AREA2_MIN_SIZE=19,this.openButton={icon:"mdi mdi-wrench"},this.closeButton={icon:"mdi mdi-chevron-down"},this.areasSize=dx,this.SPINNER_CLASS=_S.w,this.AREA_OFFSET=130}onResize(){this.changeScrollableArgument()}changeScrollableArgument(){this.pTable&&(this.pTable.scrollable=this.isPanelVisible?this.pTableElement.nativeElement.children[0].offsetHeight-26>=cx(this.offsetHeight,this.areasSize.percent.area1,this.CLOSE_PANEL_BUTTON_OFFSET+this.TABLE_HEADER_PAGINATION_OFFSET):this.pTableElement.nativeElement.children[0].offsetHeight>this.offsetHeight)}ngOnInit(){this.store.pipe((0,g.Ys)(gp),(0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.relationErrors=[...e]),this.store.select(bp).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.filterData=e),this.pagination$=this.store.select(vp),this.tabChangeEvent$.pipe((0,_e.R)(this.ngUnsubscribe),(0,aO.P)(()=>nO(1e3))).subscribe(()=>this.isPanelVisible=!0)}ngOnChanges(){this.changeScrollableArgument()}redirectToPe(e){this.store.dispatch(N({moUuid:e})),this.store.dispatch((0,mb.uX)({routerLink:Ip.r.parameterEditor,activatedRoute:this.activatedRoute}))}onLoadNewPage(e){const t=1===e.sortOrder?"asc":"desc";this.filterData.sortBy===e.sortField&&this.filterData.sortOrder===t||e.sortField&&e.sortOrder&&this.store.dispatch(pu({sort:{sortOrder:t,sortBy:e.sortField}}))}onPageChange(e){this.store.dispatch(au({pageNumber:e})),this.resetMo()}notifyTableSizeChange(){var e;if(this.isPanelVisible){const t=this.offsetHeight-(null===(e=this.errorsFixing)||void 0===e?void 0:e.nativeElement.offsetHeight);this.tablePageChange.emit(t+this.AREA_OFFSET)}else this.tablePageChange.emit()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}calculateOffset(){return`${this.isPanelVisible?cx(this.offsetHeight,this.areasSize.percent.area1,this.CLOSE_PANEL_BUTTON_OFFSET+this.TABLE_HEADER_PAGINATION_OFFSET):this.offsetHeight-this.OPEN_PANEL_BUTTON_OFFSET}px`}togglePanel(){this.isPanelVisible?this.isPanelVisible=!1:(this.areasSize.percent.area1=60,this.isPanelVisible=!0)}dragEnd({sizes:e}){this.areasSize.percent.area1=e[0],this.areasSize.percent.area2=e[1]}onRowSelect(e){this.store.dispatch(N({moUuid:e.data.moUuid})),this.store.dispatch(yu({errorIndex:e.data.errorIndex})),this.store.dispatch(Cu())}onRowUnselect(){this.resetMo()}resetMo(){this.store.dispatch(Ce()),this.store.dispatch(Au()),this.store.dispatch(ve())}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(f.gz))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-parameter-relation-errors"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(hx,5),Pe.Gf(hx,5,Pe.SBq),Pe.Gf(mx,5)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.pTable=e.first),Pe.iGM(e=Pe.CRH())&&(t.pTableElement=e.first),Pe.iGM(e=Pe.CRH())&&(t.errorsFixing=e.first)}},hostBindings:function(e,t){1&e&&Pe.NdJ("resize",function(){return t.onResize()},!1,Pe.Jf7)},inputs:{tabChangeEvent$:"tabChangeEvent$",offsetHeight:"offsetHeight"},outputs:{tablePageChange:"tablePageChange"},features:[Pe.TTD],decls:7,vars:11,consts:[[1,"split-content"],["unit","percent","direction","vertical",3,"gutterSize","gutterStep","useTransition","dragEnd"],[3,"size"],["class","tab-errors-container table-with-pagination-shadow-wrapper",4,"ngIf"],["class","fix-errors-area",3,"size","maxSize","minSize",4,"ngIf"],["class","open-panel-content",4,"ngIf"],[1,"tab-errors-container","table-with-pagination-shadow-wrapper"],["selectionMode","single","compareSelectionBy","equals",3,"value","lazy","loadingIcon","customSort","columns","resizableColumns","scrollable","scrollHeight","autoLayout","selection","onLazyLoad","onRowSelect","onRowUnselect","selectionChange"],["ptable",""],["pTemplate","header"],["pTemplate","colgroup"],["pTemplate","body"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange"],[1,"parameter-errors-table-row"],["pResizableColumn","",3,"pResizableColumnDisabled","pSortableColumn","id","pSortableColumnDisabled","class",4,"ngFor","ngForOf"],["pResizableColumn","",3,"pResizableColumnDisabled","pSortableColumn","id","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],["id","parameter-relation-errors-row",1,"parameter-errors-table-row",3,"pSelectableRow"],[1,"parameter-errors-table-col",3,"id","title"],[1,"parameter-errors-table-col","parameter-errors-table-center",3,"id"],[3,"model","action"],[1,"fix-errors-area",3,"size","maxSize","minSize"],[1,"fix-errors-panel"],["errorsFixing",""],[1,"close-panel-content"],["pButton","","type","button","id","close-fix-panel-button",1,"close-button","fix-panel-toggle-button",3,"icon","click"],[1,"fix-errors-header"],[3,"offsetHeight"],[1,"open-panel-content"],["pButton","","type","button","id","open-fix-panel-button",1,"fix-panel-toggle-button",3,"icon","click"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"as-split",1),Pe.NdJ("dragEnd",function(e){return t.dragEnd(e)}),Pe.TgZ(2,"as-split-area",2),Pe.YNc(3,Sx,7,13,"div",3),Pe.ALo(4,"async"),Pe.qZA(),Pe.YNc(5,Px,9,5,"as-split-area",4),Pe.qZA(),Pe.YNc(6,Ox,2,1,"div",5),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("gutterSize",1)("gutterStep",1)("useTransition",!0),Pe.xp6(1),Pe.Q6J("size",t.AREA1_SIZE),Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(9,xx,Pe.lcZ(4,7,t.pagination$))),Pe.xp6(2),Pe.Q6J("ngIf",t.isPanelVisible),Pe.xp6(1),Pe.Q6J("ngIf",!t.isPanelVisible))},directives:[AP.Mq,AP.zE,m.O5,jm.iA,Ri.jx,ZS.Q,m.sg,jm.Q7,jm.lQ,jm.fz,jm.Ei,Ui.r,Mt.Hq,gx],pipes:[m.Ov],styles:[".split-content[_ngcontent-%COMP%]{height:100%}.tab-errors-container[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.close-panel-content[_ngcontent-%COMP%]{position:absolute;right:0;margin-top:-20px;z-index:1;padding-right:30px}.open-panel-content[_ngcontent-%COMP%]{position:absolute;bottom:0;right:30px;z-index:1}.fix-errors-panel[_ngcontent-%COMP%]{height:auto;background-color:#fff;min-height:100%}.fix-errors-header[_ngcontent-%COMP%]{color:#4d5766;padding:20px 15px 0;background-color:#fff}.fix-errors-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:8px;padding-bottom:2px;border-bottom:1px solid #98a2ae}.close-button[_ngcontent-%COMP%]{height:20px!important}.fix-panel-toggle-button[_ngcontent-%COMP%]{border-top-left-radius:15px;border-top-right-radius:15px;border:none;width:26px;height:32px}.fix-panel-toggle-button[_ngcontent-%COMP%], .fix-panel-toggle-button[_ngcontent-%COMP%]:enabled:focus{background-color:#124191;color:#fff}.fix-panel-toggle-button[_ngcontent-%COMP%]:enabled:hover{background-color:#082961;box-shadow:0 2px 3px rgba(0,0,0,.1);color:#fff}.fix-panel-toggle-button[_ngcontent-%COMP%]:enabled:active{background-color:#082961;box-shadow:0 3px 5px rgba(0,0,0,.3);color:#fff}.parameter-errors-table-col[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #707070}.parameter-errors-table-center[_ngcontent-%COMP%]{text-align:center;width:48px}.parameter-errors-icons[_ngcontent-%COMP%]{font-size:16px;text-align:center}.parameter-errors-icons[_ngcontent-%COMP%]   .mdi-check[_ngcontent-%COMP%]{color:#3daa00}.parameter-errors-title[_ngcontent-%COMP%]{padding:0 15px;color:#4d5766;font-size:16px}.parameter-errors-title[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0 0 10px;color:#ccc}.parameter-errors-col-distname[_ngcontent-%COMP%]{width:25%}.parameter-errors-col-action[_ngcontent-%COMP%]{width:42px}  .as-vertical>.as-split-gutter .as-split-gutter-icon{transform:rotate(90deg);z-index:1}.fix-errors-area[_ngcontent-%COMP%]{overflow-y:hidden}"]}),e})();function Ax(e,t){if(1&e&&(Pe.TgZ(0,"div",2),Pe._UZ(1,"errors-parameter-errors-table",3),Pe.qZA()),2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("lazy",!1)("validationErrors",e)("scrollable",!0)("customSort",!1)("offsetHeight",n.calculateOffset())}}function _x(e,t){1&e&&(Pe.TgZ(0,"div",4),Pe._UZ(1,"i",5),Pe.TgZ(2,"span",6),Pe._uU(3,"Select object to fix its relation errors"),Pe.qZA(),Pe.qZA())}let Tx=(()=>{class e{constructor(e){this.store=e,this.OFFSET_BETWEEN_TABLES=68}calculateOffset(){return cx(this.offsetHeight,dx.percent.area2,this.OFFSET_BETWEEN_TABLES)}ngOnInit(){this.selectHardwareRelationDetails$=(0,ft.aj)([this.store.select(Rn),this.store.select(Ju)]).pipe((0,A.U)(([e,t])=>{if(!e||!t)return;const n=e.entities;if(!n)return;const i=PO((e=>e.map(e=>({currentParameterState:e.currentParameterState||void 0,distname:e.parentDistname,errorDescription:"",moUuid:e.parentMoUuid,niddId:e.parentNiddId,parameterPath:e.parameterPath,validationParameterState:e.validationParameterState,managedObjectState:e.parentManagedObjectState})))(t),n);return 0!==i.length?SO(i):void 0}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-hardware-relation-details"]],inputs:{offsetHeight:"offsetHeight"},decls:4,vars:4,consts:[["class","tab-errors-container table-with-pagination-shadow-wrapper",4,"ngIf","ngIfElse"],["noSelectedObject",""],[1,"tab-errors-container","table-with-pagination-shadow-wrapper"],[3,"lazy","validationErrors","scrollable","customSort","offsetHeight"],[1,"no-selected-mo"],[1,"information-icon","mdi","mdi-information"],["id","no-validate-plan"]],template:function(e,t){if(1&e&&(Pe.YNc(0,Ax,2,5,"div",0),Pe.ALo(1,"async"),Pe.YNc(2,_x,4,0,"ng-template",null,1,Pe.W1O)),2&e){const e=Pe.MAs(3);Pe.Q6J("ngIf",Pe.lcZ(1,2,t.selectHardwareRelationDetails$))("ngIfElse",e)}},directives:[m.O5,JO],pipes:[m.Ov],styles:[".tab-errors-container[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#98a2ae}.information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}.no-selected-mo[_ngcontent-%COMP%]{background-color:#fff;padding-left:15px;font-size:14px;color:#98a2ae;width:100%;display:flex;align-items:center}.no-selected-mo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;margin-right:6px}"]}),e})();const Ix=["ptable"],Ex=["errorsFixing"];function Mx(e,t){if(1&e&&Pe._UZ(0,"p-sortIcon",17),2&e){const e=Pe.oxw().$implicit;Pe.Q6J("field",e.field)}}function kx(e,t){if(1&e&&(Pe.TgZ(0,"th",15),Pe._uU(1),Pe.YNc(2,Mx,1,1,"p-sortIcon",16),Pe.qZA()),2&e){const e=t.$implicit;Pe.Tol(e.class),Pe.Q6J("pResizableColumnDisabled",!e.isResizable)("pSortableColumn",e.field)("id",e.field)("pSortableColumnDisabled",!e.isSortable),Pe.xp6(1),Pe.hij(" ",e.header," "),Pe.xp6(1),Pe.Q6J("ngIf",e.isSortable)}}function Nx(e,t){if(1&e&&(Pe.TgZ(0,"tr",13),Pe.YNc(1,kx,3,8,"th",14),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("ngForOf",e)}}function Lx(e,t){1&e&&(Pe.TgZ(0,"colgroup"),Pe._UZ(1,"col"),Pe._UZ(2,"col"),Pe._UZ(3,"col"),Pe.qZA())}function Dx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"tr",18),Pe.TgZ(1,"td",19),Pe._uU(2),Pe.qZA(),Pe.TgZ(3,"td",19),Pe._uU(4),Pe.qZA(),Pe.TgZ(5,"td",20),Pe.TgZ(6,"ui-webem-button",21),Pe.NdJ("action",function(){const t=Pe.CHM(e).$implicit;return Pe.oxw(2).redirectToPe(t.moUuid)}),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.$implicit,n=t.$implicit,i=Pe.oxw(2);Pe.Q6J("pSelectableRow",n),Pe.xp6(1),Pe.Q6J("id","parameter-relation-errors-distname-column-"+e.distname)("title",e.distname),Pe.xp6(1),Pe.hij(" ",e.distname," "),Pe.xp6(1),Pe.Q6J("id","parameter-relation-errors-description-column-"+e.distname)("title",e.errorDescription),Pe.xp6(1),Pe.hij(" ",e.errorDescription," "),Pe.xp6(1),Pe.Q6J("id","parameter-relation-errors-action-column-"+e.distname),Pe.xp6(1),Pe.Q6J("model",i.redirectToParameterEditor)}}function Zx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",6),Pe.TgZ(1,"p-table",7,8),Pe.NdJ("onLazyLoad",function(t){return Pe.CHM(e),Pe.oxw().onLoadNewPage(t)})("onRowSelect",function(t){return Pe.CHM(e),Pe.oxw().onRowSelect(t)})("onRowUnselect",function(){return Pe.CHM(e),Pe.oxw().onRowUnselect()})("selectionChange",function(t){return Pe.CHM(e),Pe.oxw().selectedNode=t}),Pe.YNc(3,Nx,2,1,"ng-template",9),Pe.YNc(4,Lx,4,0,"ng-template",10),Pe.YNc(5,Dx,7,9,"ng-template",11),Pe.qZA(),Pe.TgZ(6,"ui-webem-table-pagination",12),Pe.NdJ("PageChange",function(t){return Pe.CHM(e),Pe.oxw().onPageChange(t)}),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("value",n.relationErrors)("lazy",!0)("loadingIcon",n.SPINNER_CLASS)("customSort",!0)("columns",n.columns)("resizableColumns",!0)("scrollable",!1)("scrollHeight",n.calculateOffset())("autoLayout",!0)("selection",n.selectedNode),Pe.xp6(5),Pe.Q6J("itemsPerPage",e.pagination.itemsPerPage)("totalNumberOfItems",e.pagination.total)("pageNumber",e.pagination.pageNumber)}}function Rx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"as-split-area",22),Pe.TgZ(1,"div",23,24),Pe.TgZ(3,"div",25),Pe.TgZ(4,"button",26),Pe.NdJ("click",function(){return Pe.CHM(e),Pe.oxw().togglePanel()}),Pe.qZA(),Pe.qZA(),Pe.TgZ(5,"div",27),Pe.TgZ(6,"h4"),Pe._uU(7,"Error Fixing"),Pe.qZA(),Pe.qZA(),Pe._UZ(8,"errors-hardware-relation-details",28),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.Q6J("size",e.AREA2_SIZE)("maxSize",e.AREA2_MAX_SIZE)("minSize",e.AREA2_MIN_SIZE),Pe.xp6(4),Pe.Q6J("icon",e.closeButton.icon?e.closeButton.icon:""),Pe.xp6(4),Pe.Q6J("offsetHeight",e.offsetHeight)}}function Ux(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",29),Pe.TgZ(1,"button",30),Pe.NdJ("click",function(){return Pe.CHM(e),Pe.oxw().togglePanel()}),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("icon",e.openButton.icon?e.openButton.icon:"")}}const Fx=function(e){return{pagination:e}};let jx=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.redirectToParameterEditor=ht.R$,this.tablePageChange=new Pe.vpe,this.isPanelVisible=!0,this.columns=[{field:"distName",header:"Object distinguished name",isResizable:!0,isSortable:!1,class:"parameter-errors-table-col"},{field:"description",header:"Error description",isResizable:!1,isSortable:!1,class:"parameter-errors-table-col"},{field:"action",header:"Action",isResizable:!1,isSortable:!1,class:"parameter-errors-table-col parameter-errors-table-center"}],this.ngUnsubscribe=new Ae.xQ,this.buttonOptions={forceWidth:"26px",forceHeight:"32px"},this.OPEN_PANEL_BUTTON_OFFSET=26,this.CLOSE_PANEL_BUTTON_OFFSET=21,this.TABLE_HEADER_PAGINATION_OFFSET=54,this.AREA1_SIZE=60,this.AREA2_SIZE=40,this.AREA2_MAX_SIZE=70,this.AREA2_MIN_SIZE=19,this.openButton={icon:"mdi mdi-wrench"},this.closeButton={icon:"mdi mdi-chevron-down"},this.areasSize=dx,this.SPINNER_CLASS=_S.w,this.AREA_OFFSET=130}onResize(){this.changeScrollableArgument()}changeScrollableArgument(){this.pTable&&(this.pTable.scrollable=this.isPanelVisible?this.pTableElement.nativeElement.children[0].offsetHeight-26>=cx(this.offsetHeight,this.areasSize.percent.area1,this.CLOSE_PANEL_BUTTON_OFFSET+this.TABLE_HEADER_PAGINATION_OFFSET):this.pTableElement.nativeElement.children[0].offsetHeight>this.offsetHeight)}ngOnInit(){this.store.pipe((0,g.Ys)(hp),(0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.relationErrors=[...e]),this.store.select(Cp).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.filterData=e),this.pagination$=this.store.select(yp),this.tabChangeEvent$.pipe((0,_e.R)(this.ngUnsubscribe),(0,aO.P)(()=>nO(1e3))).subscribe(()=>this.isPanelVisible=!0)}ngOnChanges(){this.changeScrollableArgument()}redirectToPe(e){this.store.dispatch(N({moUuid:e})),this.store.dispatch((0,mb.uX)({routerLink:Ip.r.parameterEditor,activatedRoute:this.activatedRoute}))}onLoadNewPage(e){const t=1===e.sortOrder?"asc":"desc";this.filterData.sortBy===e.sortField&&this.filterData.sortOrder===t||e.sortField&&e.sortOrder&&this.store.dispatch(gu({sort:{sortOrder:t,sortBy:e.sortField}}))}onPageChange(e){this.notifyTableSizeChange(),this.store.dispatch(ru({pageNumber:e})),this.resetMo()}notifyTableSizeChange(){var e;if(this.isPanelVisible){const t=this.offsetHeight-(null===(e=this.errorsFixing)||void 0===e?void 0:e.nativeElement.offsetHeight);this.tablePageChange.emit(t+this.AREA_OFFSET)}else this.tablePageChange.emit()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}calculateOffset(){return`${this.isPanelVisible?cx(this.offsetHeight,this.areasSize.percent.area1,this.CLOSE_PANEL_BUTTON_OFFSET+this.TABLE_HEADER_PAGINATION_OFFSET):this.offsetHeight-this.OPEN_PANEL_BUTTON_OFFSET}px`}togglePanel(){this.isPanelVisible?this.isPanelVisible=!1:(this.areasSize.percent.area1=60,this.isPanelVisible=!0)}dragEnd({sizes:e}){this.areasSize.percent.area1=e[0],this.areasSize.percent.area2=e[1]}onRowSelect(e){this.store.dispatch(N({moUuid:e.data.moUuid})),this.store.dispatch(Su({errorIndex:e.data.errorIndex})),this.store.dispatch(vu())}onRowUnselect(){this.resetMo()}resetMo(){this.store.dispatch(Ce()),this.store.dispatch(_u()),this.store.dispatch(ve())}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(f.gz))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-hardware-relation-errors"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(Ix,5),Pe.Gf(Ix,5,Pe.SBq),Pe.Gf(Ex,5)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.pTable=e.first),Pe.iGM(e=Pe.CRH())&&(t.pTableElement=e.first),Pe.iGM(e=Pe.CRH())&&(t.errorsFixing=e.first)}},hostBindings:function(e,t){1&e&&Pe.NdJ("resize",function(){return t.onResize()},!1,Pe.Jf7)},inputs:{tabChangeEvent$:"tabChangeEvent$",offsetHeight:"offsetHeight"},outputs:{tablePageChange:"tablePageChange"},features:[Pe.TTD],decls:7,vars:11,consts:[[1,"split-content"],["unit","percent","direction","vertical",3,"gutterSize","gutterStep","useTransition","dragEnd"],[3,"size"],["class","tab-errors-container table-with-pagination-shadow-wrapper",4,"ngIf"],["class","fix-errors-area",3,"size","maxSize","minSize",4,"ngIf"],["class","open-panel-content",4,"ngIf"],[1,"tab-errors-container","table-with-pagination-shadow-wrapper"],["selectionMode","single","compareSelectionBy","equals",3,"value","lazy","loadingIcon","customSort","columns","resizableColumns","scrollable","scrollHeight","autoLayout","selection","onLazyLoad","onRowSelect","onRowUnselect","selectionChange"],["ptable",""],["pTemplate","header"],["pTemplate","colgroup"],["pTemplate","body"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange"],[1,"parameter-errors-table-row"],["pResizableColumn","",3,"pResizableColumnDisabled","pSortableColumn","id","pSortableColumnDisabled","class",4,"ngFor","ngForOf"],["pResizableColumn","",3,"pResizableColumnDisabled","pSortableColumn","id","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],["id","parameter-relation-errors-row",1,"parameter-errors-table-row",3,"pSelectableRow"],[1,"parameter-errors-table-col",3,"id","title"],[1,"parameter-errors-table-col","parameter-errors-table-center",3,"id"],[3,"model","action"],[1,"fix-errors-area",3,"size","maxSize","minSize"],[1,"fix-errors-panel"],["errorsFixing",""],[1,"close-panel-content"],["pButton","","type","button","id","close-fix-panel-button",1,"close-button","fix-panel-toggle-button",3,"icon","click"],[1,"fix-errors-header"],[3,"offsetHeight"],[1,"open-panel-content"],["pButton","","type","button","id","open-fix-panel-button",1,"fix-panel-toggle-button",3,"icon","click"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"as-split",1),Pe.NdJ("dragEnd",function(e){return t.dragEnd(e)}),Pe.TgZ(2,"as-split-area",2),Pe.YNc(3,Zx,7,13,"div",3),Pe.ALo(4,"async"),Pe.qZA(),Pe.YNc(5,Rx,9,5,"as-split-area",4),Pe.qZA(),Pe.YNc(6,Ux,2,1,"div",5),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("gutterSize",1)("gutterStep",1)("useTransition",!0),Pe.xp6(1),Pe.Q6J("size",t.AREA1_SIZE),Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(9,Fx,Pe.lcZ(4,7,t.pagination$))),Pe.xp6(2),Pe.Q6J("ngIf",t.isPanelVisible),Pe.xp6(1),Pe.Q6J("ngIf",!t.isPanelVisible))},directives:[AP.Mq,AP.zE,m.O5,jm.iA,Ri.jx,ZS.Q,m.sg,jm.Q7,jm.lQ,jm.fz,jm.Ei,Ui.r,Mt.Hq,Tx],pipes:[m.Ov],styles:[".split-content[_ngcontent-%COMP%]{height:100%}.tab-errors-container[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.close-panel-content[_ngcontent-%COMP%]{position:absolute;right:0;margin-top:-20px;z-index:1;padding-right:30px}.open-panel-content[_ngcontent-%COMP%]{position:absolute;bottom:0;right:30px;z-index:1}.fix-errors-panel[_ngcontent-%COMP%]{height:auto;background-color:#fff;min-height:100%}.fix-errors-header[_ngcontent-%COMP%]{color:#4d5766;padding:20px 15px 0;background-color:#fff}.fix-errors-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:8px;padding-bottom:5px;border-bottom:1px solid #98a2ae}.close-button[_ngcontent-%COMP%]{height:20px!important}.fix-panel-toggle-button[_ngcontent-%COMP%]{border-top-left-radius:15px;border-top-right-radius:15px;border:none;width:26px;height:32px}.fix-panel-toggle-button[_ngcontent-%COMP%], .fix-panel-toggle-button[_ngcontent-%COMP%]:enabled:focus{background-color:#124191;color:#fff}.fix-panel-toggle-button[_ngcontent-%COMP%]:enabled:hover{background-color:#082961;box-shadow:0 2px 3px rgba(0,0,0,.1);color:#fff}.fix-panel-toggle-button[_ngcontent-%COMP%]:enabled:active{background-color:#082961;box-shadow:0 3px 5px rgba(0,0,0,.3);color:#fff}.parameter-errors-table-col[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #707070}.parameter-errors-table-center[_ngcontent-%COMP%]{text-align:center;width:42px}.parameter-errors-icons[_ngcontent-%COMP%]{font-size:16px;text-align:center}.parameter-errors-icons[_ngcontent-%COMP%]   .mdi-check[_ngcontent-%COMP%]{color:#3daa00}.parameter-errors-title[_ngcontent-%COMP%]{padding:0 15px;color:#4d5766;font-size:16px}.parameter-errors-title[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0 0 10px;color:#ccc}.parameter-errors-col-distname[_ngcontent-%COMP%]{width:25%}.parameter-errors-col-action[_ngcontent-%COMP%]{width:42px}  .as-vertical>.as-split-gutter .as-split-gutter-icon{transform:rotate(90deg);z-index:1}.fix-errors-area[_ngcontent-%COMP%]{overflow-y:hidden}"]}),e})();function $x(e,t){if(1&e&&Pe._UZ(0,"errors-tab-headers",6),2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.Q6J("tabMenuItem",t.tabMenuItems.missingMandatoryObjects)("areAnyErrors",e.selectTopologyDefinitionErrors)}}function qx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"errors-topology-definition",8),Pe.NdJ("tablePageChange",function(t){return Pe.CHM(e),Pe.oxw(3).dispatchSetItemsPerPage(t)}),Pe.qZA()}if(2&e){const e=Pe.oxw(3);Pe.Q6J("offsetHeight",e.offsetHeight)("tabChangeEvent$",e.tabChangeEventSubject.asObservable())}}function Bx(e,t){if(1&e&&(Pe.TgZ(0,"errors-messages-wrappers",7),Pe.YNc(1,qx,1,2,"ng-template"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("areAnyErrors",e.selectTopologyDefinitionErrors)}}function Gx(e,t){if(1&e&&Pe._UZ(0,"errors-tab-headers",6),2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.Q6J("tabMenuItem",t.tabMenuItems.parameterErrors)("areAnyErrors",e.selectParameterDefinitionErrors)}}function Vx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"errors-parameter-errors",9),Pe.NdJ("tablePageChange",function(t){return Pe.CHM(e),Pe.oxw(3).dispatchSetItemsPerPage(t)}),Pe.qZA()}if(2&e){const e=Pe.oxw(3);Pe.Q6J("offsetHeight",e.offsetHeight)}}function Yx(e,t){if(1&e&&(Pe.TgZ(0,"errors-messages-wrappers",7),Pe.YNc(1,Vx,1,1,"ng-template"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("areAnyErrors",e.selectParameterDefinitionErrors)}}function Jx(e,t){if(1&e&&Pe._UZ(0,"errors-tab-headers",6),2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.Q6J("tabMenuItem",t.tabMenuItems.objectsQuantityErrors)("areAnyErrors",e.selectOccurrenceErrors)}}function Hx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"errors-objects-quantity-errors",9),Pe.NdJ("tablePageChange",function(t){return Pe.CHM(e),Pe.oxw(3).dispatchSetItemsPerPage(t)}),Pe.qZA()}if(2&e){const e=Pe.oxw(3);Pe.Q6J("offsetHeight",e.offsetHeight)}}function Wx(e,t){if(1&e&&(Pe.TgZ(0,"errors-messages-wrappers",7),Pe.YNc(1,Hx,1,1,"ng-template"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("areAnyErrors",e.selectOccurrenceErrors)}}function Qx(e,t){if(1&e&&Pe._UZ(0,"errors-tab-headers",6),2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.Q6J("tabMenuItem",t.tabMenuItems.globalRelationErrors)("areAnyErrors",e.selectsTopologyRelationErrors)}}function zx(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"errors-topology-relation-errors",9),Pe.NdJ("tablePageChange",function(t){return Pe.CHM(e),Pe.oxw(3).dispatchSetItemsPerPage(t)}),Pe.qZA()}if(2&e){const e=Pe.oxw(3);Pe.Q6J("offsetHeight",e.offsetHeight)}}function Kx(e,t){if(1&e&&(Pe.TgZ(0,"errors-messages-wrappers",7),Pe.YNc(1,zx,1,1,"ng-template"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("areAnyErrors",e.selectsTopologyRelationErrors)}}function Xx(e,t){if(1&e&&Pe._UZ(0,"errors-tab-headers",6),2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.Q6J("tabMenuItem",t.tabMenuItems.parameterRelationErrors)("areAnyErrors",e.selectParameterRelationErrors)}}function ew(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"errors-parameter-relation-errors",8),Pe.NdJ("tablePageChange",function(t){return Pe.CHM(e),Pe.oxw(3).dispatchSetItemsPerPage(t)}),Pe.qZA()}if(2&e){const e=Pe.oxw(3);Pe.Q6J("offsetHeight",e.offsetHeight)("tabChangeEvent$",e.tabChangeEventSubject.asObservable())}}function tw(e,t){if(1&e&&(Pe.TgZ(0,"errors-messages-wrappers",7),Pe.YNc(1,ew,1,2,"ng-template"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("areAnyErrors",e.selectParameterRelationErrors)}}function nw(e,t){if(1&e&&Pe._UZ(0,"errors-tab-headers",6),2&e){const e=Pe.oxw(2).ngIf,t=Pe.oxw();Pe.Q6J("tabMenuItem",t.tabMenuItems.hardwareErrors)("areAnyErrors",e.selectHardwareRelationErrors)}}function iw(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"errors-hardware-relation-errors",8),Pe.NdJ("tablePageChange",function(t){return Pe.CHM(e),Pe.oxw(4).dispatchSetItemsPerPage(t)}),Pe.qZA()}if(2&e){const e=Pe.oxw(4);Pe.Q6J("offsetHeight",e.offsetHeight)("tabChangeEvent$",e.tabChangeEventSubject.asObservable())}}function ow(e,t){if(1&e&&(Pe.TgZ(0,"errors-messages-wrappers",7),Pe.YNc(1,iw,1,2,"ng-template"),Pe.qZA()),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("areAnyErrors",e.selectHardwareRelationErrors)}}function sw(e,t){1&e&&(Pe.TgZ(0,"p-tabPanel"),Pe.YNc(1,nw,1,2,"ng-template",3),Pe.YNc(2,ow,2,1,"ng-template",4),Pe.qZA())}function aw(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"p-tabView",2),Pe.NdJ("onChange",function(t){return Pe.CHM(e),Pe.oxw().onTabChange(t)}),Pe.TgZ(3,"p-tabPanel"),Pe.YNc(4,$x,1,2,"ng-template",3),Pe.YNc(5,Bx,2,1,"ng-template",4),Pe.qZA(),Pe.TgZ(6,"p-tabPanel"),Pe.YNc(7,Gx,1,2,"ng-template",3),Pe.YNc(8,Yx,2,1,"ng-template",4),Pe.qZA(),Pe.TgZ(9,"p-tabPanel"),Pe.YNc(10,Jx,1,2,"ng-template",3),Pe.YNc(11,Wx,2,1,"ng-template",4),Pe.qZA(),Pe.TgZ(12,"p-tabPanel"),Pe.YNc(13,Qx,1,2,"ng-template",3),Pe.YNc(14,Kx,2,1,"ng-template",4),Pe.qZA(),Pe.TgZ(15,"p-tabPanel"),Pe.YNc(16,Xx,1,2,"ng-template",3),Pe.YNc(17,tw,2,1,"ng-template",4),Pe.qZA(),Pe.YNc(18,sw,3,0,"p-tabPanel",0),Pe.qZA(),Pe._UZ(19,"configuration-shared-validation-timestamp",5),Pe.qZA(),Pe.BQk()}if(2&e){const e=Pe.oxw();Pe.xp6(2),Pe.Q6J("activeIndex",e.activeIndex),Pe.xp6(16),Pe.Q6J("ngIf",!(null==e.tabMenuItems||!e.tabMenuItems.hardwareErrors))}}const rw=function(e,t,n,i,o,s,a,r,l,c,d){return{selectTopologyDefinitionErrors:e,selectParameterDefinitionErrors:t,selectOccurrenceErrors:n,selectParameterRelationErrors:i,selectHardwareRelationErrors:o,selectsTopologyRelationErrors:s,selectOccurrenceDefinitionErrorsPaginationObject:a,selectTopologyDefinitionErrorsPaginationObject:r,selectParameterDefinitionErrorsPaginationObject:l,selectTopologyRelationErrorsPaginationObject:c,selectParameterRelationErrorsPaginationObject:d}},lw=[Wd,Yd,Vd,Qd,Jd,Hd],cw=[{path:":tabName",children:[{path:"",component:Dp,outlet:"content_menu"},{path:"",component:vg,outlet:"content_right"},{path:"",component:Qb,outlet:"content_actions_bar"},{path:"",outlet:"content_center",component:(()=>{class e{constructor(e,t,n,i,o,s){this.store=e,this.router=t,this.elRef=n,this.route=i,this.errorsTabConfig=o,this.cdRef=s,this.tabChangeEventSubject=new Ae.xQ,this.HEADER_OFFSET=45,this.ngUnsubscribe=new Ae.xQ}ngOnInit(){this.tabMenuItems=this.errorsTabConfig.availableRoutes;const e=this.route.pathFromRoot.find(e=>"topView"===e.outlet||"bottomView"===e.outlet);e&&(this.activeIndex=0,this.router.navigate(["split-view",{outlets:{[e.outlet]:[_P.L.errors,this.tabMenuItems.missingMandatoryObjects.url]}}])),this.route.params.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{const t=Object.values(this.tabMenuItems).find(t=>t.url===e.tabName);t?(this.activeIndex=t.index,setTimeout(()=>{this.store.dispatch(lw[t.index]()),this.dispatchSetItemsPerPage()})):this.router.navigate([_P.L.errors,this.tabMenuItems.missingMandatoryObjects.url])}),this.selectTopologyDefinitionErrors$=this.store.select(ap),this.selectParameterDefinitionErrors$=this.store.select(dp),this.selectOccurrenceErrors$=this.store.select(op),this.selectParameterRelationErrors$=this.store.select(mp),this.selectHardwareRelationErrors$=this.store.select(fp),this.selectsTopologyRelationErrors$=this.store.select(Pp),this.selectOccurrenceDefinitionErrorsPaginationObject$=this.store.select(tp),this.selectTopologyDefinitionErrorsPaginationObject$=this.store.select(lp),this.selectParameterDefinitionErrorsPaginationObject$=this.store.select(pp),this.selectTopologyRelationErrorsPaginationObject$=this.store.select(xp),this.selectParameterRelationErrorsPaginationObject$=this.store.select(vp),this.store.dispatch(Ce())}ngAfterViewInit(){this.cdRef.detectChanges()}ngAfterContentChecked(){this.offsetHeight=this.elRef.nativeElement&&this.elRef.nativeElement.offsetHeight-this.HEADER_OFFSET}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onTabChange(e){this.store.dispatch(Ce()),this.store.dispatch(Au()),this.store.dispatch(ve()),this.store.dispatch(_u()),this.tabChangeEventSubject.next();const t=this.tabMenuItems[Object.keys(this.tabMenuItems)[e.index]].url;this.store.dispatch((0,mb.uX)({routerLink:`//${_P.L.errors}//${t}`,activatedRoute:this.route}))}dispatchSetItemsPerPage(e=0){this.store.dispatch(bu({payload:Rg(e||this.elRef.nativeElement&&this.elRef.nativeElement.offsetHeight)}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(f.F0),Pe.Y36(Pe.SBq),Pe.Y36(f.gz),Pe.Y36(TP.s),Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["errors-definition-errors-tab"]],decls:12,vars:35,consts:[[4,"ngIf"],[1,"errors-tab"],[3,"activeIndex","onChange"],["pTemplate","header"],["pTemplate","content"],[1,"errors-tab-validation-message"],[3,"tabMenuItem","areAnyErrors"],[3,"areAnyErrors"],[3,"offsetHeight","tabChangeEvent$","tablePageChange"],[3,"offsetHeight","tablePageChange"]],template:function(e,t){1&e&&(Pe.YNc(0,aw,20,2,"ng-container",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.ALo(5,"async"),Pe.ALo(6,"async"),Pe.ALo(7,"async"),Pe.ALo(8,"async"),Pe.ALo(9,"async"),Pe.ALo(10,"async"),Pe.ALo(11,"async")),2&e&&Pe.Q6J("ngIf",Pe.rFY(23,rw,[Pe.lcZ(1,1,t.selectTopologyDefinitionErrors$),Pe.lcZ(2,3,t.selectParameterDefinitionErrors$),Pe.lcZ(3,5,t.selectOccurrenceErrors$),Pe.lcZ(4,7,t.selectParameterRelationErrors$),Pe.lcZ(5,9,t.selectHardwareRelationErrors$),Pe.lcZ(6,11,t.selectsTopologyRelationErrors$),Pe.lcZ(7,13,t.selectOccurrenceDefinitionErrorsPaginationObject$),Pe.lcZ(8,15,t.selectTopologyDefinitionErrorsPaginationObject$),Pe.lcZ(9,17,t.selectParameterDefinitionErrorsPaginationObject$),Pe.lcZ(10,19,t.selectTopologyRelationErrorsPaginationObject$),Pe.lcZ(11,21,t.selectParameterRelationErrorsPaginationObject$)]))},directives:[m.O5,OP.xf,OP.x4,Ri.jx,EP,kP,eO,yO,QO,ox,lx,wx,jx],pipes:[m.Ov],styles:['[_nghost-%COMP%]{display:block;height:calc(100% - 45px)}.errors-tab[_ngcontent-%COMP%]{position:relative;height:100%}.errors-tab-validation-message[_ngcontent-%COMP%]{position:absolute;right:15px;width:calc(100% - 945px);top:-3px}[_nghost-%COMP%]     .p-datatable-scrollable-header{background-color:#fff}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li{top:1px}[_nghost-%COMP%]     .p-datatable-scrollable-header:before{content:"";background:#707070;position:absolute;margin-top:25.5px;left:100%;margin-left:-19px;height:1px;width:17px}[_nghost-%COMP%]     .p-treetable-scrollable-header{background-color:#fff}[_nghost-%COMP%]     .p-treetable-scrollable-header:before{content:"";background:#707070;position:absolute;margin-top:26px;left:100%;margin-left:-17px;height:1px;width:17px}[_nghost-%COMP%]     errors-topology-definition .p-datatable .ui-sortable-column{height:21px}[_nghost-%COMP%]     errors-topology-definition .p-datatable .ui-sortable-column i.ui-sortable-column-icon{height:21px;vertical-align:middle;padding-top:4px}errors-parameter-errors-table[_ngcontent-%COMP%]   .p-treetable-scrollable-body-table[_ngcontent-%COMP%]   .pe-input[_ngcontent-%COMP%]{height:21px}  .p-tabview,   .p-tabview-panel{height:100%}  .p-tabview-top{height:100%}  body .p-tabview .p-tabview-panels{height:calc(100% - 22px);padding:10px 0 0;margin-right:15px}']}),e})()}]},{path:"",redirectTo:"/errors/missing-mandatory-objects",pathMatch:"full"}];let dw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(cw)],f.Bz]}),e})(),uw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[dw,m.ez,Sy,yr.dp,wP.ae,Ei.j,jm.U$,wn._Qj,pC,xP,OP.LU,AP.fX,wn.Fme,Fb.D,gC.F]]}),e})();var pw=n(93442),gw=n(5343),hw=n(22393),mw=n(10227);const fw={canActivate:[pw.Bm,mw.$]},bw=[{path:"",component:pw.MX,outlet:Eb.Top},{path:"",component:pw.MX,outlet:Eb.Bottom},Object.assign(Object.assign({path:_P.L.dashboard,component:hw.k},fw),{outlet:Eb.Top,loadChildren:()=>Promise.resolve().then(n.bind(n,37212)).then(e=>e.CuDashboardModule)}),Object.assign(Object.assign({path:_P.L.cuStatus,component:hw.k},fw),{outlet:Eb.Top,loadChildren:()=>Promise.resolve().then(n.bind(n,16600)).then(e=>e.CuStatusModule)}),Object.assign(Object.assign({path:_P.L.dusStatus,component:hw.k},fw),{outlet:Eb.Top,loadChildren:()=>Promise.resolve().then(n.bind(n,79428)).then(e=>e.DusStatusModule)}),Object.assign(Object.assign({path:_P.L.vnfcStatus,component:hw.k},fw),{outlet:Eb.Top,loadChildren:()=>Promise.resolve().then(n.bind(n,1496)).then(e=>e.VmStatusModule)}),Object.assign(Object.assign({path:_P.L.x2Status,component:hw.k},fw),{outlet:Eb.Top,loadChildren:()=>Promise.resolve().then(n.bind(n,65206)).then(e=>e.X2StatusModule)}),Object.assign(Object.assign({path:_P.L.xnLinksStatus,component:hw.k},fw),{outlet:Eb.Top,loadChildren:()=>Promise.resolve().then(n.bind(n,43120)).then(e=>e.XnLinksStatusModule)}),Object.assign(Object.assign({path:_P.L.networkSlicing,component:hw.k},fw),{outlet:Eb.Top,loadChildren:()=>Promise.resolve().then(n.bind(n,78392)).then(e=>e.NetworkSlicingModule)}),Object.assign(Object.assign({path:_P.L.ngLinkStatus,component:hw.k},fw),{outlet:Eb.Top,loadChildren:()=>n.e(817).then(n.bind(n,68817)).then(e=>e.NgLinkModule)}),Object.assign(Object.assign({path:_P.L.cellsStatus,component:hw.k},fw),{outlet:Eb.Top,loadChildren:()=>Promise.resolve().then(n.bind(n,20837)).then(e=>e.CellsStatusModule)}),Object.assign(Object.assign({path:_P.L.cellsMapping,component:hw.k},fw),{outlet:Eb.Top,loadChildren:()=>Promise.resolve().then(n.bind(n,7324)).then(e=>e.CellsMappingModule)}),Object.assign(Object.assign({path:_P.L.alarmActive,component:hw.k},fw),{outlet:Eb.Bottom,loadChildren:()=>Promise.resolve().then(n.bind(n,56061)).then(e=>e.AlarmActiveModule)}),Object.assign(Object.assign({path:_P.L.alarmHistorical,component:hw.k},fw),{outlet:Eb.Bottom,loadChildren:()=>Promise.resolve().then(n.bind(n,65971)).then(e=>e.AlarmHistoryModule)}),Object.assign(Object.assign({path:_P.L.faultToggling,component:hw.k},fw),{outlet:Eb.Bottom,loadChildren:()=>Promise.resolve().then(n.bind(n,87138)).then(e=>e.FaultTogglingModule)}),{path:"",component:gw.n,outlet:Eb.DropDown}];let Cw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[pw.Bm],imports:[[m.ez,f.Bz.forChild(bw)],f.Bz]}),e})();var vw=n(87286);let yw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,pw.aN,wn.t8k,vw.V,xi.kW,xn.u5,wn.EJq,Cw]]}),e})(),Sw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[yw]]}),e})();const Pw=function(e,t,n){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":e,"p-disabled":t,"p-focus":n}},Ow={provide:xn.JU,useExisting:(0,Pe.Gpc)(()=>xw),multi:!0};let xw=(()=>{class e{constructor(e){this.cd=e,this.onChange=new Pe.vpe,this.checked=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,t){this.disabled||this.readonly||(e.preventDefault(),this.toggle(e),t.focus())}onInputChange(e){this.readonly||this.updateModel(e,e.target.checked)}toggle(e){this.updateModel(e,!this.checked)}updateModel(e,t){this.checked=t,this.onModelChange(this.checked),this.onChange.emit({originalEvent:e,checked:this.checked})}onFocus(e){this.focused=!0}onBlur(e){this.focused=!1,this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["p-inputSwitch"]],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[Pe._Bn([Ow])],decls:5,vars:15,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",0),Pe.NdJ("click",function(n){Pe.CHM(e);const i=Pe.MAs(3);return t.onClick(n,i)}),Pe.TgZ(1,"div",1),Pe.TgZ(2,"input",2,3),Pe.NdJ("change",function(e){return t.onInputChange(e)})("focus",function(e){return t.onFocus(e)})("blur",function(e){return t.onBlur(e)}),Pe.qZA(),Pe.qZA(),Pe._UZ(4,"span",4),Pe.qZA()}2&e&&(Pe.Tol(t.styleClass),Pe.Q6J("ngClass",Pe.kEZ(11,Pw,t.checked,t.disabled,t.focused))("ngStyle",t.style),Pe.xp6(2),Pe.Q6J("checked",t.checked)("disabled",t.disabled),Pe.uIk("id",t.inputId)("name",t.name)("tabindex",t.tabindex)("aria-checked",t.checked)("aria-labelledby",t.ariaLabelledBy))},directives:[m.mk,m.PC],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}'],encapsulation:2,changeDetection:0}),e})(),ww=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez]]}),e})();var Aw=n(54618),_w=(()=>(function(e){e.CopyToLeft="copyToLeft",e.CopyToRight="copyToRight"}(_w||(_w={})),_w))();function Tw(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"p-footer"),Pe.TgZ(1,"ui-webem-button",7),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().copyAllValidParameters()}),Pe.qZA(),Pe.TgZ(2,"ui-webem-button",8),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().closeDialog()}),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("disabled",e.inProgress)("model",e.inProgress?n.loadingButton:n.okButtonModel),Pe.xp6(1),Pe.Q6J("model",n.cancelButtonModel)("disabled",e.inProgress)}}const Iw=function(e,t,n){return{op:"replace",planId:e,path:t,moUuid:n}},Ew=function(e,t){return{id:e,identifyingData:t}},Mw=function(e){return{inProgress:e}};let kw=(()=>{class e extends Rh.M{constructor(e,t,n){super(e,n),this.store=e,this.config=t,this.okButtonModel=ht.p8,this.loadingButton=ht.j,this.cancelButtonModel=ht.Lw,this.exclamationIcon=Aw.Wf,this.isOperationExecuted=!1,this.spinners=Et}ngOnInit(){super.ngOnInit();const e=this.config.data;this.sourceObjectDN=e.sourceObjectDN,this.targetObjectDN=e.targetObjectDN,this.tableTreeNodes=e.tableTreeNodes,this.copyDirection=e.direction,this.selectedPlanId$=this.store.select(me.oI),this.actionProgressIds$=this.store.select(qt),this.selectedSourceObjectMoUuid$=this.store.pipe((0,g.Ys)(this.copyDirection===_w.CopyToLeft?zi:Ki),(0,A.U)(e=>(this.moUuid=e.moUuid,this.moUuid))),this.store.pipe((0,g.Ys)(qt),(0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.isOperationExecuted&&!e.length&&super.closeDialog()})}copyAllValidParameters(){const e=[];let t=!1;this.tableTreeNodes.forEach(n=>{let i,o;const s=n.data;if(!s.parameterFromComparedObject||!s.parameterFromSelectedObject)return;this.copyDirection===_w.CopyToLeft?(i=s.parameterFromComparedObject,o=s.parameterFromSelectedObject):(i=s.parameterFromSelectedObject,o=s.parameterFromComparedObject,t=!0);const a=i.definition;if(a&&i.value&&!(0,_.isEqual)(i.value,o.value)&&!i.definitionValidation&&hi(a)&&mi(a)&&!i.isInstanceIdParameter){const t=Ks({inputValue:i.value,parameterValueType:i.parameterValueType});e.push(this.buildChangeObject(t,o.path)),this.firstChangePath||(this.firstChangePath=o.path)}}),this.store.dispatch(Ur({request:{changes:e,moUuid:this.moUuid},updateFromComparision:t})),this.isOperationExecuted=!0}buildChangeObject(e,t){return{op:"replace",value:e,path:t}}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Uh.S),Pe.Y36(Uh.E7))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["configuration-compare-objects-copy-values-dialog"]],features:[Pe.qOj],decls:15,vars:24,consts:[[1,"p-dialog-content"],[1,"copy-all-valid-parameters-content"],[1,"status-icon"],[1,"copy-all-valid-parameters-message"],[1,"copy-all-valid-parameters-question"],[1,"p-dialog-footer"],[4,"ngIf"],[3,"disabled","model","action"],[3,"model","disabled","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"span",2),Pe._UZ(3,"i"),Pe.qZA(),Pe.TgZ(4,"div",3),Pe.TgZ(5,"span"),Pe._uU(6),Pe.qZA(),Pe.TgZ(7,"span",4),Pe._uU(8,"Do you want to proceed?"),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(9,"div",5),Pe.YNc(10,Tw,3,4,"p-footer",6),Pe.ALo(11,"isActionInProgress"),Pe.ALo(12,"async"),Pe.ALo(13,"async"),Pe.ALo(14,"async"),Pe.qZA()),2&e&&(Pe.xp6(3),Pe.Tol(t.exclamationIcon),Pe.xp6(3),Pe.AsE(" You are about to copy all valid parameters (except for parameters with definition errors, parameter IDs, unmodifiable parameters and parameters set by system), from object ",t.sourceObjectDN," to object ",t.targetObjectDN," "),Pe.xp6(4),Pe.Q6J("ngIf",Pe.VKq(22,Mw,Pe.xi3(11,6,Pe.lcZ(12,9,t.actionProgressIds$),Pe.WLB(19,Ew,t.spinners.UpdateParameter,Pe.kEZ(15,Iw,Pe.lcZ(13,11,t.selectedPlanId$),t.firstChangePath,Pe.lcZ(14,13,t.selectedSourceObjectMoUuid$)))))))},directives:[m.O5,Ri.$_,Ui.r],pipes:[Co,m.Ov],styles:[".status-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fc0;font-size:24px;position:relative;bottom:7px}.status-icon[_ngcontent-%COMP%]{margin-right:6px}.copy-all-valid-parameters-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding-bottom:16px}.copy-all-valid-parameters-message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.copy-all-valid-parameters-question[_ngcontent-%COMP%]{margin-top:20px}  .copy-all-valid-parameters-modal{width:405px}  .copy-all-valid-parameters-modal .p-dialog-header{margin-bottom:0!important}"]}),e})();function Nw(e){const t=e.definitionValidation?e.definitionValidation.getError():"";return{fullName:e.fullName,name:e.name,definition:e.definition,value:e.value,parameterValueType:e.parameterValueType,distName:e.distname,definitionValidation:t}}var Lw=(()=>(function(e){e[e.grey=0]="grey",e[e.black=1]="black"}(Lw||(Lw={})),Lw))();const Dw=function(e,t){return{"gray-icon":e,"black-icon":t}},Zw=function(e){return{"font-weight":e}};function Rw(e,t){if(1&e&&(Pe.TgZ(0,"div",1),Pe._UZ(1,"i",2),Pe.qZA()),2&e){const e=Pe.oxw();Pe.Q6J("ngClass",Pe.WLB(2,Dw,e.equalIconColor===e.iconColor.grey,e.equalIconColor===e.iconColor.black))("ngStyle",Pe.VKq(5,Zw,e.equalIconFontWeight))}}function Uw(e,t){if(1&e&&(Pe.TgZ(0,"div",1),Pe._UZ(1,"i",3),Pe.qZA()),2&e){const e=Pe.oxw();Pe.Q6J("ngClass",Pe.WLB(2,Dw,e.nonEqualIconColor===e.iconColor.grey,e.nonEqualIconColor===e.iconColor.black))("ngStyle",Pe.VKq(5,Zw,e.nonEqualIconFontWeight))}}let Fw=(()=>{class e{constructor(){this.equalIconColor=Lw.black,this.equalIconFontWeight="bold",this.nonEqualIconColor=Lw.black,this.nonEqualIconFontWeight="bold",this.iconColor=Lw}ngOnChanges(e){this.isEqual=(0,_.isEqual)(e.object1.currentValue,e.object2.currentValue)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["compare-objects-icon"]],inputs:{object1:"object1",object2:"object2",equalIconColor:"equalIconColor",equalIconFontWeight:"equalIconFontWeight",nonEqualIconColor:"nonEqualIconColor",nonEqualIconFontWeight:"nonEqualIconFontWeight"},features:[Pe.TTD],decls:2,vars:2,consts:[[3,"ngClass","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[1,"mdi","mdi-equal"],[1,"mdi","mdi-not-equal-variant"]],template:function(e,t){1&e&&(Pe.YNc(0,Rw,2,7,"div",0),Pe.YNc(1,Uw,2,7,"div",0)),2&e&&(Pe.Q6J("ngIf",!0===t.isEqual),Pe.xp6(1),Pe.Q6J("ngIf",!1===t.isEqual))},directives:[m.O5,m.mk,m.PC],styles:[".gray-icon[_ngcontent-%COMP%]{color:#bec8d2}.black-icon[_ngcontent-%COMP%]{color:#1b1b1b}"]}),e})(),jw=(()=>{class e{transform(e,t){return t?(0,_.filter)(e,e=>{const t=e.data.parameterFromSelectedObject,n=e.data.parameterFromComparedObject;return t.value&&!n||n&&!(0,_.isEqual)(t.value,n.value)}):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"filterEqualParameters",type:e,pure:!0}),e})(),$w=(()=>{class e{transform(e,t){const n=[],i=[];return!e.every(e=>!!e.data.parameterFromComparedObject)||!!e.some(e=>function(e){return t===_w.CopyToLeft?e.data.parameterFromSelectedObject.managedObjectState:e.data.parameterFromComparedObject&&e.data.parameterFromComparedObject.managedObjectState}(e)===Me.Deleted)||(e.map(e=>e.data).forEach(e=>{e.parameterFromComparedObject&&!e.parameterFromSelectedObject.isInstanceIdParameter&&e.parameterFromSelectedObject.rowType===ht.bm.SIMPLE&&(n.push(e.parameterFromSelectedObject.value),i.push(e.parameterFromComparedObject.value))}),(0,_.isEqual)(n,i))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"areAllNotInstanceIdParameterValuesEqual",type:e,pure:!0}),e})(),qw=(()=>{class e{transform(e,t){const n=[];return e.forEach(e=>{let i,o;const s=e.data;if(!s.parameterFromComparedObject||!s.parameterFromSelectedObject)return;t===_w.CopyToLeft?(i=s.parameterFromComparedObject,o=s.parameterFromSelectedObject):(i=s.parameterFromSelectedObject,o=s.parameterFromComparedObject);const a=i.definition;if(a&&i.value&&!(0,_.isEqual)(i.value,o.value)&&!i.definitionValidation&&hi(a)&&mi(a)&&!i.isInstanceIdParameter){const e=Ks({inputValue:i.value,parameterValueType:i.parameterValueType});n.push(e)}}),n.length}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"isAnyParameterValid",type:e,pure:!0}),e})(),Bw=(()=>{class e{transform(e,t){const n=t===_w.CopyToRight?e.parameterFromSelectedObject:e.parameterFromComparedObject;return!!n&&n.state!==ht.s$.NotExisting&&Boolean(e.parameterFromComparedObject&&!n.isInstanceIdParameter&&!n.definitionValidation&&!(0,_.isEqual)(e.parameterFromSelectedObject.value,e.parameterFromComparedObject.value))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"canParameterValueBeCopied",type:e,pure:!0}),e})();const Gw=["table"];function Vw(e,t){if(1&e&&Pe._UZ(0,"p-treeTableSortIcon",15),2&e){const e=Pe.oxw().$implicit;Pe.Q6J("field",e.sortName)}}function Yw(e,t){if(1&e&&(Pe.TgZ(0,"th",12),Pe.TgZ(1,"div"),Pe.TgZ(2,"span",13),Pe._uU(3),Pe.qZA(),Pe.YNc(4,Vw,1,1,"p-treeTableSortIcon",14),Pe.qZA(),Pe.qZA()),2&e){const e=t.$implicit;Pe.Q6J("ngStyle",e.style)("title",e.header)("ttResizableColumnDisabled",!e.isResizable)("ttSortableColumn",e.sortName)("ttSortableColumnDisabled",e.sortingDisabled),Pe.xp6(3),Pe.Oqu(e.header),Pe.xp6(1),Pe.Q6J("ngIf",!e.sortingDisabled)}}function Jw(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",16),Pe.TgZ(1,"ui-webem-button",17),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(2).ngIf,n=Pe.oxw();return n.openCopyAllDialog(t.tableTreeNodes,n.CopyDirection.CopyToLeft)}),Pe.ALo(2,"areAllNotInstanceIdParameterValuesEqual"),Pe.ALo(3,"isAnyParameterValid"),Pe.qZA(),Pe.TgZ(4,"ui-webem-button",17),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(2).ngIf;return Pe.oxw().openCopyAllDialog(t.tableTreeNodes)}),Pe.ALo(5,"areAllNotInstanceIdParameterValuesEqual"),Pe.ALo(6,"isAnyParameterValid"),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw(2).ngIf,t=Pe.oxw();Pe.xp6(1),Pe.Q6J("disabled",!t.selectedComparedManagedObjectMoUuid||Pe.xi3(2,6,e.tableTreeNodes,t.CopyDirection.CopyToLeft)||e.isDeltaPlanOutdated||!Pe.xi3(3,9,e.tableTreeNodes,t.CopyDirection.CopyToLeft))("model",t.getCopyAllToLeftModel())("configurationParameterRoleAccessControl",e.tableTreeNodes),Pe.xp6(3),Pe.Q6J("disabled",!t.selectedComparedManagedObjectMoUuid||Pe.lcZ(5,12,e.tableTreeNodes)||e.isDeltaPlanOutdated||!Pe.lcZ(6,14,e.tableTreeNodes))("model",t.getCopyAllToRightModel())("configurationParameterRoleAccessControl",e.tableTreeNodes)}}const Hw=function(e){return{"min-width.px":e}};function Ww(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"tr"),Pe.YNc(1,Yw,5,7,"th",7),Pe.TgZ(2,"th",8),Pe.ALo(3,"isActivePlan"),Pe._uU(4),Pe.qZA(),Pe.TgZ(5,"th"),Pe.YNc(6,Jw,7,16,"div",9),Pe.ALo(7,"isActivePlan"),Pe.qZA(),Pe.TgZ(8,"th",10),Pe.TgZ(9,"p-dropdown",11),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw(2).selectedComparedManagedObjectMoUuid=t})("onChange",function(){return Pe.CHM(e),Pe.oxw(2).onManagedObjectSelect()})("onClick",function(){return Pe.CHM(e),Pe.oxw(2).onClick()}),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.$implicit,n=Pe.oxw().ngIf,i=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngForOf",e),Pe.xp6(1),Pe.Q6J("ngStyle",Pe.VKq(17,Hw,Pe.lcZ(3,13,n.selectedPlan)?"0":"170"))("title",i.distnameToCompare),Pe.xp6(2),Pe.hij(" ",i.distnameToCompare," "),Pe.xp6(2),Pe.Q6J("ngIf",!Pe.lcZ(7,15,n.selectedPlan)),Pe.xp6(3),Pe.Q6J("title",0===i.dropDownOptions.length?"No available objects to compare":"Select object to compare")("filter",!0)("virtualScroll",i.virtualScroll)("itemSize",i.itemSize)("options",i.dropDownOptions)("ngModel",i.selectedComparedManagedObjectMoUuid)("disabled",0===i.dropDownOptions.length)("resetFilterOnHide",!0)}}function Qw(e,t){if(1&e&&(Pe.TgZ(0,"colgroup"),Pe._UZ(1,"col"),Pe._UZ(2,"col"),Pe._UZ(3,"col"),Pe._UZ(4,"col",18),Pe.ALo(5,"isActivePlan"),Pe._UZ(6,"col"),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(4),Pe.Q6J("ngClass",Pe.lcZ(5,1,e.selectedPlan)?"compare-column-active-plan":"compare-column-not-active-plan")}}const zw=function(e,t){return{deleted:e,isNotExisting:t}};function Kw(e,t){if(1&e&&(Pe.TgZ(0,"td",18),Pe.ALo(1,"isParameterDeleted"),Pe.ALo(2,"isParameterNotExisting"),Pe.TgZ(3,"span",23),Pe.ALo(4,"formatBitMaskIfNecessary"),Pe._uU(5),Pe.ALo(6,"formatBitMaskIfNecessary"),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw(2).rowData;Pe.Q6J("ngClass",Pe.WLB(11,zw,Pe.lcZ(1,3,e.parameterFromSelectedObject),Pe.lcZ(2,5,e.parameterFromSelectedObject))),Pe.xp6(3),Pe.Q6J("title",Pe.lcZ(4,7,e.parameterFromSelectedObject)),Pe.xp6(2),Pe.hij(" ",Pe.lcZ(6,9,e.parameterFromSelectedObject)," ")}}function Xw(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe.ALo(1,"formatBitMaskIfNecessary"),Pe._UZ(2,"configuration-shared-input",26),Pe.ALo(3,"isParameterDeleted"),Pe.ALo(4,"isObjectDeleted"),Pe.ALo(5,"isParameterEditable"),Pe.ALo(6,"isParameterModifiable"),Pe.ALo(7,"isActivePlan"),Pe.qZA()),2&e){Pe.oxw();const e=Pe.MAs(4),t=Pe.oxw(2),n=t.rowData,i=t.$implicit,o=Pe.oxw().ngIf;Pe.uIk("title",Pe.lcZ(1,8,n.parameterFromSelectedObject)),Pe.xp6(2),Pe.Q6J("appendTo",e)("inputData",n.parameterFromSelectedObject)("inputValue",n.parameterFromSelectedObject.value)("parameterRelationErrorsDetails",o.selectedMoRelationErrors)("rowNode",i)("isDisabled",Pe.lcZ(3,10,n.parameterFromSelectedObject)||Pe.lcZ(4,12,n.parameterFromSelectedObject.managedObjectState)||!Pe.lcZ(5,14,n.parameterFromSelectedObject)||!Pe.lcZ(6,16,n.parameterFromSelectedObject)||Pe.lcZ(7,18,o.selectedPlan)||o.isDeltaPlanOutdated)("configurationParameterRoleAccessControl",n.parameterFromSelectedObject.definition.secAdmOnly)}}const eA=function(e,t){return{deleted:e,isNotExisting:t,notActivePlanInputCell:!0}};function tA(e,t){if(1&e&&(Pe.TgZ(0,"td",18),Pe.ALo(1,"isParameterDeleted"),Pe.ALo(2,"isParameterNotExisting"),Pe.TgZ(3,"div",24,25),Pe.YNc(5,Xw,8,20,"span",0),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw(2).rowData;Pe.Q6J("ngClass",Pe.WLB(6,eA,Pe.lcZ(1,2,e.parameterFromSelectedObject),Pe.lcZ(2,4,e.parameterFromSelectedObject))),Pe.xp6(5),Pe.Q6J("ngIf",e.parameterFromSelectedObject)}}function nA(e,t){if(1&e&&(Pe.TgZ(0,"div",28),Pe._UZ(1,"compare-objects-icon",29),Pe.qZA()),2&e){const e=Pe.oxw(3).rowData;Pe.xp6(1),Pe.Q6J("object1",e.parameterFromSelectedObject.value)("object2",e.parameterFromComparedObject.value)}}function iA(e,t){if(1&e&&(Pe.TgZ(0,"td"),Pe.YNc(1,nA,2,2,"div",27),Pe.qZA()),2&e){const e=Pe.oxw(2).rowData;Pe.xp6(1),Pe.Q6J("ngIf",e.parameterFromComparedObject)}}function oA(e,t){if(1&e&&Pe._UZ(0,"compare-objects-icon",31),2&e){const e=Pe.oxw(3).rowData,t=Pe.oxw(2);Pe.Q6J("equalIconColor",t.iconColor.grey)("object1",e.parameterFromSelectedObject.value)("object2",e.parameterFromComparedObject.value)}}function sA(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"td"),Pe.TgZ(1,"div",16),Pe.TgZ(2,"ui-webem-button",17),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(2).rowData,n=Pe.oxw(2);return n.copyValue(t.parameterFromComparedObject.value,t.parameterFromSelectedObject,n.CopyDirection.CopyToLeft)}),Pe.ALo(3,"canParameterValueBeCopied"),Pe.ALo(4,"isDeltaPlan"),Pe.ALo(5,"isObjectDeleted"),Pe.ALo(6,"isParameterEditable"),Pe.ALo(7,"isParameterModifiable"),Pe.qZA(),Pe.YNc(8,oA,1,3,"compare-objects-icon",30),Pe.TgZ(9,"ui-webem-button",17),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(2).rowData,n=Pe.oxw(2);return n.copyValue(t.parameterFromSelectedObject.value,t.parameterFromComparedObject,n.CopyDirection.CopyToRight)}),Pe.ALo(10,"canParameterValueBeCopied"),Pe.ALo(11,"isObjectDeleted"),Pe.ALo(12,"isParameterEditable"),Pe.ALo(13,"isParameterModifiable"),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw(2).rowData,t=Pe.oxw().ngIf,n=Pe.oxw();Pe.xp6(2),Pe.Q6J("disabled",!Pe.xi3(3,7,e,n.CopyDirection.CopyToLeft)||Pe.lcZ(4,10,t.selectedPlan)&&t.isDeltaPlanOutdated||Pe.lcZ(5,12,e.parameterFromSelectedObject.managedObjectState)||!Pe.lcZ(6,14,e.parameterFromSelectedObject)||!Pe.lcZ(7,16,e.parameterFromSelectedObject))("model",n.getCopyToLeftModel())("configurationParameterRoleAccessControl",e.parameterFromSelectedObject.definition.secAdmOnly),Pe.xp6(6),Pe.Q6J("ngIf",e.parameterFromComparedObject),Pe.xp6(1),Pe.Q6J("disabled",!Pe.xi3(10,18,e,n.CopyDirection.CopyToRight)||t.isDeltaPlanOutdated||Pe.lcZ(11,21,e.parameterFromComparedObject.managedObjectState)||!Pe.lcZ(12,23,e.parameterFromComparedObject)||!Pe.lcZ(13,25,e.parameterFromComparedObject))("model",n.getCopyToRightModel())("configurationParameterRoleAccessControl",e.parameterFromSelectedObject.definition.secAdmOnly)}}function aA(e,t){1&e&&Pe._UZ(0,"td")}function rA(e,t){if(1&e&&(Pe.TgZ(0,"td",18),Pe.ALo(1,"isParameterDeleted"),Pe.ALo(2,"isParameterNotExisting"),Pe.TgZ(3,"span",23),Pe.ALo(4,"formatBitMaskIfNecessary"),Pe._uU(5),Pe.ALo(6,"formatBitMaskIfNecessary"),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw(2).rowData;Pe.Q6J("ngClass",Pe.WLB(11,zw,Pe.lcZ(1,3,e.parameterFromComparedObject),Pe.lcZ(2,5,e.parameterFromComparedObject))),Pe.xp6(3),Pe.Q6J("title",Pe.lcZ(4,7,e.parameterFromComparedObject)),Pe.xp6(2),Pe.hij(" ",Pe.lcZ(6,9,e.parameterFromComparedObject)," ")}}function lA(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe._UZ(1,"configuration-shared-input",34),Pe.ALo(2,"isParameterDeleted"),Pe.ALo(3,"isObjectDeleted"),Pe.ALo(4,"isParameterEditable"),Pe.ALo(5,"isParameterModifiable"),Pe.ALo(6,"isActivePlan"),Pe.qZA()),2&e){Pe.oxw();const e=Pe.MAs(1),t=Pe.oxw(3),n=t.rowData,i=t.$implicit,o=Pe.oxw().ngIf;Pe.uIk("title",n.parameterFromComparedObject.value),Pe.xp6(1),Pe.Q6J("appendTo",e)("updateFromComparedObject",!0)("inputData",n.parameterFromComparedObject)("inputValue",n.parameterFromComparedObject.value)("parameterRelationErrorsDetails",o.selectedMoToCompareRelationErrors)("rowNode",i)("isDisabled",Pe.lcZ(2,9,n.parameterFromComparedObject)||Pe.lcZ(3,11,n.parameterFromComparedObject.managedObjectState)||!Pe.lcZ(4,13,n.parameterFromComparedObject)||!Pe.lcZ(5,15,n.parameterFromComparedObject)||Pe.lcZ(6,17,o.selectedPlan)||o.isDeltaPlanOutdated)("configurationParameterRoleAccessControl",n.parameterFromSelectedObject.definition.secAdmOnly)}}function cA(e,t){if(1&e&&(Pe.TgZ(0,"div",33,25),Pe.ALo(2,"isParameterDeleted"),Pe.ALo(3,"isParameterNotExisting"),Pe.YNc(4,lA,7,19,"span",0),Pe.qZA()),2&e){const e=Pe.oxw(3).rowData;Pe.Q6J("ngClass",Pe.WLB(6,zw,Pe.lcZ(2,2,e.parameterFromComparedObject),Pe.lcZ(3,4,e.parameterFromComparedObject))),Pe.xp6(4),Pe.Q6J("ngIf",e.parameterFromComparedObject)}}function dA(e,t){if(1&e&&(Pe.TgZ(0,"td"),Pe.YNc(1,cA,5,9,"div",32),Pe.qZA()),2&e){const e=Pe.oxw(2).rowData;Pe.xp6(1),Pe.Q6J("ngIf",e.parameterFromComparedObject)}}function uA(e,t){if(1&e&&(Pe.TgZ(0,"tr",20),Pe.TgZ(1,"td",21),Pe.ALo(2,"isParameterDeleted"),Pe.ALo(3,"isParameterNotExisting"),Pe._uU(4),Pe.qZA(),Pe.TgZ(5,"td",21),Pe.ALo(6,"isParameterDeleted"),Pe.ALo(7,"isParameterNotExisting"),Pe._uU(8),Pe.qZA(),Pe.YNc(9,Kw,7,14,"td",22),Pe.ALo(10,"isActivePlan"),Pe.YNc(11,tA,6,9,"td",22),Pe.ALo(12,"isActivePlan"),Pe.YNc(13,iA,2,1,"td",0),Pe.ALo(14,"isActivePlan"),Pe.YNc(15,sA,14,27,"td",0),Pe.ALo(16,"isActivePlan"),Pe.YNc(17,aA,1,0,"td",0),Pe.ALo(18,"isActivePlan"),Pe.YNc(19,rA,7,14,"td",22),Pe.ALo(20,"isActivePlan"),Pe.YNc(21,dA,2,1,"td",0),Pe.ALo(22,"isActivePlan"),Pe.qZA()),2&e){const e=Pe.oxw(),t=e.$implicit,n=e.rowData,i=Pe.oxw().ngIf;Pe.Q6J("ttRow",t)("ttSelectableRow",t),Pe.xp6(1),Pe.Q6J("ngClass",Pe.WLB(37,zw,Pe.lcZ(2,15,n.parameterFromSelectedObject),Pe.lcZ(3,17,n.parameterFromSelectedObject)))("title",n.parameterFromSelectedObject.fullName),Pe.xp6(3),Pe.hij(" ",n.parameterFromSelectedObject.fullName," "),Pe.xp6(1),Pe.Q6J("ngClass",Pe.WLB(40,zw,Pe.lcZ(6,19,n.parameterFromSelectedObject),Pe.lcZ(7,21,n.parameterFromSelectedObject)))("title",n.parameterFromSelectedObject.name),Pe.xp6(3),Pe.hij(" ",n.parameterFromSelectedObject.name," "),Pe.xp6(1),Pe.Q6J("ngIf",n.parameterFromSelectedObject&&Pe.lcZ(10,23,i.selectedPlan)),Pe.xp6(2),Pe.Q6J("ngIf",!Pe.lcZ(12,25,i.selectedPlan)),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(14,27,i.selectedPlan)),Pe.xp6(2),Pe.Q6J("ngIf",!Pe.lcZ(16,29,i.selectedPlan)),Pe.xp6(2),Pe.Q6J("ngIf",!n.parameterFromComparedObject&&Pe.lcZ(18,31,i.selectedPlan)),Pe.xp6(2),Pe.Q6J("ngIf",n.parameterFromComparedObject&&n.parameterFromComparedObject&&Pe.lcZ(20,33,i.selectedPlan)),Pe.xp6(2),Pe.Q6J("ngIf",!Pe.lcZ(22,35,i.selectedPlan))}}function pA(e,t){1&e&&Pe.YNc(0,uA,23,43,"tr",19),2&e&&Pe.Q6J("ngIf",t.rowData.parameterFromSelectedObject)}const gA=function(e){return{"no-padding-right":e}};function hA(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div"),Pe.TgZ(1,"div",1),Pe.TgZ(2,"p-treeTable",2,3),Pe.NdJ("onNodeSelect",function(t){return Pe.CHM(e),Pe.oxw().setComparedObjectsDetails(t)})("selectionChange",function(t){return Pe.CHM(e),Pe.oxw().selectedNode=t})("onNodeUnselect",function(){return Pe.CHM(e),Pe.oxw().onNodeUnselect()}),Pe.ALo(4,"filterEqualParameters"),Pe.YNc(5,Ww,10,19,"ng-template",4),Pe.YNc(6,Qw,7,3,"ng-template",5),Pe.YNc(7,pA,1,1,"ng-template",6),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(2),Pe.Q6J("scrollable",!0)("scrollHeight",n.scrollHeight(e.tableTreeNodes))("value",Pe.xi3(4,12,e.tableTreeNodes,n.showDifferentParametersOnly))("columns",n.cols)("sortOrder",1)("autoLayout",!0)("ngClass",Pe.VKq(15,gA,!n.isScrollBarVisible(e.tableTreeNodes)))("loading",e.isLoadingData)("resizableColumns",!0)("virtualScroll",!0)("virtualRowHeight",27)("selection",n.selectedNode)}}const mA=function(e,t,n,i,o,s){return{selectedPlan:e,tableTreeNodes:t,isDeltaPlanOutdated:n,selectedMoRelationErrors:i,selectedMoToCompareRelationErrors:o,isLoadingData:s}};let fA=(()=>{class e{constructor(e,t,n){this.store=e,this.getRelationErrorService=t,this.adjustUiDropdownService=n,this.dropDownOptions=[],this.CopyDirection=_w,this.iconColor=Lw,this.ngUnsubscribe=new Ae.xQ,this.cols=[{name:"parameterName",header:"Parameter name",isResizable:!0,sortingDisabled:!1,style:{"min-width.px":"53"},sortName:"parameterFromSelectedObject.fullName"},{name:"name",header:"Abbreviation",isResizable:!0,sortingDisabled:!1,style:{"min-width.px":"53"},sortName:"parameterFromSelectedObject.name"}],this.copyAllToLeftModel={icon:"mdi mdi-chevron-double-left",title:"Copy all valid values from right to left"},this.copyAllToRightModel={icon:"mdi mdi-chevron-double-right",title:"Copy all valid values from left to right"},this.copyToLeftModel={icon:"mdi mdi-chevron-left",title:"Copy from right to left"},this.copyToRightModel={icon:"mdi mdi-chevron-right",title:"Copy from left to right"},this.itemSize=0,this.virtualScroll=!1}onClick(){this.adjustUiDropdownService.adjustDropDown()}getCopyToLeftModel(){return(0,_.cloneDeep)(this.copyToLeftModel)}getCopyToRightModel(){return(0,_.cloneDeep)(this.copyToRightModel)}getCopyAllToLeftModel(){return(0,_.cloneDeep)(this.copyAllToLeftModel)}getCopyAllToRightModel(){return(0,_.cloneDeep)(this.copyAllToRightModel)}isScrollBarVisible(e=[]){const t=window.innerHeight-230;return 27*e.length>t}scrollHeight(e=[]){const t=window.innerHeight-230,n=27*e.length;return`${n>t?t:n}px`}ngOnInit(){this.selectedPlan$=this.store.select(me.ji),this.isDeltaPlanOutdated$=this.store.select(me.gb),this.store.pipe((0,g.Ys)(ce),(0,_e.R)(this.ngUnsubscribe)).subscribe(e=>this.distnameToCompare=e),this.handleMultiSelectManagedObjectOptions(),this.isLoadingData$=this.store.select(vr),this.tableTreeNodes$=(0,ft.aj)([this.store.select(Rn),this.store.select(zi),this.store.select(Ki),this.store.select(me.DM)]).pipe((0,_e.R)(this.ngUnsubscribe),(0,A.U)(([e,t,n,i])=>{if(!e||!t)return;n||(this.selectedComparedManagedObjectMoUuid=void 0);const o=t.parameters.filter(e=>e.parameterType===Jn.r.Simple),s=e.entities&&e.entities[t.niddId];if(!s)return;const a=i===ht.tX.STAGE,r=aa(s.parameters,o,t,s.instanceIdParameter,a).filter(e=>e.data.rowType===ht.bm.SIMPLE||e.data.rowType===ht.bm.SIMPLE_LIST_ELEMENT);return n?this.combineSelectedMoToCompareWithDefinitions(r,n,a,t.state,s):this.combineSelectedMoWithDefinitions(r,t.state)})),this.selectedMoRelationErrors$=this.getRelationErrorService.getRelationErrorObservable(zi,this.ngUnsubscribe),this.selectedMoToCompareRelationErrors$=this.getRelationErrorService.getRelationErrorObservable(Ki,this.ngUnsubscribe)}onManagedObjectSelect(){this.store.dispatch(L({moUuid:this.selectedComparedManagedObjectMoUuid}))}copyValue(e,t,n){const{path:i,moUuid:o,state:s,parameterValueType:a}=t;this.store.dispatch(Zr({isNotExistingParameter:s===ht.s$.NotExisting,isSettingDefaultValue:!1,updateFromComparision:n===_w.CopyToRight,moUuid:o,parameterValueType:a,path:i,value:e}))}openCopyAllDialog(e,t){if(!e[0].data.parameterFromComparedObject)return;let n,i;const o=this.dropDownOptions.find(e=>e.value===this.selectedComparedManagedObjectMoUuid),s=o&&o.label;t===_w.CopyToLeft?(n=s,i=this.distnameToCompare):(n=this.distnameToCompare,i=s),this.store.dispatch((0,wn.G34)({componentType:kw,config:{header:"Copy all valid parameters",closable:!1,data:{sourceObjectDN:n,targetObjectDN:i,tableTreeNodes:e,direction:t},styleClass:"copy-all-valid-parameters-modal"}}))}setComparedObjectsDetails(e){if(e&&e.node&&e.node.data){const n={parameterFromSelectedObject:Nw((t=e.node.data).parameterFromSelectedObject),parameterFromComparedObject:t.parameterFromComparedObject?Nw(t.parameterFromComparedObject):void 0};this.store.dispatch(po(n))}var t}onNodeUnselect(){setTimeout(()=>{this.store.dispatch(go())},100)}combineSelectedMoWithDefinitions(e,t){const n=[];return e.forEach(e=>{n.push({data:{parameterFromSelectedObject:Object.assign(Object.assign({},e.data),{managedObjectState:t})}})}),n}combineSelectedMoToCompareWithDefinitions(e,t,n,i,o){const s=[],a=t.parameters.filter(e=>e.parameterType===Jn.r.Simple);if(!o)return;const r=aa(o.parameters,a,t,o.instanceIdParameter,n),l=new Map;return r.forEach(e=>{l.set(e.data.name,e.data)}),e.forEach(e=>{const n=e.data.name,o=Object.assign(Object.assign({},e.data),{managedObjectState:i}),a=Object.assign(Object.assign({},l.get(n)),{managedObjectState:t.state});s.push({data:{parameterFromSelectedObject:o,parameterFromComparedObject:a}})}),s}handleMultiSelectManagedObjectOptions(){this.store.pipe((0,g.Ys)(de),(0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{if(!e)return[];this.dropDownOptions=e.map(e=>({label:e.distname,value:e.mo.moUuid,selectValue:e}));const{virtualScroll:t,itemSize:n}=vi(this.dropDownOptions);this.virtualScroll=t,this.itemSize=n})}ngOnDestroy(){this.store.dispatch(qe()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Yt.jg),Pe.Y36(Yt.vj))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["compare-objects-table"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(Gw,5,Pe.SBq),Pe.Gf(Gw,5)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.pTableElement=e.first),Pe.iGM(e=Pe.CRH())&&(t.pTable=e.first)}},inputs:{showDifferentParametersOnly:"showDifferentParametersOnly"},decls:8,vars:20,consts:[[4,"ngIf"],["id","compare-objects-table"],["sortField","parameterFromSelectedObject.fullName","selectionMode","single","compareSelectionBy","equals",3,"scrollable","scrollHeight","value","columns","sortOrder","autoLayout","ngClass","loading","resizableColumns","virtualScroll","virtualRowHeight","selection","onNodeSelect","selectionChange","onNodeUnselect"],["table",""],["pTemplate","header"],["pTemplate","colgroup"],["pTemplate","body"],["class","parameter-name-columns","ttResizableColumn","",3,"ngStyle","title","ttResizableColumnDisabled","ttSortableColumn","ttSortableColumnDisabled",4,"ngFor","ngForOf"],[1,"distname-column",3,"ngStyle","title"],["class","copy-values-buttons-not-active-plan",4,"ngIf"],["ttResizableColumn","",1,"compare-objects-select"],["appendTo","body","tooltipStyleClass","compare-objects-select-dropdown","placeholder","<Select object>",1,"pe-input",3,"title","filter","virtualScroll","itemSize","options","ngModel","disabled","resetFilterOnHide","ngModelChange","onChange","onClick"],["ttResizableColumn","",1,"parameter-name-columns",3,"ngStyle","title","ttResizableColumnDisabled","ttSortableColumn","ttSortableColumnDisabled"],[1,"header-text"],[3,"field",4,"ngIf"],[3,"field"],[1,"copy-values-buttons-not-active-plan"],[3,"disabled","model","configurationParameterRoleAccessControl","action"],[3,"ngClass"],[3,"ttRow","ttSelectableRow",4,"ngIf"],[3,"ttRow","ttSelectableRow"],[3,"ngClass","title"],[3,"ngClass",4,"ngIf"],[3,"title"],[1,"tooltip-container"],["tooltipContainer",""],[3,"appendTo","inputData","inputValue","parameterRelationErrorsDetails","rowNode","isDisabled","configurationParameterRoleAccessControl"],["class","copy-values-buttons-active-plan",4,"ngIf"],[1,"copy-values-buttons-active-plan"],[3,"object1","object2"],[3,"equalIconColor","object1","object2",4,"ngIf"],[3,"equalIconColor","object1","object2"],["class","tooltip-container",3,"ngClass",4,"ngIf"],[1,"tooltip-container",3,"ngClass"],[3,"appendTo","updateFromComparedObject","inputData","inputValue","parameterRelationErrorsDetails","rowNode","isDisabled","configurationParameterRoleAccessControl"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div"),Pe.YNc(1,hA,8,17,"div",0),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.ALo(5,"async"),Pe.ALo(6,"async"),Pe.ALo(7,"async"),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngIf",Pe.HTZ(13,mA,Pe.lcZ(2,1,t.selectedPlan$),Pe.lcZ(3,3,t.tableTreeNodes$),Pe.lcZ(4,5,t.isDeltaPlanOutdated$),Pe.lcZ(5,7,t.selectedMoRelationErrors$),Pe.lcZ(6,9,t.selectedMoToCompareRelationErrors$),Pe.lcZ(7,11,t.isLoadingData$))))},directives:[m.O5,yr.iw,m.mk,Ri.jx,m.sg,m.PC,yr.ym,xi.Lt,xn.JJ,xn.On,yr.OB,yr.He,Ui.r,wl,yr.V4,yr.e2,xl,Fw],pipes:[m.Ov,jw,ic,$w,qw,rl,Zl,Ic,Ht,oc,Wl,Bw,Nl],styles:['.mdi[_ngcontent-%COMP%]:before{font-size:15px}.pe-icons[_ngcontent-%COMP%]{text-align:center}.pe-icons[_ngcontent-%COMP%]   .mdi-asterisk[_ngcontent-%COMP%]{color:#be0006}.pe-icons[_ngcontent-%COMP%]   .mdi-pencil[_ngcontent-%COMP%]{color:#0b6daf}.deleted[_ngcontent-%COMP%], .deleted[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-decoration:line-through}.validation-error-icon[_ngcontent-%COMP%]{margin-left:-15px}.status-error-icon[_ngcontent-%COMP%]{color:#be0006}.relation-error-icon[_ngcontent-%COMP%]{color:#fc0}.isNotExisting[_ngcontent-%COMP%]{color:#bec8d2!important}[_nghost-%COMP%]     .p-treetable-tbody>tr>td{height:27px!important}[_nghost-%COMP%]     .p-treetable-tbody>tr>td.notActivePlanInputCell:nth-child(3), [_nghost-%COMP%]     .p-treetable-tbody>tr>td:nth-child(5){overflow:visible}[_nghost-%COMP%]     .pe-input{height:22px!important}.copy-values-buttons-active-plan[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.copy-values-buttons-not-active-plan[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.compare-column-not-active-plan[_ngcontent-%COMP%]{width:120px}.compare-column-active-plan[_ngcontent-%COMP%]{width:80px}  table ui-webem-button .p-button.p-button-icon-only{height:22px;width:26px}.tooltip-container[_ngcontent-%COMP%]{position:relative}.parameter-name-columns[_ngcontent-%COMP%]{text-overflow:ellipsis}.parameter-name-columns[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}.header-text[_ngcontent-%COMP%]{overflow:hidden}.distname-column[_ngcontent-%COMP%], .header-text[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap}.distname-column[_ngcontent-%COMP%]{direction:rtl}th.compare-objects-select.p-resizable-column[_ngcontent-%COMP%]{padding:0 8px}[_nghost-%COMP%]  .compare-objects-select .p-dropdown{margin:1px 0}[_nghost-%COMP%]  .compare-objects-select .p-dropdown-label.p-inputtext{text-overflow:ellipsis;white-space:nowrap;direction:rtl;padding-right:29px;display:block;line-height:1rem}  .compare-objects-select-dropdown{margin-left:15px}[_nghost-%COMP%]  .no-padding-right .p-treetable-scrollable-header-box{padding-right:0!important}[_nghost-%COMP%]  .p-treetable{box-shadow:none;border-radius:0;height:100%}[_nghost-%COMP%]  .p-treetable .p-treetable-thead tr th:last-child{position:relative;overflow:visible}[_nghost-%COMP%]  .p-treetable .p-treetable-thead tr th:last-child:after{content:"";display:block;position:absolute;right:-16px;top:0;width:16px;height:calc(100% + 1px);background:#fff}@supports (-moz-appearance: none){[_nghost-%COMP%]  .p-treetable .p-treetable-scrollable-header-box{position:relative}[_nghost-%COMP%]  .p-treetable .p-treetable-thead tr th:last-child{overflow:visible;position:unset}[_nghost-%COMP%]  .p-treetable .p-treetable-thead tr th:last-child:after{content:"";display:block;position:absolute;right:0;top:0;width:17px;background:#fff}[_nghost-%COMP%]  .p-treetable .p-treetable-thead tr:first-child th:last-child:after{height:calc(50% - 1.1px);border-bottom:1px solid #707070}[_nghost-%COMP%]  .p-treetable .p-treetable-thead tr:last-child th:last-child:after{bottom:0;top:unset;height:50%}}[_nghost-%COMP%]  .p-treetable .cdk-virtual-scroll-content-wrapper{box-shadow:0 3px 8px rgba(0,0,0,.13)}[_nghost-%COMP%]  .p-treetable .p-treetable-tbody>tr.p-highlight{background-color:#124191}[_nghost-%COMP%]  .p-treetable .p-treetable-tbody>tr:not(.p-highlight):not(.ui-contextmenu-selected):hover{background-color:#ccf4ff;cursor:pointer}[_nghost-%COMP%]  .p-treetable-scrollable-header{flex-shrink:0}[_nghost-%COMP%]  .p-treetable-scrollable-body{flex-grow:1}[_nghost-%COMP%]  .p-treetable-scrollable-wrapper{height:100%}[_nghost-%COMP%]  .p-treetable-scrollable-wrapper>.p-treetable-scrollable-view{height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]  .p-treetable-scrollable-body-table{box-shadow:0 2px 3px rgba(0,0,0,.1);border-radius:3px}[_nghost-%COMP%]  .p-highlight .pe-icons .mdi{color:#fff}[_nghost-%COMP%]  .p-treetable-tbody>tr>td:nth-child(4){overflow:visible}  .p-dropdown-empty-message{border-left:3px solid transparent;padding:3px 5px}']}),e})();function bA(e,t){if(1&e&&Pe._UZ(0,"configuration-plans-tree-panel",7),2&e){const e=Pe.oxw(3);Pe.Q6J("objectSelector",e.objectSelector$)("shouldReselectObjectAfterRemoval",!0)}}function CA(e,t){1&e&&(Pe.TgZ(0,"div",12),Pe.TgZ(1,"div",13),Pe._UZ(2,"i",14),Pe._uU(3," Select managed object to proceed "),Pe.qZA(),Pe.qZA())}const vA=function(e){return{disabled:e}};function yA(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",15),Pe.TgZ(1,"p-inputSwitch",16),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw(4).showDifferentParametersOnly=t}),Pe.qZA(),Pe.TgZ(2,"span",17),Pe._uU(3,"Show differences"),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw(3).ngIf,t=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngModel",t.showDifferentParametersOnly)("disabled",!e.selectedObjectToCompare),Pe.xp6(1),Pe.Q6J("ngClass",Pe.VKq(3,vA,!e.selectedObjectToCompare))}}function SA(e,t){if(1&e&&Pe._UZ(0,"compare-objects-table",18),2&e){const e=Pe.oxw(4);Pe.Q6J("showDifferentParametersOnly",e.showDifferentParametersOnly)("objectSelector",e.objectToCompareSelector$)("shouldReselectObjectAfterRemoval",!1)}}function PA(e,t){if(1&e&&(Pe.TgZ(0,"div"),Pe.TgZ(1,"div",8),Pe.YNc(2,CA,4,0,"div",9),Pe.YNc(3,yA,4,5,"div",10),Pe.YNc(4,SA,1,3,"compare-objects-table",11),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw(2).ngIf;Pe.xp6(2),Pe.Q6J("ngIf",e.selectedPlan&&!e.selectedManagedObject),Pe.xp6(1),Pe.Q6J("ngIf",!!e.selectedManagedObject),Pe.xp6(1),Pe.Q6J("ngIf",e.selectedManagedObject)}}function OA(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-split-panel-toggle-button",19),Pe.NdJ("click",function(){return Pe.CHM(e),Pe.oxw(3).toggleTreePanel()}),Pe.ALo(1,"async"),Pe.qZA()}if(2&e){const e=Pe.oxw(3);Pe.Q6J("collapsed",Pe.lcZ(1,1,e.isTreePanelCollapsed$))}}const xA=function(){return{order:1,align:"center",position:"start"}};function wA(e,t){if(1&e&&(Pe.TgZ(0,"ui-webem-panel-split",3),Pe.YNc(1,bA,1,2,"ng-template",4),Pe.ALo(2,"async"),Pe.YNc(3,PA,5,3,"div",5),Pe.YNc(4,OA,2,3,"ng-template",6),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("uiWebemSplitPanel",Pe.lcZ(2,3,e.treePanelConfiguration$)),Pe.xp6(2),Pe.Q6J("uiWebemSplitPanel",e.CONTENT_PANEL_CONFIGURATION),Pe.xp6(1),Pe.Q6J("uiWebemPanelToggle",Pe.DdM(5,xA))}}function AA(e,t){1&e&&(Pe.TgZ(0,"div",21),Pe.TgZ(1,"div",13),Pe._UZ(2,"i",14),Pe._uU(3," Select configuration from the list to proceed "),Pe.qZA(),Pe.qZA())}function _A(e,t){1&e&&(Pe.TgZ(0,"div",21),Pe.TgZ(1,"div",13),Pe._UZ(2,"i",14),Pe._uU(3," Compare Objects tab not valid for inactive configuration "),Pe.qZA(),Pe.qZA())}function TA(e,t){if(1&e&&(Pe.YNc(0,AA,4,0,"div",20),Pe.YNc(1,_A,4,0,"div",20),Pe.ALo(2,"isInactivePlan"),Pe.TgZ(3,"div",21),Pe._UZ(4,"configuration-shared-outdated-delta-plan-action",22),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("ngIf",!e.selectedPlan),Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,2,e.selectedPlan))}}function IA(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,wA,5,6,"ui-webem-panel-split",1),Pe.ALo(2,"isInactivePlan"),Pe.YNc(3,TA,5,4,"ng-template",null,2,Pe.W1O),Pe.BQk()),2&e){const e=t.ngIf,n=Pe.MAs(4);Pe.xp6(1),Pe.Q6J("ngIf",!e.isDeltaPlanOutdated&&!Pe.lcZ(2,2,e.selectedPlan))("ngIfElse",n)}}const EA=function(e,t,n,i){return{selectedManagedObject:e,selectedPlan:t,selectedObjectToCompare:n,isDeltaPlanOutdated:i}};let MA=(()=>{class e{constructor(e,t){this.store=e,this.elRef=t,this.TREE_PANEL_COLLAPSED_CONFIGURATION={minSize:15,size:15,maxSize:15},this.TREE_PANEL_EXPANDED_CONFIGURATION={minSize:180,size:315,maxSize:315},this.CONTENT_PANEL_CONFIGURATION={size:"*"},this.ngUnsubscribe=new Ae.xQ,this.showDifferentParametersOnly=!1,this.HEADER_OFFSET=115}ngOnInit(){this.objectSelector$=this.store.select(re),this.selectedPlan$=this.store.select(me.ji),this.selectedManagedObject$=this.store.select(zi),this.selectedObjectToCompare$=this.store.select(Ki),this.isDeltaPlanOutdated$=this.store.select(me.gb),this.isTreePanelCollapsed$=this.store.pipe((0,g.Ys)(x)),this.treePanelConfiguration$=this.isTreePanelCollapsed$.pipe((0,A.U)(e=>e?this.TREE_PANEL_COLLAPSED_CONFIGURATION:this.TREE_PANEL_EXPANDED_CONFIGURATION)),this.objectToCompareSelector$=this.selectedObjectToCompare$.pipe((0,_e.R)(this.ngUnsubscribe),(0,Bo.M)(this.store.select(ie)),(0,A.U)(([e,t])=>{if(e)return t[e.moUuid]}))}toggleTreePanel(){this.store.dispatch(C())}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Pe.SBq))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["compare-objects-tab"]],decls:5,vars:14,consts:[[4,"ngIf"],["class","compare-objects-layout-split",4,"ngIf","ngIfElse"],["isDeltaOrinactiveOrNoPlan",""],[1,"compare-objects-layout-split"],[3,"uiWebemSplitPanel"],[4,"uiWebemSplitPanel"],[3,"uiWebemPanelToggle"],["configurationSharedObjectRemovedDialog","",3,"objectSelector","shouldReselectObjectAfterRemoval"],[1,"compare-objects-container"],["class","compare-objects-notification",4,"ngIf"],["class","compare-objects-switch-container",4,"ngIf"],["configurationSharedObjectRemovedDialog","",3,"showDifferentParametersOnly","objectSelector","shouldReselectObjectAfterRemoval",4,"ngIf"],[1,"compare-objects-notification"],[1,"notification-container"],[1,"information-icon","mdi","mdi-information"],[1,"compare-objects-switch-container"],["id","compare-objects-switch",3,"ngModel","disabled","ngModelChange"],[1,"compare-objects-label",3,"ngClass"],["configurationSharedObjectRemovedDialog","",3,"showDifferentParametersOnly","objectSelector","shouldReselectObjectAfterRemoval"],["collapseIcon","mdi mdi-chevron-left","expandIcon","mdi mdi-file-tree mdi-10px",3,"collapsed","click"],["class","delta-or-inactive-or-no-plan-notification",4,"ngIf"],[1,"delta-or-inactive-or-no-plan-notification"],["tabName","Compare Objects"]],template:function(e,t){1&e&&(Pe.YNc(0,IA,5,4,"ng-container",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async")),2&e&&Pe.Q6J("ngIf",Pe.l5B(9,EA,Pe.lcZ(1,1,t.selectedManagedObject$),Pe.lcZ(2,3,t.selectedPlan$),Pe.lcZ(3,5,t.selectedObjectToCompare$),Pe.lcZ(4,7,t.isDeltaPlanOutdated$)))},directives:[m.O5,Oe.a,xe.f,we.D,qo,Ko,xw,xn.JJ,xn.On,m.mk,fA,md.t,DS],pipes:[m.Ov,_o],styles:['[_nghost-%COMP%]{background-color:#edf2f5;height:100%;position:relative}.compare-objects-layout-split[_ngcontent-%COMP%]{height:calc(100% - 45px);--gutter-margin-start:10px}.compare-objects-layout-split[_ngcontent-%COMP%]     .as-split-area>*{height:100%}.compare-objects-layout-split[_ngcontent-%COMP%]     .split-panel-toggle-container .mdi-file-tree{font-size:13px}.compare-objects-title[_ngcontent-%COMP%]{font-size:14px;color:#98a2ae}.compare-objects-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;margin-right:6px}.compare-objects-separator[_ngcontent-%COMP%]{margin:0 0 10px;border-top:1px solid #98a2ae}.compare-objects-switch-container[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:10px}.compare-objects-switch-container[_ngcontent-%COMP%]   p-inputswitch[_ngcontent-%COMP%]{vertical-align:middle;display:inline-flex}.compare-objects-switch-container[_ngcontent-%COMP%]   .compare-objects-label[_ngcontent-%COMP%]{margin-left:5px;vertical-align:middle}.compare-objects-switch-container[_ngcontent-%COMP%]   .compare-objects-label.disabled[_ngcontent-%COMP%]{color:#bec8d2}.mdi[_ngcontent-%COMP%]:before{font-size:12px}.compare-objects-container[_ngcontent-%COMP%]{height:100%;padding:10px 15px 15px;scrollbar-width:none}.compare-objects-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:0!important}.header[_ngcontent-%COMP%]{width:100%}.header-content[_ngcontent-%COMP%]{height:23px;align-items:center;display:flex;flex-direction:row}.label[_ngcontent-%COMP%]{height:1em;line-height:1em;flex-grow:1;font-size:16px;color:#4d5766}.button[_ngcontent-%COMP%]{margin-left:8px}.compare-objects-notification[_ngcontent-%COMP%], .delta-or-inactive-or-no-plan-notification[_ngcontent-%COMP%]{font-size:14px;color:#98a2ae;padding-left:15px;padding-top:10px}.compare-objects-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%], .delta-or-inactive-or-no-plan-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:35px}.compare-objects-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%], .delta-or-inactive-or-no-plan-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px}.compare-objects-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]:before, .delta-or-inactive-or-no-plan-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]:before{font-size:unset}[_nghost-%COMP%]     .p-treetable-scrollable-header{background-color:#fff}[_nghost-%COMP%]     .p-treetable-scrollable-header:before{content:"";background:#707070;position:absolute;margin-top:26px;left:100%;margin-left:-17px;height:1px;width:17px}']}),e})();var kA=n(66682);const NA="compareObjectsDetails",LA=void 0,DA=(0,g.Lq)(LA,(0,g.on)(po,(e,t)=>({parameterFromSelectedObject:t.parameterFromSelectedObject,parameterFromComparedObject:t.parameterFromComparedObject})),(0,g.on)(go,e=>LA));function ZA(e,t){return DA(e,t)}const RA=(0,g.ZF)(NA);function UA(e,t){if(1&e&&(Pe.TgZ(0,"span",5),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.hij("(",e.subTitle,")")}}function FA(e,t){if(1&e&&(Pe.TgZ(0,"div",3),Pe._uU(1),Pe.YNc(2,UA,2,1,"span",4),Pe.qZA()),2&e){const e=Pe.oxw();Pe.Q6J("id",e.id+"-title"),Pe.xp6(1),Pe.hij(" ",e.title," "),Pe.xp6(1),Pe.Q6J("ngIf",e.subTitle)}}const jA=["*"];let $A=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-details-section-custom"]],inputs:{title:"title",subTitle:"subTitle",id:"id"},ngContentSelectors:jA,decls:4,vars:2,consts:[[1,"details-section"],["class","section-title",3,"id",4,"ngIf"],[1,"section-content",3,"id"],[1,"section-title",3,"id"],["class","details-panel-subtitle",4,"ngIf"],[1,"details-panel-subtitle"]],template:function(e,t){1&e&&(Pe.F$t(),Pe.TgZ(0,"div",0),Pe.YNc(1,FA,3,3,"div",1),Pe.TgZ(2,"div",2),Pe.Hsn(3),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngIf",t.title),Pe.xp6(1),Pe.Q6J("id",t.id+"-content"))},directives:[m.O5],styles:[".details-section[_ngcontent-%COMP%]{font-size:11px}.details-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-items:center;margin-bottom:1px;font-size:13px}.details-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{border-bottom:1px solid #bec8d2;border-top:1px solid #bec8d2}"]}),e})();function qA(e,t){if(1&e&&Pe._UZ(0,"ui-webem-details-section-list",7),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("id","data")("title",e.title)("subTitle",e.subTitle)("listData",e.listData)}}function BA(e,t){if(1&e&&Pe._UZ(0,"ui-webem-details-section-validation",14),2&e){const e=Pe.oxw(3).ngIf;Pe.Q6J("id","selected-object-validation")("validations",e.validationData)}}function GA(e,t){if(1&e&&Pe._UZ(0,"ui-webem-details-section-validation",14),2&e){const e=Pe.oxw(3).ngIf;Pe.Q6J("id","compared-object-validation")("validations",e.validationData)}}function VA(e,t){if(1&e&&(Pe.TgZ(0,"div",8),Pe.TgZ(1,"ui-webem-details-section-custom",9),Pe.TgZ(2,"ui-webem-details-section-custom",10),Pe._UZ(3,"ui-webem-detail-data-row",11),Pe.YNc(4,BA,1,2,"ui-webem-details-section-validation",12),Pe.qZA(),Pe.TgZ(5,"ui-webem-details-section-custom",13),Pe._UZ(6,"ui-webem-detail-data-row",11),Pe.YNc(7,GA,1,2,"ui-webem-details-section-validation",12),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e){const e=t.ngIf,n=Pe.oxw(2).ngIf;Pe.xp6(2),Pe.Q6J("title",e.selectedObjectDetailsData.distName),Pe.xp6(1),Pe.Q6J("itemKey","Actual value")("itemValue",e.selectedObjectDetailsData.value),Pe.xp6(1),Pe.Q6J("ngIf",null==n.validationData?null:n.validationData.length),Pe.xp6(1),Pe.Q6J("title",e.comparedObjectDetailsData.distName),Pe.xp6(1),Pe.Q6J("itemKey","Actual value")("itemValue",e.comparedObjectDetailsData.value),Pe.xp6(1),Pe.Q6J("ngIf",null==n.validationData?null:n.validationData.length)}}function YA(e,t){if(1&e&&Pe._UZ(0,"ui-webem-details-section-validation",15),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("id","validation")("title","Validation")("validations",e.validationData)}}function JA(e,t){if(1&e&&(Pe._UZ(0,"ui-webem-details-section-text",16),Pe.ALo(1,"removeEmptyValueFromArrayPipe")),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("id","description")("title","Description")("text",Pe.lcZ(1,3,e.description))}}function HA(e,t){if(1&e&&(Pe._UZ(0,"ui-webem-details-section-text",16),Pe.ALo(1,"removeEmptyValueFromArrayPipe")),2&e){const e=Pe.oxw(2).ngIf;Pe.Q6J("id","descriptionOfRelationship")("title","Description of relationship")("text",Pe.lcZ(1,3,e.descriptionOfRelationship))}}function WA(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,qA,1,4,"ui-webem-details-section-list",3),Pe.YNc(2,VA,8,8,"div",4),Pe.YNc(3,YA,1,3,"ui-webem-details-section-validation",5),Pe.YNc(4,JA,2,5,"ui-webem-details-section-text",6),Pe.YNc(5,HA,2,5,"ui-webem-details-section-text",6),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngIf",null==e.listData?null:e.listData.length),Pe.xp6(1),Pe.Q6J("ngIf",e.comparedParameterDetailsData),Pe.xp6(1),Pe.Q6J("ngIf",(null==e.validationData?null:e.validationData.length)&&!e.comparedParameterDetailsData),Pe.xp6(1),Pe.Q6J("ngIf",null==e.description?null:e.description.length),Pe.xp6(1),Pe.Q6J("ngIf",null==e.descriptionOfRelationship?null:e.descriptionOfRelationship.length)}}function QA(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,WA,6,5,"ng-container",2),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",null==e.listData?null:e.listData.length)}}function zA(e,t){1&e&&Pe._UZ(0,"ui-webem-no-selected-message",17)}const KA=[{path:"",component:MA,outlet:"content_center"},{path:"",component:Dp,outlet:"content_menu"},{path:"",component:(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.selectedManagedObject$=(0,ft.aj)([this.store.select(Rn),this.store.select(zi)]).pipe((0,A.U)(([e,t])=>this.getManagedObjectDetailsData(e,t))),this.comparedObjectsDetails$=(0,ft.aj)([this.store.select(RA),this.store.select(Rn),this.store.select(zi)]).pipe((0,A.U)(([e,t,n])=>{if((0,_.isNil)(e))return this.getManagedObjectDetailsData(t,n);const i=hy(e.parameterFromSelectedObject),o=my(e.parameterFromSelectedObject,i),s=by(e.parameterFromSelectedObject),a=function(e){if(e.parameterFromComparedObject)return{selectedObjectDetailsData:{distName:e.parameterFromSelectedObject.distName,value:e.parameterFromSelectedObject.value,definitionValidation:e.parameterFromSelectedObject.definitionValidation},comparedObjectDetailsData:{distName:e.parameterFromComparedObject.distName,value:e.parameterFromComparedObject.value,definitionValidation:e.parameterFromComparedObject.definitionValidation}}}(e);return Object.assign({listData:i,validationData:s,comparedParameterDetailsData:a},o)})),this.dataForPanel$=(0,kA.T)(this.selectedManagedObject$,this.comparedObjectsDetails$)}getManagedObjectDetailsData(e,t){const n=py(e,t);if(n)return{listData:uy(n),title:n.fullName,subTitle:n.className}}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["compare-objects-details"]],decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["noSelectedObjectOrParam",""],[4,"ngIf"],[3,"id","title","subTitle","listData",4,"ngIf"],["class","object-comparison","title","Object comparision",4,"ngIf"],[3,"id","title","validations",4,"ngIf"],[3,"id","title","text",4,"ngIf"],[3,"id","title","subTitle","listData"],["title","Object comparision",1,"object-comparison"],["title","Object comparision"],[1,"selected-object-data",3,"title"],[3,"itemKey","itemValue"],[3,"id","validations",4,"ngIf"],[1,"compared-object-data",3,"title"],[3,"id","validations"],[3,"id","title","validations"],[3,"id","title","text"],["message","Select object or parameter","id","no-selected-mo-param"]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"webem-details-panel"),Pe.YNc(1,QA,2,1,"ng-container",0),Pe.ALo(2,"async"),Pe.qZA(),Pe.YNc(3,zA,1,0,"ng-template",null,1,Pe.W1O)),2&e){const e=Pe.MAs(4);Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,2,t.dataForPanel$))("ngIfElse",e)}},directives:[$p.V,m.O5,Jp,$A,qp.x,Xp,ag,rg.G],pipes:[m.Ov,lg],styles:[".object-comparison[_ngcontent-%COMP%]     .selected-object-data{display:block}.object-comparison[_ngcontent-%COMP%]     .selected-object-data .section-row, .object-comparison[_ngcontent-%COMP%]     .selected-object-data .validation-row{padding:5px 0 5px 20px}.object-comparison[_ngcontent-%COMP%]     .selected-object-data .section-row:last-of-type, .object-comparison[_ngcontent-%COMP%]     .selected-object-data .validation-row:last-of-type{border-bottom:none}.object-comparison[_ngcontent-%COMP%]     .selected-object-data .section-validation{border-top:none}.object-comparison[_ngcontent-%COMP%]     .selected-object-data .section-row .section-row-key{flex:0 0 100px}.object-comparison[_ngcontent-%COMP%]     .selected-object-data .details-section .section-title{font-size:11px;padding-top:10px}.object-comparison[_ngcontent-%COMP%]     .compared-object-data .section-row, .object-comparison[_ngcontent-%COMP%]     .compared-object-data .validation-row{padding:5px 0 5px 20px}.object-comparison[_ngcontent-%COMP%]     .compared-object-data .section-row:last-of-type, .object-comparison[_ngcontent-%COMP%]     .compared-object-data .validation-row:last-of-type{border-bottom:none}.object-comparison[_ngcontent-%COMP%]     .compared-object-data .section-validation{border-top:none}.object-comparison[_ngcontent-%COMP%]     .compared-object-data .section-row .section-row-key{flex:0 0 100px}.object-comparison[_ngcontent-%COMP%]     .compared-object-data .details-section .section-title{font-size:11px;padding-top:10px}.object-comparison[_ngcontent-%COMP%]     .compared-object-data .details-section .section-content{border-bottom:none}"]}),e})(),outlet:"content_right"},{path:"",component:Qb,outlet:"content_actions_bar"}];let XA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(KA)],f.Bz]}),e})(),e_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[XA,m.ez,Sy,yr.dp,Nr.z,wn.XKI,wn.gkd,wn.IR6,xi.kW,ww,xi.kW,wn.g3K,cC.E,fC.oS,g.Aw.forFeature(NA,ZA)]]}),e})();var t_=n(56061),n_=n(65971),i_=n(87138),o_=n(71522),s_=n(49149),a_=n(39207),r_=n(90818),l_=n(56605),c_=n(12844),d_=n(30851),u_=n(33405),p_=n(31626);let g_=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.selectedStartTime$=this.store.select(o_.wb),this.selectedEndTime$=this.store.select(o_.jO),this.allStartTimes$=this.store.select(o_.u7).pipe((0,A.U)(e=>{const t=e.map(e=>e.values),n=(0,_.flatten)(t).map(e=>e.startTime);return(0,_.sortedUniq)(n.sort())})),this.startTimeOptions$=this.getStartTimeOptions(),this.endTimeOptions$=this.getEndTimesOptions()}selectionChange(e){const t=e.startTime?(0,l_.qv)({timestamp:e.startTime}):(0,l_.vP)(),n=e.endTime?(0,l_.I6)({timestamp:e.endTime}):(0,l_.TZ)();this.store.dispatch(t),this.store.dispatch(n)}getStartTimeOptions(){return(0,ft.aj)([this.selectedEndTime$,this.allStartTimes$]).pipe((0,A.U)(([e,t])=>{const n=this.timestampsToSelectItem(t),i=t.findIndex(t=>t===e);return i>=0?n.slice(0,i+1):n}))}getEndTimesOptions(){return(0,ft.aj)([this.selectedStartTime$,this.allStartTimes$]).pipe((0,A.U)(([e,t])=>{const n=this.timestampsToSelectItem(t),i=t.findIndex(t=>t===e);return i>0?n.slice(i):n}))}timestampsToSelectItem(e){return e.map(e=>({label:e,value:e}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["pm-v2-filter-timestamp"]],decls:5,vars:12,consts:[[3,"startTimes","endTimes","selectedStartTime","selectedEndTime","selection"]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-filter-timestamp",0),Pe.NdJ("selection",function(e){return t.selectionChange(e)}),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.qZA()),2&e&&Pe.Q6J("startTimes",Pe.lcZ(1,4,t.startTimeOptions$))("endTimes",Pe.lcZ(2,6,t.endTimeOptions$))("selectedStartTime",Pe.lcZ(3,8,t.selectedStartTime$))("selectedEndTime",Pe.lcZ(4,10,t.selectedEndTime$))},directives:[p_.R],pipes:[m.Ov],styles:[""]}),e})();function h_(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",11),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(2).changeView()}),Pe.qZA()}if(2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.Q6J("model",t.plotButton)("options",t.buttonOptions)("disabled",!e.measurementsPresent||!e.countersPresent)}}function m_(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",11),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(2).changeView()}),Pe.qZA()}if(2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.Q6J("model",t.tableViewButton)("options",t.buttonOptions)("disabled",!e.measurementsPresent||!e.countersPresent)}}function f_(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",12),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(2).exportTable()}),Pe.qZA()}if(2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.Q6J("model",t.downloadPmButton)("disabled",!e.countersPresent)}}function b_(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",13),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(2).exportChart()}),Pe.qZA()}if(2&e){const e=Pe.oxw().ngIf,t=Pe.oxw();Pe.Q6J("model",t.downloadPmButton)("disabled",!e.countersPresent)}}const C_=function(e){return{"no-right-margin":e}},v_=function(e){return{"details-opened":e}};function y_(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",1),Pe.TgZ(1,"div",2),Pe.TgZ(2,"ui-webem-button",3),Pe.NdJ("action",function(){const t=Pe.CHM(e).ngIf;return Pe.oxw().openSelectCounterModal(t.selectedCounters,t.selectedTimeFrame)}),Pe.qZA(),Pe._UZ(3,"div",4),Pe._UZ(4,"pm-v2-filter-timestamp"),Pe._UZ(5,"div",4),Pe.TgZ(6,"div",5),Pe.YNc(7,h_,1,3,"ui-webem-button",6),Pe.YNc(8,m_,1,3,"ui-webem-button",6),Pe.YNc(9,f_,1,2,"ui-webem-button",7),Pe.YNc(10,b_,1,2,"ui-webem-button",8),Pe.qZA(),Pe._UZ(11,"div",9),Pe.TgZ(12,"ui-webem-filter-input",10),Pe.NdJ("valueChange",function(t){return Pe.CHM(e),Pe.oxw().changeFilter(t)}),Pe.ALo(13,"async"),Pe.ALo(14,"async"),Pe.ALo(15,"async"),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.Q6J("ngClass",Pe.VKq(15,C_,!n.tableViewLabel||!n.plotViewLabel)),Pe.xp6(2),Pe.Q6J("model",n.selectCountersButton),Pe.xp6(5),Pe.Q6J("ngIf",e.isTableViewActive),Pe.xp6(1),Pe.Q6J("ngIf",!e.isTableViewActive),Pe.xp6(1),Pe.Q6J("ngIf",e.isTableViewActive),Pe.xp6(1),Pe.Q6J("ngIf",!e.isTableViewActive),Pe.xp6(2),Pe.Q6J("disabled",!Pe.lcZ(13,9,n.areCountersPresent$))("value",Pe.lcZ(14,11,n.countersFilter$))("ngClass",Pe.VKq(17,v_,Pe.lcZ(15,13,n.isDetailsPanelOpened$)))}}const S_=function(e,t,n,i,o){return{measurementsPresent:e,countersPresent:t,isTableViewActive:n,selectedCounters:i,selectedTimeFrame:o}};let P_=(()=>{class e{constructor(t,n,i,o,s){this.store=t,this.exportService=n,this.router=i,this.menuComponentRef=o,this.zone=s,this.ngUnsubscribe$=new Ae.xQ,this.menuWidth=0,this.openModalButton={label:"Open modal"},this.plotViewLabel=e.PLOT_VIEW,this.tableViewLabel=e.TABLE_VIEW,this.plotViewTitle="",this.tableViewTitle="",this.buttonOptions={minWidth:"88px"},this.selectCountersButton={icon:"mdi mdi-format-list-checks",label:"Select Counters",theme:wn.bnJ.Default,length:wn.Wmq.Short},this.plotButton={label:e.PLOT_VIEW,icon:"mdi mdi-chart-scatter-plot",iconPosition:"left",theme:wn.bnJ.Default,length:wn.Wmq.Short},this.tableViewButton={label:e.TABLE_VIEW,icon:"mdi mdi-table",iconPosition:"left",theme:wn.bnJ.Default,length:wn.Wmq.Short},this.SAVE_BUTTON_TITLE="Save Counters List"}ngOnInit(){this.setButtonsModel(),this.isDetailsPanelOpened$=this.store.select(a_.Ol,{url:this.router.url}),this.countersFilter$=this.store.select(o_.Rt),this.areCountersPresent$=this.store.select(o_.u7).pipe((0,A.U)(e=>!!e.length),(0,Ps.d)()),this.areMeasurementsPresent$=this.store.select(d_.dw).pipe((0,A.U)(e=>!!e.length),(0,Ps.d)()),this.isTableViewActive$=this.store.select(o_.GT).pipe((0,A.U)(e=>e===s_.E.TABLE),(0,Ps.d)()),this.store.dispatch((0,c_.Wv)()),this.isTableViewActive$.pipe((0,_e.R)(this.ngUnsubscribe$)).subscribe(e=>this.isChartViewActive=e),this.selectedCounters$=this.store.select(o_.wi).pipe((0,Os.O)([]),(0,il.g)(0)),this.selectedTimeFrame$=this.store.select(o_.PX)}ngOnDestroy(){this.store.dispatch((0,c_.Aw)()),this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}openSelectCounterModal(e,t){this.store.dispatch((0,r_.U)({counters:e,timeFrame:t,onSubmit:(e,t,n)=>this.store.dispatch((0,c_.w0)({nodes:e,counterStartTime:t,timeFrame:n})),maxCountersLimit:u_.s}))}changeFilter(e){this.store.dispatch((0,l_.Cp)({filter:e}))}changeView(){this.store.dispatch((0,l_.c3)(this.isChartViewActive?{viewType:s_.E.CHART}:{viewType:s_.E.TABLE}))}ngAfterViewChecked(){const e=this.menuComponentRef.nativeElement.offsetWidth;this.menuWidth!==e&&this.zone.runOutsideAngular(()=>{this.animation&&window.cancelAnimationFrame(this.animation),this.animation=window.requestAnimationFrame(()=>{this.menuWidth=e,this.setButtonsModel()})})}exportTable(){this.store.dispatch((0,l_.si)({filename:this.exportService.getExportFilename(e.PM_TABLE)}))}exportChart(){this.store.dispatch((0,l_.Wh)({filename:this.exportService.getExportFilename(e.PM_CHART)}))}setButtonsModel(){this.plotViewLabel=this.isMenuWidthAboveBreakpoint()?e.PLOT_VIEW:"",this.plotViewTitle=""===this.plotViewLabel?e.PLOT_VIEW:"",this.tableViewLabel=this.isMenuWidthAboveBreakpoint()?e.TABLE_VIEW:"",this.tableViewTitle=""===this.tableViewLabel?e.TABLE_VIEW:"",this.downloadPmButton=this.getDownloadButtonModel()}getDownloadButtonModel(){return{icon:"mdi mdi-content-save",title:this.isMenuWidthAboveBreakpoint()?"":this.SAVE_BUTTON_TITLE,label:this.isMenuWidthAboveBreakpoint()?this.SAVE_BUTTON_TITLE:"",length:this.isMenuWidthAboveBreakpoint()?wn.Wmq.Short:wn.Wmq.Long}}isMenuWidthAboveBreakpoint(){return this.menuWidth>e.menuWidthBreakpoint}}return e.PM_TABLE="Counters_Table",e.PM_CHART="Counters_Chart",e.menuWidthBreakpoint=1295,e.PLOT_VIEW="Plot View",e.TABLE_VIEW="Table View",e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(ls.Ty),Pe.Y36(f.F0),Pe.Y36(Pe.SBq),Pe.Y36(Pe.R0b))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["pm-v2-menu"]],decls:6,vars:17,consts:[["class","global-pm-menu-container",3,"ngClass",4,"ngIf"],[1,"global-pm-menu-container",3,"ngClass"],[1,"left-container-pm-menu"],[1,"select-counters-button",3,"model","action"],[1,"divider"],["fxLayoutAlign","start start",1,"pm-button"],["class","switch-button",3,"model","options","disabled","action",4,"ngIf"],["class","download-pm-table","id","download-counters-button",3,"model","disabled","action",4,"ngIf"],["class","download-pm-chart","id","download-counters",3,"model","disabled","action",4,"ngIf"],[1,"spacer"],["id","pm-menu",3,"disabled","value","ngClass","valueChange"],[1,"switch-button",3,"model","options","disabled","action"],["id","download-counters-button",1,"download-pm-table",3,"model","disabled","action"],["id","download-counters",1,"download-pm-chart",3,"model","disabled","action"]],template:function(e,t){1&e&&(Pe.YNc(0,y_,16,19,"div",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.ALo(5,"async")),2&e&&Pe.Q6J("ngIf",Pe.qbA(11,S_,Pe.lcZ(1,1,t.areMeasurementsPresent$),Pe.lcZ(2,3,t.areCountersPresent$),Pe.lcZ(3,5,t.isTableViewActive$),Pe.lcZ(4,7,t.selectedCounters$),Pe.lcZ(5,9,t.selectedTimeFrame$)))},directives:[m.O5,m.mk,Ui.r,g_,ho.T],pipes:[m.Ov],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%;flex-direction:row;height:26px;margin:9px 0;font:Nokia Pure,sans-serif;font-size:11px}pm-v2-filter-timestamp[_ngcontent-%COMP%]{flex:0 0 auto;width:auto;justify-content:flex-start}.pm-button[_ngcontent-%COMP%]{display:flex}.pm-button[_ngcontent-%COMP%]   .switch-button[_ngcontent-%COMP%]{margin-right:8px}.download-pm-chart[_ngcontent-%COMP%], .download-pm-table[_ngcontent-%COMP%]{width:auto;margin-right:15px}.global-pm-menu-container[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;justify-content:space-between;margin:15px}.global-pm-menu-container[_ngcontent-%COMP%]   .left-container-pm-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;align-items:center}.global-pm-menu-container.no-right-margin[_ngcontent-%COMP%]   .left-container-pm-menu[_ngcontent-%COMP%]{width:auto}ui-webem-filter-input[_ngcontent-%COMP%]{justify-content:flex-end;width:300px;min-width:300px;padding-left:15px;margin-right:43px}ui-webem-filter-input.details-opened[_ngcontent-%COMP%]{margin-right:15px}.divider[_ngcontent-%COMP%]{margin:0 15px;padding-right:1px;background:#98a2ae;height:30px}.spacer[_ngcontent-%COMP%]{flex-grow:1}"]}),e})();var O_=n(56083);function x_(e,t){if(1&e&&(Pe.TgZ(0,"span",9),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw();Pe.xp6(1),Pe.hij(" ",e.header," ")}}function w_(e,t){1&e&&Pe.GkF(0)}function A_(e,t){1&e&&Pe.Hsn(0,1,["*ngIf","hasHeaderFacet"])}function __(e,t){1&e&&Pe.GkF(0)}function T_(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,__,1,0,"ng-container",5),Pe.BQk()),2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngTemplateOutlet",e.contentTemplate)}}const I_=["*",[["p-header"]]],E_=function(e){return{"p-accordion-tab-active":e}},M_=function(e,t){return{"p-highlight":e,"p-disabled":t}},k_=function(e){return{transitionParams:e}},N_=function(e){return{value:"visible",params:e}},L_=function(e){return{value:"hidden",params:e}},D_=["*","p-header"],Z_=["*"];let R_=0,U_=(()=>{class e{constructor(e,t){this.changeDetector=t,this.cache=!0,this.selectedChange=new Pe.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+R_++,this.accordion=e}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;default:this.contentTemplate=e.template}})}toggle(e){if(this.disabled)return!1;let t=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:t});else{if(!this.accordion.multiple)for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1),this.accordion.tabs[n].changeDetector.markForCheck();this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:t})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e.preventDefault()}findTabIndex(){let e=-1;for(var t=0;t<this.accordion.tabs.length;t++)if(this.accordion.tabs[t]==this){e=t;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){32!==e.which&&13!==e.which||(this.toggle(e),e.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36((0,Pe.Gpc)(()=>F_)),Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["p-accordionTab"]],contentQueries:function(e,t,n){if(1&e&&(Pe.Suo(n,Ri.h4,4),Pe.Suo(n,Ri.jx,4)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.headerFacet=e),Pe.iGM(e=Pe.CRH())&&(t.templates=e)}},inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:D_,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,t){1&e&&(Pe.F$t(I_),Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"a",2),Pe.NdJ("click",function(e){return t.toggle(e)})("keydown",function(e){return t.onKeydown(e)}),Pe._UZ(3,"span",3),Pe.YNc(4,x_,2,1,"span",4),Pe.YNc(5,w_,1,0,"ng-container",5),Pe.YNc(6,A_,1,0,"ng-content",6),Pe.qZA(),Pe.qZA(),Pe.TgZ(7,"div",7),Pe.TgZ(8,"div",8),Pe.Hsn(9),Pe.YNc(10,T_,2,1,"ng-container",6),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.Q6J("ngClass",Pe.VKq(15,E_,t.selected)),Pe.xp6(1),Pe.Q6J("ngClass",Pe.WLB(17,M_,t.selected,t.disabled)),Pe.xp6(1),Pe.uIk("tabindex",t.disabled?null:0)("id",t.id)("aria-controls",t.id+"-content")("aria-expanded",t.selected),Pe.xp6(1),Pe.Q6J("ngClass",t.selected?t.accordion.collapseIcon:t.accordion.expandIcon),Pe.xp6(1),Pe.Q6J("ngIf",!t.hasHeaderFacet),Pe.xp6(1),Pe.Q6J("ngTemplateOutlet",t.headerTemplate),Pe.xp6(1),Pe.Q6J("ngIf",t.hasHeaderFacet),Pe.xp6(1),Pe.Q6J("@tabContent",t.selected?Pe.VKq(22,N_,Pe.VKq(20,k_,t.transitionOptions)):Pe.VKq(26,L_,Pe.VKq(24,k_,t.transitionOptions))),Pe.uIk("id",t.id+"-content")("aria-hidden",!t.selected)("aria-labelledby",t.id),Pe.xp6(3),Pe.Q6J("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected)))},directives:[m.mk,m.O5,m.tP],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}"],encapsulation:2,data:{animation:[(0,O_.X$)("tabContent",[(0,O_.SB)("hidden",(0,O_.oB)({height:"0",overflow:"hidden"})),(0,O_.SB)("visible",(0,O_.oB)({height:"*"})),(0,O_.eR)("visible <=> hidden",[(0,O_.oB)({overflow:"hidden"}),(0,O_.jt)("{{transitionParams}}")]),(0,O_.eR)("void => *",(0,O_.jt)(0))])]},changeDetection:0}),e})(),F_=(()=>{class e{constructor(e,t){this.el=e,this.changeDetector=t,this.onClose=new Pe.vpe,this.onOpen=new Pe.vpe,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new Pe.vpe,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let e=0;e<this.tabs.length;e++){let t=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;t!==this.tabs[e].selected&&(this.tabs[e].selected=t,this.tabs[e].selectedChange.emit(t),this.tabs[e].changeDetector.markForCheck())}}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((t,n)=>{if(t.selected){if(!this.multiple)return void(e=n);e.push(n)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(Pe.SBq),Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["p-accordion"]],contentQueries:function(e,t,n){if(1&e&&Pe.Suo(n,U_,4),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.tabList=e)}},inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:Z_,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,t){1&e&&(Pe.F$t(),Pe.TgZ(0,"div",0),Pe.Hsn(1),Pe.qZA()),2&e&&(Pe.Tol(t.styleClass),Pe.Q6J("ngClass","p-accordion p-component")("ngStyle",t.style))},directives:[m.mk,m.PC],encapsulation:2,changeDetection:0}),e})(),j_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez],Ri.m8]}),e})();var $_=n(13409),q_=n(19685),B_=n(75107);const G_=["accordion"];function V_(e,t){if(1&e&&Pe._UZ(0,"ui-webem-details-section-text",13),2&e){const e=Pe.oxw().$implicit,t=Pe.oxw(5);Pe.Q6J("id","description")("title","Description")("text",t.getCountersDetailsDescription(e))}}function Y_(e,t){if(1&e&&(Pe.TgZ(0,"p-accordionTab",10),Pe._UZ(1,"ui-webem-details-section",11),Pe.YNc(2,V_,1,3,"ui-webem-details-section-text",12),Pe.qZA()),2&e){const e=t.$implicit,n=Pe.oxw().ngIf,i=Pe.oxw(4);Pe.s9C("header",e.id),Pe.Q6J("selected",n[e.id]),Pe.xp6(1),Pe.Q6J("data",i.getCountersDetails(e.data)),Pe.xp6(1),Pe.Q6J("ngIf",null==e.data?null:e.data.length)}}function J_(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"p-accordion",7,8),Pe.NdJ("onOpen",function(t){return Pe.CHM(e),Pe.oxw(4).onOpenSelection(t)})("onClose",function(t){return Pe.CHM(e),Pe.oxw(4).onCloseSelection(t)}),Pe.YNc(2,Y_,3,4,"p-accordionTab",9),Pe.qZA()}if(2&e){const e=Pe.oxw(3).ngIf;Pe.Q6J("multiple",!0)("expandIcon","pi pi-fw pi-chevron-down")("collapseIcon","pi pi-fw pi-chevron-up"),Pe.xp6(2),Pe.Q6J("ngForOf",e.countersDetails)}}function H_(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"label",5),Pe._uU(2,"Counters information"),Pe.qZA(),Pe.YNc(3,J_,3,4,"p-accordion",6),Pe.ALo(4,"async"),Pe.BQk()),2&e){const e=Pe.oxw(3);Pe.xp6(3),Pe.Q6J("ngIf",Pe.lcZ(4,1,e.countersDetailsPanelOpenedPanels$))}}function W_(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,H_,5,3,"ng-container",4),Pe.BQk()),2&e){const e=Pe.oxw().ngIf;Pe.oxw();const t=Pe.MAs(7);Pe.xp6(1),Pe.Q6J("ngIf",!!e.countersDetails&&e.countersDetails.length)("ngIfElse",t)}}function Q_(e,t){if(1&e&&(Pe.TgZ(0,"webem-details-panel",3),Pe.YNc(1,W_,2,2,"ng-container",4),Pe.qZA()),2&e){const e=t.ngIf;Pe.oxw();const n=Pe.MAs(5);Pe.Q6J("icon","mdi mdi-information")("header","Details"),Pe.xp6(1),Pe.Q6J("ngIf",!e.isCountersInfoFailed&&!e.isCountersValuesFailed)("ngIfElse",n)}}function z_(e,t){1&e&&(Pe.TgZ(0,"div",14),Pe._UZ(1,"i",15),Pe.TgZ(2,"span"),Pe._uU(3," Failed to retrieve selected counters details "),Pe.qZA(),Pe.qZA())}function K_(e,t){1&e&&(Pe.TgZ(0,"div",16),Pe._UZ(1,"i",17),Pe.TgZ(2,"span"),Pe._uU(3," No counters selected "),Pe.qZA(),Pe.qZA())}const X_=function(e,t,n){return{countersDetails:e,isCountersInfoFailed:t,isCountersValuesFailed:n}};let eT=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new $_.Subject,this.collator=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),this.description="Description"}ngOnInit(){this.countersDetails$=this.store.select(o_.ox).pipe((0,A.U)(e=>e.map(e=>({id:e.id,data:[{key:"Name",value:e.name},{key:"Unit",value:e.unit},{key:"Abbreviation",value:e.abbreviation},{key:"Description",value:e.description}]})).sort((e,t)=>this.sortCounters(e,t)))),this.countersDetailsPanelOpenedPanels$=this.store.pipe((0,g.Ys)(o_.ds),(0,A.U)(e=>e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),{}))),this.isRetrievingCountersInfoFailed$=this.store.select(o_.KX),this.isRetrievingCountersValuesFailed$=this.store.select(o_.BG)}onOpenSelection(e){this.store.dispatch((0,q_.Wb)({id:e.originalEvent.currentTarget.text.trim()}))}onCloseSelection(e){this.store.dispatch((0,q_.LJ)({id:e.originalEvent.currentTarget.text.trim()}))}getCountersDetailsDescription(e){const t=e.data.find(e=>e.key===this.description);return t?[t.value]:[""]}getCountersDetails(e){return e.filter(e=>e.key!==this.description)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}sortCounters(e,t){return this.collator.compare(e.id,t.id)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["pm-v2-details"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(G_,7,F_),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.accordion=e.first)}},decls:8,vars:11,consts:[[3,"icon","header",4,"ngIf"],["noCountersRetrieve",""],["noSelectedCounters",""],[3,"icon","header"],[4,"ngIf","ngIfElse"],["id","label-information"],["class","performance-accordion",3,"multiple","expandIcon","collapseIcon","onOpen","onClose",4,"ngIf"],[1,"performance-accordion",3,"multiple","expandIcon","collapseIcon","onOpen","onClose"],["accordion",""],[3,"header","selected",4,"ngFor","ngForOf"],[3,"header","selected"],[3,"data"],["id","description-section-text",3,"id","title","text",4,"ngIf"],["id","description-section-text",3,"id","title","text"],[1,"no-counters-retrieve"],[1,"alert-icon","mdi","mdi-alert"],[1,"no-selection"],[1,"information-icon","mdi","mdi-information"]],template:function(e,t){1&e&&(Pe.YNc(0,Q_,2,4,"webem-details-panel",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.YNc(4,z_,4,0,"ng-template",null,1,Pe.W1O),Pe.YNc(6,K_,4,0,"ng-template",null,2,Pe.W1O)),2&e&&Pe.Q6J("ngIf",Pe.kEZ(7,X_,Pe.lcZ(1,1,t.countersDetails$),Pe.lcZ(2,3,t.isRetrievingCountersInfoFailed$),Pe.lcZ(3,5,t.isRetrievingCountersValuesFailed$)))},directives:[m.O5,$p.V,F_,m.sg,U_,B_.h,ag],pipes:[m.Ov],styles:["[_nghost-%COMP%]     #label-information{color:#1b1b1b;padding-bottom:5px;border-bottom:1px solid #bec8d2;font-weight:700;margin-bottom:10px}[_nghost-%COMP%]     .performance-accordion p-accordiontab #description-section-text>div.details-section #description-arrayOfTexts{border-bottom:none}[_nghost-%COMP%]     .performance-accordion{margin:5px}[_nghost-%COMP%]     .performance-accordion p-accordiontab{display:block;width:100%;height:auto;border:1px solid #98a2ae;margin-bottom:5px;border-radius:3px}[_nghost-%COMP%]     .performance-accordion p-accordiontab:hover{text-decoration:none;outline:none;border:1px solid #00c9ff;background-color:#f9feff;box-shadow:0 2px 3px rgba(0,0,0,.1)}[_nghost-%COMP%]     .performance-accordion p-accordiontab:focus{text-decoration:none;outline:none;border:1px solid #273142;background-color:#f9feff;box-shadow:0 2px 3px rgba(0,0,0,.1)}[_nghost-%COMP%]     .performance-accordion p-accordiontab:active{text-decoration:none;outline:none;border:1px solid #00c9ff;background-color:#f9feff;box-shadow:0 3px 5px rgba(0,0,0,.3)}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header{background-color:transparent;margin:10px 10px 7.5px}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header a{padding:0;background-color:transparent;color:#1b1b1b;border:none;text-decoration:none}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header a .p-accordion-toggle-icon{color:#000}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header a:focus{outline:none}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header a:hover{background-color:transparent}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header.p-highlight:not(.p-disabled){border-bottom:1px solid #98a2ae}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header .p-corner-all:active, [_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header:not(.p-disabled).p-highlight, [_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header:not(.p-highlight):not(.p-disabled):hover{border-radius:0}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header .p-corner-all:active a, [_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header:not(.p-disabled).p-highlight a, [_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header:not(.p-highlight):not(.p-disabled):hover a{border:none;background-color:transparent;color:#1b1b1b;margin-bottom:5px}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header .p-corner-all:active a .p-accordion-toggle-icon, [_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header:not(.p-disabled).p-highlight a .p-accordion-toggle-icon, [_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header:not(.p-highlight):not(.p-disabled):hover a .p-accordion-toggle-icon{color:#000}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header:not(.p-disabled).p-highlight:hover~.p-accordion-content-wrapper .p-accordion-content{border:none;background-color:transparent}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header .p-accordion-toggle-icon{color:#000}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header .p-accordion-header-text{margin-left:2px}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-header .pi-fw{width:1em}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-content{background-color:transparent;border:none;padding:0 10px}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-content .details-section #undefined-table{border-top:none}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-content .details-section #undefined-table p-webem-detail-data-row:last-of-type .section-row{padding-bottom:15px}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-content .details-section #undefined-table .section-row{border:none;padding-bottom:7.5px;padding-top:7.5px}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-content .details-section #undefined-table .section-row .section-row-key{padding-bottom:3px;flex:0 0 75px}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-content .details-section #undefined-table .section-row .section-row-value{padding-left:3px;align-items:flex-start}[_nghost-%COMP%]     .performance-accordion .p-accordion .p-accordion-content .details-section #undefined-table div[title~=Abbreviation] div.section-row-value{overflow:hidden;text-overflow:ellipsis;white-space:pre-wrap}[_nghost-%COMP%]     .no-selection{display:flex!important;align-items:center}[_nghost-%COMP%]     .no-selection .information-icon{font-size:26px;margin-right:6px;color:#98a2ae}[_nghost-%COMP%]     .no-selection .information-icon.mdi:before{font-size:unset}[_nghost-%COMP%]     .no-counters-retrieve{display:flex!important;align-items:baseline}[_nghost-%COMP%]     .no-counters-retrieve .alert-icon{font-size:26px;margin-right:6px;color:#da1914}[_nghost-%COMP%]     .no-counters-retrieve .alert-icon.mdi:before{font-size:unset}"]}),e})();var tT=n(50331),nT=n(43121);const iT=(0,g.ZF)("PmViewSpinner"),oT=(0,g.P1)(iT,e=>e.pmViewSpinnerVisibility);var sT=n(87376),aT=n(8394);const rT="selectCounterDialog",lT=(0,g.Lq)({isDialogOpen:!1},(0,g.on)(aT.T,(e,{isDialogOpen:t})=>Object.assign(Object.assign({},e),{isDialogOpen:t})));function cT(e,t){return lT(e,t)}const dT=(0,g.ZF)(rT),uT=(0,g.P1)(dT,e=>e.isDialogOpen);var pT=n(71911),gT=n(99051),hT=n(74161);const mT=["pmTable"],fT=["pmChart"];function bT(e,t){1&e&&Pe._UZ(0,"ui-webem-alarm-message",4),2&e&&Pe.Q6J("text","PM service is probably restarting. It will be recovered in a few minutes. Any PM related functions will not work during this time.")}function CT(e,t){1&e&&(Pe.TgZ(0,"div",11),Pe._UZ(1,"i",12),Pe.TgZ(2,"span"),Pe._uU(3,"No results found"),Pe.qZA(),Pe.qZA())}function vT(e,t){if(1&e&&(Pe._UZ(0,"ui-webem-pm-table",14,15),Pe.ALo(2,"async"),Pe.ALo(3,"async")),2&e){const e=Pe.oxw(2).ngIf,t=Pe.oxw(3);Pe.Q6J("selectCounterDialogStatus",Pe.lcZ(2,3,t.selectCounterDialogStatus$))("pmCounters",e)("loading",Pe.lcZ(3,5,t.isPmSpinnerVisible$))}}function yT(e,t){if(1&e&&(Pe.YNc(0,vT,4,7,"ui-webem-pm-table",13),Pe.ALo(1,"async")),2&e){Pe.oxw();const e=Pe.MAs(5),t=Pe.oxw(3);Pe.Q6J("ngIf",Pe.lcZ(1,2,t.isTableViewActive$))("ngIfElse",e)}}function ST(e,t){if(1&e&&(Pe._UZ(0,"ui-webem-pm-chart",14,16),Pe.ALo(2,"async"),Pe.ALo(3,"async")),2&e){const e=Pe.oxw().ngIf,t=Pe.oxw(3);Pe.Q6J("selectCounterDialogStatus",Pe.lcZ(2,3,t.selectCounterDialogStatus$))("pmCounters",e)("loading",Pe.lcZ(3,5,t.isPmSpinnerVisible$))}}function PT(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,CT,4,0,"div",8),Pe.YNc(2,yT,2,4,"ng-template",null,9,Pe.W1O),Pe.YNc(4,ST,4,7,"ng-template",null,10,Pe.W1O),Pe.BQk()),2&e){const e=t.ngIf,n=Pe.MAs(3);Pe.xp6(1),Pe.Q6J("ngIf",!e.length)("ngIfElse",n)}}const OT=function(e){return{"spinner-background":e}};function xT(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",5),Pe.TgZ(2,"span"),Pe._uU(3,"Selected Counters"),Pe.qZA(),Pe.qZA(),Pe.TgZ(4,"div",6),Pe.ALo(5,"async"),Pe.YNc(6,PT,6,2,"ng-container",7),Pe.ALo(7,"async"),Pe.qZA(),Pe.BQk()),2&e){const e=Pe.oxw(2);Pe.xp6(4),Pe.Q6J("ngClass",Pe.VKq(6,OT,Pe.lcZ(5,2,e.isPmSpinnerVisible$))),Pe.xp6(2),Pe.Q6J("ngIf",Pe.lcZ(7,4,e.filteredCounters$))}}function wT(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,xT,8,8,"ng-container",1),Pe.ALo(2,"async"),Pe.BQk()),2&e){const e=Pe.oxw(),t=Pe.MAs(5);Pe.xp6(1),Pe.Q6J("ngIf",!Pe.lcZ(2,2,e.noCounterSelected$))("ngIfElse",t)}}function AT(e,t){1&e&&(Pe.ynx(0),Pe._UZ(1,"ui-webem-spinner",18),Pe.BQk())}function _T(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",20),Pe._UZ(1,"i",12),Pe.TgZ(2,"p",21),Pe._uU(3,"No counters available. "),Pe._UZ(4,"br"),Pe._uU(5," Please click the button below "),Pe._UZ(6,"br"),Pe._uU(7," to select counters"),Pe.qZA(),Pe.TgZ(8,"ui-webem-button",22),Pe.NdJ("action",function(){const t=Pe.CHM(e).ngIf;return Pe.oxw(3).openSelectCounterModal(t)}),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw(3);Pe.xp6(8),Pe.Q6J("model",e.selectCountersButton)}}function TT(e,t){if(1&e&&(Pe.YNc(0,_T,9,1,"div",19),Pe.ALo(1,"async")),2&e){const e=Pe.oxw(2);Pe.Q6J("ngIf",Pe.lcZ(1,1,e.selectedTimeFrame$))}}function IT(e,t){if(1&e&&(Pe.YNc(0,AT,2,0,"ng-container",1),Pe.ALo(1,"async"),Pe.YNc(2,TT,2,3,"ng-template",null,17,Pe.W1O)),2&e){const e=Pe.MAs(3),t=Pe.oxw();Pe.Q6J("ngIf",Pe.lcZ(1,2,t.isPmSpinnerVisible$))("ngIfElse",e)}}function ET(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",23),Pe._UZ(1,"i",24),Pe.TgZ(2,"p",25),Pe._uU(3,"Failed to retrieve selected counters"),Pe.qZA(),Pe.TgZ(4,"ui-webem-button",26),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().clearCounterSelection()}),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(4),Pe.Q6J("model",e.unselectCountersButton)}}class MT{constructor(e,t,n,i,o){this.store=e,this.layoutsConfigService=t,this.exportService=n,this._changeDetectorRef=i,this.actions$=o,this.selectCountersButton={label:"Select Counters",theme:wn.bnJ.Accent,length:wn.Wmq.Short},this.unselectCountersButton={label:"Remove selected counters",theme:wn.bnJ.Accent,length:wn.Wmq.Short},this.filterKey=["counter","dimensionDistName","counterUnit","counterValues","measurementAbbreviation"],this.collator=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"})}ngOnInit(){this.loadStateFromRedirect(),this.selectCounterDialogStatus$=this.store.pipe((0,g.Ys)(uT)),this.isRetrievingCountersValuesFailed$=this.store.select(o_.BG),this.isPmSpinnerVisible$=this.store.select(oT),this.isPmServerDown$=this.store.select(o_.cV),this.pmCounters$=(0,ft.aj)([this.store.select(o_.u7),this.store.select(d_.dw),this.store.select(o_.wi),this.store.select(o_.wb),this.store.select(o_.jO)]).pipe((0,A.U)(([e,t,n,i,o])=>e.map(e=>{const s=(0,sT.L0)(e.uniqueId),a=this.getCounterUnit(t,s),{measurementAbbreviation:r,counterAbbreviation:l}=this.getAbbreviations(n,e);return{dimensionDistName:(0,sT.DJ)(e.uniqueId),counterId:s,counterAbbreviation:l,counterUnit:a,counterValues:this.getValuesInTimeRange(e.values,i,o),measurementAbbreviation:r}}).sort((e,t)=>this.sortCounters(e,t)))),this.noCounterSelected$=this.pmCounters$.pipe((0,A.U)(e=>!e.length)),this.countersFilter$=this.store.select(o_.Rt),this.filteredCounters$=(0,ft.aj)([this.pmCounters$,this.store.select(o_.Rt)]).pipe((0,A.U)(([e,t])=>(0,nT.sA)(e,this.filterKey,t))),this.isTableViewActive$=this.store.select(o_.GT).pipe((0,A.U)(e=>e===s_.E.TABLE),(0,Ps.d)()),this.exportFileName$=this.store.select(this.layoutsConfigService.getStatusBarModel.selectModelState).pipe((0,A.U)(e=>this.exportService.getExportFilenameForPmView(e))),this.exportTableSubscription=this.actions$.pipe((0,oC.l4)(l_.si),(0,Bo.M)(this.exportFileName$)).subscribe(([,e])=>{this.pmTable.exportToCsv(e)}),this.exportChartSubscription=this.actions$.pipe((0,oC.l4)(l_.Wh),(0,Bo.M)(this.exportFileName$)).subscribe(([,e])=>{this.pmChart.savePmChartAsPicture(e)}),this.selectedCounters$=this.store.select(o_.wi).pipe((0,Os.O)([]),(0,il.g)(0)),this.selectedTimeFrame$=this.store.select(o_.PX)}ngOnDestroy(){this.exportTableSubscription&&this.exportTableSubscription.unsubscribe(),this.exportChartSubscription&&this.exportChartSubscription.unsubscribe()}getValuesInTimeRange(e,t,n){return""===t&&(t=(null==e?void 0:e.length)>0?e[0].startTime:""),""===n&&(n=(null==e?void 0:e.length)>0?e[e.length-1].startTime:""),e?e.filter(e=>e.startTime>=t&&e.startTime<=n):[]}openSelectCounterModal(e){this.store.dispatch((0,r_.U)({counters:[],timeFrame:e,onSubmit:(e,t,n)=>this.store.dispatch((0,c_.w0)({nodes:e,counterStartTime:t,timeFrame:n})),maxCountersLimit:u_.s}))}loadStateFromRedirect(){var e;(null===(e=history.state)||void 0===e?void 0:e.data)&&history.state.data.type===$g.b.PERFORMANCE_MANAGEMENT&&this.store.dispatch((0,tT.XH)())}clearCounterSelection(){this.store.dispatch((0,c_.zb)())}getCounterUnit(e,t){const n=e.find(e=>e.counters.some(e=>e.id===t)),i=null==n?void 0:n.counters.find(e=>e.id===t);return i?i.unit:MT.UNKNOWN}getAbbreviations(e,t){const n=(0,sT.L0)(t.uniqueId),i=e.find(e=>e.counterId===n);return i?{measurementAbbreviation:i.measurementAbbreviation,counterAbbreviation:i.counterAbbreviation}:MT.UNKNOWN_ABBREVIATIONS}sortCounters(e,t){return this.collator.compare(`${e.dimensionDistName}/${e.measurementAbbreviation}/${e.counterId}`,`${t.dimensionDistName}/${t.measurementAbbreviation}/${t.counterId}`)}}MT.UNKNOWN="Unknown",MT.UNKNOWN_ABBREVIATIONS={measurementAbbreviation:MT.UNKNOWN,counterAbbreviation:MT.UNKNOWN},MT.\u0275fac=function(e){return new(e||MT)(Pe.Y36(g.yh),Pe.Y36(HC.p),Pe.Y36(ls.Ty),Pe.Y36(Pe.sBO),Pe.Y36(oC.eX))},MT.\u0275cmp=Pe.Xpm({type:MT,selectors:[["pm-v2-main-view"]],viewQuery:function(e,t){if(1&e&&(Pe.Gf(mT,5),Pe.Gf(fT,5)),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.pmTable=e.first),Pe.iGM(e=Pe.CRH())&&(t.pmChart=e.first)}},decls:8,vars:7,consts:[["severity","error","iconClass","mdi mdi-alert red-alert icon-class-alert",3,"text",4,"ngIf"],[4,"ngIf","ngIfElse"],["noCountersSelected",""],["noCountersRetrieve",""],["severity","error","iconClass","mdi mdi-alert red-alert icon-class-alert",3,"text"],[1,"pm-main-view-header"],[1,"pm-main-view-content",3,"ngClass"],[4,"ngIf"],["class","no-counters-info",4,"ngIf","ngIfElse"],["pmTableView",""],["pmChartView",""],[1,"no-counters-info"],[1,"information-icon","mdi","mdi-information"],[3,"selectCounterDialogStatus","pmCounters","loading",4,"ngIf","ngIfElse"],[3,"selectCounterDialogStatus","pmCounters","loading"],["pmTable",""],["pmChart",""],["noCountersAvailable",""],[1,"data-loading-spinner"],["class","no-counters-selected-wrapper",4,"ngIf"],[1,"no-counters-selected-wrapper"],["id","pm-no-counters-available-msg"],[1,"select-counters-button",3,"model","action"],[1,"no-counters-retrieve-wrapper"],[1,"alert-icon","mdi","mdi-alert"],["id","pm-no-counters-retrieve-msg"],[1,"unselect-counters-button",3,"model","action"]],template:function(e,t){if(1&e&&(Pe.YNc(0,bT,1,1,"ui-webem-alarm-message",0),Pe.ALo(1,"async"),Pe.YNc(2,wT,3,4,"ng-container",1),Pe.ALo(3,"async"),Pe.YNc(4,IT,4,4,"ng-template",null,2,Pe.W1O),Pe.YNc(6,ET,5,1,"ng-template",null,3,Pe.W1O)),2&e){const e=Pe.MAs(7);Pe.Q6J("ngIf",Pe.lcZ(1,3,t.isPmServerDown$)),Pe.xp6(2),Pe.Q6J("ngIf",!Pe.lcZ(3,5,t.isRetrievingCountersValuesFailed$))("ngIfElse",e)}},directives:[m.O5,pT.B,m.mk,gT.$,hT._,mo.O,Ui.r],pipes:[m.Ov],styles:['[_nghost-%COMP%]{display:flex;height:calc(100% - 60px);flex-direction:column;margin-left:15px;margin-right:15px;overflow:hidden;border-top:1px solid #98a2ae}[_nghost-%COMP%]   .spinner-background[_ngcontent-%COMP%]{display:block;background-color:#edf2f5}[_nghost-%COMP%]   .spinner-background[_ngcontent-%COMP%]     ui-webem-pm-table{user-select:none}[_nghost-%COMP%]   .spinner-background[_ngcontent-%COMP%]     .ui-table .ui-table-scrollable-view:before{top:0;left:0;right:0;bottom:0;background-size:cover;background-color:#fff;opacity:.5;content:"";display:block;position:absolute;z-index:1}[_nghost-%COMP%]   .spinner-background[_ngcontent-%COMP%]     ui-webem-chart{pointer-events:none;user-select:none;filter:blur(1px)}.pm-main-view-header[_ngcontent-%COMP%]{width:100%;height:34px;flex:0 0 auto;padding-top:10px;font-size:16px;border-bottom:1px solid #98a2ae}.pm-main-view-content[_ngcontent-%COMP%]{width:100%;height:100%;min-height:0;flex:1 1 auto;overflow:hidden;padding-top:10px;position:relative;padding-right:2px}.no-counters-retrieve-wrapper[_ngcontent-%COMP%], .no-counters-selected-wrapper[_ngcontent-%COMP%], .spinner-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.no-counters-selected-wrapper[_ngcontent-%COMP%]{color:#98a2ae;flex-direction:column;text-align:center}.no-counters-selected-wrapper[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;display:block}.no-counters-selected-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#98a2ae}.no-counters-retrieve-wrapper[_ngcontent-%COMP%]{color:#da1914;flex-direction:column;text-align:center}.no-counters-retrieve-wrapper[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{font-size:26px;display:block}.no-counters-retrieve-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#98a2ae}.select-counters-button[_ngcontent-%COMP%], .unselect-counters-button[_ngcontent-%COMP%]{padding-top:18px}']});const kT=[{path:"",outlet:"content_actions_bar",component:P_,pathMatch:"full"},{path:"",outlet:"content_center",component:MT,pathMatch:"full"},{path:"",outlet:"content_right",component:eT,pathMatch:"full"}];let NT=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(kT)],f.Bz]}),e})();var LT=n(64530),DT=n(19846),ZT=n(66198),RT=n(94877),UT=n(87894),FT=n(4241),jT=n(14411),$T=n(84294),qT=n(9598),BT=n(53883),GT=n(40147),VT=n(56123),YT=n(32765),JT=n(54606),HT=n(66603),WT=n(38421),QT=n(97478);let zT=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[JT.y],imports:[[NT,ZT.G,m.ez,cC.E,wn.g3K,wn.OUy,wn.y$Z,wn.F8l,wn.EJq,QT.W6,mt.xc,jm.U$,j_,xn.u5,LT.m,DT.n,wn.Fme,g.Aw.forFeature("PerformanceManagementV2",{countersInfo:FT.u,countersValues:RT.y,countersPmService:GT.Q,countersSelection:UT.Bd,countersToggleTree:jT.O,countersDetails:$T.l,countersExpansion:qT.E,countersFilter:BT.a}),g.Aw.forFeature(rT,cT),oC.sQ.forFeature([VT.O,YT.G]),xi.kW,HT.f,hC.s,wn.lEK,WT.Gg,Nr.z,Mt.hJ,nC.$]]}),e})();var KT=n(53049),XT=(()=>(function(e){e.SET_CERTIFICATES="[Operator certificates page] set operator certificates",e.DELETE_ALL_CERTIFICATES="[User] [Operator certificates page] delete all operator certificates",e.REMOVE_ALL_FROM_STORE="[Operator certificates page] remove all certificates from store",e.REQUEST_CERTIFICATE_BY_ID="[Operator certificates page] request certificate by id",e.DELETE_CERTIFICATE_BY_ID="[User] [Operator certificates page] delete certificate by id",e.REMOVE_CERTIFICATE_BY_ID_FROM_STORE="[Operator certificates page] remove certificate by id from store",e.SUBSCRIBE_CERTIFICATES_WATCH="[User] [Operator certificates page] subscribe certificates watch",e.SUBSCRIBE_CERTIFICATES_ERROR="[Operator certificates page] subscribe certificates error",e.UNSUBSCRIBE_CERTIFICATES_WATCH="[User] [Operator certificates page] unsubscribe certificates watch",e.SELECT_OPERATOR_CERTIFICATE="[User] [Operator certificate page] select operator certificate from table",e.DESELECT_OPERATOR_CERTIFICATE="[User] [Operator certificate page] deselect operator certificate from table",e.INSTALL_CERTIFICATE="[User] [Operator certificates page] install operator certificate",e.SUBSCRIBE_DELETE_CERT_BY_ID_OPERATION_STATUS_WATCH="[Operator certificates page] subscribe delete certificate  by id operation status watch",e.UNSUBSCRIBE_DELETE_CERT_BY_ID_OPERATION_STATUS_WATCH="[Operator certificates page] unsubscribe delete certificate  by id operation status watch",e.SUBSCRIBE_DELETE_ALL_CERTIFICATES_OPERATION_STATUS_WATCH="[Operator certificates page] subscribe delete all certificates operation status watch",e.UNSUBSCRIBE_DELETE_ALL_CERTIFICATES_OPERATION_STATUS_WATCH="[Operator certificates page] unsubscribe delete all certificates operation status watch",e.SUBSCRIBE_INSTALL_CERTIFICATE_OPERATION_STATUS_WATCH="[Operator certificates page] subscribe install certificate operation status watch",e.UNSUBSCRIBE_INSTALL_CERTIFICATE_OPERATION_STATUS_WATCH="[Operator certificates page] unsubscribe install certificate operation status watch",e.SET_ITEMS_PER_PAGE="[Operator certificates page] SetItemsPerPage",e.IS_LOADING_OPERATOR_CERTIFICATE_DATA="[Operator certificates page] Is loading operator certificate data",e.CLEAN_INSTALL_STATE_IS_NOT_ONGOING="[Operator certificates page] clean install state is not ongoing",e.CLEAN_RESTORE_DEFAULT_CERT_STATE_IS_NOT_ONGOING="[Operator certificates page] clean restore default certificates state is not ongoing"}(XT||(XT={})),XT))();class eI{constructor(e){this.payload=e,this.type=XT.SET_CERTIFICATES}}class tI{constructor(){this.type=XT.DELETE_ALL_CERTIFICATES}}class nI{constructor(){this.type=XT.UNSUBSCRIBE_CERTIFICATES_WATCH}}class iI{constructor(){this.type=XT.SUBSCRIBE_CERTIFICATES_WATCH}}class oI{constructor(e){this.payload=e,this.type=XT.DELETE_CERTIFICATE_BY_ID}}class sI{constructor(e){this.payload=e,this.type=XT.REMOVE_CERTIFICATE_BY_ID_FROM_STORE}}class aI{constructor(e){this.payload=e,this.type=XT.SUBSCRIBE_CERTIFICATES_ERROR}}class rI{constructor(e){this.payload=e,this.type=XT.SELECT_OPERATOR_CERTIFICATE}}class lI{constructor(){this.type=XT.DESELECT_OPERATOR_CERTIFICATE}}class cI{constructor(e){this.payload=e,this.type=XT.INSTALL_CERTIFICATE}}class dI{constructor(e){this.payload=e,this.type=XT.SUBSCRIBE_DELETE_CERT_BY_ID_OPERATION_STATUS_WATCH}}class uI{constructor(){this.type=XT.UNSUBSCRIBE_DELETE_CERT_BY_ID_OPERATION_STATUS_WATCH}}class pI{constructor(e){this.payload=e,this.type=XT.SUBSCRIBE_DELETE_ALL_CERTIFICATES_OPERATION_STATUS_WATCH}}class gI{constructor(){this.type=XT.UNSUBSCRIBE_DELETE_ALL_CERTIFICATES_OPERATION_STATUS_WATCH}}class hI{constructor(e){this.payload=e,this.type=XT.SUBSCRIBE_INSTALL_CERTIFICATE_OPERATION_STATUS_WATCH}}class mI{constructor(){this.type=XT.UNSUBSCRIBE_INSTALL_CERTIFICATE_OPERATION_STATUS_WATCH}}class fI{constructor(e){this.payload=e,this.type=XT.SET_ITEMS_PER_PAGE}}const bI=(0,g.PH)(XT.IS_LOADING_OPERATOR_CERTIFICATE_DATA,(0,g.Ky)()),CI=(0,g.PH)(XT.CLEAN_INSTALL_STATE_IS_NOT_ONGOING),vI=(0,g.PH)(XT.CLEAN_RESTORE_DEFAULT_CERT_STATE_IS_NOT_ONGOING),yI=(0,I.H)({selectId:e=>e.id}),SI=yI.getInitialState({itemsPerPage:15,isLoadingOperatorCertificateData:!1});function PI(e=SI,t){return t.type===XT.SET_CERTIFICATES?yI.setAll(t.payload,e):t.type===XT.REMOVE_CERTIFICATE_BY_ID_FROM_STORE?yI.removeOne(t.payload,e):t.type===XT.SET_ITEMS_PER_PAGE?Object.assign(Object.assign({},e),{itemsPerPage:t.payload}):t.type===XT.IS_LOADING_OPERATOR_CERTIFICATE_DATA?Object.assign(Object.assign({},e),{isLoadingOperatorCertificateData:t.isLoadingOperatorCertificateData}):e}const{selectAll:OI}=yI.getSelectors(),xI=(0,g.ZF)("OperatorCertificates"),wI=(0,g.P1)(xI,OI),AI=(0,g.P1)(xI,e=>e.ids.length),_I=(0,g.P1)(xI,e=>e.itemsPerPage),TI=(0,g.P1)(xI,e=>e.isLoadingOperatorCertificateData);var II=(()=>(function(e){e.GENERATE_CSR="[User] [Operator certificates page] generate operator CSR",e.RETRIEVE_CSR="[Operator certificates page] Retrieve operator CSR",e.SET_CSR="[Operator certificates page] Set operator CSR",e.SUBSCRIBE_CSR_ERROR="[Operator certificates page] Subscribe csr error",e.DOWNLOAD_CSR="[User] [Operator certificates page] Download csr certificates",e.SUBSCRIBE_GENERATE_CSR_OPERATION_STATUS_WATCH="[User] [Operator certificates page] Subscribe generate csr operation",e.UNSUBSCRIBE_GENERATE_CSR_OPERATION_STATUS_WATCH="[User] [Operator certificates page] Unsubscribe generate csr operation",e.CLEAN_CSR_STATE_IS_NOT_ONGOING="[Operator certificates page] clean CSR state is not ongoing"}(II||(II={})),II))();const EI=(0,g.PH)(II.GENERATE_CSR),MI=(0,g.PH)(II.RETRIEVE_CSR),kI=(0,g.PH)(II.SET_CSR,(0,g.Ky)()),NI=(0,g.PH)(II.SUBSCRIBE_CSR_ERROR,(0,g.Ky)()),LI=(0,g.PH)(II.DOWNLOAD_CSR,(0,g.Ky)()),DI=(0,g.PH)(II.SUBSCRIBE_GENERATE_CSR_OPERATION_STATUS_WATCH,(0,g.Ky)()),ZI=(0,g.PH)(II.UNSUBSCRIBE_GENERATE_CSR_OPERATION_STATUS_WATCH),RI=(0,g.PH)(II.CLEAN_CSR_STATE_IS_NOT_ONGOING),UI=(0,g.Lq)({csrFileContent:""},(0,g.on)(kI,(e,{csrFileContent:t})=>Object.assign(Object.assign({},e),{csrFileContent:t})));function FI(e,t){return UI(e,t)}const jI=(0,g.ZF)("OperatorCsr"),$I=(0,g.P1)(jI,e=>e.csrFileContent);var qI=n(90100);let BI=(()=>{class e{constructor(e){this.datetimeService=e,this.certType={ta:"TA",ca:"CA",ee:"EE"}}static computeStatusForCertificate(e,t){return e-t<=432e6&&e-t>=0?0:t<e?1:-1}shouldNotUpdateCertificate(t){const n=qI.d.getCurrentUnixTimestamp(),i=t.map(t=>({id:t.id,status:e.computeStatusForCertificate(this.datetimeService.getTimestampFromISOTime(t.details.validTo),n)}));return!!_.isEqual(this.oldCertificatesStatus,i)||(this.oldCertificatesStatus=i,!1)}recurseTreeTable(e,t={},n){return _.isEmpty(e)||_.forEach(e,e=>{n(e,t),this.recurseTreeTable(e.children,t,n)}),{tableList:e,expandedHistory:t}}createTableModel(t){const n=qI.d.getCurrentUnixTimestamp();return t.map(t=>({status:e.computeStatusForCertificate(this.datetimeService.getTimestampFromISOTime(t.details.validTo),n),id:t.id,issuedBy:this.extractCommonName(t.details.issuedBy),issuedTo:this.extractCommonName(t.details.issuedTo),certifType:t.type,canBeDeleted:!0,trustChain:t.details.trustChain,validFrom:t.details.validFrom&&this.datetimeService.formatFromISO2GMTTime(t.details.validFrom),validTo:t.details.validTo&&this.datetimeService.formatFromISO2GMTTime(t.details.validTo),serialNumber:t.details.serialNumber}))}composeTreeTable(e,t){let n=[];const i=_.values(_.groupBy(e,e=>{var t;return null===(t=e.trustChain)||void 0===t?void 0:t.value}));return _.forEach(i,e=>{n=_.concat(n,this.composeCertChain(e,t))}),_.sortBy(n,[e=>{var t;return null===(t=e.data.trustChain)||void 0===t?void 0:t.value}])}composeCertChain(e,t){let n=[];const i=[],o=e.reduce((e,t)=>(e[t.issuedTo]={data:t},e),{});for(const a of Object.values(o)){const e=a,t=e.data,s=this.findParentCertificate(o,t);t.certifType!==this.certType.ta&&s?(s.children=s.children||[],s.children.push(e),i.push(t.serialNumber)):(n.push(e),i.push(t.serialNumber)),e.data.certifType===this.certType.ee&&this.updateDeletionStatus(e,o)}const{tableList:s}=this.recurseTreeTable(n,{},(e,n)=>{e.expanded=!(!e.children||void 0!==t[e.data.id])||t[e.data.id]});return n=s,this.addAllRepeatedIssuedToCerts(i,n,e,t)}findParentCertificate(e,t){if(_.isEmpty(t.trustChain))return e[t.issuedBy];const n=_.find(_.keys(e),n=>{var i,o;const s=null===(i=e[n].data.trustChain)||void 0===i?void 0:i.value;return n===t.issuedBy&&s===(null===(o=t.trustChain)||void 0===o?void 0:o.value)});return e[n||""]}updateDeletionStatus(e,t){e.data.canBeDeleted=!1;const n=t[e.data.issuedBy||""];_.isEmpty(n)||e===n||(n.data.certifType!==this.certType.ta?this.updateDeletionStatus(n,t):n.data.canBeDeleted=!1)}addAllRepeatedIssuedToCerts(e,t,n,i){const o=[],s=[],a=[];n.forEach(t=>{e.includes(t.serialNumber)||(t.certifType===this.certType.ta&&o.push({data:t}),t.certifType===this.certType.ca&&s.push({data:t}),t.certifType===this.certType.ee&&a.push({data:t}))});const r=_.groupBy(s,e=>e.data.issuedBy),l=_.groupBy(a,e=>e.data.issuedBy);return t.forEach(e=>{var t;r[e.data.issuedTo]&&this.addChildrenExpandedStatus(e,i,r),null===(t=null==e?void 0:e.children)||void 0===t||t.forEach(e=>{l[e.data.issuedTo]&&(e.data.canBeDeleted=!1,l[e.data.issuedTo].forEach(e=>{e.data.canBeDeleted=!1}),this.addChildrenExpandedStatus(e,i,l))})}),t.concat(o).concat(...Object.values(r)).concat(...Object.values(l))}addChildrenExpandedStatus(e,t,n){var i;_.isEmpty(e.children)&&(e.children=[]),e.expanded=!(!e.children||void 0!==t[e.data.id])||t[e.data.id],null===(i=e.children)||void 0===i||i.push(...n[e.data.issuedTo].slice()),delete n[e.data.issuedTo]}extractCommonName(e=""){const t=e.match(/CN = ([a-zA-Z0-9\. ]+)/);return t&&t.length>1?t[1]:e}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(qI.d))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var GI=(()=>(function(e){e.setTableFilters="[User] Set filters from certificate table"}(GI||(GI={})),GI))();const VI=(0,g.PH)(GI.setTableFilters,(0,g.Ky)()),YI=(0,g.Lq)({status:[],issuedTo:"",issuedBy:"",certifType:[],serialNumber:""},(0,g.on)(VI,(e,t)=>t.payload));function JI(e,t){return YI(e,t)}const HI=(0,g.ZF)("OperatorCertifFilters");var WI=(()=>(function(e){e.SetOperationId="[Certificate Operation] Set operation id",e.SetOperationStatus="[Certificate Operation] Set operation status",e.ResetOperation="[Certificate Operation] Reset operation",e.SetCertificateType="[Certificate Operation] Set certificate type"}(WI||(WI={})),WI))();const QI=(0,g.PH)(WI.SetOperationId,(0,g.Ky)()),zI=(0,g.PH)(WI.SetCertificateType,(0,g.Ky)()),KI=(0,g.PH)(WI.SetOperationStatus,(0,g.Ky)()),XI=(0,g.PH)(WI.ResetOperation,(0,g.Ky)()),eE="CertificateManagementOperations";var tE=(()=>(function(e){e.UPDATE_CMP_SERVER_KEY="updateCmpServerKey",e.INITIALIZE_CERTIFICATES="initializeCertificates",e.UPDATE_CMP_SERVER_SETTINGS="updateCmpServerSettings",e.UPDATE_CRL="updateCrl",e.GENERATE_CSR="generateCsr",e.INSTALL_CERTIFICATE="installCertificate",e.DELETE_CERTIFICATE_BY_ID="deleteCertificateById",e.DELETE_ALL_CERTIFICATES="deleteAllCertificates"}(tE||(tE={})),tE))();const nE=(0,g.Lq)({[tE.UPDATE_CMP_SERVER_KEY]:{id:"",operationStatus:null},[tE.INITIALIZE_CERTIFICATES]:{id:"",operationStatus:null},[tE.UPDATE_CMP_SERVER_SETTINGS]:{id:"",operationStatus:null},[tE.UPDATE_CRL]:{id:"",operationStatus:null},[tE.GENERATE_CSR]:{id:"",operationStatus:null},[tE.INSTALL_CERTIFICATE]:{id:"",operationStatus:null},[tE.DELETE_CERTIFICATE_BY_ID]:{id:"",operationStatus:null},[tE.DELETE_ALL_CERTIFICATES]:{id:"",operationStatus:null}},(0,g.on)(QI,(e,{operationType:t,operationId:n,certId:i})=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{id:n,certId:i,operationStatus:null})})),(0,g.on)(zI,(e,{operationType:t,certificateType:n})=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{certificateType:n})})),(0,g.on)(KI,(e,{operationType:t,operationStatus:n})=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{operationStatus:n})})),(0,g.on)(XI,(e,{operationType:t})=>Object.assign(Object.assign({},e),{[t]:{id:"",certId:void 0,operationStatus:null,certificateType:""}})));function iE(e,t){return nE(e,t)}const oE=(0,g.ZF)(eE),sE=(0,g.P1)(oE,e=>e[tE.UPDATE_CMP_SERVER_KEY]),aE=(0,g.P1)(oE,e=>SE(e,tE.UPDATE_CMP_SERVER_KEY)),rE=(0,g.P1)(oE,e=>e[tE.INITIALIZE_CERTIFICATES]),lE=(0,g.P1)(oE,e=>SE(e,tE.INITIALIZE_CERTIFICATES)),cE=(0,g.P1)(oE,e=>e[tE.UPDATE_CMP_SERVER_SETTINGS]),dE=(0,g.P1)(oE,e=>SE(e,tE.UPDATE_CMP_SERVER_SETTINGS)),uE=(0,g.P1)(oE,e=>e[tE.UPDATE_CRL]),pE=(0,g.P1)(oE,e=>SE(e,tE.UPDATE_CRL)),gE=(0,g.P1)(oE,e=>e[tE.GENERATE_CSR]),hE=(0,g.P1)(oE,e=>SE(e,tE.GENERATE_CSR)),mE=(0,g.P1)(oE,e=>e[tE.INSTALL_CERTIFICATE]),fE=(0,g.P1)(oE,e=>SE(e,tE.INSTALL_CERTIFICATE)),bE=(0,g.P1)(oE,e=>e[tE.DELETE_CERTIFICATE_BY_ID]),CE=(0,g.P1)(oE,e=>SE(e,tE.DELETE_CERTIFICATE_BY_ID)),vE=(0,g.P1)(oE,e=>e[tE.DELETE_ALL_CERTIFICATES]),yE=(0,g.P1)(oE,e=>SE(e,tE.DELETE_ALL_CERTIFICATES));function SE(e,t){const n=e[t];return!(0,_.isNull)(n.operationStatus)&&"Ongoing"===n.operationStatus.status}var PE=(()=>(function(e){e.SET_CMP_SERVER_STATUS="[CertificatesAutomaticManagement] set cmp server status",e.SUBSCRIBE_CMP_SERVER_STATUS_WATCH="[User] [CertificatesAutomaticManagement] subscribe to cmp server status watch",e.UNSUBSCRIBE_CMP_SERVER_STATUS_WATCH="[User] [CertificatesAutomaticManagement] unsubscribe from cmp server status watch",e.UPDATE_CMP_SERVER_SETTINGS="[User] [CertificatesAutomaticManagement] update cmp server settings: reference number and pre-shared key",e.SUBSCRIBE_AUTOMATIC_MANAGEMENT_ERROR="[CertificatesAutomaticManagement] subscribe update cmp server settings error",e.UPDATE_CMP_SERVER_KEY="[User] [CertificatesAutomaticManagement] update cmp server server key",e.INITIALIZE_CERTIFICATES="[User] [CertificatesAutomaticManagement] initialize certificates",e.SET_CMP_SERVER_CONFIGURATION="[CertificatesAutomaticManagement] set cmp server configuration",e.SUBSCRIBE_CERTIF_INIT_OPERATION_STATUS_WATCH="[CertificatesAutomaticManagement] subscribe certif init operation status watch",e.UNSUBSCRIBE_CERTIF_INIT_OPERATION_STATUS_WATCH="[CertificatesAutomaticManagement] unsubscribe certif init operation status watch",e.SUBSCRIBE_UPDATE_KEY_OPERATION_STATUS_WATCH="[CertificatesAutomaticManagement] subscribe update cmp key operation status watch",e.UNSUBSCRIBE_UPDATE_KEY_OPERATION_STATUS_WATCH="[CertificatesAutomaticManagement] unsubscribe update cmp key operation status watch",e.SUBSCRIBE_CMP_SERVER_CONFIGURATION_WATCH="[User] [CertificatesAutomaticManagement] subscribe to get cmp server configuration",e.UNSUBSCRIBE_CMP_SERVER_CONFIGURATION_WATCH="[User] [CertificatesAutomaticManagement] unsubscribe to get cmp server configuration",e.SUBSCRIBE_CMP_SERVER_SETTINGS_OPERATION_STATUS_WATCH="[User] [CertificatesAutomaticManagement] subscribe cmp server settings operation status watch",e.UNSUBSCRIBE_CMP_SERVER_SETTINGS_OPERATION_STATUS_WATCH="[User] [CertificatesAutomaticManagement] unsubscribe cmp server settings status watch",e.SET_REF_NUM_LOADING="[CertificatesAutomaticManagement] set reference number loading state",e.SET_PSK_LOADING="[CertificatesAutomaticManagement] set pre-shared key loading state",e.CLEAN_UPDATE_CMP_STATE_IF_IS_NOT_ONGOING="[CertificatesAutomaticManagement] clean update cmp state if is not ongoing",e.CLEAN_CMP_KEY_UPDATE_STATE_IF_IS_NOT_ONGOING="[CertificatesAutomaticManagement] clean cmp key update state if is not ongoing",e.CLEAN_INITIALIZE_CERT_STATE_IF_IS_NOT_ONGOING="[CertificatesAutomaticManagement] clean initialize certificates state if is not ongoing"}(PE||(PE={})),PE))();class OE{constructor(e){this.payload=e,this.type=PE.SET_CMP_SERVER_STATUS}}class xE{constructor(){this.type=PE.SUBSCRIBE_CMP_SERVER_STATUS_WATCH}}class wE{constructor(){this.type=PE.UNSUBSCRIBE_CMP_SERVER_STATUS_WATCH}}class AE{constructor(){this.type=PE.UPDATE_CMP_SERVER_KEY}}class _E{constructor(){this.type=PE.INITIALIZE_CERTIFICATES}}class TE{constructor(e){this.payload=e,this.type=PE.UPDATE_CMP_SERVER_SETTINGS}}class IE{constructor(e){this.payload=e,this.type=PE.SET_CMP_SERVER_CONFIGURATION}}class EE{constructor(e){this.payload=e,this.type=PE.SUBSCRIBE_CERTIF_INIT_OPERATION_STATUS_WATCH}}class ME{constructor(){this.type=PE.UNSUBSCRIBE_CERTIF_INIT_OPERATION_STATUS_WATCH}}class kE{constructor(e){this.payload=e,this.type=PE.SUBSCRIBE_UPDATE_KEY_OPERATION_STATUS_WATCH}}class NE{constructor(){this.type=PE.UNSUBSCRIBE_UPDATE_KEY_OPERATION_STATUS_WATCH}}class LE{constructor(e){this.payload=e,this.type=PE.SUBSCRIBE_CMP_SERVER_SETTINGS_OPERATION_STATUS_WATCH}}class DE{constructor(){this.type=PE.UNSUBSCRIBE_CMP_SERVER_SETTINGS_OPERATION_STATUS_WATCH}}class ZE{constructor(e){this.payload=e,this.type=PE.SUBSCRIBE_AUTOMATIC_MANAGEMENT_ERROR}}class RE{constructor(){this.type=PE.SUBSCRIBE_CMP_SERVER_CONFIGURATION_WATCH}}class UE{constructor(){this.type=PE.UNSUBSCRIBE_CMP_SERVER_CONFIGURATION_WATCH}}class FE{constructor(e){this.payload=e,this.type=PE.SET_REF_NUM_LOADING}}class jE{constructor(e){this.payload=e,this.type=PE.SET_PSK_LOADING}}const $E=(0,g.PH)(PE.CLEAN_UPDATE_CMP_STATE_IF_IS_NOT_ONGOING),qE=(0,g.PH)(PE.CLEAN_CMP_KEY_UPDATE_STATE_IF_IS_NOT_ONGOING),BE=(0,g.PH)(PE.CLEAN_INITIALIZE_CERT_STATE_IF_IS_NOT_ONGOING),GE={cmpServerConfiguration:{state:"",caSubjectName:"",eeSubjectName:"",serverHost:"",serverPath:"",serverPort:""},cmpServerStatus:""};function VE(e=GE,t){switch(t.type){case PE.SET_CMP_SERVER_STATUS:return Object.assign(Object.assign({},e),{cmpServerStatus:t.payload});case PE.SET_CMP_SERVER_CONFIGURATION:return Object.assign(Object.assign({},e),{cmpServerConfiguration:t.payload});default:return e}}const YE=(0,g.ZF)("AutomaticManagementState"),JE=(0,g.P1)(YE,e=>e.cmpServerStatus),HE=(0,g.P1)(YE,e=>e.cmpServerConfiguration),WE=(0,g.P1)(YE,e=>!e.cmpServerConfiguration.eeSubjectName),QE=(0,g.P1)(YE,e=>!e.cmpServerConfiguration.caSubjectName),zE=(0,g.P1)(YE,e=>!e.cmpServerConfiguration.serverHost||!e.cmpServerConfiguration.serverPath||!e.cmpServerConfiguration.serverPort),KE=(0,g.P1)(YE,e=>!(e.cmpServerConfiguration.serverHost&&e.cmpServerConfiguration.serverPath&&e.cmpServerConfiguration.serverPort&&e.cmpServerConfiguration.caSubjectName&&e.cmpServerConfiguration.eeSubjectName));function XE(e){const t=e.lastIndexOf(".");return-1!==t?e.substring(0,t):e}var eM=n(59290),tM=n(91295),nM=n(10692);const iM=["certTable"];function oM(e,t){1&e&&Pe._uU(0,"Install Operator Certificates")}function sM(e,t){if(1&e&&(Pe.TgZ(0,"div",24),Pe._UZ(1,"i",25),Pe._uU(2),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(2),Pe.hij(" ",e.fileValidationMessage," ")}}function aM(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",26),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(2).onInstallFile()}),Pe.ALo(1,"async"),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.Q6J("disabled",!n.payload||!!n.fileValidationMessage||Pe.lcZ(1,2,n.isInstallButtonDisabled$))("model",e.installButtonModel)}}function rM(e,t){if(1&e&&(Pe.TgZ(0,"span",30),Pe._UZ(1,"i",31),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngClass",e.result.iconClass)}}function lM(e,t){if(1&e&&(Pe.TgZ(0,"span",32),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Oqu(e.result.message)}}function cM(e,t){if(1&e&&(Pe.ynx(0,27),Pe.YNc(1,rM,2,1,"span",28),Pe.YNc(2,lM,2,1,"span",29),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.iconClass),Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.message)}}const dM=function(e){return{installButtonModel:e}},uM=function(e){return{result:e}};function pM(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",9),Pe.TgZ(1,"div",10),Pe._uU(2," Certificate type: "),Pe.qZA(),Pe.TgZ(3,"div",11),Pe.TgZ(4,"p-radioButton",12),Pe.NdJ("onClick",function(){return Pe.CHM(e),Pe.oxw().onCertificateTypeChange()})("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().certificateToInstall=t}),Pe.ALo(5,"async"),Pe.qZA(),Pe.TgZ(6,"p-radioButton",13),Pe.NdJ("onClick",function(){return Pe.CHM(e),Pe.oxw().onCertificateTypeChange()})("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().certificateToInstall=t}),Pe.ALo(7,"async"),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"div",14),Pe.TgZ(9,"div",15),Pe._uU(10," Certificate file: "),Pe.qZA(),Pe.TgZ(11,"div",16),Pe.TgZ(12,"div",17),Pe._UZ(13,"input",18),Pe.TgZ(14,"ui-webem-button",19),Pe.NdJ("action",function(t){return Pe.CHM(e),Pe.oxw().onBrowseFile(t)}),Pe.ALo(15,"async"),Pe.qZA(),Pe.qZA(),Pe.YNc(16,sM,3,1,"div",20),Pe.qZA(),Pe.TgZ(17,"div",21),Pe.YNc(18,aM,2,4,"ui-webem-button",22),Pe.ALo(19,"async"),Pe.YNc(20,cM,3,2,"ng-container",23),Pe.ALo(21,"async"),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(4),Pe.s9C("value",e.EE_CERTIFICATE_TYPE),Pe.Q6J("disabled",Pe.lcZ(5,13,e.installOperatorCertificateInProgress$))("ngModel",e.certificateToInstall),Pe.xp6(2),Pe.s9C("value",e.CA_CERTIFICATE_TYPE),Pe.Q6J("disabled",Pe.lcZ(7,15,e.installOperatorCertificateInProgress$))("ngModel",e.certificateToInstall),Pe.xp6(7),Pe.Q6J("value",e.getPayloadValue()),Pe.xp6(1),Pe.Q6J("model",e.modelBrowse)("options",e.options)("disabled",Pe.lcZ(15,17,e.installOperatorCertificateInProgress$)),Pe.xp6(2),Pe.Q6J("ngIf",!!e.fileValidationMessage),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(23,dM,Pe.lcZ(19,19,e.installButtonModel$))),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(25,uM,Pe.lcZ(21,21,e.installCertificateResult$)))}}function gM(e,t){1&e&&Pe._uU(0,"Certificate Signing Request")}function hM(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",39),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(2).onGenerateCsr()}),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.Q6J("model",e.model)("disabled",Pe.lcZ(1,3,n.generateCsrInProgress$)||Pe.lcZ(2,5,n.installOperatorCertificateInProgress$)||Pe.lcZ(3,7,n.isEeSubjectNameNotConfigured$))("title",Pe.lcZ(4,9,n.isEeSubjectNameNotConfigured$)?n.TOOLTIP:"")}}function mM(e,t){if(1&e&&(Pe.TgZ(0,"span",41),Pe._UZ(1,"i",31),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngClass",e.result.iconClass)}}function fM(e,t){if(1&e&&(Pe.TgZ(0,"span",32),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Oqu(e.result.message)}}function bM(e,t){if(1&e&&(Pe.ynx(0,27),Pe.YNc(1,mM,2,1,"span",40),Pe.YNc(2,fM,2,1,"span",29),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.iconClass),Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.message)}}const CM=function(e){return{model:e}};function vM(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",33),Pe.YNc(1,hM,5,11,"ui-webem-button",34),Pe.ALo(2,"async"),Pe.YNc(3,bM,3,2,"ng-container",23),Pe.ALo(4,"async"),Pe.qZA(),Pe.TgZ(5,"div",35),Pe.TgZ(6,"button",36),Pe.NdJ("click",function(){return Pe.CHM(e),Pe.oxw().onCopyCsr()}),Pe.ALo(7,"async"),Pe.qZA(),Pe.TgZ(8,"button",37),Pe.NdJ("click",function(){return Pe.CHM(e),Pe.oxw().onDownloadCsr()}),Pe.ALo(9,"async"),Pe.ALo(10,"async"),Pe.qZA(),Pe.TgZ(11,"textarea",38),Pe.ALo(12,"async"),Pe._uU(13,"                    "),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(18,CM,Pe.lcZ(2,6,e.generateCsrButtonModel$))),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(20,uM,Pe.lcZ(4,8,e.generateCertificateResult$))),Pe.xp6(3),Pe.Q6J("disabled",!Pe.lcZ(7,10,e.csr$)),Pe.xp6(2),Pe.Q6J("disabled",!Pe.lcZ(9,12,e.csr$)||Pe.lcZ(10,14,e.generateCsrInProgress$)),Pe.xp6(3),Pe.Q6J("rows",7)("ngModel",Pe.lcZ(12,16,e.csr$))}}function yM(e,t){1&e&&Pe._uU(0,"Operator Certificates")}const SM=function(e,t){return{"shrink-column-size":e,"action-column-size":t}};function PM(e,t){if(1&e&&Pe._UZ(0,"col",53),2&e){const e=t.index;Pe.Q6J("ngClass",Pe.WLB(1,SM,0===e||3===e,7===e))}}function OM(e,t){if(1&e&&(Pe.TgZ(0,"colgroup"),Pe.YNc(1,PM,1,4,"col",52),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("ngForOf",e)}}function xM(e,t){if(1&e&&(Pe.TgZ(0,"th"),Pe._uU(1),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.hij(" ",e.header," ")}}function wM(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"p-dropdown",56),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw(4).selectedCertStatus=t})("onChange",function(t){return Pe.CHM(e),Pe.oxw(3),Pe.MAs(2).filter(t.value,"status","")}),Pe.qZA(),Pe.BQk()}if(2&e){const e=Pe.oxw(4);Pe.xp6(1),Pe.Q6J("options",e.certsStatus)("ngModel",e.selectedCertStatus)}}function AM(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"div",57),Pe.TgZ(2,"div",58),Pe._UZ(3,"i",59),Pe.qZA(),Pe.TgZ(4,"input",60),Pe.NdJ("input",function(t){Pe.CHM(e);const n=Pe.oxw().$implicit;return Pe.oxw(2),Pe.MAs(2).filter(t.target.value,n.field,"contains")}),Pe.qZA(),Pe.qZA(),Pe.BQk()}}function _M(e,t){if(1&e&&(Pe.TgZ(0,"th"),Pe.YNc(1,wM,2,2,"ng-container",55),Pe.YNc(2,AM,5,0,"ng-container",55),Pe.qZA()),2&e){const e=t.index,n=Pe.oxw(3);Pe.xp6(1),Pe.Q6J("ngIf",0===e),Pe.xp6(1),Pe.Q6J("ngIf",0!==e&&e!==n.cols.length-1)}}function TM(e,t){if(1&e&&(Pe.TgZ(0,"tr"),Pe.YNc(1,xM,2,1,"th",54),Pe.qZA(),Pe.TgZ(2,"tr"),Pe.YNc(3,_M,3,2,"th",54),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("ngForOf",e.cols),Pe.xp6(2),Pe.Q6J("ngForOf",e.cols)}}function IM(e,t){1&e&&Pe._UZ(0,"i",66)}function EM(e,t){1&e&&Pe._UZ(0,"i",67)}function MM(e,t){1&e&&Pe._UZ(0,"i",68)}function kM(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",62),Pe.YNc(2,IM,1,0,"i",63),Pe.YNc(3,EM,1,0,"i",64),Pe.YNc(4,MM,1,0,"i",65),Pe.qZA(),Pe.BQk()),2&e){const e=Pe.oxw().$implicit,t=Pe.oxw().rowData;Pe.xp6(1),Pe.Q6J("ngSwitch",t[e.field]),Pe.xp6(1),Pe.Q6J("ngSwitchCase",1),Pe.xp6(1),Pe.Q6J("ngSwitchCase",0),Pe.xp6(1),Pe.Q6J("ngSwitchCase",-1)}}function NM(e,t){if(1&e&&Pe._UZ(0,"p-treeTableToggler",71),2&e){const e=Pe.oxw(3).$implicit;Pe.Q6J("rowNode",e)}}function LM(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,NM,1,1,"p-treeTableToggler",69),Pe.TgZ(2,"span",70),Pe.ALo(3,"formatTitle"),Pe.ALo(4,"nullableValue"),Pe._uU(5),Pe.ALo(6,"nullableValue"),Pe.qZA(),Pe.BQk()),2&e){const e=Pe.oxw(),t=e.index,n=e.$implicit,i=Pe.oxw().rowData;Pe.xp6(1),Pe.Q6J("ngIf",1===t),Pe.xp6(1),Pe.s9C("title",Pe.lcZ(3,3,Pe.lcZ(4,5,i[n.field]))),Pe.xp6(3),Pe.Oqu(Pe.lcZ(6,7,i[n.field]))}}function DM(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-button",72),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw(2).rowData;return Pe.oxw(2).onDeleteCertificate(t.id)}),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.qZA(),Pe.BQk()}if(2&e){const e=Pe.oxw(2).rowData,t=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("disabled",Pe.lcZ(2,2,t.isDeleteButtonDisabled$)||!e.canBeDeleted)("model",Pe.lcZ(3,4,t.deleteCertificateIdInProgress$)===e.id?t.deleteCertSpinnerButton:t.createDeleteActionButtonModel(e))}}function ZM(e,t){if(1&e&&(Pe.TgZ(0,"td"),Pe.YNc(1,kM,5,4,"ng-container",55),Pe.YNc(2,LM,7,9,"ng-container",55),Pe.YNc(3,DM,4,6,"ng-container",55),Pe.qZA()),2&e){const e=t.index,n=Pe.oxw(3);Pe.xp6(1),Pe.Q6J("ngIf",0===e),Pe.xp6(1),Pe.Q6J("ngIf",0!==e&&e!==n.cols.length-1),Pe.xp6(1),Pe.Q6J("ngIf",e===n.cols.length-1)}}function RM(e,t){if(1&e&&(Pe.TgZ(0,"tr",61),Pe.YNc(1,ZM,4,3,"td",54),Pe.qZA()),2&e){const e=t.$implicit,n=Pe.oxw(2);Pe.Q6J("ttRow",e)("ttSelectableRow",e),Pe.xp6(1),Pe.Q6J("ngForOf",n.cols)}}function UM(e,t){if(1&e&&(Pe.TgZ(0,"tr"),Pe.TgZ(1,"td"),Pe._uU(2,"No data found."),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.uIk("colspan",e.cols.length)}}function FM(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",73),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(2).onDeleteAllCertificates()}),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.Q6J("model",e.model)("disabled",Pe.lcZ(1,2,n.isDeleteButtonDisabled$)||!Pe.lcZ(2,4,n.certificatesNumber$))}}function jM(e,t){if(1&e&&(Pe.TgZ(0,"span",41),Pe._UZ(1,"i",31),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngClass",e.result.iconClass)}}function $M(e,t){if(1&e&&(Pe.TgZ(0,"span",32),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Oqu(e.result.message)}}function qM(e,t){if(1&e&&(Pe.ynx(0,27),Pe.YNc(1,jM,2,1,"span",40),Pe.YNc(2,$M,2,1,"span",29),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.iconClass),Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.message)}}function BM(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",42),Pe.TgZ(1,"p-treeTable",43,44),Pe.NdJ("onNodeUnselect",function(){return Pe.CHM(e),Pe.oxw().onClearSelection()})("onNodeSelect",function(t){return Pe.CHM(e),Pe.oxw().onSelectCertificate(t.node.data.id)}),Pe.ALo(3,"async"),Pe.YNc(4,OM,2,1,"ng-template",45),Pe.YNc(5,TM,4,2,"ng-template",46),Pe.YNc(6,RM,2,3,"ng-template",47),Pe.YNc(7,UM,3,1,"ng-template",48),Pe.qZA(),Pe.TgZ(8,"div",49),Pe.YNc(9,FM,3,6,"ui-webem-button",50),Pe.ALo(10,"async"),Pe.YNc(11,qM,3,2,"ng-container",23),Pe.ALo(12,"async"),Pe.qZA(),Pe._UZ(13,"p-confirmDialog",51),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("value",Pe.lcZ(3,8,e.certificates$))("columns",e.cols)("paginator",!0)("rows",10)("selectionMode","single")("showJumpToPageDropdown",!0),Pe.xp6(8),Pe.Q6J("ngIf",Pe.VKq(14,CM,Pe.lcZ(10,10,e.deleteAllButtonModel$))),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(16,uM,Pe.lcZ(12,12,e.restoreDefaultCertificatesResult$)))}}var GM=(()=>(function(e){e.TYPE_DER=".der",e.TYPE_PEM=".pem",e.TYPE_CRT=".crt",e.TYPE_CER=".cer"}(GM||(GM={})),GM))();let VM=(()=>{class e{constructor(e,t,n,i){this.store=e,this.certificateTableModelService=t,this.exportService=n,this.elRef=i,this.CERTIFICATE_ENCODING="pem",this.SPINNER_ICON="mdi mdi-loading mdi-spin",this.BUTTON_LABELS={GENERATE_CSR:"Generate",INSTALL:"Install",DELETE_ALL:"Restore Default Certificates"},this.EE_CERTIFICATE_TYPE="EE",this.CA_CERTIFICATE_TYPE="CA",this.acceptedCertificateExtensions=Object.values(GM).join(),this.cols=[{field:"status",header:"Status"},{field:"issuedTo",header:"Issued to"},{field:"issuedBy",header:"Issued by"},{field:"certifType",header:"Type"},{field:"validFrom",header:"Valid from"},{field:"validTo",header:"Valid to"},{field:"serialNumber",header:"Serial number"},{field:"action",header:"Action"}],this.certsStatus=[{name:"All",code:""},{name:"Available",code:"1"},{name:"Expired",code:"-1"},{name:"Warning",code:"0"}],this.fileValidationMsg={EXTENSION_INVALID:"File extension is invalid",FILE_EMPTY:"File content is empty",FILE_FORMAT_INVALID:"File format must be pem or der"},this.PEM_VALID={BEGIN:"-----BEGIN CERTIFICATE-----",END:"-----END CERTIFICATE-----"},this.operationStatusEnum={ONGOING:"Ongoing",SUCCESSFUL:"Successful",FAILED:"Failed"},this.icons={ONGOING:"mdi mdi-loading mdi-spin",SUCCESS_ICON:"success-icon mdi mdi-check-circle",ERROR_ICON:"alert-icon mdi mdi-alert"},this.ngUnsubscribe$=new Ae.xQ,this.selectedCertStatus="All",this.certificateToInstall=this.EE_CERTIFICATE_TYPE,this.lastSelectedCertificateType=this.EE_CERTIFICATE_TYPE,this.offsetHeight=0,this.fileValidationMessage="",this.modelBrowse={label:"Browse..."},this.options={fileUpload:!0,accept:this.acceptedCertificateExtensions},this.isOperationEnd=!0,this.SPINNER_CLASS=_S.w,this.deleteCertSpinnerButton={icon:_S.w,title:"Delete in progress...",thickness:wn.NOb.Thin},this.TOOLTIP="EE subject name is not configured"}ngOnInit(){this.store.select(mE).pipe((0,Ee.q)(1)).subscribe(e=>{const t=(null==e?void 0:e.operationStatus)&&(null==e?void 0:e.certificateType)?e.certificateType:this.EE_CERTIFICATE_TYPE;this.certificateToInstall=t,this.lastSelectedCertificateType=t}),this.isLoadingOperatorCertificateData$=this.store.select(TI),this.deleteCertificateIdInProgress$=this.store.select(bE).pipe((0,A.U)(e=>e.certId)),this.deleteCertificateInProgress$=(0,ft.aj)([this.store.select(CE),this.store.select(yE)]).pipe((0,A.U)(([e,t])=>e||t),(0,Ps.d)()),this.installOperatorCertificateInProgress$=this.store.pipe((0,g.Ys)(fE),(0,Ps.d)()),this.generateCsrInProgress$=this.store.pipe((0,g.Ys)(hE),(0,Ps.d)()),this.certificates$=this.store.pipe((0,g.Ys)(wI),(0,A.U)(e=>{let t;if(_.isEmpty(this.certTable))t={};else{const{expandedHistory:e}=this.certificateTableModelService.recurseTreeTable(this.certTable._value,{},(e,t)=>{t[e.data.id]=e.expanded});t=e}const n=this.certificateTableModelService.createTableModel(e);return this.certificateTableModelService.composeTreeTable(n,t)})),this.isInstallButtonDisabled$=(0,ft.aj)([this.installOperatorCertificateInProgress$,this.deleteCertificateInProgress$,this.generateCsrInProgress$]).pipe((0,A.U)(([e,t,n])=>e||t||n),(0,Ps.d)()),this.isDeleteButtonDisabled$=(0,ft.aj)([this.installOperatorCertificateInProgress$,this.deleteCertificateInProgress$]).pipe((0,A.U)(([e,t])=>e||t),(0,Ps.d)()),this.installButtonModel$=this.installOperatorCertificateInProgress$.pipe((0,A.U)(e=>this.createActionButtonModel(e,this.BUTTON_LABELS.INSTALL))),this.generateCsrButtonModel$=this.generateCsrInProgress$.pipe((0,A.U)(e=>this.createActionButtonModel(e,this.BUTTON_LABELS.GENERATE_CSR))),this.deleteAllButtonModel$=this.store.pipe((0,g.Ys)(yE),(0,A.U)(e=>this.createActionButtonModel(e,this.BUTTON_LABELS.DELETE_ALL))),this.certificatesNumber$=this.store.pipe((0,g.Ys)(AI),(0,Ps.d)()),this.csr$=this.store.select($I),this.store.dispatch(new iI),this.filters$=this.store.select(HI),this.certificatesPerPage$=this.store.select(_I),this.installCertificateResult$=this.store.pipe((0,g.Ys)(mE),(0,ys.x)(_.isEqual),(0,A.U)(this.getOperationResult.bind(this))),this.installCertificateResult$.pipe((0,tM.Rs)(this.ngUnsubscribe$)).subscribe(e=>{this.isOperationEnd=!!e.message}),this.store.dispatch(new RE),this.isEeSubjectNameNotConfigured$=this.store.pipe((0,g.Ys)(WE)),this.restoreDefaultCertificatesResult$=this.store.pipe((0,g.Ys)(vE),(0,ys.x)(_.isEqual),(0,A.U)(this.getOperationResult.bind(this))),this.generateCertificateResult$=this.store.pipe((0,g.Ys)(gE),(0,ys.x)(_.isEqual),(0,A.U)(this.getOperationResult.bind(this)))}cleanInstallCertificatesState(){this.isOperationEnd&&this.store.dispatch(CI())}ngAfterViewChecked(){const e=this.elRef.nativeElement.parentNode&&this.elRef.nativeElement.parentNode.offsetHeight;e&&e!==this.offsetHeight&&setTimeout(()=>{this.offsetHeight=e,this.setItemsPerPageForCurrentHeight(e)})}createDeleteActionButtonModel(e){const t={icon:"mdi mdi-delete-forever",title:"Delete certificate",thickness:wn.NOb.Thin};return e.canBeDeleted||(t.title="Trusted EE certificate chain or EE certificate can't be deleted"),t}ngOnDestroy(){this.store.dispatch(new nI),this.store.dispatch(new lI),this.store.dispatch(new UE),this.store.dispatch(CI()),this.store.dispatch(vI()),this.store.dispatch(RI()),this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}onSelectCertificate(e){this.store.dispatch(new rI({id:e}))}onClearSelection(){this.store.dispatch(new lI)}onDeleteCertificate(e){this.store.dispatch((0,wn.VGr)({message:"Deletion of CA certificate may prevent establishment of secure connection.\n\nDo you want to delete?",header:"Delete certificate",icon:Gi.Wf,key:"confirm dialog certificate",acceptLabel:"Delete",accept:()=>{this.store.dispatch(new oI(e))}}))}onDeleteAllCertificates(){this.store.dispatch((0,wn.VGr)({message:"Replace operator end entity chain certificates with default platform certificate. This may affect to BTS secure connections.\n\nDo you want to restore default certificates?",header:"Restore default certificates",icon:Gi.Wf,key:"confirm dialog certificate",acceptLabel:"Restore",accept:()=>{this.store.dispatch(new tI)}}))}onGenerateCsr(){this.store.dispatch(kI({csrFileContent:""})),this.store.dispatch(EI())}onCopyCsr(){this.store.pipe((0,g.Ys)($I),(0,Ee.q)(1)).subscribe(e=>{const t=t=>{t.clipboardData&&t.clipboardData.setData("text/plain",e),t.preventDefault()};document.addEventListener("copy",t),document.execCommand("copy"),document.removeEventListener("copy",t)}),this.store.dispatch((0,FC.wN)({payload:{detail:"Copied CSR to clipboard",severity:"success",summary:"Operator Certificates - CSR copied in clipboard"}}))}onDownloadCsr(){const e=this.exportService.getExportFilenameWithExtension("Certificate_Signing_Request","csr");this.store.dispatch(LI({fileName:e}))}setItemsPerPageForCurrentHeight(e){this.offsetHeight=e;const t=Math.floor(e/56);this.store.dispatch(new fI(t))}onBrowseFile(e){if(this.fileValidationMessage&&(this.fileValidationMessage=""),e.file){const t=new FileReader;t.onerror=()=>{t.abort()},t.onload=({target:t})=>{var n,i;this.isAcceptedFileExtension(GM,(null===(n=e.file)||void 0===n?void 0:n.name)||"")?0===(null===(i=e.file)||void 0===i?void 0:i.size)?this.fileValidationMessage=this.fileValidationMsg.FILE_EMPTY:(this.certificateFileContent=String.fromCharCode(...new Uint8Array(null==t?void 0:t.result))||"",this.supportDerType(e.file,this.certificateFileContent)?this.certificateFileContent=(0,eM.xW)(null==t?void 0:t.result):this.supportPemType(e.file,this.certificateFileContent)||(this.fileValidationMessage=this.fileValidationMsg.FILE_FORMAT_INVALID)):this.fileValidationMessage=this.fileValidationMsg.EXTENSION_INVALID,this.payload={certificateFile:this.certificateFileContent,fileEncoding:this.CERTIFICATE_ENCODING,fileName:e.file?e.file.name:"",certificateType:this.certificateToInstall},this.cleanInstallCertificatesState()},t.readAsArrayBuffer(e.file)}}isAcceptedFileExtension(e,t){return Object.values(e).some(e=>t.endsWith(e))}supportPemType(e,t){const n=e.name.substr(e.name.lastIndexOf(".")).toLowerCase();return _.isEqual(GM.TYPE_PEM,n)&&t&&this.pemTypeContent(t)}pemTypeContent(e){const t=e.trim();return _.isEqual(t.substring(0,this.PEM_VALID.BEGIN.length),this.PEM_VALID.BEGIN)&&_.isEqual(t.substring(t.length-this.PEM_VALID.END.length,t.length),this.PEM_VALID.END)}supportDerType(e,t){const n=e.name.substr(e.name.lastIndexOf(".")).toLowerCase();let i=!_.includes(t,this.PEM_VALID.BEGIN);return n===GM.TYPE_PEM&&(i=!1),i}onInstallFile(){const e=Object.assign(Object.assign({},this.payload),{fileName:XE(this.payload.fileName)});this.store.dispatch(new cI(e)),this.payload=null}onCertificateTypeChange(){this.lastSelectedCertificateType!==this.certificateToInstall&&(this.payload=null,this.fileValidationMessage=""),this.lastSelectedCertificateType=this.certificateToInstall,this.cleanInstallCertificatesState()}getPayloadValue(){return this.payload?this.payload.fileName:null}onFiltersSet(e){this.store.dispatch(VI({payload:e}))}createActionButtonModel(e,t){const n={label:t,length:wn.Wmq.Short};return e&&(n.icon=this.SPINNER_ICON,n.label="",n.title=`${t} in progress...`),n}getOperationResult(e){const t={message:"",iconClass:""};if(_.isEmpty(e)||_.isNull(e.operationStatus))return t;switch(e.operationStatus.status){case this.operationStatusEnum.SUCCESSFUL:return{message:this.operationStatusEnum.SUCCESSFUL,iconClass:this.icons.SUCCESS_ICON};case this.operationStatusEnum.FAILED:return{message:e.operationStatus.reason||this.operationStatusEnum.FAILED,iconClass:this.icons.ERROR_ICON};default:return t}}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(BI),Pe.Y36(tv.Ty),Pe.Y36(Pe.SBq))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["certificate-operator-home"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(iM,5),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.certTable=e.first)}},decls:19,vars:1,consts:[[1,"operator-certificates"],[3,"text"],[1,"p-grid","p-nogutter","operator-certificates-content"],["id","install-operator-certificates",1,"p-col-3","p-nogutter","install-operator-certificates"],["header",""],["content",""],[1,"margin-fix"],["id","generate-certificate-req",1,"p-col-3","p-nogutter","generate-certificate-req"],["id","operator-certificates-table-view",1,"p-col-12","p-nogutter","operator-certificates-table-view"],[1,"p-col-12","p-nogutter","install-operator-certificates-container"],[1,"p-col-12","certificate-type-group-title"],[1,"p-col-12","p-nogutter","install-certificate-title"],["name","certificateType","label","End entity",1,"certificate-type-radio",3,"value","disabled","ngModel","onClick","ngModelChange"],["name","certificateType","label","Additional CA",1,"certificate-type-radio",3,"value","disabled","ngModel","onClick","ngModelChange"],[1,"import-certificate-file-container"],[1,"install-certificate-title"],[1,"certificate-input"],[1,"install-certificate-browse-container"],["pInputText","","type","text","autocomplete","off","name","certificateFile",3,"value"],["id","webem-operator-certificates-browse-button",3,"model","options","disabled","action"],["class","errors fade show",4,"ngIf"],[1,"action-info-area"],["id","webem-operator-certificates-install-button",3,"disabled","model","action",4,"ngIf"],["class","progress-area",4,"ngIf"],[1,"errors","fade","show"],["aria-hidden","true",1,"mdi","mdi-alert","icon-class"],["id","webem-operator-certificates-install-button",3,"disabled","model","action"],[1,"progress-area"],["class","notification-icon-install",4,"ngIf"],["class","operation-result",4,"ngIf"],[1,"notification-icon-install"],[1,"notification-icon-update",3,"ngClass"],[1,"operation-result"],[1,"p-col-12","generate-certificates-options","action-info-area"],["id","webem-operator-certificates-generate-csr-button",3,"model","disabled","title","action",4,"ngIf"],[1,"textarea-content"],["pButton","","id","copy-button","title","Copy to clipboard","icon","mdi mdi-content-copy",1,"textarea-button","copy-icon",3,"disabled","click"],["pButton","","id","download-button","title","Download","icon","mdi mdi-download",1,"textarea-button","download-icon",3,"disabled","click"],["pInputTextarea","","readonly","",1,"p-col-12","csr-text-area",3,"rows","ngModel"],["id","webem-operator-certificates-generate-csr-button",3,"model","disabled","title","action"],["class","notification-icon",4,"ngIf"],[1,"notification-icon"],[1,"p-col-12","operator-certificates-table"],[3,"value","columns","paginator","rows","selectionMode","showJumpToPageDropdown","onNodeUnselect","onNodeSelect"],["certTable",""],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"action-info-area","action-info-restore"],["id","webem-operator-certificates-delete-all-button",3,"model","disabled","action",4,"ngIf"],["key","confirm dialog certificate","id","webem-delete-certificate-dialog","header","Confirmation",1,"confirmation-dialog"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[4,"ngFor","ngForOf"],[4,"ngIf"],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelChange","onChange"],[1,"ui-inputgroup"],[1,"ui-inputgroup-addon"],[1,"mdi","mdi-filter"],["pInputText","","autocomplete","off","type","text",1,"search-input-field",3,"input"],[3,"ttRow","ttSelectableRow"],[1,"ui-resizable-column","status-cell","dropdown-columns",3,"ngSwitch"],["class","mdi mdi-check status-available-icon","title","Certificate available",4,"ngSwitchCase"],["class","mdi mdi-alert status-warning-icon","title","Certificate will expire",4,"ngSwitchCase"],["class","mdi mdi-alert status-error-icon","title","Certificate expired",4,"ngSwitchCase"],["title","Certificate available",1,"mdi","mdi-check","status-available-icon"],["title","Certificate will expire",1,"mdi","mdi-alert","status-warning-icon"],["title","Certificate expired",1,"mdi","mdi-alert","status-error-icon"],[3,"rowNode",4,"ngIf"],[3,"title"],[3,"rowNode"],[1,"delete-button",3,"disabled","model","action"],["id","webem-operator-certificates-delete-all-button",3,"model","disabled","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe._UZ(1,"ui-webem-alarm-message",1),Pe.TgZ(2,"div",2),Pe.TgZ(3,"ui-webem-panel",3),Pe.YNc(4,oM,1,0,"ng-template",null,4,Pe.W1O),Pe.YNc(6,pM,22,27,"ng-template",null,5,Pe.W1O),Pe.qZA(),Pe._UZ(8,"div",6),Pe.TgZ(9,"ui-webem-panel",7),Pe.YNc(10,gM,1,0,"ng-template",null,4,Pe.W1O),Pe.YNc(12,vM,14,22,"ng-template",null,5,Pe.W1O),Pe.qZA(),Pe.TgZ(14,"ui-webem-panel",8),Pe.YNc(15,yM,1,0,"ng-template",null,4,Pe.W1O),Pe.YNc(17,BM,14,18,"ng-template",null,5,Pe.W1O),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("text","Note that a certificate change may cause a connection break. If it occurs, reload the WebEM page and accept the new certificates to re-establish the connection."))},directives:[pT.B,nM.y,Sh.EU,xn.JJ,xn.On,Ei.o,Ui.r,m.O5,m.mk,Mt.Hq,xn.Fj,Xb.g,yr.iw,Ri.jx,Fb.Q,m.sg,xi.Lt,yr.V4,yr.e2,m.RF,m.n9,yr.gc],pipes:[m.Ov,eg.H,tg.c],styles:["[_nghost-%COMP%]     .operator-certificates-content{padding-top:10px;padding-right:23px;padding-left:15px}[_nghost-%COMP%]     .operator-certificates-content .fade.show{width:100%}[_nghost-%COMP%]     .operator-certificates-content .certificate-input{height:43px}[_nghost-%COMP%]     .operator-certificates-content .errors{margin-top:2px;font-size:10px;color:#da1914}[_nghost-%COMP%]     .operator-certificates-content .margin-fix{width:12px}[_nghost-%COMP%]     .operator-certificates-content .panel-header{padding-bottom:6px;margin-bottom:0}[_nghost-%COMP%]     .operator-certificates-content .generate-certificates-options, [_nghost-%COMP%]     .operator-certificates-content .import-certificate-file-container, [_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates-container{padding:0}[_nghost-%COMP%]     .operator-certificates-content .operation-result{margin-left:8px;color:#98a2ae;font-size:14px}[_nghost-%COMP%]     .operator-certificates-content .notification-icon-update{margin-left:15px;font-size:26px}[_nghost-%COMP%]     .operator-certificates-content .notification-icon-update.alert-icon{color:#da1914}[_nghost-%COMP%]     .operator-certificates-content .notification-icon-update.success-icon{color:#3daa00}[_nghost-%COMP%]     .operator-certificates-content .action-info-area{display:flex;align-items:center;height:45px}[_nghost-%COMP%]     .operator-certificates-content .action-info-restore{margin-top:10px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates-container{margin-top:10px;font-size:11px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates{margin-right:12px;width:470px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .certificate-type-radio{display:inline-block}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .certificate-type-radio:not(:last-child){margin-right:40px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .certificate-type-radio .p-radiobutton-label{font-size:11px;color:#1b1b1b;line-height:inherit;margin-left:8px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .certificate-type-radio .p-radiobutton-label.p-disabled{color:#98a2ae}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .certificate-type-radio .p-radiobutton-checked .p-disabled.p-radiobutton-box{background-color:#92a5c5;border-color:#bec8d2}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .install-certificate-title{font-size:11px;color:#1b1b1b;margin-top:9px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .certificate-type-group-title{font-size:11px;color:#1b1b1b;margin-top:20px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .import-certificate-file-container{display:flex;flex-direction:column}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .import-certificate-file-container .install-certificate-title{font-size:11px;margin:20px 0 5px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .import-certificate-file-container .install-certificate-browse-container{display:flex;flex-direction:row;justify-content:space-between}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .import-certificate-file-container .install-certificate-browse-container input{color:#bec8d2;width:100%;margin-right:8px;height:26px;pointer-events:none;border:1px solid #bec8d2}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .import-certificate-file-container .install-certificate-browse-container button{min-width:70px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .import-certificate-file-container #webem-operator-certificates-install-button button{min-width:70px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .import-certificate-file-container #webem-operator-certificates-install-button button:disabled{background-color:#5d7cb1;color:#f9feff;border:none}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .import-certificate-file-container #webem-operator-certificates-install-button button:enabled{background-color:#124191;color:#f9feff;box-shadow:0 2px 3px 0 rgba(0,0,0,.1);border:none}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .import-certificate-file-container #webem-operator-certificates-install-button button:enabled:hover{background-color:#082961;color:#f9feff;box-shadow:0 2px 3px 0 rgba(0,0,0,.1);border:none}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .import-certificate-file-container #webem-operator-certificates-install-button button:enabled:active{background-color:#124191;color:#f9feff;box-shadow:0 3px 5px 0 rgba(0,0,0,.3);border:none}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .operator-certificate-progress-bar-container{margin-top:10px}[_nghost-%COMP%]     .operator-certificates-content .install-operator-certificates .operator-certificate-progress-bar-container .progressbar-snapshot  .p-progressbar{height:5px;background-color:#bec8d2;color:#082961;margin-top:6px}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req{width:470px}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .generate-certificates-options{padding-left:0;margin:10px 0}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .generate-certificates-options #webem-operator-certificates-generate-csr-button button{width:81px}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .generate-certificates-options #webem-operator-certificates-download-csr-button:disabled{cursor:default}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content{position:relative;overflow:hidden;border-radius:3px;border:1px solid #98a2ae;height:166px}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .textarea-button{position:absolute;right:22px;box-shadow:0 2px 3px rgba(0,0,0,.1);background-color:inherit;transition:0s;-webkit-transition:0s;transform:scale(1)}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .textarea-button:disabled{cursor:default;box-shadow:none}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .textarea-button:disabled~textarea{cursor:default}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .textarea-button:hover:not([disabled]){background-color:#f9feff}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .textarea-button:focus:not([disabled]){background-color:#fff;border:1px solid #707070;box-shadow:0 2px 3px rgba(0,0,0,.1)}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .textarea-button:active:not([disabled]){background-color:#fff;box-shadow:0 3px 5px rgba(0,0,0,.3);border-color:#00c9ff}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .textarea-button:hover:focus:not([disabled]){background-color:#f9feff;border-color:#00c9ff}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .textarea-button.p-button{width:26px;height:22px}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .textarea-button.p-button .p-button-icon-left{font-size:16px}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .copy-icon{top:4px}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content .download-icon{top:34px}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content textarea.csr-text-area{resize:none;color:#1b1b1b;font-size:11px;height:100%;border:none;padding-left:8px;padding-right:45px;opacity:1;border-radius:3px;font-family:monospace}[_nghost-%COMP%]     .operator-certificates-content .generate-certificate-req .textarea-content textarea.csr-text-area:hover{background-color:#fff}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view{margin-top:16px;margin-bottom:10px;--input-height:26px}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .operator-certificates-table{padding:0}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view th{overflow:visible}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .shrink-column-size{width:100px}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .action-column-size{width:50px}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .ui-inputgroup{position:relative}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .ui-inputgroup-addon{height:var(--input-height)}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .ui-inputgroup-addon.disabled{pointer-events:none;background-color:#fff;cursor:default;opacity:1;color:#bec8d2}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .search-input-field{font-size:11px;height:var(--input-height);width:calc(100% - 24px);border-radius:0 3px 3px 0}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .p-paginator-pages button{margin:0 10px}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .status-cell{font-size:16px;text-align:center}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .status-cell .status-available-icon{color:#3daa00}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .status-cell .status-warning-icon{color:#fc0}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .status-cell .status-error-icon{color:#da1914}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .status-cell .status-expired-icon{color:#da1914}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view .form-container{box-shadow:0 3px 8px rgba(0,0,0,.13)}[_nghost-%COMP%]     .operator-certificates-content .operator-certificates-table-view #webem-operator-certificates-delete-all-button button{width:172px}"]}),e})();const YM={authorityKeyIdentifier:"Authority key identifier",caType:"CA type",configDN:"Configuration reference",crlDpURI:"CRL distribution point URI",extendedKeyUsage:"Extended key usage",fingerprint:"Fingerprint",issuedBy:"Issued by",issuedTo:"Issued to",keyUsage:"Key usage",keyIdCriticality:"Key ID criticality",serialNumber:"Serial number",signatureAlgorithm:"Signature algorithm",subjectAlternateName:"Subject alternative name",subjectPublicKeyAlgorithm:"Subject public key algorithm",trustChain:"Trust chain",validFrom:"Valid from",validTo:"Valid to",version:"Version"};let JM=(()=>{class e{constructor(){}getUiName(e){return YM[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),HM=(()=>{class e{constructor(e,t){this.certificateParametersMapper=e,this.datetimeService=t}createModel(e){if(!e)return[];let t=e.details;const n=e.details.validFrom&&this.datetimeService.formatFromISO2GMTTime(e.details.validFrom),i=e.details.validTo&&this.datetimeService.formatFromISO2GMTTime(e.details.validTo);return t=Object.assign(Object.assign({},t),{validFrom:n,validTo:i}),e=Object.assign(Object.assign({},e),{details:t}),[this.createSimpleCertificateDetailsEntry(e.details,"authorityKeyIdentifier"),this.createSimpleCertificateDetailsEntry(e.details,"configDN"),this.createSimpleCertificateDetailsEntry(e.details,"crlDpURI"),this.createSimpleCertificateDetailsEntry(e.details,"extendedKeyUsage"),this.createSimpleCertificateDetailsEntry(e.details,"fingerprint"),this.createSimpleCertificateDetailsEntry(e.details,"issuedBy"),this.createSimpleCertificateDetailsEntry(e.details,"issuedTo"),this.createSimpleCertificateDetailsEntry(e.details,"keyUsage"),this.createSimpleCertificateDetailsEntry(e.details,"keyIdCriticality"),this.createSimpleCertificateDetailsEntry(e.details,"serialNumber"),this.createSimpleCertificateDetailsEntry(e.details,"signatureAlgorithm"),this.createSimpleCertificateDetailsEntry(e.details,"subjectAlternateName"),this.createSimpleCertificateDetailsEntry(e.details,"subjectPublicKeyAlgorithm"),this.createSimpleCertificateDetailsEntry(e.details,"validFrom"),this.createSimpleCertificateDetailsEntry(e.details,"validTo"),this.createSimpleCertificateDetailsEntry(e.details,"version"),{key:"CA type",value:t.caType?t.caType.name:tg.v},{key:"Trust chain",value:t.trustChain?t.trustChain.name:tg.v}]}createSimpleCertificateDetailsEntry(e,...t){return{key:t.map(e=>this.certificateParametersMapper.getUiName(e)||"<NOT-MAPPED-PROPERTY>").join("/"),value:t.map(t=>(0,eM.j8)(e[t])).join("/")}}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(JM),Pe.LFG(qI.d))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const WM={};function QM(e=WM,t){switch(t.type){case XT.DESELECT_OPERATOR_CERTIFICATE:return{};case XT.SELECT_OPERATOR_CERTIFICATE:{const{payload:{id:n}}=t;return Object.assign(Object.assign({},e),{selectedCertificateId:n})}default:return e}}const zM=(0,g.ZF)("SelectedCertificateReducer"),KM=(0,g.P1)(zM,e=>e.selectedCertificateId);let XM=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["operator-certificate-details"]],inputs:{selectedOperatorCertificateData:"selectedOperatorCertificateData"},decls:2,vars:3,consts:[[3,"icon","header"],[3,"data"]],template:function(e,t){1&e&&(Pe.TgZ(0,"webem-details-panel",0),Pe._UZ(1,"ui-webem-details-section",1),Pe.qZA()),2&e&&(Pe.Q6J("icon","mdi mdi-information")("header","Details"),Pe.xp6(1),Pe.Q6J("data",t.selectedOperatorCertificateData))},directives:[$p.V,B_.h],styles:["ui-webem-details-section[_ngcontent-%COMP%]     .details-section .section-data{border-top:none}ui-webem-details-section[_ngcontent-%COMP%]     .details-section .section-data .section-row-key{flex:0 0 95px;align-items:flex-start}"],changeDetection:0}),e})();function ek(e,t){if(1&e&&Pe._UZ(0,"operator-certificate-details",3),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("selectedOperatorCertificateData",e)}}function tk(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,ek,1,1,"operator-certificate-details",2),Pe.BQk()),2&e){const e=t.ngIf;Pe.oxw();const n=Pe.MAs(3);Pe.xp6(1),Pe.Q6J("ngIf",e.length)("ngIfElse",n)}}function nk(e,t){1&e&&(Pe.TgZ(0,"webem-details-panel"),Pe.TgZ(1,"div",4),Pe._UZ(2,"i",5),Pe.TgZ(3,"span",6),Pe._uU(4,"No certificate selected"),Pe.qZA(),Pe.qZA(),Pe.qZA())}let ik=(()=>{class e{constructor(e,t){this.store=e,this.certificateTableModelService=t}ngOnInit(){this.selection$=(0,ft.aj)([this.store.select(KM),this.store.select(wI)]).pipe((0,A.U)(([e,t])=>t.find(t=>t.id===e))).pipe((0,A.U)(e=>this.certificateTableModelService.createModel(e)))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(HM))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["certificate-operator-description-content"]],decls:4,vars:3,consts:[[4,"ngIf"],["noSelection",""],[3,"selectedOperatorCertificateData",4,"ngIf","ngIfElse"],[3,"selectedOperatorCertificateData"],[1,"no-selection"],[1,"information-icon","mdi","mdi-information"],["id","no-selection"]],template:function(e,t){1&e&&(Pe.YNc(0,tk,2,2,"ng-container",0),Pe.ALo(1,"async"),Pe.YNc(2,nk,5,0,"ng-template",null,1,Pe.W1O)),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.selection$))},directives:[m.O5,XM,$p.V],pipes:[m.Ov],styles:[".no-selection[_ngcontent-%COMP%]{display:flex!important;align-items:center}.no-selection[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#98a2ae}.no-selection[_ngcontent-%COMP%]   .information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}"]}),e})(),ok=(()=>{class e extends Mp.O{ngOnInit(){this.setMenuItemsMap([Ip.r.operatorCertificates,Ip.r.certificateAutomatic,Ip.r.certificateRevocationList])}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Pe.n5z(e)))(n||e)}}(),e.\u0275cmp=Pe.Xpm({type:e,selectors:[["oam-certificate-shared-certificate-content-menu"]],features:[Pe.qOj],decls:1,vars:1,consts:[[3,"menuItemsMap"]],template:function(e,t){1&e&&Pe._UZ(0,"ui-webem-submenu",0),2&e&&Pe.Q6J("menuItemsMap",t.menuItemsMap)},directives:[Iy._],encapsulation:2}),e})();const sk=[{path:"",component:VM,outlet:"content_center"},{path:"",component:ok,outlet:"content_menu"},{path:"",component:ik,outlet:"content_right"}];let ak=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(sk)],f.Bz]}),e})(),rk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,g.Aw.forFeature(eE,iE)]]}),e})();var lk=n(27118),ck=n(82149),dk=(n(6982),n(99731)),uk=(n(20821),n(35243),n(59193));let pk=(()=>{class e{constructor(e,t,n,i,o,s){this.store=e,this.actions$=t,this.certMgtService=n,this.asyncOperationsService=i,this.certificatesTableModelService=o,this.pollingService=s,this.ERROR="error",this.SUCCESS="success",this.INFO="info",this.TOAST_FAILED_MESSAGE={installCertificate:{summary:"Install Certificate",detail:"Install certificate operation failed"},deleteCertificateById:{summary:"Delete Certificate",detail:"Delete certificate operation failed"},deleteAllCertificates:{summary:"Restore Certificates",detail:"Restore certificates operation failed"},getCertificates:{summary:"Get Certificates",detail:"Get certificates operation failed"}},this.TOAST_SUCCESS_MESSAGE={installCertificate:{summary:"Install Certificate",detail:"Install certificate operation finished"},deleteCertificateById:{summary:"Delete Certificate",detail:"Delete certificate operation finished"},deleteAllCertificates:{summary:"Restore Certificates",detail:"Restore certificates operation finished"}},this.TOAST_START_MESSAGE={installCertificate:{summary:"Install Certificate",detail:"Install certificate operation started"},deleteCertificateById:{summary:"Delete Certificate",detail:"Delete certificate operation started"},deleteAllCertificates:{summary:"Restore Certificates",detail:"Restore certificates operation started"}},this.UnsubscribeCertificateWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(XT.UNSUBSCRIBE_CERTIFICATES_WATCH)),{dispatch:!1}),this.UnsubscribeDeleteCertByIdOperationStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(XT.UNSUBSCRIBE_DELETE_CERT_BY_ID_OPERATION_STATUS_WATCH)),{dispatch:!1}),this.UnsubscribeDeleteAllCertificatesOperationStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(XT.UNSUBSCRIBE_DELETE_ALL_CERTIFICATES_OPERATION_STATUS_WATCH)),{dispatch:!1}),this.UnsubscribeInstallCertificateOperationStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(XT.UNSUBSCRIBE_INSTALL_CERTIFICATE_OPERATION_STATUS_WATCH)),{dispatch:!1}),this.cleanStateinstallCertificatesIsOngoing$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(CI),(0,Bo.M)(this.store.pipe((0,g.Ys)(fE),(0,Ps.d)())),(0,vs.h)(([,e])=>!e),(0,dC.zg)(()=>[XI({operationType:tE.INSTALL_CERTIFICATE})]))),this.cleanStateRestoreCertificatesIsOngoing$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(vI),(0,Bo.M)(this.store.pipe((0,g.Ys)(yE),(0,Ps.d)())),(0,vs.h)(([,e])=>!e),(0,dC.zg)(()=>[XI({operationType:tE.DELETE_ALL_CERTIFICATES})]))),this.DeleteOperatorCertificateById$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(XT.DELETE_CERTIFICATE_BY_ID),(0,SS.p)(1e3),(0,MC.z)(e=>this.certMgtService.operatorCertificatesIdDelete({id:e.payload}).pipe((0,dC.zg)(t=>[QI({operationType:tE.DELETE_CERTIFICATE_BY_ID,operationId:t,certId:e.payload}),new dI({operationType:tE.DELETE_CERTIFICATE_BY_ID,operationId:t,certId:e.payload}),(0,FC.wN)({payload:{detail:this.TOAST_START_MESSAGE[tE.DELETE_CERTIFICATE_BY_ID].detail,severity:this.INFO,summary:this.TOAST_START_MESSAGE[tE.DELETE_CERTIFICATE_BY_ID].summary}})]),(0,NC.K)(()=>(0,nl.of)(new aI(tE.DELETE_CERTIFICATE_BY_ID))))))),this.DeleteAllOperatorCertificates$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(XT.DELETE_ALL_CERTIFICATES),(0,Mb.b)(300,LC.P),(0,dC.zg)(()=>this.certMgtService.operatorCertificatesDelete().pipe((0,dC.zg)(e=>[QI({operationType:tE.DELETE_ALL_CERTIFICATES,operationId:e}),new pI({operationType:tE.DELETE_ALL_CERTIFICATES,operationId:e}),(0,FC.wN)({payload:{detail:this.TOAST_START_MESSAGE[tE.DELETE_ALL_CERTIFICATES].detail,severity:this.INFO,summary:this.TOAST_START_MESSAGE[tE.DELETE_ALL_CERTIFICATES].summary}})]),(0,NC.K)(()=>(0,nl.of)(new aI(tE.DELETE_ALL_CERTIFICATES))))))),this.InstallOperatorCertificate$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(XT.INSTALL_CERTIFICATE),(0,dC.zg)(e=>(this.store.dispatch(zI({operationType:tE.INSTALL_CERTIFICATE,certificateType:e.payload.certificateType})),this.certMgtService.operatorCertificatesPost({body:e.payload}).pipe((0,dC.zg)(e=>[QI({operationType:tE.INSTALL_CERTIFICATE,operationId:e}),new hI({operationType:tE.INSTALL_CERTIFICATE,operationId:e}),(0,FC.wN)({payload:{detail:this.TOAST_START_MESSAGE[tE.INSTALL_CERTIFICATE].detail,severity:this.INFO,summary:this.TOAST_START_MESSAGE[tE.INSTALL_CERTIFICATE].summary}})]),(0,NC.K)(()=>(0,nl.of)(new aI(tE.INSTALL_CERTIFICATE)))))))),this.SubscribeOperatorCertificatesError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(XT.SUBSCRIBE_CERTIFICATES_ERROR),(0,A.U)(({payload:e})=>(0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[e].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[e].summary}})))),this.TurnSpinnerOn$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(XT.SUBSCRIBE_CERTIFICATES_WATCH),(0,A.U)(()=>bI({isLoadingOperatorCertificateData:!0})))),this.SubscribeCertificatesWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(XT.SUBSCRIBE_CERTIFICATES_WATCH),(0,dC.zg)(()=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.UnsubscribeCertificateWatch$),(0,Ss.b)(()=>this.certMgtService.operatorCertificatesGet()),(0,ys.x)((e,t)=>(0,_.isEqual)(e,t)&&this.certificatesTableModelService.shouldNotUpdateCertificate(t)),(0,dC.zg)(e=>(0,nl.of)(new eI(e),bI({isLoadingOperatorCertificateData:!1}))),(0,NC.K)(()=>(0,nl.of)(new aI("getCertificates"),bI({isLoadingOperatorCertificateData:!1}))))))),this.SubscribeDeleteCertByIdOperationStatusWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(XT.SUBSCRIBE_DELETE_CERT_BY_ID_OPERATION_STATUS_WATCH),(0,MC.z)(t=>this.watchOperationStatus(t,this.UnsubscribeDeleteCertByIdOperationStatusWatch$,e)))),this.SubscribeDeleteAllCertificatesOperationStatusWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(XT.SUBSCRIBE_DELETE_ALL_CERTIFICATES_OPERATION_STATUS_WATCH),(0,dC.zg)(t=>this.watchOperationStatus(t,this.UnsubscribeDeleteAllCertificatesOperationStatusWatch$,e)))),this.SubscribeInstallCertificateOperationStatusWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(XT.SUBSCRIBE_INSTALL_CERTIFICATE_OPERATION_STATUS_WATCH),(0,dC.zg)(t=>this.watchOperationStatus(t,this.UnsubscribeInstallCertificateOperationStatusWatch$,e))))}watchOperationStatus(e,t,n){return this.pollingService.getTimer(n).pipe((0,_e.R)(t),(0,Ss.b)(()=>this.asyncOperationsService.operationsIdGet({id:e.payload.operationId})),(0,ys.x)(_.isEqual),(0,dC.zg)(t=>e.type!==XT.SUBSCRIBE_DELETE_CERT_BY_ID_OPERATION_STATUS_WATCH?this.manageOperationStatus(t,e.payload.operationType,e.payload.operationId):this.manageOperationStatus(t,e.payload.operationType,e.payload.operationId,e.payload.certId)),(0,NC.K)(()=>(0,nl.of)(new aI(e.payload.operationType))))}manageOperationStatus(e,t,n,i){let o=uk.E;switch(t){case tE.DELETE_CERTIFICATE_BY_ID:o=new uI;break;case tE.DELETE_ALL_CERTIFICATES:o=new gI;break;case tE.INSTALL_CERTIFICATE:o=new mI}const s=[KI({operationType:t,operationStatus:e})];return"Successful"!==e.status&&"Failed"!==e.status||(s.push(o),t===tE.DELETE_CERTIFICATE_BY_ID&&s.push(XI({operationType:tE.DELETE_CERTIFICATE_BY_ID}))),"Successful"===e.status?(s.push((0,FC.wN)({payload:{detail:this.TOAST_SUCCESS_MESSAGE[t].detail,severity:this.SUCCESS,summary:this.TOAST_SUCCESS_MESSAGE[t].summary}})),i&&t===tE.DELETE_CERTIFICATE_BY_ID&&s.push(new sI(i))):"Failed"===e.status&&s.push((0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[t].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[t].summary}})),s}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(lk.G),Pe.LFG(OS.z),Pe.LFG(BI),Pe.LFG(DC.x))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var gk=n(70833);let hk=(()=>{class e{constructor(e,t,n,i,o,s){this.actions$=e,this.certMgtService=t,this.store=n,this.ngxFileSaver=i,this.asyncOperationsService=o,this.pollingService=s,this.ERROR="error",this.SUCCESS="success",this.INFO="info",this.TOAST_FAILED_MESSAGE={generateCsr:{summary:"Generate Certificate Signing Request",detail:"Generate certificate signing request operation failed"}},this.TOAST_SUCCESS_MESSAGE={generateCsr:{summary:"Generate Certificate Signing Request",detail:"Generate certificate signing request operation finished"}},this.TOAST_START_MESSAGE={generateCsr:{summary:"Generate Certificate Signing Request",detail:"Generate certificate signing request operation started"}},this.DOUBLE_QUOTE='"',this.unsubscribeGenerateCsrOperationStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ZI)),{dispatch:!1}),this.generateCsr$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(EI),(0,SS.p)(1e3),(0,MC.z)(()=>this.certMgtService.operatorCsrPost().pipe((0,dC.zg)(e=>[QI({operationType:tE.GENERATE_CSR,operationId:e}),DI({operationType:tE.GENERATE_CSR,operationId:e}),(0,FC.wN)({payload:{detail:this.TOAST_START_MESSAGE[tE.GENERATE_CSR].detail,severity:this.INFO,summary:this.TOAST_START_MESSAGE[tE.GENERATE_CSR].summary}})]),(0,NC.K)(()=>(0,nl.of)(NI({operationType:tE.GENERATE_CSR}))))))),this.retrieveCsr$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(MI),(0,SS.p)(1e3),(0,MC.z)(()=>this.certMgtService.operatorCsrGet().pipe((0,dC.zg)(e=>new YC.y(t=>{const n=new FileReader;n.onload=()=>{try{const e=this.removeDoubleQuotes(n.result);t.next(atob(e))}catch(e){t.error(e)}},n.onerror=e=>t.error(e),n.onabort=e=>t.error(e),n.onloadend=()=>t.complete(),n.readAsText(e)})),(0,dC.zg)(e=>(0,nl.of)(kI({csrFileContent:e}))),(0,NC.K)(()=>(0,nl.of)(NI({operationType:tE.GENERATE_CSR}))))))),this.subscribeOperatorCsrError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(NI),(0,A.U)(()=>(0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[tE.GENERATE_CSR].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[tE.GENERATE_CSR].summary}})))),this.cleanStateCsrWhenNotOngoing$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(RI),(0,Bo.M)(this.store.pipe((0,g.Ys)(hE),(0,Ps.d)())),(0,vs.h)(([,e])=>!e),(0,dC.zg)(()=>[XI({operationType:tE.GENERATE_CSR})]))),this.downloadCsr$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(LI),(0,Bo.M)(this.store.select($I)),(0,Ie.b)(([e,t])=>{const n=new Blob([t],{type:"application/pkcs10"});this.ngxFileSaver.save(n,`${e.fileName}`)})),{dispatch:!1}),this.subscribeGenerateCsrOperationStatusWatch$=(0,oC.GW)(()=>({scheduler:e=gk.z5}={})=>this.actions$.pipe((0,oC.l4)(DI),(0,dC.zg)(t=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.unsubscribeGenerateCsrOperationStatusWatch$),(0,dC.zg)(()=>this.asyncOperationsService.operationsIdGet({id:t.operationId})),(0,ys.x)(_.isEqual),(0,dC.zg)(e=>{const n=[KI({operationType:t.operationType,operationStatus:e})];return"Successful"===e.status&&n.push(MI()),"Successful"!==e.status&&"Failed"!==e.status||n.push(ZI()),"Successful"===e.status?n.push((0,FC.wN)({payload:{detail:this.TOAST_SUCCESS_MESSAGE[tE.GENERATE_CSR].detail,severity:this.SUCCESS,summary:this.TOAST_SUCCESS_MESSAGE[tE.GENERATE_CSR].summary}})):"Failed"===e.status&&n.push((0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[tE.GENERATE_CSR].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[tE.GENERATE_CSR].summary}})),n}),(0,NC.K)(()=>(0,nl.of)(NI({operationType:tE.GENERATE_CSR})))))))}removeDoubleQuotes(e){return e.charAt(0)===this.DOUBLE_QUOTE&&e.charAt(e.length-1)===this.DOUBLE_QUOTE?e.substring(1,e.length-1):e}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(lk.G),Pe.LFG(g.yh),Pe.LFG(WC.m9),Pe.LFG(OS.z),Pe.LFG(DC.x))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),mk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,cC.E,wn.g3K]]}),e})(),fk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,wn.y$Z]]}),e})(),bk=(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.actions$=t,this.certMgtService=n,this.asyncOperationsService=i,this.pollingService=o,this.ERROR="error",this.SUCCESS="success",this.INFO="info",this.NOTIFICATION_SUMMARY="Certificates Automatic Management",this.TOAST_FAILED_MESSAGE={updateCmpServerKey:{summary:"Update CMP Key",detail:"Update CMP key operation failed"},initializeCertificates:{summary:"Initialize Certificates",detail:"Initialize Certificates operation failed"},updateCmpServerSettings:{summary:"Update CMP Settings",detail:"Update CMP settings operation failed"}},this.TOAST_SUCCESS_MESSAGE={updateCmpServerKey:{summary:"Update CMP Key",detail:"Update CMP key operation finished"},initializeCertificates:{summary:"Initialize Certificates",detail:"Initialize Certificates operation finished"},updateCmpServerSettings:{summary:"Update CMP Settings",detail:"Update CMP settings operation finished"}},this.TOAST_START_MESSAGE={updateCmpServerKey:{summary:"Update CMP Key",detail:"Update CMP key operation started"},initializeCertificates:{summary:"Initialize Certificates",detail:"Initialize Certificates operation started"},updateCmpServerSettings:{summary:"Update CMP Settings",detail:"Update CMP settings operation started"}},this.UnsubscribeCmpServerStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(PE.UNSUBSCRIBE_CMP_SERVER_STATUS_WATCH)),{dispatch:!1}),this.UnsubscribeCmpServerConfigurationWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(PE.UNSUBSCRIBE_CMP_SERVER_CONFIGURATION_WATCH)),{dispatch:!1}),this.UnsubscribeCertifInitOperationStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(PE.UNSUBSCRIBE_CERTIF_INIT_OPERATION_STATUS_WATCH)),{dispatch:!1}),this.UnsubscribeUpdateKeyOperationStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(PE.UNSUBSCRIBE_UPDATE_KEY_OPERATION_STATUS_WATCH)),{dispatch:!1}),this.UnsubscribeCmpServerSettingsOperationStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(PE.UNSUBSCRIBE_CMP_SERVER_SETTINGS_OPERATION_STATUS_WATCH)),{dispatch:!1}),this.UpdateCmpServerKey$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(PE.UPDATE_CMP_SERVER_KEY),(0,SS.p)(1e3),(0,MC.z)(()=>this.certMgtService.cmpServerKeyPost().pipe((0,dC.zg)(e=>[QI({operationType:tE.UPDATE_CMP_SERVER_KEY,operationId:e}),new kE({operationType:tE.UPDATE_CMP_SERVER_KEY,operationId:e}),(0,FC.wN)({payload:{detail:this.TOAST_START_MESSAGE[tE.UPDATE_CMP_SERVER_KEY].detail,severity:this.INFO,summary:this.TOAST_START_MESSAGE[tE.UPDATE_CMP_SERVER_KEY].summary}})]),(0,NC.K)(()=>(0,nl.of)(new ZE(tE.UPDATE_CMP_SERVER_KEY))))))),this.InitializeCertificates$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(PE.INITIALIZE_CERTIFICATES),(0,SS.p)(1e3),(0,MC.z)(()=>this.certMgtService.cmpCertificateInitializationPost().pipe((0,dC.zg)(e=>[QI({operationType:tE.INITIALIZE_CERTIFICATES,operationId:e}),new EE({operationType:tE.INITIALIZE_CERTIFICATES,operationId:e}),(0,FC.wN)({payload:{detail:this.TOAST_START_MESSAGE[tE.INITIALIZE_CERTIFICATES].detail,severity:this.INFO,summary:this.TOAST_START_MESSAGE[tE.INITIALIZE_CERTIFICATES].summary}})]),(0,NC.K)(()=>(0,nl.of)(new ZE(tE.INITIALIZE_CERTIFICATES))))))),this.UpdateCmpServerSettings$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(PE.UPDATE_CMP_SERVER_SETTINGS),(0,SS.p)(1e3),(0,MC.z)(e=>this.certMgtService.cmpServerSettingsPut({body:e.payload}).pipe((0,dC.zg)(e=>[QI({operationType:tE.UPDATE_CMP_SERVER_SETTINGS,operationId:e}),new LE({operationType:tE.UPDATE_CMP_SERVER_SETTINGS,operationId:e}),(0,FC.wN)({payload:{detail:this.TOAST_START_MESSAGE[tE.UPDATE_CMP_SERVER_SETTINGS].detail,severity:this.INFO,summary:this.TOAST_START_MESSAGE[tE.UPDATE_CMP_SERVER_SETTINGS].summary}})]),(0,NC.K)(()=>(0,nl.of)(new ZE(tE.UPDATE_CMP_SERVER_SETTINGS))))))),this.SubscribeAutomaticManagementError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(PE.SUBSCRIBE_AUTOMATIC_MANAGEMENT_ERROR),(0,A.U)(({payload:e})=>(0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[e].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[e].summary}})))),this.cleanUpdateCmpStateIsOngoing$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)($E),(0,Bo.M)(this.store.pipe((0,g.Ys)(dE),(0,Ps.d)())),(0,vs.h)(([,e])=>!e),(0,dC.zg)(()=>[XI({operationType:tE.UPDATE_CMP_SERVER_SETTINGS})]))),this.cleanCmpKeyUpdateStateIsOngoing$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(qE),(0,Bo.M)(this.store.pipe((0,g.Ys)(aE),(0,Ps.d)())),(0,vs.h)(([,e])=>!e),(0,dC.zg)(()=>[XI({operationType:tE.UPDATE_CMP_SERVER_KEY})]))),this.cleanInitializeCertificatesStateIsOngoing$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(BE),(0,Bo.M)(this.store.pipe((0,g.Ys)(lE),(0,Ps.d)())),(0,vs.h)(([,e])=>!e),(0,dC.zg)(()=>[XI({operationType:tE.INITIALIZE_CERTIFICATES})]))),this.SubscribeCmpServerStatusWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(PE.SUBSCRIBE_CMP_SERVER_STATUS_WATCH),(0,dC.zg)(()=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.UnsubscribeCmpServerStatusWatch$),(0,Ss.b)(()=>this.certMgtService.cmpServerStatusGet().pipe((0,NC.K)(this.dispatchAutomaticManagementError.bind(this)))),(0,ys.x)(_.isEqual),(0,A.U)(({status:e})=>new OE(e)))))),this.SubscribeCmpServerConfigurationWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(PE.SUBSCRIBE_CMP_SERVER_CONFIGURATION_WATCH),(0,Ss.b)(()=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.UnsubscribeCmpServerConfigurationWatch$),(0,Ss.b)(()=>this.certMgtService.cmpServerGet().pipe((0,NC.K)(this.dispatchAutomaticManagementError.bind(this)))),(0,ys.x)(_.isEqual),(0,A.U)(e=>new IE(e)))))),this.SubscribeCertifInitOperationStatusWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(PE.SUBSCRIBE_CERTIF_INIT_OPERATION_STATUS_WATCH),(0,MC.z)(t=>this.watchOperationStatus(t,this.UnsubscribeCertifInitOperationStatusWatch$,e)))),this.SubscribeUpdateKeyOperationStatusWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(PE.SUBSCRIBE_UPDATE_KEY_OPERATION_STATUS_WATCH),(0,MC.z)(t=>this.watchOperationStatus(t,this.UnsubscribeUpdateKeyOperationStatusWatch$,e)))),this.SubscribeCmpServerSettingsOperationStatusWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(PE.SUBSCRIBE_CMP_SERVER_SETTINGS_OPERATION_STATUS_WATCH),(0,MC.z)(t=>this.watchOperationStatus(t,this.UnsubscribeCmpServerSettingsOperationStatusWatch$,e))))}watchOperationStatus(e,t,n){return this.pollingService.getTimer(n).pipe((0,_e.R)(t),(0,Ss.b)(()=>this.asyncOperationsService.operationsIdGet({id:e.payload.operationId}).pipe((0,NC.K)(this.dispatchAutomaticManagementError.bind(this)))),(0,ys.x)(_.isEqual),(0,dC.zg)(t=>this.manageOperationStatus(t,e.payload.operationType,e.payload.operationId)))}manageOperationStatus(e,t,n){let i="",o=uk.E;switch(t){case tE.UPDATE_CMP_SERVER_KEY:i="CMP key update",o=new NE;break;case tE.INITIALIZE_CERTIFICATES:i="Certificate initialization",o=new ME;break;case tE.UPDATE_CMP_SERVER_SETTINGS:i="CMP Server Settings update",o=new DE}const s=[KI({operationType:t,operationStatus:e})],a={detail:`${i} operation (id: ${n}): ${e.status}`,summary:this.NOTIFICATION_SUMMARY,severity:"Ongoing"===e.status&&this.INFO||"Successful"===e.status&&this.SUCCESS||this.ERROR};return"Successful"!==e.status&&"Failed"!==e.status||(s.push(o),e.reason&&(a.detail=`${i} fail reason: ${e.reason}`)),"Successful"===e.status?s.push((0,FC.wN)({payload:{detail:this.TOAST_SUCCESS_MESSAGE[t].detail,severity:this.SUCCESS,summary:this.TOAST_SUCCESS_MESSAGE[t].summary}})):"Failed"===e.status&&s.push((0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[t].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[t].summary}})),s}dispatchAutomaticManagementError(e){return uk.E}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(lk.G),Pe.LFG(OS.z),Pe.LFG(DC.x))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),Ck=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[BI,HM],imports:[[fk,cC.E,wn.EJq,yr.dp,xi.kW,wn.lEK,m.ez,mk,Mt.hJ,Ei.j,Xb.A,KT.O,Sh.cc,xn.u5,wn.QGW,iC.q,ak,rk,fC.oS,wn.g3K,Fb.D,g.Aw.forFeature("OperatorCertificates",PI),g.Aw.forFeature("OperatorCsr",FI),g.Aw.forFeature("SelectedCertificateReducer",QM),g.Aw.forFeature("OperatorCertifFilters",JI),g.Aw.forFeature("AutomaticManagementState",VE),oC.sQ.forFeature([pk]),oC.sQ.forFeature([hk]),oC.sQ.forFeature([bk])]]}),e})();const vk="mdi mdi-loading mdi-spin",yk="Ongoing",Sk="Successful",Pk="Failed",Ok=["!","#","$","%","&","'","(",")","*","+","-",",",".",";","=","?","@","[","]","_","~","/"],xk={refNumLoading:!1,pskLoading:!1};function wk(e=xk,t){switch(t.type){case PE.SET_REF_NUM_LOADING:return Object.assign(Object.assign({},e),{refNumLoading:t.payload});case PE.SET_PSK_LOADING:return Object.assign(Object.assign({},e),{pskLoading:t.payload});default:return e}}const Ak=(0,g.ZF)("CmpSettingsImportFromFile"),_k=(0,g.P1)(Ak,e=>e.refNumLoading),Tk=(0,g.P1)(Ak,e=>e.pskLoading);function Ik(e,t,n){const i={title:n,label:t,length:wn.Wmq.Short};return!(0,_.isNull)(e.operationStatus)&&(0,_.isEqual)(e.operationStatus.status,yk)&&(i.icon=vk,i.label=""),i}function Ek(e,t,n,i){return!(0,_.isNull)(e.operationStatus)&&(0,_.isEqual)(e.operationStatus.status,yk)?Ik(e,t,n):Ik(e,t,i)}function Mk(e){const t={message:"",iconClass:""};if((0,_.isEmpty)(e)||(0,_.isNull)(e.operationStatus))return t;switch(e.operationStatus.status){case Sk:return{message:Sk,iconClass:"success-icon mdi mdi-check-circle"};case Pk:return{message:e.operationStatus.reason||Pk,iconClass:"alert-icon mdi mdi-alert"};default:return t}}function kk(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-button",15,16),Pe.NdJ("action",function(t){return Pe.CHM(e),Pe.oxw().onRefNumUpload(t)}),Pe.ALo(3,"async"),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("disabled",Pe.lcZ(3,3,n.updateCmpServerSettingsInProgress$))("model",e.model)("options",n.importButtonOptions)}}function Nk(e,t){1&e&&(Pe.TgZ(0,"div",17),Pe._UZ(1,"i",18),Pe._uU(2," The file is empty. Please choose another file. "),Pe.qZA())}function Lk(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-button",19),Pe.NdJ("action",function(t){return Pe.CHM(e),Pe.oxw().onPskUpload(t)}),Pe.ALo(2,"async"),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("model",e.model)("options",n.importButtonOptions)("disabled",Pe.lcZ(2,3,n.updateCmpServerSettingsInProgress$))}}function Dk(e,t){1&e&&(Pe.TgZ(0,"div",17),Pe._UZ(1,"i",18),Pe._uU(2," The file is empty. Please choose another file. "),Pe.qZA())}function Zk(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-button",20),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().onSaveCmpSettingsClick()}),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("model",e.model)("disabled",n.isSaveCmpSettingsDisabled()||n.isActionButtonDisabled)}}function Rk(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe._UZ(1,"i",22),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngClass",e.result.iconClass)}}function Uk(e,t){if(1&e&&(Pe.TgZ(0,"span",23),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Oqu(e.result.message)}}function Fk(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,Rk,2,1,"span",9),Pe.YNc(2,Uk,2,1,"span",21),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.iconClass),Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.message)}}const jk=function(e){return{model:e}},$k=function(e){return{result:e}};let qk=(()=>{class e{constructor(e,t){this.store=e,this.formBuilder=t,this.specialKeys=["Backspace","Tab","End","Home","ArrowLeft","ArrowRight","Del","Delete"],this.importButtonOptions={fileUpload:!0,accept:"text/plain"},this.MAX_PRE_SHARED_KEY=128,this.MAX_REFERENCE_NUMBER=30,this.ngUnsubscribe=new Ae.xQ,this.showPSKPassword=!1,this.isEmptyReferenceNumberFile=!1,this.isEmptyPreSharedKeyFile=!1,this.isOperationEnd=!0}ngOnInit(){this.updateCmpServerSettingsInProgress$=this.store.select(dE),this.pattern=`^([\\w${Ok.join("\\")}]+)$`,this.initForm(),this.saveCmpSettingsButtonModel$=this.store.pipe((0,g.Ys)(cE),(0,ys.x)(_.isEqual),(0,A.U)(e=>Ek(e,"Update","Save CMP settings in progress..."))),this.refNumButtonModel$=this.store.pipe((0,g.Ys)(_k),(0,ys.x)(_.isEqual),(0,A.U)(this.createImportButtonModel.bind(this))),this.pskButtonModel$=this.store.pipe((0,g.Ys)(Tk),(0,ys.x)(_.isEqual),(0,A.U)(this.createImportButtonModel.bind(this)))}cleanCmpState(){this.isOperationEnd&&this.store.dispatch($E())}updateRulesStatus(e,t){let n,i=0;"referenceNumber"===e?(n=this.referenceNumberRules,i=this.MAX_REFERENCE_NUMBER):(n=this.preSharedKeyRules,i=this.MAX_PRE_SHARED_KEY),n.forEach(e=>{"minMaxLength"===e.ruleType?e.isPassed=this.minMaxLengthRule(t.length,i):"allowedCharacters"===e.ruleType&&(e.isPassed=this.allowedCharactersRule(t))})}isParameterInvalid(e){this.specialKeys.indexOf(e.key)}removeBrowserFileError(e){"referenceNumber"===e&&(this.isEmptyReferenceNumberFile=!1),"preSharedKey"===e&&(this.isEmptyPreSharedKeyFile=!1)}onRefNumUpload(e){this.store.dispatch(new FE(!0)),this.readFileContent(e.file,this.setReferenceNumber.bind(this))}onPskUpload(e){this.store.dispatch(new jE(!0)),this.readFileContent(e.file,this.setPreSharedKey.bind(this))}onSaveCmpSettingsClick(){this.store.dispatch(new TE({refNumber:this.form.controls.referenceNumber.value,pskKey:this.form.controls.preSharedKey.value})),this.clearInputs()}isSaveCmpSettingsDisabled(){return""===this.form.controls.referenceNumber.value||""===this.form.controls.preSharedKey.value||this.form.controls.referenceNumber.invalid||this.form.controls.preSharedKey.invalid}ngOnDestroy(){this.store.dispatch($E()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setPasswordVisible(e){this.showPSKPassword=e}initForm(){this.form=this.formBuilder.group({referenceNumber:["",[xn.kI.maxLength(this.MAX_REFERENCE_NUMBER),xn.kI.pattern(this.pattern)]],preSharedKey:["",[xn.kI.maxLength(this.MAX_PRE_SHARED_KEY),xn.kI.pattern(this.pattern)]]});const e=this.form.get("referenceNumber");e&&e.valueChanges.pipe((0,_e.R)(this.ngUnsubscribe),(0,Mb.b)(100),(0,ys.x)()).subscribe(e=>this.updateRulesStatus("referenceNumber",e));const t=this.form.get("preSharedKey");t&&t.valueChanges.pipe((0,_e.R)(this.ngUnsubscribe),(0,Mb.b)(100),(0,ys.x)()).subscribe(e=>this.updateRulesStatus("preSharedKey",e)),this.cmpSettingsUpdateResult$=this.store.pipe((0,g.Ys)(cE),(0,ys.x)(_.isEqual),(0,A.U)(Mk.bind(this))),this.cmpSettingsUpdateResult$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.isOperationEnd=!!e.message}),this.updateCmpServerSettingsInProgress$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(n=>{n?(null==t||t.disable(),null==e||e.disable()):(null==t||t.enable(),null==e||e.enable())})}minMaxLengthRule(e,t){return e>=1&&e<=t}allowedCharactersRule(e){return new RegExp(this.pattern).test(e)}createImportButtonModel(e){const t={label:"Browse...",length:wn.Wmq.Short};return e&&(t.icon=vk,t.label=""),t}readFileContent(e,t){if(e){const n=new FileReader;n.onerror=()=>{n.abort()},n.onload=t,n.readAsText(e)}}setReferenceNumber(e){this.setFileContent(e,"referenceNumber")}setPreSharedKey(e){this.setFileContent(e,"preSharedKey")}setFileContent(e,t){const n=e.target;let{result:i}=n;i=i.trim();const o="referenceNumber"===t;if(this.store.dispatch(new(o?FE:jE)(!1)),i){const e=this.getTargetResultWithoutNewLinesAtTheEnd(i);this.form.patchValue({[t]:e}),o?this.isEmptyReferenceNumberFile=!1:this.isEmptyPreSharedKeyFile=!1}else this.form.patchValue({[t]:""}),o?this.isEmptyReferenceNumberFile=!0:this.isEmptyPreSharedKeyFile=!0;this.form.controls[t].markAsDirty()}getTargetResultWithoutNewLinesAtTheEnd(e){for(;"\n"===e[e.length-1];)e=e.slice(0,e.length-2);return e}clearInputs(){this.form.reset({referenceNumber:"",preSharedKey:""})}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(xn.qu))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["certificate-automatic-management-cmp-server-settings"]],inputs:{referenceNumberRules:"referenceNumberRules",preSharedKeyRules:"preSharedKeyRules",isActionButtonDisabled:"isActionButtonDisabled"},decls:28,vars:25,consts:[[1,"p-col-3","p-nogutter","cmp-server-settings"],[1,"automatic-management-title"],[3,"formGroup"],[1,"p-nogutter","cmp-server-settings-inputs"],[1,"ui-inputgroup"],[1,"label"],[1,"input-text"],[1,"p-col-12","ui-inputgroup","ref-number"],["pInputText","","type","text","name","referenceNumber","autocomplete","off","formControlName","referenceNumber",3,"focus","keydown","ngModelChange"],[4,"ngIf"],["class","errors fade show",4,"ngIf"],[1,"p-col-12","ui-inputgroup"],[1,"p-col-12","ui-inputgroup","shared-key"],["pInputText","","name","preSharedKey","autocomplete","off","formControlName","preSharedKey",3,"type","focus","ngModelChange","keydown"],[1,"eye-class",3,"disabled","isPasswordVisible"],["id","webem-automatic-management-ref-number-import",1,"primary-button",3,"disabled","model","options","action"],["refNumFileUploader",""],[1,"errors","fade","show"],["aria-hidden","true",1,"mdi","mdi-alert","icon-class"],["id","webem-automatic-management-psk-import",1,"primary-button",3,"model","options","disabled","action"],["id","webem-automatic-management-save-cmp-settings",1,"primary-button",3,"model","disabled","action"],["class","operation-result",4,"ngIf"],[1,"operation-result-icon","notification-icon-cmp-update-settings",3,"ngClass"],[1,"operation-result"]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe._uU(2," CMP Server Settings "),Pe.qZA(),Pe.TgZ(3,"form",2),Pe.TgZ(4,"div",3),Pe.TgZ(5,"div",4),Pe.TgZ(6,"label",5),Pe._uU(7," Reference number: "),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"div",6),Pe.TgZ(9,"div",7),Pe.TgZ(10,"input",8),Pe.NdJ("focus",function(){return t.removeBrowserFileError("referenceNumber")})("keydown",function(e){return t.isParameterInvalid(e)})("ngModelChange",function(){return t.cleanCmpState()}),Pe.qZA(),Pe.YNc(11,kk,4,5,"ng-container",9),Pe.ALo(12,"async"),Pe.qZA(),Pe.qZA(),Pe.YNc(13,Nk,3,0,"div",10),Pe.TgZ(14,"div",11),Pe.TgZ(15,"label",5),Pe._uU(16," Pre-shared key: "),Pe.qZA(),Pe.qZA(),Pe.TgZ(17,"div",6),Pe.TgZ(18,"div",12),Pe.TgZ(19,"input",13),Pe.NdJ("focus",function(){return t.removeBrowserFileError("preSharedKey")})("ngModelChange",function(){return t.cleanCmpState()})("keydown",function(e){return t.isParameterInvalid(e)}),Pe.qZA(),Pe.TgZ(20,"ui-webem-show-password-button",14),Pe.NdJ("isPasswordVisible",function(e){return t.setPasswordVisible(e)}),Pe.qZA(),Pe.YNc(21,Lk,3,5,"ng-container",9),Pe.ALo(22,"async"),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.YNc(23,Dk,3,0,"div",10),Pe.YNc(24,Zk,2,2,"ng-container",9),Pe.ALo(25,"async"),Pe.YNc(26,Fk,3,2,"ng-container",9),Pe.ALo(27,"async"),Pe.qZA(),Pe.qZA()),2&e){let e;Pe.xp6(3),Pe.Q6J("formGroup",t.form),Pe.xp6(8),Pe.Q6J("ngIf",Pe.VKq(17,jk,Pe.lcZ(12,9,t.refNumButtonModel$))),Pe.xp6(2),Pe.Q6J("ngIf",t.isEmptyReferenceNumberFile),Pe.xp6(6),Pe.Q6J("type",t.showPSKPassword?"text":"password"),Pe.xp6(1),Pe.Q6J("disabled",!(null!=(e=t.form.get("preSharedKey"))&&e.value)),Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(19,jk,Pe.lcZ(22,11,t.pskButtonModel$))),Pe.xp6(2),Pe.Q6J("ngIf",t.isEmptyPreSharedKeyFile),Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(21,jk,Pe.lcZ(25,13,t.saveCmpSettingsButtonModel$))),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(23,$k,Pe.lcZ(27,15,t.cmpSettingsUpdateResult$)))}},directives:[xn._Y,xn.JL,xn.sg,xn.Fj,Ei.o,xn.JJ,xn.u,m.O5,oS.G,Ui.r,m.mk],pipes:[m.Ov],styles:[".cmp-server-settings[_ngcontent-%COMP%], .cmp-server-settings-inputs[_ngcontent-%COMP%]{padding:0;width:398px}.input-text[_ngcontent-%COMP%]{position:relative}.notification-icon-cmp-update-settings[_ngcontent-%COMP%]{margin-left:15px}.ref-number[_ngcontent-%COMP%], .shared-key[_ngcontent-%COMP%]{position:relative;margin-bottom:0;padding:0}.ref-number[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%], .shared-key[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{width:100%;height:26px;background:#fff;border:1px solid #98a2ae;border-radius:3px}.ref-number[_ngcontent-%COMP%]   .eye-class[_ngcontent-%COMP%], .shared-key[_ngcontent-%COMP%]   .eye-class[_ngcontent-%COMP%]{height:22px;width:26px;position:absolute;top:14px;right:21%;text-align:center;transform:translateY(-50%)}.ref-number[_ngcontent-%COMP%]   .eye-class[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%], .shared-key[_ngcontent-%COMP%]   .eye-class[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{pointer-events:none}.ref-number[_ngcontent-%COMP%]   .fade.show[_ngcontent-%COMP%], .shared-key[_ngcontent-%COMP%]   .fade.show[_ngcontent-%COMP%]{width:100%}.ref-number[_ngcontent-%COMP%]   .errors[_ngcontent-%COMP%], .shared-key[_ngcontent-%COMP%]   .errors[_ngcontent-%COMP%]{margin-top:1px;font-size:10px;position:absolute;color:#da1914}.ref-number[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .shared-key[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:30px}.ref-number[_ngcontent-%COMP%]   .icon-class[_ngcontent-%COMP%], .shared-key[_ngcontent-%COMP%]   .icon-class[_ngcontent-%COMP%]{position:absolute;top:1px;font-size:16px;right:88px}.invalid[_ngcontent-%COMP%], .ref-number[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]:focus.ng-invalid, .shared-key[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]:focus.ng-invalid{border:1px solid #be0006}.label[_ngcontent-%COMP%]{font-size:11px;margin:20px 0 5px;color:#1b1b1b}#webem-automatic-management-save-cmp-settings[_ngcontent-%COMP%]{margin:30px 0}#webem-automatic-management-save-cmp-settings[_ngcontent-%COMP%]   .ui-button-icon-only[_ngcontent-%COMP%], #webem-automatic-management-save-cmp-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:70px}#webem-automatic-management-save-cmp-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#5d7cb1;color:#f9feff;border:none;box-shadow:none}#webem-automatic-management-save-cmp-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:enabled{background-color:#124191;color:#f9feff;box-shadow:0 2px 3px 0 rgba(0,0,0,.1);border:none}#webem-automatic-management-save-cmp-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:enabled:hover{background-color:#082961;color:#f9feff;box-shadow:0 2px 3px 0 rgba(0,0,0,.1);border:none}#webem-automatic-management-save-cmp-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:enabled:active{background-color:#124191;color:#f9feff;box-shadow:0 3px 5px 0 rgba(0,0,0,.3);border:none}"]}),e})();const Bk=function(){return{minWidth:"97px"}};function Gk(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-button",7),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().onUpdateCmpServerKeyClick()}),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("model",e.model)("disabled",n.isActionButtonDisabled||Pe.lcZ(2,4,n.isCmpKeyUpdateNotConfigured$))("options",Pe.DdM(8,Bk))("title",Pe.lcZ(3,6,n.isCmpKeyUpdateNotConfigured$)?n.TOOLTIP:"")}}function Vk(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe._UZ(1,"i",9),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngClass",e.result.iconClass)}}function Yk(e,t){if(1&e&&(Pe.TgZ(0,"span",10),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Oqu(e.result.message)}}function Jk(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,Vk,2,1,"span",4),Pe.YNc(2,Yk,2,1,"span",8),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.iconClass),Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.message)}}const Hk=function(){return{minWidth:"117px"}};function Wk(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-button",11),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().onInitializeCertificatesClick()}),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("model",e.model)("disabled",n.isActionButtonDisabled||Pe.lcZ(2,4,n.isInitCertificateNotConfigured$))("options",Pe.DdM(10,Hk))("title",Pe.lcZ(3,6,n.isInitCertificateNotConfigured$)?Pe.lcZ(4,8,n.initCertBtnDisabledTooltips$):"")}}function Qk(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe._UZ(1,"i",13),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngClass",e.result.iconClass)}}function zk(e,t){if(1&e&&(Pe.TgZ(0,"span",10),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Oqu(e.result.message)}}function Kk(e,t){if(1&e&&(Pe.ynx(0,12),Pe.YNc(1,Qk,2,1,"span",4),Pe.YNc(2,zk,2,1,"span",8),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.iconClass),Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.message)}}const Xk=function(e){return{model:e}},eN=function(e){return{result:e}};let tN=(()=>{class e{constructor(e){this.store=e,this.TOOLTIP="CMP server is not configured"}ngOnInit(){this.cmpServerStatus$=this.store.pipe((0,g.Ys)(JE)),this.certifInitResult$=this.store.pipe((0,g.Ys)(rE),(0,ys.x)(_.isEqual),(0,A.U)(Mk.bind(this))),this.cmpKeyUpdateResult$=this.store.pipe((0,g.Ys)(sE),(0,ys.x)(_.isEqual),(0,A.U)(Mk.bind(this))),this.certifInitButtonModel$=this.store.pipe((0,g.Ys)(rE),(0,ys.x)(_.isEqual),(0,A.U)(e=>Ek(e,"Initialize Certificates","Initialize Certificates in progress..."))),this.cmpKeyUpdateButtonModel$=this.store.pipe((0,g.Ys)(sE),(0,ys.x)(_.isEqual),(0,A.U)(e=>Ek(e,"CMP Key Update","CMP Key Update in progress..."))),this.isCmpKeyUpdateNotConfigured$=this.store.pipe((0,g.Ys)(zE)),this.isInitCertificateNotConfigured$=this.store.pipe((0,g.Ys)(KE)),this.initCertBtnDisabledTooltips$=(0,ft.aj)([this.store.select(WE),this.store.select(QE),this.store.select(zE)]).pipe((0,A.U)(([e,t,n])=>{const i=[];if(t&&i.push("CA subject name"),e&&i.push("EE subject name"),n&&i.push("CMP server"),0===i.length)return"";let o="";return i.forEach((e,t)=>{o=t===i.length-2?o.concat(e).concat(" and "):t===i.length-1?o.concat(e):o.concat(e).concat(", ")}),o.concat(i.length>1?" are":" is").concat(" not configured")}))}ngOnDestroy(){this.store.dispatch(qE()),this.store.dispatch(BE())}onUpdateCmpServerKeyClick(){this.store.dispatch(new AE)}onInitializeCertificatesClick(){this.store.dispatch(new _E)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["certificate-automatic-management-options"]],inputs:{isActionButtonDisabled:"isActionButtonDisabled"},decls:19,vars:23,consts:[[1,"automatic-management-options"],[1,"automatic-management-title"],[1,"manual-triggering"],[1,"cmp-server-status"],[4,"ngIf"],[1,"initialize-certificates-container"],["class","initialize-certificates-response",4,"ngIf"],["id","webem-automatic-management-cmp-update-key",3,"model","disabled","options","title","action"],["class","operation-result",4,"ngIf"],[1,"operation-result-icon","notification-icon-cmp-update-key",3,"ngClass"],[1,"operation-result"],["id","webem-automatic-management-init-certif",3,"model","disabled","options","title","action"],[1,"initialize-certificates-response"],[1,"operation-result-icon","notification-icon-init-certif",3,"ngClass"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe._uU(2," Manual Triggering "),Pe.qZA(),Pe.TgZ(3,"div",2),Pe.TgZ(4,"span",3),Pe._uU(5,"CMP state:"),Pe.qZA(),Pe.TgZ(6,"span",3),Pe._uU(7),Pe.ALo(8,"async"),Pe.qZA(),Pe.qZA(),Pe.TgZ(9,"div"),Pe.YNc(10,Gk,4,9,"ng-container",4),Pe.ALo(11,"async"),Pe.YNc(12,Jk,3,2,"ng-container",4),Pe.ALo(13,"async"),Pe.qZA(),Pe.TgZ(14,"div",5),Pe.YNc(15,Wk,5,11,"ng-container",4),Pe.ALo(16,"async"),Pe.YNc(17,Kk,3,2,"ng-container",6),Pe.ALo(18,"async"),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(7),Pe.Oqu(Pe.lcZ(8,5,t.cmpServerStatus$)),Pe.xp6(3),Pe.Q6J("ngIf",Pe.VKq(15,Xk,Pe.lcZ(11,7,t.cmpKeyUpdateButtonModel$))),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(17,eN,Pe.lcZ(13,9,t.cmpKeyUpdateResult$))),Pe.xp6(3),Pe.Q6J("ngIf",Pe.VKq(19,Xk,Pe.lcZ(16,11,t.certifInitButtonModel$))),Pe.xp6(2),Pe.Q6J("ngIf",Pe.VKq(21,eN,Pe.lcZ(18,13,t.certifInitResult$))))},directives:[m.O5,Ui.r,m.mk],pipes:[m.Ov],styles:[".automatic-management-options[_ngcontent-%COMP%]{padding:0;width:398px}.notification-icon-cmp-update-key[_ngcontent-%COMP%], .notification-icon-init-certif[_ngcontent-%COMP%]{margin-left:15px}.manual-triggering[_ngcontent-%COMP%]{margin-top:20px}.cmp-server-status[_ngcontent-%COMP%]{margin-right:25px;color:#1b1b1b}.initialize-certificates-container[_ngcontent-%COMP%]{align-items:center}.initialize-certificates-container[_ngcontent-%COMP%]   #webem-automatic-management-init-certif[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.initialize-certificates-container[_ngcontent-%COMP%]   .initialize-certificates-response[_ngcontent-%COMP%]{max-width:225px}#webem-automatic-management-cmp-update-key[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:20px;max-width:250px}"]}),e})();const nN=function(e){return{"passed-rule":e}};function iN(e,t){if(1&e&&(Pe.TgZ(0,"div",12),Pe._UZ(1,"i",13),Pe.TgZ(2,"span",14),Pe._uU(3),Pe.qZA(),Pe.qZA()),2&e){const e=t.$implicit;Pe.Q6J("ngClass",Pe.VKq(2,nN,e.isPassed)),Pe.xp6(3),Pe.Oqu(e.value)}}function oN(e,t){if(1&e&&(Pe.TgZ(0,"div",12),Pe._UZ(1,"i",13),Pe.TgZ(2,"span",14),Pe._uU(3),Pe.qZA(),Pe.qZA()),2&e){const e=t.$implicit;Pe.Q6J("ngClass",Pe.VKq(2,nN,e.isPassed)),Pe.xp6(3),Pe.Oqu(e.value)}}const sN=[{path:"",component:(()=>{class e{constructor(e){this.store=e,this.referenceNumberRules=[{ruleType:"minMaxLength",value:"Maximum 30 characters",isPassed:!1},{ruleType:"allowedCharacters",value:`Each character should be alphanumeric or one of the following: ${Ok.join(" ")}`,isPassed:!1}],this.preSharedKeyRules=[{ruleType:"minMaxLength",value:"Maximum 128 characters",isPassed:!1},{ruleType:"allowedCharacters",value:`Each character should be alphanumeric or one of the following: ${Ok.join(" ")}`,isPassed:!1}]}ngOnInit(){this.cmpServerConfigurationState$=this.store.pipe((0,g.Ys)(HE)),this.store.dispatch(new RE),this.store.dispatch(new xE),this.isActionButtonDisabled$=(0,ft.aj)([this.store.select(dE),this.store.select(aE),this.store.select(lE)]).pipe((0,A.U)(([e,t,n])=>e||t||n),(0,Ps.d)())}ngOnDestroy(){this.store.dispatch(new wE),this.store.dispatch(new UE)}getNumberOfPassedRules(e){return("referenceNumber"===e?this.referenceNumberRules:this.preSharedKeyRules).filter(e=>e.isPassed).length}getTotalNumberOfRules(e){return"referenceNumber"===e?this.referenceNumberRules.length:this.preSharedKeyRules.length}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["certificate-automatic-management"]],decls:24,vars:15,consts:[[3,"text"],[1,"p-grid","certificates-automatic"],[1,"p-col-3","certificates-automatic-content"],[3,"isActionButtonDisabled","referenceNumberRules","preSharedKeyRules"],[3,"isActionButtonDisabled"],[1,"p-col-3","certificates-rules-content"],[1,"validation-rule-title"],[1,"reference-number"],[1,"validation-title"],[1,"passed-rules-counter"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"pre-shared-key"],[3,"ngClass"],[1,"mdi","mdi-checkbox-marked-circle","validation-rule-icon"],[1,"text-rule"]],template:function(e,t){1&e&&(Pe._UZ(0,"ui-webem-alarm-message",0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"div",2),Pe._UZ(3,"certificate-automatic-management-cmp-server-settings",3),Pe.ALo(4,"async"),Pe._UZ(5,"certificate-automatic-management-options",4),Pe.ALo(6,"async"),Pe.qZA(),Pe.TgZ(7,"div",5),Pe.TgZ(8,"div",6),Pe._uU(9," Validation Rules "),Pe.qZA(),Pe.TgZ(10,"div",7),Pe.TgZ(11,"div",8),Pe.TgZ(12,"span"),Pe._uU(13,"Reference number rules"),Pe.qZA(),Pe.TgZ(14,"span",9),Pe._uU(15),Pe.qZA(),Pe.qZA(),Pe.YNc(16,iN,4,4,"div",10),Pe.qZA(),Pe.TgZ(17,"div",11),Pe.TgZ(18,"div",8),Pe.TgZ(19,"span"),Pe._uU(20,"Pre-shared key rules"),Pe.qZA(),Pe.TgZ(21,"span",9),Pe._uU(22),Pe.qZA(),Pe.qZA(),Pe.YNc(23,oN,4,4,"div",10),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.Q6J("text","Note that a certificate change may cause a connection break. If it occurs, reload the WebEM page and accept the new certificates to re-establish the connection."),Pe.xp6(3),Pe.Q6J("isActionButtonDisabled",Pe.lcZ(4,11,t.isActionButtonDisabled$))("referenceNumberRules",t.referenceNumberRules)("preSharedKeyRules",t.preSharedKeyRules),Pe.xp6(2),Pe.Q6J("isActionButtonDisabled",Pe.lcZ(6,13,t.isActionButtonDisabled$)),Pe.xp6(10),Pe.AsE(" ",t.getNumberOfPassedRules("referenceNumber")," / ",t.getTotalNumberOfRules("referenceNumber")," "),Pe.xp6(1),Pe.Q6J("ngForOf",t.referenceNumberRules),Pe.xp6(6),Pe.AsE(" ",t.getNumberOfPassedRules("preSharedKey")," / ",t.getTotalNumberOfRules("preSharedKey")," "),Pe.xp6(1),Pe.Q6J("ngForOf",t.preSharedKeyRules))},directives:[pT.B,qk,tN,m.sg,m.mk],pipes:[m.Ov],styles:["[_nghost-%COMP%]    {background-color:#edf2f5;display:block;height:100%;overflow-x:hidden}[_nghost-%COMP%]     .validation-rule{display:flex;justify-content:normal}[_nghost-%COMP%]     .passed-rules-counter{margin-left:auto}[_nghost-%COMP%]     .validation-title{height:23px;font-weight:bolder;margin-top:20px;margin-bottom:15px;display:flex}[_nghost-%COMP%]     .text-rule{color:#707070}[_nghost-%COMP%]     .validation-rule-icon{vertical-align:middle;color:#707070;margin-right:6px}[_nghost-%COMP%]     .reference-number{padding-bottom:5px}[_nghost-%COMP%]     .passed-rule i{color:#3daa00}[_nghost-%COMP%]     .passed-rule span{color:#1b1b1b}[_nghost-%COMP%]     .certificates-automatic{padding-right:23px;padding-left:15px;padding-top:10px}[_nghost-%COMP%]     .certificates-automatic ui-webem-button.primary-button button{min-width:70px}[_nghost-%COMP%]     .certificates-automatic .certificates-automatic-content{position:relative;min-width:410px}[_nghost-%COMP%]     .certificates-automatic .certificates-rules-content{padding-left:18px;min-width:386px}[_nghost-%COMP%]     .certificates-automatic .automatic-management-title{font-size:16px;line-height:16px;padding-bottom:4px;border-bottom:1px solid #98a2ae;color:#4d5766}[_nghost-%COMP%]     .certificates-automatic .validation-rule-title{font-size:16px;line-height:16px;padding-bottom:4px;border-bottom:1px solid #98a2ae;color:#4d5766}[_nghost-%COMP%]     .certificates-automatic .errors{color:#da1914;margin-top:2px;position:absolute;font-size:10px;padding:0}[_nghost-%COMP%]     .certificates-automatic .ui-inputgroup .primary-button .p-button{margin-left:10px;margin-bottom:0}[_nghost-%COMP%]     .certificates-automatic .ui-inputgroup .primary-button .p-button:hover:not([disabled]){background-color:#f9feff;border-color:#00c9ff;color:#1b1b1b}[_nghost-%COMP%]     .certificates-automatic .ui-button.ui-button-text-only .ui-button-text{padding-left:7px;padding-right:7px}[_nghost-%COMP%]     .certificates-automatic .ui-button:hover:not([disabled]){background-color:#f9feff;border-color:#00c9ff;color:#1b1b1b}[_nghost-%COMP%]     .certificates-automatic .ui-button:active:not([disabled]){outline:0 none;outline-offset:0;background-color:#f9feff;border-color:#00c9ff;color:#1b1b1b;box-shadow:0 3px 5px rgba(0,0,0,.3)}[_nghost-%COMP%]     .certificates-automatic .ui-overlaypanel-content{white-space:pre-wrap}[_nghost-%COMP%]     .certificates-automatic .operation-result{margin-left:8px;color:#98a2ae;font-size:14px}[_nghost-%COMP%]     .certificates-automatic .validation-message{display:block;padding-top:2px;padding-bottom:15px;font-size:11px;color:#da1914}[_nghost-%COMP%]     .certificates-automatic i.operation-result-icon{font-size:26px;position:relative;top:4px}[_nghost-%COMP%]     .certificates-automatic i.operation-result-icon.alert-icon{color:#da1914}[_nghost-%COMP%]     .certificates-automatic i.operation-result-icon.success-icon{color:#3daa00}"]}),e})(),outlet:"content_center"},{path:"",component:ok,outlet:"content_menu"}];let aN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(sN)],f.Bz]}),e})(),rN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,cC.E,wn.g3K]]}),e})(),lN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[],imports:[[m.ez,fk,rN,Ei.j,xn.u5,wn.EJq,wn.lEK,xn.UX,wn.yyE,aN,rk,g.Aw.forFeature("AutomaticManagementState",VE),g.Aw.forFeature("CmpSettingsImportFromFile",wk),oC.sQ.forFeature([bk])]]}),e})();var cN=(()=>(function(e){e.SetCrlInformation="[crl-information-page] SetCrlInformation",e.UnsubscribeCrlInformationWatch="[crl-information-page] UnsubscribeCrlInformationWatch",e.SubscribeCrlInformationWatch="[crl-information-page] SubscribeCrlInformationWatch",e.SubscribeCrlInformationError="[crl-information-page] SubscribeCrlInformationError",e.UpdateCrlInformation="[User] [crl-information-page] UpdateCrlInformation",e.UpdateCrlInformationError="[crl-information-page] UpdateCrlInformationError",e.SubscribeUpdateCrlOperationStatusWatch="[crl-information-page] SubscribeUpdateCrlOperationStatusWatch",e.UnsubscribeUpdateCrlOperationStatusWatch="[crl-information-page] UnsubscribeUpdateCrlOperationStatusWatch",e.SelectCrlCertificate="[crl-information-page] SelectCrlCertificate",e.DeselectCrlCertificate="[crl-information-page] DeselectCrlCertificate",e.SetItemsPerPage="[crl-information-page] SetItemsPerPage",e.IsLoadingCrlData="[crl-information-page] IsLoadingCrlData",e.CleanCrlStateIfIsNotOngoing="[crl-information-page] cleanCrlStateIfIsNotOngoing"}(cN||(cN={})),cN))();const dN=(0,g.PH)(cN.SetCrlInformation,(0,g.Ky)()),uN=(0,g.PH)(cN.IsLoadingCrlData,(0,g.Ky)()),pN=(0,g.PH)(cN.SetItemsPerPage,(0,g.Ky)()),gN=(0,g.PH)(cN.UnsubscribeCrlInformationWatch),hN=(0,g.PH)(cN.SubscribeCrlInformationWatch),mN=(0,g.PH)(cN.SubscribeCrlInformationError,(0,g.Ky)()),fN=(0,g.PH)(cN.UpdateCrlInformation),bN=(0,g.PH)(cN.SubscribeUpdateCrlOperationStatusWatch,(0,g.Ky)()),CN=(0,g.PH)(cN.UnsubscribeUpdateCrlOperationStatusWatch),vN=(0,g.PH)(cN.UpdateCrlInformationError,(0,g.Ky)()),yN=(0,g.PH)(cN.SelectCrlCertificate,(0,g.Ky)()),SN=(0,g.PH)(cN.DeselectCrlCertificate),PN=(0,g.PH)(cN.CleanCrlStateIfIsNotOngoing);var ON=(()=>(function(e){e.setCrlInfoTableFilters="[User] Set filters for crl information table"}(ON||(ON={})),ON))();const xN=(0,g.PH)(ON.setCrlInfoTableFilters,(0,g.Ky)()),wN=(0,g.Lq)({issuer:"",numOfRevCert:"",distributionPointURI:"",distributionPointType:"",updateFailureReason:""},(0,g.on)(xN,(e,t)=>t.payload));function AN(e,t){return wN(e,t)}const _N=(0,g.ZF)("CrlInformationFilters");let TN=(()=>{class e{constructor(e){this.datetimeService=e}static computeStatusForCertificate(e,t){return e-t<=432e6&&e-t>=0?0:t<e?1:-1}createTableModel(t){const n=qI.d.getCurrentUnixTimestamp();return t.map(t=>({status:e.computeStatusForCertificate(parseInt(t.details.validTo,10),n),id:t.id,issuedBy:this.extractCommonName(t.details.issuedBy),issuedTo:this.extractCommonName(t.details.issuedTo),certifType:t.type,validFrom:this.datetimeService.getFormattedDateTime(t.details.validFrom),validTo:this.datetimeService.getFormattedDateTime(t.details.validTo),serialNumber:t.details.serialNumber}))}extractCommonName(e=""){const t=e.match(/CN = ([a-zA-Z0-9\. ]+)/);return t&&t.length>1?t[1]:e}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(qI.d))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const IN="CrlInformation",EN=(0,g.Lq)({crlInformation:[],itemsPerPage:15,isLoadingCrlData:!1,updateEnabled:!1},(0,g.on)(dN,(e,{list:t,updateEnabled:n})=>Object.assign(Object.assign({},e),{crlInformation:t,updateEnabled:n})),(0,g.on)(pN,(e,{itemsPerPage:t})=>Object.assign(Object.assign({},e),{itemsPerPage:t})),(0,g.on)(uN,(e,{isLoadingCrlData:t})=>Object.assign(Object.assign({},e),{isLoadingCrlData:t})));function MN(e,t){return EN(e,t)}const kN=(0,g.ZF)(IN),NN=(0,g.P1)(kN,e=>e.crlInformation),LN=(0,g.P1)(kN,e=>e.crlInformation.length),DN=(0,g.P1)(kN,e=>e.itemsPerPage),ZN=(0,g.P1)(kN,e=>e.isLoadingCrlData),RN=(0,g.P1)(kN,e=>e.updateEnabled);var UN=n(67243);const FN=["buttonContainer"];function jN(e,t){if(1&e&&(Pe.TgZ(0,"span"),Pe._UZ(1,"i",9),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Q6J("ngClass",e.result.iconClass)}}function $N(e,t){if(1&e&&(Pe.TgZ(0,"span",10),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(1),Pe.Oqu(e.result.message)}}function qN(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",1),Pe.TgZ(1,"div",2,3),Pe.TgZ(3,"ui-webem-button",4),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().updateCrl()}),Pe.qZA(),Pe.ynx(4),Pe.YNc(5,jN,2,1,"span",5),Pe.YNc(6,$N,2,1,"span",6),Pe.BQk(),Pe.qZA(),Pe.TgZ(7,"div",7),Pe.TgZ(8,"ui-webem-crl-information-table",8),Pe.NdJ("CrlCertificateSelected",function(t){return Pe.CHM(e),Pe.oxw().onSelectCrlCertificate(t)})("ClearSelection",function(){return Pe.CHM(e),Pe.oxw().onClearSelection()})("SetFilters",function(t){return Pe.CHM(e),Pe.oxw().onFiltersSet(t)}),Pe.ALo(9,"async"),Pe.ALo(10,"async"),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(3),Pe.Q6J("model",e.model)("disabled",e.updateCrlOperationInProgress||!e.isUpdateEnabled),Pe.xp6(2),Pe.Q6J("ngIf",!!e.result.iconClass),Pe.xp6(1),Pe.Q6J("ngIf",!!e.result.message),Pe.xp6(2),Pe.Q6J("crlInformation",n.crlInformation$)("filtersReceived",Pe.lcZ(9,9,n.filters$))("totalNumberOfCrl",Pe.lcZ(10,11,n.crlCertificatesNumber$))("itemsPerPage$",n.crlCertificatesPerPage$)("isLoadingCrlData$",n.isLoadingCrlData$)}}const BN=function(e,t,n,i){return{model:e,result:t,updateCrlOperationInProgress:n,isUpdateEnabled:i}};let GN=(()=>{class e{constructor(e,t,n,i){this.store=e,this.datetimeService=t,this.elRef=n,this.certificatesCrlTableModelService=i,this.offsetHeight=0,this.operationStatusEnum={ONGOING:"Ongoing",SUCCESSFUL:"Successful",FAILED:"Failed"},this.icons={ONGOING:"mdi mdi-loading mdi-spin",SUCCESS_ICON:"success-icon mdi mdi-check-circle",ERROR_ICON:"alert-icon mdi mdi-alert"}}ngOnInit(){this.isLoadingCrlData$=this.store.select(ZN),this.isUpdateEnabled$=this.store.select(RN),this.store.dispatch(hN()),this.crlInformation$=this.store.pipe((0,g.Ys)(NN),(0,A.U)(e=>e.map(e=>{const t=this.certificatesCrlTableModelService.extractCommonName(e.issuer);return Object.assign(Object.assign({},e),{issuer:t})}))),this.crlCertificatesNumber$=this.store.pipe((0,g.Ys)(LN)),this.filters$=this.store.select(_N),this.crlUpdateResult$=this.store.pipe((0,g.Ys)(uE),(0,ys.x)(_.isEqual),(0,A.U)(this.getOperationResult.bind(this))),this.updateCrlOperationInProgress$=this.store.pipe((0,g.Ys)(pE),(0,ys.x)(_.isEqual),(0,Ps.d)()),this.crlUpdateButtonModel$=this.updateCrlOperationInProgress$.pipe((0,A.U)(e=>this.createActionButtonModel(e,"Update"))),this.crlCertificatesPerPage$=this.store.select(DN)}ngAfterViewChecked(){const e=this.elRef.nativeElement.parentNode&&this.elRef.nativeElement.parentNode.offsetHeight;e&&e!==this.offsetHeight&&setTimeout(()=>{this.offsetHeight=e,this.setItemsPerPageForCurrentHeight(e)})}ngOnDestroy(){this.store.dispatch(gN()),this.store.dispatch(SN()),this.store.dispatch(PN())}updateCrl(){this.store.dispatch(fN())}onSelectCrlCertificate(e){this.store.dispatch(yN({crlinfoRId:e}))}onClearSelection(){this.store.dispatch(SN())}getOperationResult(e){const t={message:"",iconClass:""};if((0,_.isEmpty)(e)||(0,_.isNull)(e.operationStatus))return t;switch(e.operationStatus.status){case this.operationStatusEnum.SUCCESSFUL:return{message:this.operationStatusEnum.SUCCESSFUL,iconClass:this.icons.SUCCESS_ICON};case this.operationStatusEnum.FAILED:return{message:e.operationStatus.reason||"",iconClass:this.icons.ERROR_ICON};default:return t}}createActionButtonModel(e,t){const n={label:t,length:wn.Wmq.Short};return e&&(n.icon=this.icons.ONGOING,n.label="",n.title=`${t} in progress...`),n}setItemsPerPageForCurrentHeight(e){this.offsetHeight=e;const t=Math.floor(e/32);this.store.dispatch(pN({itemsPerPage:t}))}onFiltersSet(e){this.store.dispatch(xN({payload:e}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(qI.d),Pe.Y36(Pe.SBq),Pe.Y36(TN))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["certificate-crl-home"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(FN,7),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.buttonContainer=e.first)}},decls:5,vars:14,consts:[["class","p-grid p-nogutter",4,"ngIf"],[1,"p-grid","p-nogutter"],[1,"p-col-12","p-nogutter","action-info-area"],["buttonContainer",""],["id","webem-certificate-revocation-list-crl-list-update",3,"model","disabled","action"],[4,"ngIf"],["class","operation-result",4,"ngIf"],[1,"p-col-12","p-nogutter","crl-information"],[3,"crlInformation","filtersReceived","totalNumberOfCrl","itemsPerPage$","isLoadingCrlData$","CrlCertificateSelected","ClearSelection","SetFilters"],[1,"notification-icon-update-crl",3,"ngClass"],[1,"operation-result"]],template:function(e,t){1&e&&(Pe.YNc(0,qN,11,13,"div",0),Pe.ALo(1,"async"),Pe.ALo(2,"async"),Pe.ALo(3,"async"),Pe.ALo(4,"async")),2&e&&Pe.Q6J("ngIf",Pe.l5B(9,BN,Pe.lcZ(1,1,t.crlUpdateButtonModel$),Pe.lcZ(2,3,t.crlUpdateResult$),Pe.lcZ(3,5,t.updateCrlOperationInProgress$),Pe.lcZ(4,7,t.isUpdateEnabled$)))},directives:[m.O5,Ui.r,UN.C,m.mk],pipes:[m.Ov],styles:["[_nghost-%COMP%]    {background-color:#edf2f5;display:block;height:100%}[_nghost-%COMP%]     .crl-information{padding:0 15px 15px}[_nghost-%COMP%]     .crl-information .panel-header{border-bottom:none}[_nghost-%COMP%]     .crl-information .form-container{box-shadow:0 3px 8px rgba(0,0,0,.13)}[_nghost-%COMP%]     #webem-certificate-revocation-list-crl-list-update button{min-width:70px}[_nghost-%COMP%]     .operation-result{margin-left:8px;color:#98a2ae;font-size:14px}[_nghost-%COMP%]     .notification-icon-update-crl{margin-left:15px;font-size:26px}[_nghost-%COMP%]     .notification-icon-update-crl.alert-icon{color:#da1914}[_nghost-%COMP%]     .notification-icon-update-crl.success-icon{color:#3daa00}[_nghost-%COMP%]     .action-info-area{margin-left:12px;height:46px;display:flex;align-items:center}[_nghost-%COMP%]     .p-datatable-thead th.muti-selector-container{overflow:visible}"]}),e})();const VN={configDN:"Configuration reference",crlinfoRId:"CRL info identifier",distributionPointType:"Distribution point type",distributionPointURI:"Distribution point URI",downloadStatus:"Status",issuer:"Issuer",nextUpdate:"Next update",numOfRevCert:"Revoked certificates",thisUpdate:"This update",updateFailureReason:"Update failure reason"};let YN=(()=>{class e{constructor(e){this.datetimeService=e}createModel(e){if(!e)return[];const t=e.nextUpdate&&this.datetimeService.formatFromISO2GMTTime(e.nextUpdate),n=e.thisUpdate&&this.datetimeService.formatFromISO2GMTTime(e.thisUpdate),i=Object.assign(Object.assign({},e),{nextUpdate:t,thisUpdate:n});return[this.createSimpleCertificateDetailsEntry(i,"crlinfoRId"),this.createSimpleCertificateDetailsEntry(i,"issuer"),this.createSimpleCertificateDetailsEntry(i,"nextUpdate"),this.createSimpleCertificateDetailsEntry(i,"thisUpdate"),this.createSimpleCertificateDetailsEntry(i,"numOfRevCert"),this.createSimpleCertificateDetailsEntry(i,"configDN"),{key:"Distribution point type",value:i.distributionPointType?`${i.distributionPointType.name}`:tg.v},this.createSimpleCertificateDetailsEntry(i,"distributionPointURI"),this.createSimpleCertificateDetailsEntry(i,"updateFailureReason"),{key:"Status",value:i.downloadStatus?`${i.downloadStatus.name}`:tg.v}]}createSimpleCertificateDetailsEntry(e,...t){return{key:t.map(e=>VN[e]||"<NOT-MAPPED-PROPERTY>").join("/"),value:t.map(t=>(0,eM.j8)(e[t])).join("/")}}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(qI.d))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();const JN="SelectedCrlCertificateReducer",HN={},WN=(0,g.Lq)(HN,(0,g.on)(yN,(e,{crlinfoRId:t})=>Object.assign(Object.assign({},e),{selectedCrlCertificateId:t})),(0,g.on)(SN,()=>Object.assign({},HN)));function QN(e,t){return WN(e,t)}const zN=(0,g.ZF)(JN),KN=(0,g.P1)(zN,e=>e.selectedCrlCertificateId);let XN=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["certificate-crl-details"]],inputs:{selectedCertificateCrlData:"selectedCertificateCrlData"},decls:2,vars:3,consts:[[3,"icon","header"],[3,"data"]],template:function(e,t){1&e&&(Pe.TgZ(0,"webem-details-panel",0),Pe._UZ(1,"ui-webem-details-section",1),Pe.qZA()),2&e&&(Pe.Q6J("icon","mdi mdi-information")("header","Details"),Pe.xp6(1),Pe.Q6J("data",t.selectedCertificateCrlData))},directives:[$p.V,B_.h],styles:["ui-webem-details-section[_ngcontent-%COMP%]     .details-section .section-data{border-top:none}ui-webem-details-section[_ngcontent-%COMP%]     .details-section .section-data .section-row-key{flex:0 0 95px;align-items:flex-start}"],changeDetection:0}),e})();function eL(e,t){if(1&e&&Pe._UZ(0,"certificate-crl-details",3),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("selectedCertificateCrlData",e)}}function tL(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,eL,1,1,"certificate-crl-details",2),Pe.BQk()),2&e){const e=t.ngIf;Pe.oxw();const n=Pe.MAs(3);Pe.xp6(1),Pe.Q6J("ngIf",e.length)("ngIfElse",n)}}function nL(e,t){1&e&&(Pe.TgZ(0,"webem-details-panel"),Pe.TgZ(1,"div",4),Pe._UZ(2,"i",5),Pe.TgZ(3,"span",6),Pe._uU(4,"No CRL selected"),Pe.qZA(),Pe.qZA(),Pe.qZA())}const iL=[{path:"",component:GN,outlet:"content_center"},{path:"",component:ok,outlet:"content_menu"},{path:"",component:(()=>{class e{constructor(e,t){this.store=e,this.crlCertificateDescriptionModelService=t}ngOnInit(){this.selection$=(0,ft.aj)([this.store.select(KN),this.store.select(NN)]).pipe((0,A.U)(([e,t])=>t.find(t=>t.crlinfoRId===e))).pipe((0,A.U)(e=>this.crlCertificateDescriptionModelService.createModel(e)))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(YN))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["certificate-crl-description-content"]],decls:4,vars:3,consts:[[4,"ngIf"],["noSelection",""],[3,"selectedCertificateCrlData",4,"ngIf","ngIfElse"],[3,"selectedCertificateCrlData"],[1,"no-selection"],[1,"information-icon","mdi","mdi-information"],["id","no-selection"]],template:function(e,t){1&e&&(Pe.YNc(0,tL,2,2,"ng-container",0),Pe.ALo(1,"async"),Pe.YNc(2,nL,5,0,"ng-template",null,1,Pe.W1O)),2&e&&Pe.Q6J("ngIf",Pe.lcZ(1,1,t.selection$))},directives:[m.O5,XN,$p.V],pipes:[m.Ov],styles:[".no-selection[_ngcontent-%COMP%]{display:flex!important;align-items:center}.no-selection[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#98a2ae}.no-selection[_ngcontent-%COMP%]   .information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}"]}),e})(),outlet:"content_right"}];let oL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(iL)],f.Bz]}),e})(),sL=(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.actions$=t,this.certMgtService=n,this.pollingService=i,this.asyncOperationsService=o,this.ERROR="error",this.INFO="info",this.SUCCESS="success",this.actionName="Delete certificate by id",this.TOAST_FAILED_MESSAGE={updateCrl:{summary:"Update Certificate Revocation Lists",detail:"Update certificate revocation list request operation failed"}},this.TOAST_SUCCESS_MESSAGE={updateCrl:{summary:"Update Certificate Revocation Lists",detail:"Update certificate revocation list request operation finished"}},this.TOAST_START_MESSAGE={updateCrl:{summary:"Update Certificate Revocation Lists",detail:"Update certificate revocation list request operation started"}},this.UnsubscribeCrlInformationWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(gN)),{dispatch:!1}),this.UnsubscribeUpdateCrlOperationStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(CN)),{dispatch:!1}),this.SubscribeCrlInformationError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(mN),(0,A.U)(()=>(0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[tE.UPDATE_CRL].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[tE.UPDATE_CRL].summary}})))),this.TurnSpinnerOn$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(hN),(0,A.U)(()=>uN({isLoadingCrlData:!0})))),this.UpdateCrlInformation$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(fN),(0,SS.p)(1e3),(0,MC.z)(()=>this.certMgtService.crlPost().pipe((0,dC.zg)(e=>[QI({operationType:tE.UPDATE_CRL,operationId:e}),bN({operationType:tE.UPDATE_CRL,operationId:e}),(0,FC.wN)({payload:{detail:this.TOAST_START_MESSAGE[tE.UPDATE_CRL].detail,severity:this.INFO,summary:this.TOAST_START_MESSAGE[tE.UPDATE_CRL].summary}})]),(0,NC.K)(e=>(0,nl.of)(vN({error:e}))))))),this.UpdateCrlInformationError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(vN),(0,A.U)(()=>(0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[tE.UPDATE_CRL].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[tE.UPDATE_CRL].summary}})))),this.cleanCrlStateIsOngoing$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(PN),(0,Bo.M)(this.store.pipe((0,g.Ys)(pE),(0,Ps.d)())),(0,vs.h)(([,e])=>!e),(0,dC.zg)(()=>[XI({operationType:tE.UPDATE_CRL})]))),this.SubscribeCrlInformationWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(hN),(0,dC.zg)(()=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.UnsubscribeCrlInformationWatch$),(0,dC.zg)(()=>this.certMgtService.crlGet()),(0,ys.x)(_.isEqual),(0,dC.zg)(e=>(0,nl.of)(dN({list:e.list,updateEnabled:e.updateEnabled}),uN({isLoadingCrlData:!1}))),(0,NC.K)(e=>(0,nl.of)(mN({error:e}),uN({isLoadingCrlData:!1}))))))),this.SubscribeUpdateCrlOperationStatusWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(bN),(0,dC.zg)(t=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.UnsubscribeUpdateCrlOperationStatusWatch$),(0,dC.zg)(()=>this.asyncOperationsService.operationsIdGet({id:t.operationId})),(0,ys.x)(_.isEqual),(0,dC.zg)(e=>{const n=[KI({operationType:t.operationType,operationStatus:e})];return"Successful"!==e.status&&"Failed"!==e.status||n.push(CN()),"Successful"===e.status?n.push((0,FC.wN)({payload:{detail:this.TOAST_SUCCESS_MESSAGE[tE.UPDATE_CRL].detail,severity:this.SUCCESS,summary:this.TOAST_SUCCESS_MESSAGE[tE.UPDATE_CRL].summary}})):"Failed"===e.status&&n.push((0,FC.wN)({payload:{detail:this.TOAST_FAILED_MESSAGE[tE.UPDATE_CRL].detail,severity:this.ERROR,summary:this.TOAST_FAILED_MESSAGE[tE.UPDATE_CRL].summary}})),n}),(0,NC.K)(e=>(0,nl.of)(vN({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(lk.G),Pe.LFG(DC.x),Pe.LFG(OS.z))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),aL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,cC.E,wn.g3K]]}),e})(),rL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[YN],imports:[[fk,cC.E,m.ez,wn.ofE,wn.QGW,wn.EJq,aL,oL,rk,g.Aw.forFeature(IN,MN),g.Aw.forFeature(JN,QN),g.Aw.forFeature("CrlInformationFilters",AN),oC.sQ.forFeature([sL])]]}),e})();var lL=(()=>(function(e){e.CHANGE_INFORMATION_STARTED="[Account Management] Change information started",e.CHANGE_INFORMATION_SUCCESS="[Account Management] Change information success",e.CHANGE_INFORMATION_FAILED="[Account Management] Change information failed",e.CHANGE_INFORMATION_RESET="[Account Management] Change information reset",e.RESET_STATUS="[Account Management] Reset status",e.SET_PASSWORD_VALIDATION_RULES_FOR_LOCAL_USER="[Account Management] Set password validation rules for local user",e.SET_USERNAME_VALIDATION_RULES_FOR_LOCAL_USER="[Account Management] Set username validation rules for local user",e.SET_PASSWORD_VALIDATION_RULES="[Account Management] Set password validation rules",e.SET_USERNAME_VALIDATION_RULES="[Account Management] Set username validation rules",e.SET_PARAMETERS="[Account Management] Set parameters",e.SUBSCRIBE_PARAMETERS_CHANGED="[Account Management] Subscribe parameters changed",e.UNSUBSCRIBE_PARAMETERS_CHANGED="[Account Management] Unsubscribe parameters changed"}(lL||(lL={})),lL))();const cL=(0,g.PH)(lL.CHANGE_INFORMATION_STARTED),dL=(0,g.PH)(lL.CHANGE_INFORMATION_SUCCESS),uL=(0,g.PH)(lL.CHANGE_INFORMATION_FAILED,(0,g.Ky)()),pL=(0,g.PH)(lL.CHANGE_INFORMATION_RESET),gL=(0,g.PH)(lL.RESET_STATUS),hL=(0,g.PH)(lL.SET_PASSWORD_VALIDATION_RULES,(0,g.Ky)()),mL=(0,g.PH)(lL.SET_PASSWORD_VALIDATION_RULES_FOR_LOCAL_USER,(0,g.Ky)()),fL=(0,g.PH)(lL.SET_USERNAME_VALIDATION_RULES,(0,g.Ky)()),bL=(0,g.PH)(lL.SET_USERNAME_VALIDATION_RULES_FOR_LOCAL_USER,(0,g.Ky)()),CL=(0,g.PH)(lL.SET_PARAMETERS,(0,g.Ky)()),vL=(0,g.PH)(lL.SUBSCRIBE_PARAMETERS_CHANGED),yL=(0,g.PH)(lL.UNSUBSCRIBE_PARAMETERS_CHANGED),SL="AccountsManagement",PL=(0,g.Lq)({changeInformation:{status:wn.OYD.NONE,reason:""},settings:{minNonAlphaNumInPassword:1,minPasswordLength:8},passwordValidationRulesForLocalUser:[],passwordValidationRules:[],usernameValidationRulesForLocalUser:[],usernameValidationRules:[]},(0,g.on)(cL,e=>Object.assign(Object.assign({},e),{changeInformation:{status:wn.OYD.IN_PROGRESS,reason:""}})),(0,g.on)(dL,e=>Object.assign(Object.assign({},e),{changeInformation:{status:wn.OYD.SUCCESSFUL,reason:""}})),(0,g.on)(uL,(e,t)=>Object.assign(Object.assign({},e),{changeInformation:{status:wn.OYD.FAILED,reason:t.payload}})),(0,g.on)(pL,e=>Object.assign(Object.assign({},e),{changeInformation:{status:wn.OYD.NONE,reason:""}})),(0,g.on)(gL,e=>Object.assign(Object.assign({},e),{passwordValidationRulesForLocalUser:[],usernameValidationRulesForLocalUser:[],passwordValidationRules:[],usernameValidationRules:[],changeInformation:Object.assign(Object.assign({},e.changeInformation),{status:wn.OYD.NONE,reason:""})})),(0,g.on)(CL,(e,t)=>Object.assign(Object.assign({},e),{settings:t.payload})),(0,g.on)(fL,(e,t)=>Object.assign(Object.assign({},e),{usernameValidationRules:t.payload})),(0,g.on)(hL,(e,t)=>Object.assign(Object.assign({},e),{passwordValidationRules:t.payload})),(0,g.on)(bL,(e,t)=>Object.assign(Object.assign({},e),{usernameValidationRulesForLocalUser:t.payload})),(0,g.on)(mL,(e,t)=>Object.assign(Object.assign({},e),{passwordValidationRulesForLocalUser:t.payload})));function OL(e,t){return PL(e,t)}const xL=(0,g.ZF)(SL),wL=(0,g.P1)(xL,e=>e.changeInformation),AL=(0,g.P1)(xL,e=>e.settings),_L=(0,g.P1)(xL,e=>e.passwordValidationRulesForLocalUser),TL=(0,g.P1)(xL,e=>e.passwordValidationRules),IL=(0,g.P1)(xL,e=>e.usernameValidationRulesForLocalUser);(0,g.P1)(xL,e=>e.usernameValidationRules);var EL=(()=>(function(e){e.CHANGE_LOCAL_ACCOUNT_INFORMATION="[Local Account] Change information",e.GET_CURRENT_ACCOUNT_ACTIVATE_STATUS="[Local Account] Get account activate status"}(EL||(EL={})),EL))();const ML=(0,g.PH)(EL.CHANGE_LOCAL_ACCOUNT_INFORMATION,(0,g.Ky)()),kL=(0,g.PH)(EL.GET_CURRENT_ACCOUNT_ACTIVATE_STATUS);var NL=n(28863),LL=n(94423);const DL="systemUserAccessMode",ZL="BTS System Administrator",RL="secUserAccessMode",UL="BTS Application Administrator",FL="BTS Read-Only User",jL="",$L={systemUserAccessMode:{true:[ZL],false:LL.Sb},secUserAccessMode:{true:["BTS Security Administrator"],false:LL.Ji},appUserAccessMode:{true:[UL],false:[UL]},readOnlyUserAccessMode:{true:[FL],false:[FL]}};function qL(e,t){return e===DL&&t===ZL}function BL(e,t,n){return LL.ZN[e]===n&&(e!==RL||t)}var GL=n(39577);const VL=function(e){return{"not-all-rules-passed":e}};function YL(e,t){if(1&e&&(Pe.TgZ(0,"div",3),Pe.TgZ(1,"div",4),Pe._uU(2),Pe.qZA(),Pe.TgZ(3,"div",5),Pe._uU(4),Pe.qZA(),Pe.qZA()),2&e){const e=Pe.oxw();Pe.xp6(2),Pe.hij(" ",e.title," "),Pe.xp6(1),Pe.Q6J("ngClass",Pe.VKq(4,VL,e.getNumberOfPassedRules()!==e.getTotalNumberOfRules())),Pe.xp6(1),Pe.AsE(" ",e.getNumberOfPassedRules()," / ",e.getTotalNumberOfRules()," ")}}const JL=function(e){return{"passed-rule":e}};function HL(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"div",6),Pe._UZ(2,"i",7),Pe._uU(3),Pe.qZA(),Pe.BQk()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Q6J("ngClass",Pe.VKq(4,JL,e.isRulePassed)),Pe.uIk("data-validation-rule-value",e.value)("data-validation-rule-is-passed",e.isRulePassed),Pe.xp6(2),Pe.hij(" ",e.value," ")}}let WL=(()=>{class e{constructor(){}ngOnInit(){}getNumberOfPassedRules(){return this.rulesDataLocal?this.rulesDataLocal.filter(e=>e.isRulePassed).length:0}getTotalNumberOfRules(){return this.rulesDataLocal?this.rulesDataLocal.length:0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-validation-rules-details-local"]],inputs:{rulesDataLocal:"rulesDataLocal",title:"title"},decls:3,vars:2,consts:[["class","validation-title",4,"ngIf"],[1,"validation-rules-container"],[4,"ngFor","ngForOf"],[1,"validation-title"],[1,"pull-left"],[1,"passed-rules-counter",3,"ngClass"],[1,"validation-rule",3,"ngClass"],[1,"mdi","mdi-checkbox-marked-circle","validation-rule-icon"]],template:function(e,t){1&e&&(Pe.YNc(0,YL,5,6,"div",0),Pe.TgZ(1,"div",1),Pe.YNc(2,HL,4,6,"ng-container",2),Pe.qZA()),2&e&&(Pe.Q6J("ngIf",t.title),Pe.xp6(2),Pe.Q6J("ngForOf",t.rulesDataLocal))},directives:[m.O5,m.sg,m.mk],styles:[".validation-rules-container[_ngcontent-%COMP%]{padding-bottom:10px}.validation-rule[_ngcontent-%COMP%]{justify-content:normal;font-size:11px;line-height:18px}.validation-rule[_ngcontent-%COMP%]:not(.passed-rule), .validation-rule[_ngcontent-%COMP%]:not(.passed-rule)   i[_ngcontent-%COMP%]{color:#98a2ae}.passed-rules-counter[_ngcontent-%COMP%]{margin-left:auto;color:#1b1b1b;font-weight:400}.not-all-rules-passed[_ngcontent-%COMP%]{color:#98a2ae}.validation-title[_ngcontent-%COMP%]{justify-content:flex-end;height:23px;font-weight:bolder;padding-left:3px;margin-bottom:15px;display:flex;align-items:center}.passed-rule[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3daa00}"],changeDetection:0}),e})();function QL(e,t){if(1&e&&(Pe._UZ(0,"ui-webem-validation-rules-details-local",5),Pe.ALo(1,"async")),2&e){const e=Pe.oxw();Pe.Q6J("rulesDataLocal",Pe.lcZ(1,2,e.usernameRules$))("title","Username validation rules")}}function zL(e,t){if(1&e&&(Pe._UZ(0,"ui-webem-validation-rules-details-local",5),Pe.ALo(1,"async")),2&e){const e=Pe.oxw();Pe.Q6J("rulesDataLocal",Pe.lcZ(1,2,e.passwordRules$))("title","Password validation rules")}}let KL=(()=>{class e{constructor(e,t){this.store=e,this.vnfcSharedService=t,this.PASSWORD_OPTIONS_DEFAULT={minLength:8,maxLength:128,minNumberOfDigits:2,minNonAlphaNumerical:1},this.usernameOptions={minLength:4,maxLength:16},this.changeOptions=[wn.xvE.PASSWORD_ONLY,wn.xvE.PASSWORD_AND_USERNAME,wn.xvE.USERNAME_ONLY],this.accountActiveStatus=[],this.isPasswordRulesVisible=!0,this.isUsernameRulesVisible=!0,this.availableRoles=[],this.availableActivationStatus=[],this.isRoleDropdownShow=!1,this.isActivationStatusShow=!1,this.isUserNameShow=!0,this.isCurrentPasswordShow=!0,this.currentLoginRole=jL,this.selectRoleName=jL,this.isReadOnlyMode=!1,this.currentRoleActivationStatus=jL,this.selectActivationStatus=jL,this.isActivationStatusChange=!1}ngOnInit(){this.isConfigVmCu=this.vnfcSharedService.isVmcu(),this.isRoleOperationPage=!this.isConfigVmCu,this.isRoleDropdownShow=!this.isConfigVmCu&&this.isRoleOperationPage,this.store.dispatch(vL()),this.isConfigVmCu||this.store.dispatch(kL()),this.passwordRules$=this.store.pipe((0,g.Ys)(_L),(0,il.g)(0)),this.usernameRules$=this.store.pipe((0,g.Ys)(IL),(0,il.g)(0)),this.passwordOptions=this.store.select(AL).pipe((0,A.U)(e=>Object.assign(Object.assign({},this.PASSWORD_OPTIONS_DEFAULT),{minLength:e.minPasswordLength||this.PASSWORD_OPTIONS_DEFAULT.minLength,minNonAlphaNumerical:(0,_.isNil)(e.minNonAlphaNumInPassword)?this.PASSWORD_OPTIONS_DEFAULT.minNonAlphaNumerical:e.minNonAlphaNumInPassword}))),this.userInfo$=this.store.select(NL.l_).pipe((0,il.g)(0)),this.userInfoSubscription=this.userInfo$.subscribe(e=>{this.selectRoleName||(this.updateAvailableRoles(e),this.roleNameChange(this.selectRoleName))}),this.accountActiveStatus$=this.store.pipe((0,g.Ys)(NL.wD),(0,il.g)(0)),this.accountActiveStatusSubscription=this.accountActiveStatus$.subscribe(e=>{this.subScribeAccountActiveStatusChange(e)}),this.username$=this.store.select(NL.zD).pipe((0,il.g)(0)),this.informationChangeStatus$=this.store.select(wL).pipe((0,il.g)(0)),this.informationChangeStatusSubscription=this.informationChangeStatus$.subscribe(e=>{this.subScribeInformationChangeStatusChange(e)}),this.store.dispatch(gL())}subScribeInformationChangeStatusChange(e){e.status===wn.OYD.SUCCESSFUL&&(this.store.dispatch(kL()),this.isActivationStatusChange&&(this.isActivationStatusChange=!1,this.currentRoleActivationStatus=this.currentRoleActivationStatus===LL.iN?LL.G3:LL.iN,this.availableActivationStatus=this.currentRoleActivationStatus===LL.iN?LL.g9:LL.wy))}subScribeAccountActiveStatusChange(e){if((0,_.isEmpty)(e))this.isActivationStatusShow=!1,this.availableRoles=[LL.ZN[this.currentLoginRole]];else{const t={role:this.currentLoginRole,readOnlyMode:this.isReadOnlyMode,username:jL};this.setAvailableRoles(t),this.setVisibleStatusForAllRole(t),this.setVisibleStatusForSysAndSecUser(this.selectRoleName),this.accountActiveStatus=e,this.isActivationStatusShow&&this.updateAvailableActivationStatus()}}activationStatusChange(e){this.selectActivationStatus=e,this.isActivationStatusChange=this.selectActivationStatus!==this.currentRoleActivationStatus}getRoleActivateStatus(e){var t;const n=null===(t=this.accountActiveStatus)||void 0===t?void 0:t.filter(t=>t.roleType===e);return(0,_.isEmpty)(n)?jL:n&&n[0].activeStatus}setVisibleStatusForAllRole(e){this.selectRoleName!==jL&&(this.isActivationStatusShow=!BL(this.currentLoginRole,this.isReadOnlyMode,this.selectRoleName),this.isUserNameShow=qL(this.currentLoginRole,this.selectRoleName)),!this.isConfigVmCu&&this.isRoleOperationPage&&(this.isUsernameRulesVisible=this.isUserNameShow)}setVisibleStatusForSysAndSecUser(e){this.selectRoleName!==jL&&(this.isActivationStatusShow=!BL(this.currentLoginRole,this.isReadOnlyMode,this.selectRoleName),this.isUserNameShow=qL(this.currentLoginRole,this.selectRoleName),this.isCurrentPasswordShow=LL.ZN[this.currentLoginRole]===this.selectRoleName),!this.isConfigVmCu&&this.isRoleOperationPage&&(this.isUsernameRulesVisible=this.isUserNameShow)}roleNameChange(e){if(this.selectRoleName=e,this.setVisibleStatusForSysAndSecUser(e),this.isActivationStatusShow){this.currentLoginRole===RL&&(this.currentRoleActivationStatus=LL.iN,this.availableActivationStatus=LL.g9);const e=LL.ZN[this.currentLoginRole]!==this.selectRoleName;this.updateAvailableActivationStatus(),e&&(this.isActivationStatusChange=!1)}}updateAvailableActivationStatus(){const e=this.getRoleActivateStatus(LL.S_[this.selectRoleName]);e&&(this.currentRoleActivationStatus=e,this.availableActivationStatus=e===LL.iN?LL.g9:LL.wy)}setAvailableRoles(e){this.availableRoles=function(e){return $L[e.role][e.readOnlyMode]}(e)}updateAvailableRoles(e){this.currentLoginRole=e.role||DL,this.isReadOnlyMode=e.readOnlyMode;const t={role:this.currentLoginRole,readOnlyMode:this.isReadOnlyMode,username:jL};this.setAvailableRoles(t),this.setVisibleStatusForAllRole(t),this.selectRoleName||(this.selectRoleName=this.availableRoles[0])}ngOnDestroy(){var e,t,n;this.store.dispatch(yL()),this.store.dispatch(gL()),null===(e=this.userInfoSubscription)||void 0===e||e.unsubscribe(),null===(t=this.accountActiveStatusSubscription)||void 0===t||t.unsubscribe(),null===(n=this.informationChangeStatusSubscription)||void 0===n||n.unsubscribe()}onChangeOptionSelectionChange(e){switch(e){case wn.xvE.PASSWORD_ONLY:this.isPasswordRulesVisible=!0,this.isUsernameRulesVisible=!1;break;case wn.xvE.USERNAME_ONLY:this.isPasswordRulesVisible=!1,this.isUsernameRulesVisible=!0;break;case wn.xvE.PASSWORD_AND_USERNAME:default:this.isPasswordRulesVisible=!0,this.isUsernameRulesVisible=!0}}prepareEventData(e){this.selectRoleName!==ZL&&(e.username=LL.ni[this.selectRoleName],this.isActivationStatusShow&&this.isActivationStatusChange&&(e.activeStatus=this.selectActivationStatus===LL.iN?LL.iN:LL.G3)),console.log("prepareEventData",e)}informationChange(e){this.prepareEventData(e),this.store.dispatch(cL()),this.store.dispatch(ML({payload:e}))}clearInformationResponse(){this.store.dispatch(pL())}validationChange(e){const t=(0,wn.Wfk)(e.passwordOptions,e.password,this.isRoleOperationPage),n=(0,wn.RAO)(e.usernameOptions,e.username);this.store.dispatch(bL({payload:n})),this.store.dispatch(mL({payload:t}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Bg.Z9))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["operator-account-management"]],decls:8,vars:22,consts:[[1,"p-grid","local-user-content"],[1,"p-col-3"],[3,"username","passwordValidationOptions$","usernameValidationOptions","changeStatus","changeOptions","isRoleOperationPage","isRoleDropdownShow","isActivationStatusShow","isUserNameShow","isCurrentPasswordShow","isActivationStatusChange","availableRoles","selectRoleName","currentRoleActivationStatus","selectActivationStatus","availableActivationStatus","validationChange","roleNameChange","activationStatusChange","informationChange","changeOptionSelectionChange","clearInformationResponse"],[1,"rules-column","p-col-3"],[3,"rulesDataLocal","title",4,"ngIf"],[3,"rulesDataLocal","title"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"ui-webem-user-information-change",2),Pe.NdJ("validationChange",function(e){return t.validationChange(e)})("roleNameChange",function(e){return t.roleNameChange(e)})("activationStatusChange",function(e){return t.activationStatusChange(e)})("informationChange",function(e){return t.informationChange(e)})("changeOptionSelectionChange",function(e){return t.onChangeOptionSelectionChange(e)})("clearInformationResponse",function(){return t.clearInformationResponse()}),Pe.ALo(3,"async"),Pe.ALo(4,"async"),Pe.qZA(),Pe.qZA(),Pe.TgZ(5,"div",3),Pe.YNc(6,QL,2,4,"ui-webem-validation-rules-details-local",4),Pe.YNc(7,zL,2,4,"ui-webem-validation-rules-details-local",4),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(2),Pe.Q6J("username",Pe.lcZ(3,18,t.username$))("passwordValidationOptions$",t.passwordOptions)("usernameValidationOptions",t.usernameOptions)("changeStatus",Pe.lcZ(4,20,t.informationChangeStatus$))("changeOptions",t.changeOptions)("isRoleOperationPage",t.isRoleOperationPage)("isRoleDropdownShow",t.isRoleDropdownShow)("isActivationStatusShow",t.isActivationStatusShow)("isUserNameShow",t.isUserNameShow)("isCurrentPasswordShow",t.isCurrentPasswordShow)("isActivationStatusChange",t.isActivationStatusChange)("availableRoles",t.availableRoles)("selectRoleName",t.selectRoleName)("currentRoleActivationStatus",t.currentRoleActivationStatus)("selectActivationStatus",t.selectActivationStatus)("availableActivationStatus",t.availableActivationStatus),Pe.xp6(4),Pe.Q6J("ngIf",t.isUsernameRulesVisible),Pe.xp6(1),Pe.Q6J("ngIf",t.isPasswordRulesVisible))},directives:[GL.L,m.O5,WL],pipes:[m.Ov],styles:["[_nghost-%COMP%]  label{margin-bottom:5px}[_nghost-%COMP%]  .local-user-content{padding-left:14px;padding-top:20px;max-width:100%}[_nghost-%COMP%]  .local-user-content .rules-column{width:356px;padding-left:18px;padding-top:0}"]}),e})(),XL=(()=>{class e extends Mp.O{ngOnInit(){this.setMenuItemsMap([Ip.r.localUsersAccount,Ip.r.serviceAccountManagement,Ip.r.sessionList])}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Pe.n5z(e)))(n||e)}}(),e.\u0275cmp=Pe.Xpm({type:e,selectors:[["oam-uam-shared-uam-content-menu"]],features:[Pe.qOj],decls:1,vars:1,consts:[[3,"menuItemsMap"]],template:function(e,t){1&e&&Pe._UZ(0,"ui-webem-submenu",0),2&e&&Pe.Q6J("menuItemsMap",t.menuItemsMap)},directives:[Iy._],encapsulation:2}),e})();const eD=[{path:"",component:KL,outlet:"content_center"},{path:"",component:XL,outlet:"content_menu"}];let tD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(eD)],f.Bz]}),e})();var nD=n(29268);let iD=(()=>{class e{constructor(e,t){this.actions$=e,this.secService=t,this.changeLocalAccountManagementInformation$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ML),(0,dC.zg)(e=>{const{username:t,password:n,newUsername:i,newPassword:o,activeStatus:s}=e.payload,a=window.btoa(t),r=window.btoa(n||"");return this.secService.accountUsersSystemPatch({body:Object.assign(Object.assign({username:a,password:r,activeStatus:s},o?{newPassword:window.btoa(o)}:{}),i?{newUsername:window.btoa(i)}:{})}).pipe((0,dC.zg)(()=>[dL(),(0,FC.wN)({payload:{detail:"Successfully changed",severity:"success",summary:"Local Account update operation finished"}}),...i?[(0,nD.Tj)({payload:{username:i}})]:[],...o?[(0,nD.yJ)({payload:"passwordAboutToExpireMessage"}),(0,nD.bS)()]:[]]),(0,NC.K)(e=>{const t=e.error?e.error.content:"Failed to change";return[uL({payload:t}),(0,FC.wN)({payload:{detail:t,severity:"error",summary:"Local Account update operation finished"}})]}))}))),this.getCurrentAccountActivateStatus$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(kL),(0,dC.zg)(e=>this.secService.accountLocalUserPropertiesGet().pipe((0,dC.zg)(e=>[(0,nD.WT)({payload:e})]),(0,Ee.q)(1),(0,NC.K)(e=>{const t=e.error?e.error.content:"Failed to get";return[(0,nD.WT)({payload:[]}),(0,FC.wN)({payload:{detail:t,severity:"error",summary:"Can not get current account activated status"}})]})))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(EC.yi))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),oD=(()=>{class e{constructor(e,t,n){this.actions$=e,this.secService=t,this.pollingService=n,this.unsubscribeParametersChanged$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(yL)),{dispatch:!1}),this.subscribeParametersChanged$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(vL),(0,dC.zg)(()=>this.pollingService.getTimer(LC.P).pipe((0,dC.zg)(()=>this.secService.accountSettingsGet().pipe((0,A.U)(e=>CL({payload:e})),(0,NC.K)(e=>500===e.status?(0,nl.of)((0,FC.wN)({payload:{severity:"error",summary:e.error.summary,detail:e.error.content}})):401===e.status?(0,nl.of)():(0,nl.of)((0,FC.wN)({payload:{severity:"error",summary:"Update password settings failed",detail:"Failed to update the password settings"}}))))),(0,_e.R)(this.unsubscribeParametersChanged$)))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(EC.yi),Pe.LFG(DC.x))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),sD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,g.Aw.forFeature(SL,OL),oC.sQ.forFeature([oD])]]}),e})(),aD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,wn.y$Z]]}),e})(),rD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[aD,m.ez,wn.BGI,wn.QGW,tD,sD,oC.sQ.forFeature([iD]),wn.ADU,wn.B3]]}),e})();var lD=(()=>(function(e){e.CHANGE_SERVICE_ACCOUNT_INFORMATION="[Service Account] Change information"}(lD||(lD={})),lD))();const cD=(0,g.PH)(lD.CHANGE_SERVICE_ACCOUNT_INFORMATION,(0,g.Ky)());var dD=n(8775);function uD(e,t){1&e&&Pe._UZ(0,"ui-webem-spinner",6)}function pD(e,t){if(1&e&&(Pe.TgZ(0,"div"),Pe._UZ(1,"ui-webem-validation-rules-details",7),Pe.qZA()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("rulesData",e)("title","Password validation rules")}}const gD=[{path:"",component:(()=>{class e{constructor(e,t,n){this.store=e,this.router=t,this.secService=n,this.PASSWORD_OPTIONS_DEFAULT={minLength:8,maxLength:128,minNumberOfDigits:2,minNonAlphaNumerical:1},this.isGeoresiliencyUser=!1,this.usernameOptions={minLength:4,maxLength:16},this.changeOptions=[wn.xvE.PASSWORD_SERVICE]}ngOnInit(){this.store.dispatch(vL()),this.rules$=this.store.select(TL).pipe((0,il.g)(0)),this.passwordOptions=this.store.select(AL).pipe((0,A.U)(e=>Object.assign(Object.assign({},this.PASSWORD_OPTIONS_DEFAULT),{minLength:e.minPasswordLength||this.PASSWORD_OPTIONS_DEFAULT.minLength,minNonAlphaNumerical:(0,_.isNil)(e.minNonAlphaNumInPassword)?this.PASSWORD_OPTIONS_DEFAULT.minNonAlphaNumerical:e.minNonAlphaNumInPassword}))),this.informationChangeStatus$=this.store.select(wL).pipe((0,il.g)(0)),this.store.dispatch(gL()),this.currentRoute=this.router.url,this.getServiceUsersTypeList()}ngOnDestroy(){this.store.dispatch(yL()),this.store.dispatch(gL())}informationChange(e){this.store.dispatch(cL()),this.store.dispatch(cD({payload:e}))}clearInformationResponse(){this.store.dispatch(pL())}validationChange(e){const t=(0,wn.Wfk)(e.passwordOptions,e.password);this.store.dispatch(hL({payload:t}))}getServiceUsersTypeList(){this.secService.accountServiceUserPropertiesGet().pipe((0,Ee.q)(1)).subscribe(e=>this.usersList=e)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(f.F0),Pe.Y36(dD.y))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["service-account-management-home"]],decls:8,vars:12,consts:[[1,"p-grid","service-user-content"],[1,"p-col-3"],["class","service-user-loading-spinner",4,"ngIf"],["username","",3,"hidden","passwordValidationOptions$","usernameValidationOptions","changeStatus","changeOptions","usersList","validationChange","informationChange","clearInformationResponse"],[1,"rules-column","p-col-3"],[4,"ngIf"],[1,"service-user-loading-spinner"],[3,"rulesData","title"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe.YNc(2,uD,1,0,"ui-webem-spinner",2),Pe.TgZ(3,"ui-webem-user-information-change",3),Pe.NdJ("validationChange",function(e){return t.validationChange(e)})("informationChange",function(e){return t.informationChange(e)})("clearInformationResponse",function(){return t.clearInformationResponse()}),Pe.ALo(4,"async"),Pe.qZA(),Pe.qZA(),Pe.TgZ(5,"div",4),Pe.YNc(6,pD,2,2,"div",5),Pe.ALo(7,"async"),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(2),Pe.Q6J("ngIf",!t.usersList),Pe.xp6(1),Pe.Q6J("hidden",!t.usersList)("passwordValidationOptions$",t.passwordOptions)("usernameValidationOptions",t.usernameOptions)("changeStatus",Pe.lcZ(4,8,t.informationChangeStatus$))("changeOptions",t.changeOptions)("usersList",t.usersList),Pe.xp6(3),Pe.Q6J("ngIf",Pe.lcZ(7,10,t.rules$)))},directives:[m.O5,GL.L,mo.O,CS],pipes:[m.Ov],styles:["[_nghost-%COMP%]  label{margin-bottom:5px}[_nghost-%COMP%]  .service-user-content{padding-left:15px;padding-top:20px;max-width:100%}[_nghost-%COMP%]  .service-user-content .rules-column{width:356px;padding-left:18px;padding-top:0}.service-user-loading-spinner[_ngcontent-%COMP%]{position:relative;top:45%;left:50%;color:#4d5766;--spinner-icon-font-size:50px}.service-user-loading-spinner[_ngcontent-%COMP%]   .spinner-icon[_ngcontent-%COMP%]{line-height:0}"]}),e})(),outlet:"content_center"},{path:"",component:XL,outlet:"content_menu"}];let hD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(gD)],f.Bz]}),e})(),mD=(()=>{class e{constructor(e,t){this.actions$=e,this.secService=t,this.changeServiceAccountMgtInformation$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(cD),(0,dC.zg)(e=>{const{newUsername:t,password:n,newPassword:i}=e.payload;return this.secService.accountServicePatch({body:{username:window.btoa(t),password:window.btoa(n),newPassword:window.btoa(i)}}).pipe((0,dC.zg)(()=>[dL(),(0,FC.wN)({payload:{detail:"Successfully changed",severity:"success",summary:"Service Account update operation finished"}})]),(0,NC.K)(e=>{const t=e.error?e.error.content:"Failed to change";return[uL({payload:t}),(0,FC.wN)({payload:{detail:t,severity:"error",summary:"Service Account update operation failed"}})]}))})))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(EC.yi))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),fD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[],imports:[[aD,wn.ADU,m.ez,hD,xn.UX,wn.QGW,wn.BGI,sD,wn.Fme,oC.sQ.forFeature([mD])]]}),e})();var bD=n(78957),CD=(()=>(function(e){e.SubscribeTracesActivationWatch="[Tracing] Subscribe Traces Activation Watch",e.UnsubscribeTracesActivationWatch="[Tracing] Unsubscribe Traces Activation Watch",e.SubscribeTracesActivationError="[Tracing] Subscribe Traces Activation Error",e.SetTracesActivationParameterInStore="[Tracing] Set Traces Activation Parameter In Store"}(CD||(CD={})),CD))();const vD=(0,g.PH)(CD.SubscribeTracesActivationWatch),yD=(0,g.PH)(CD.UnsubscribeTracesActivationWatch),SD=(0,g.PH)(CD.SubscribeTracesActivationError,(0,g.Ky)()),PD=(0,g.PH)(CD.SetTracesActivationParameterInStore,(0,g.Ky)()),OD=(0,g.Lq)({actInternalTrace:{value:0}},(0,g.on)(PD,(e,t)=>Object.assign(Object.assign({},e),{actInternalTrace:t})));function xD(e,t){return OD(e,t)}const wD=(0,g.ZF)("traceActivation"),AD=(0,g.P1)(wD,e=>!!e.actInternalTrace.value);var _D=(()=>(function(e){e.SubscribeUPlaneTracesWatch="[Tracing] Subscribe UPlane Traces Watch",e.UnsubscribeUPlaneTracesWatch="[Tracing] Unsubscribe UPlane Traces Watch",e.SubscribeTracesError="[Tracing] Subscribe Traces Error",e.SetUPlaneTracesInStore="[Tracing] Set Traces In Store",e.StartUPlaneTrace="[User] [Tracing] Start UPlane Traces Collection",e.StopUPlaneTrace="[Tracing] Stop Trace",e.UpdateOperationStatus="[Tracing] Update Start UPlane Traces Operation Status",e.UpdateTraceStatus="[Tracing] Update Traces Status"}(_D||(_D={})),_D))();const TD=(0,g.PH)(_D.SubscribeUPlaneTracesWatch),ID=(0,g.PH)(_D.UnsubscribeUPlaneTracesWatch),ED=(0,g.PH)(_D.SubscribeTracesError,(0,g.Ky)()),MD=(0,g.PH)(_D.SetUPlaneTracesInStore,(0,g.Ky)()),kD=(0,g.PH)(_D.StartUPlaneTrace,(0,g.Ky)()),ND=(0,g.PH)(_D.StopUPlaneTrace,(0,g.Ky)()),LD=(0,g.PH)(_D.UpdateOperationStatus,(0,g.Ky)()),DD=(0,g.PH)(_D.UpdateTraceStatus,(0,g.Ky)()),ZD="traces",RD=(0,I.H)({selectId:e=>e.traceId}),UD=RD.getInitialState(),FD=(0,g.Lq)(UD,(0,g.on)(MD,(e,{payload:t})=>RD.addMany(t,Object.assign({},UD))));function jD(e,t){return FD(e,t)}const $D=(0,g.ZF)(ZD),{selectAll:qD}=RD.getSelectors(),BD=(0,g.P1)($D,qD);var GD=(()=>(function(e){e.TraceConfigurationError="[Trace Configuration] Trace Configuration Error",e.UpdateTraceCommonConfiguration="[User] [Trace Configuration] Update Trace Common Configuration",e.GetTraceCommonConfiguration="[User] [Trace Configuration] Get Trace Common Configuration",e.SetTraceCommonConfiguration="[Trace Configuration] Set Trace Common Configuration in store",e.SubscribeSetTraceCommonConfiguration="[Trace Configuration] Subscribe Set Trace Common Configuration in store",e.UnsubscribeSetTraceCommonConfiguration="[Trace Configuration] Unsubscribe Set Trace Common Configuration in store",e.SetOperationStatus="[Trace Configuration] Set operation status",e.ResetOperationStatus="[Trace Configuration] Reset operation status",e.UpdateFilterBitmap="[User] [Trace Configuration] Update Bitmap Filter",e.SetFilterBitmap="[Trace Configuration] Set Filter Bitmap",e.GetFilterBitmap="[User] [Trace Configuration] Get The Current Bitmap Used For Filtering",e.ResetFilterBitmap="[User] [Trace Configuration] Reset Filter Bitmap"}(GD||(GD={})),GD))();const VD=(0,g.PH)(GD.GetTraceCommonConfiguration),YD=(0,g.PH)(GD.UpdateTraceCommonConfiguration,(0,g.Ky)()),JD=(0,g.PH)(GD.TraceConfigurationError,(0,g.Ky)()),HD=(0,g.PH)(GD.SetTraceCommonConfiguration,(0,g.Ky)()),WD=(0,g.PH)(GD.UpdateFilterBitmap,(0,g.Ky)()),QD=(0,g.PH)(GD.SetFilterBitmap,(0,g.Ky)()),zD=(0,g.PH)(GD.SubscribeSetTraceCommonConfiguration,(0,g.Ky)()),KD=(0,g.PH)(GD.UnsubscribeSetTraceCommonConfiguration),XD=((0,g.PH)(GD.GetFilterBitmap,(0,g.Ky)()),(0,g.PH)(GD.ResetFilterBitmap,(0,g.Ky)())),eZ=(0,g.PH)(GD.SetOperationStatus,(0,g.Ky)()),tZ=(0,g.PH)(GD.ResetOperationStatus),nZ="traceConfiguration",iZ=(0,g.Lq)({commonTraceConfiguration:{},uplaneFilters:{}},(0,g.on)(HD,(e,t)=>Object.assign(Object.assign({},e),{commonTraceConfiguration:t.payload})),(0,g.on)(QD,(e,t)=>{const n=(0,_.cloneDeep)(e.uplaneFilters);return n[t.payload.targetComponent]=t.payload.config,Object.assign(Object.assign({},e),{uplaneFilters:n})}),(0,g.on)(eZ,(e,{operationType:t,operationStatus:n})=>Object.assign(Object.assign({},e),{operationStatus:{type:t,status:n}})),(0,g.on)(tZ,e=>Object.assign(Object.assign({},e),{operationStatus:void 0})));function oZ(e,t){return iZ(e,t)}const sZ=(0,g.ZF)(nZ),aZ=(0,g.P1)(sZ,e=>e.commonTraceConfiguration),rZ=(0,g.P1)(sZ,e=>{var t;return"Ongoing"===(null===(t=null==e?void 0:e.operationStatus)||void 0===t?void 0:t.status.status)});let lZ=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["oam-tracing-not-enabled"]],decls:4,vars:0,consts:[[1,"tracing-status-notification"],[1,"notification-container"],[1,"information-icon","mdi","mdi-information"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe._UZ(2,"i",2),Pe._uU(3,' In order to run internal User Plane traces, MNL/MNLENT/TRBLCADM.actInternalTrace parameter needs to be set to "true" '),Pe.qZA(),Pe.qZA())},styles:[".tracing-status-notification[_ngcontent-%COMP%]{font-size:14px;color:#98a2ae;height:100%}.tracing-status-notification[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{margin-right:7px;width:24px}.tracing-status-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:35px;white-space:pre-wrap;padding-top:16px;padding-left:15px}.tracing-status-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px}.tracing-status-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]:before{font-size:unset}.tracing-status-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#124191}.tracing-status-notification[_ngcontent-%COMP%]   .notification-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.tracing-status-notification[_ngcontent-%COMP%]   .end-of-line-timestamp[_ngcontent-%COMP%]{place-content:flex-end;border-bottom:1px solid #98a2ae;margin-bottom:10px;padding-top:4px;height:35px}"]}),e})();const cZ={required:"No provided value",min:"Value is out of range",max:"Value is out of range",pattern:"Incorrect format"},dZ={required:"No provided value",maxlength:"Value is out of range",pattern:"Incorrect format"},uZ={selectAll:{name:"Select all cells",value:"allCells"},selectSpecifiedCells:{name:"Select max. 8 cells",value:"specifiedCells"}},pZ=uZ.selectAll.value,gZ="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$",hZ="IPv4",mZ="^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$",fZ="IPv6";function bZ(e){return e.value.match(gZ)||e.value.match(mZ)?null:{pattern:{valid:!1}}}var CZ=n(81189);function vZ(e,t){1&e&&Pe._uU(0,"Destination Server Configuration")}const yZ=function(e){return{"label-disabled":e}},SZ=function(){return{forceHeight:"26px"}};function PZ(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",2),Pe.TgZ(1,"form",3),Pe.NdJ("ngSubmit",function(){Pe.CHM(e);const t=Pe.oxw();return t.submitForm(t.form.value)}),Pe.TgZ(2,"div",4),Pe.TgZ(3,"div",5),Pe.TgZ(4,"label",6),Pe._uU(5,"Destination IP address:"),Pe.qZA(),Pe._UZ(6,"ui-webem-form-input",7),Pe.qZA(),Pe.TgZ(7,"div",8),Pe.TgZ(8,"label",6),Pe._uU(9,"Port:"),Pe.qZA(),Pe._UZ(10,"ui-webem-form-input",9),Pe.qZA(),Pe.TgZ(11,"div",10),Pe.TgZ(12,"label",6),Pe._uU(13,"DSCP configuration:"),Pe.qZA(),Pe._UZ(14,"ui-webem-form-input",11),Pe.qZA(),Pe.qZA(),Pe._UZ(15,"ui-webem-button",12),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("formGroup",e.form),Pe.xp6(3),Pe.Q6J("ngClass",Pe.VKq(22,yZ,e.form.disabled)),Pe.xp6(2),Pe.Q6J("group",e.form)("id","destIp")("inputValueType",e.inputValueType.TEXT)("validationMessages",e.validationMessages)("validationMessageDisplay",e.messageDisplay.SHOW_MESSAGE),Pe.xp6(2),Pe.Q6J("ngClass",Pe.VKq(24,yZ,e.form.disabled)),Pe.xp6(2),Pe.Q6J("group",e.form)("id","destPort")("inputValueType",e.inputValueType.NUMBER)("validationMessages",e.validationMessages)("validationMessageDisplay",e.messageDisplay.SHOW_MESSAGE),Pe.xp6(2),Pe.Q6J("ngClass",Pe.VKq(26,yZ,e.form.disabled)),Pe.xp6(2),Pe.Q6J("group",e.form)("id","dscpConf")("inputValueType",e.inputValueType.NUMBER)("validationMessages",e.validationMessages)("validationMessageDisplay",e.messageDisplay.SHOW_MESSAGE),Pe.xp6(1),Pe.Q6J("disabled",e.form.invalid||e.form.disabled||!e.traceConfigurationFormHasNewValue)("model",e.saveButtonModel)("options",Pe.DdM(28,SZ))}}let OZ=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.store=t,this.cd=n,this.traces=[],this.formValidationErrorOrHasNewValue=new Pe.vpe,this.inputValueType=wn.RYy,this.messageDisplay=wn.t0A,this.uplanePortLimits={min:0,max:65535},this.dcspLimits={min:0,max:63},this.ngUnsubscribe=new Ae.xQ,this.validationMessages=cZ,this.traceConfigurationFormHasNewValue=!1,this.saveButtonModel={title:"Update Configuration",label:"Update Configuration",theme:wn.bnJ.Accent,thickness:wn.NOb.Thick}}ngOnChanges(){this.toggleFormState()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){this.store.dispatch(VD()),this.form=this.formBuilder.group({uplaneIpAddress:["",xn.kI.compose([xn.kI.required,bZ])],uplanePort:["",xn.kI.compose([xn.kI.required,xn.kI.min(this.uplanePortLimits.min),xn.kI.max(this.uplanePortLimits.max)])],dscp:["",xn.kI.compose([xn.kI.required,xn.kI.min(this.dcspLimits.min),xn.kI.max(this.dcspLimits.max)])],traceType:["UPlane",xn.kI.required]}),this.toggleFormState(),this.store.pipe((0,_e.R)(this.ngUnsubscribe),(0,g.Ys)(aZ)).subscribe(e=>{this.form.patchValue(e),this.serverTraceConfiguration=e,this.traceConfigurationFormHasNewValue=!1,this.cd.detectChanges()}),this.form.statusChanges.pipe((0,_e.R)(this.ngUnsubscribe),(0,ys.x)()).subscribe(()=>this.formValidationErrorOrHasNewValue.emit(this.form.pristine?this.form.invalid:this.form.invalid||this.traceConfigurationFormHasNewValue)),this.form.valueChanges.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.traceConfigurationFormHasNewValue=this.isTraceConfigurationChanged(e),this.formValidationErrorOrHasNewValue.emit(this.form.pristine?this.form.invalid:this.form.invalid||this.traceConfigurationFormHasNewValue),this.cd.detectChanges()})}toggleFormState(){this.form&&(this.traces.length||this.isStatusOperationOngoingTraceCommonConfiguration?this.form.disable():this.form.enable())}submitForm(e){this.form.valid&&this.isTraceConfigurationChanged(e)&&(this.store.dispatch(YD({payload:{dscp:+e.dscp,uplaneIpAddress:e.uplaneIpAddress,uplanePort:+(null==e?void 0:e.uplanePort),traceType:e.traceType}})),this.form.markAsPristine(),this.formValidationErrorOrHasNewValue.emit(!1))}isTraceConfigurationChanged(e){return!(this.serverTraceConfiguration.dscp===+e.dscp&&this.serverTraceConfiguration.uplanePort===(e.uplanePort&&+e.uplanePort)&&this.serverTraceConfiguration.uplaneIpAddress===e.uplaneIpAddress)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(xn.qu),Pe.Y36(g.yh),Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["oam-destination-server-configuration"]],inputs:{traces:"traces",isStatusOperationOngoingTraceCommonConfiguration:"isStatusOperationOngoingTraceCommonConfiguration"},outputs:{formValidationErrorOrHasNewValue:"formValidationErrorOrHasNewValue"},features:[Pe.TTD],decls:5,vars:0,consts:[["title",""],["content",""],[1,"destination-server-container"],[1,"load-form",3,"formGroup","ngSubmit"],[1,"destination-server-form"],[1,"dest-ip"],[3,"ngClass"],["controlName","uplaneIpAddress","placeholder","",3,"group","id","inputValueType","validationMessages","validationMessageDisplay"],[1,"dest-port"],["controlName","uplanePort","placeholder","",3,"group","id","inputValueType","validationMessages","validationMessageDisplay"],[1,"dscp-conf"],["controlName","dscp","placeholder","",3,"group","id","inputValueType","validationMessages","validationMessageDisplay"],["type","submit","id","start-button",1,"button-submit",3,"disabled","model","options"]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-rich-panel"),Pe.YNc(1,vZ,1,0,"ng-template",null,0,Pe.W1O),Pe.YNc(3,PZ,16,29,"ng-template",null,1,Pe.W1O),Pe.qZA())},directives:[CZ.d,xn._Y,xn.JL,xn.sg,m.mk,Zi,Ui.r],styles:[".destination-server-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.dest-ip[_ngcontent-%COMP%]{width:197px;margin-right:7px}.dest-ip[_ngcontent-%COMP%]     .validation-message{padding-bottom:2px}.dest-port[_ngcontent-%COMP%]{width:100px}.dest-port[_ngcontent-%COMP%]     .validation-message{padding-bottom:2px;margin-right:-5px}.dscp-conf[_ngcontent-%COMP%]{flex-grow:1}.button-submit[_ngcontent-%COMP%]{padding-bottom:15px;padding-right:7px;-webkit-appearance:none}[_nghost-%COMP%]     .p-inputtext{height:26px}"]}),e})();var xZ=(()=>(function(e){e.Component="Component",e.Sherpa="Sherpa"}(xZ||(xZ={})),xZ))(),wZ=n(98259),AZ=n(47508),_Z=n(26098),TZ=(()=>(function(e){e.AddSelectedCellsToStore="[Tracing] Add selected cells to store"}(TZ||(TZ={})),TZ))();const IZ=(0,g.PH)(TZ.AddSelectedCellsToStore,(0,g.Ky)()),EZ=function(e){return{"label-disabled":e}};let MZ=(()=>{class e{constructor(e,t){this.store=e,this.cd=t,this.traces=[],this.selectedCells=new Pe.vpe,this.ngUnsubscribe=new Ae.xQ,this.form=new xn.cw({selectTypeCheckbox:new xn.NI(pZ),selectedCells:new xn.NI}),this.maxSelectedCells=8,this.formControlName="selectTypeCheckbox",this.cellsFormControl="selectedCells"}ngOnChanges(){this.checkOngoingTraces()}ngOnInit(){this.typeValues=uZ,this.store.dispatch((0,AZ.uJ)()),this.store.select(_Z.aG).pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.handleCellsOptions(e),this.allAvailableCells=e}),this.form.controls[this.cellsFormControl].disable(),this.subscribeMultiSelectState(),this.subscribeSelectedCellsUpdate(),this.store.select(_Z.aG).pipe((0,vs.h)(e=>!!e.length),(0,Ee.q)(1)).subscribe(()=>this.onAllCellsSelect()),this.checkOngoingTraces(),this.selectedCells.emit(this.allAvailableCells);const e=this.form.controls.selectTypeCheckbox;e.valueChanges.subscribe(t=>{e.setValue(t,{emitEvent:!1})})}ngAfterViewInit(){this.cd.detectChanges()}ngOnDestroy(){this.store.dispatch((0,AZ.uL)()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onCellsSelect(){const e=this.form.controls[this.cellsFormControl].value;this.selectedCells.emit(e),this.store.dispatch(IZ({cells:e}))}onAllCellsSelect(){this.selectedCells.emit(this.allAvailableCells),this.store.dispatch(IZ({cells:this.allAvailableCells}))}handleCellsOptions(e){const t=[];return e.forEach(e=>{t.push({label:`${e.basicCell.name} (PCI: ${e.basicCell.physicalLayerCellID})`,value:e})}),this.numberOfCells=t.length,this.cellsOptions=t}subscribeMultiSelectState(){this.form.valueChanges.pipe((0,_e.R)(this.ngUnsubscribe),(0,ys.x)()).subscribe(()=>{var e;const t=null===(e=this.form.get(this.formControlName))||void 0===e?void 0:e.value,n=this.form.controls[this.cellsFormControl],i=this.traces.find(e=>e.targetComponent===this.targetComponent&&e.traceType===this.traceType);t===uZ.selectSpecifiedCells.value&&!i&&n.disabled&&n.enable(),(t!==uZ.selectSpecifiedCells.value||i)&&n.enabled&&n.disable()})}subscribeSelectedCellsUpdate(){this.form.controls[this.formControlName].valueChanges.subscribe(e=>{e===uZ.selectSpecifiedCells.value?this.onCellsSelect():this.onAllCellsSelect()})}checkOngoingTraces(){this.form&&(this.traces.find(e=>e.targetComponent===this.targetComponent&&e.traceType===this.traceType)?this.form.disable():this.form.enable())}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Pe.sBO))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["oam-trace-cells-panel"]],inputs:{targetComponent:"targetComponent",traceType:"traceType",traces:"traces"},outputs:{selectedCells:"selectedCells"},features:[Pe.TTD],decls:10,vars:17,consts:[[1,"tracing-cells-form",3,"formGroup"],["fxLayout","column",1,"input-row","ui-inputgroup"],[1,"cells-label",3,"ngClass"],["fxLayout","column",1,"radio-button-wrapper"],[3,"name","label","value","formControlName"],[1,"cells-number"],["defaultLabel","Select cells",1,"cells-multiselect",3,"options","maxSelectedLabels","selectionLimit","formControlName","onChange"]],template:function(e,t){1&e&&(Pe.TgZ(0,"form",0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"label",2),Pe._uU(3,"Cells:"),Pe.qZA(),Pe.TgZ(4,"div",3),Pe._UZ(5,"p-radioButton",4),Pe.TgZ(6,"span",5),Pe._uU(7),Pe.qZA(),Pe._UZ(8,"p-radioButton",4),Pe.TgZ(9,"p-multiSelect",6),Pe.NdJ("onChange",function(){return t.onCellsSelect()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.Q6J("formGroup",t.form),Pe.xp6(2),Pe.Q6J("ngClass",Pe.VKq(15,EZ,t.form.disabled)),Pe.xp6(3),Pe.Q6J("name",t.formControlName)("label",t.typeValues.selectAll.name)("value",t.typeValues.selectAll.value)("formControlName",t.formControlName),Pe.xp6(2),Pe.hij("(",t.numberOfCells," cells)"),Pe.xp6(1),Pe.Q6J("name",t.formControlName)("label",t.typeValues.selectSpecifiedCells.name)("value",t.typeValues.selectSpecifiedCells.value)("formControlName",t.formControlName),Pe.xp6(1),Pe.Q6J("options",t.cellsOptions)("maxSelectedLabels",2)("selectionLimit",t.maxSelectedCells)("formControlName",t.cellsFormControl))},directives:[xn._Y,xn.JL,xn.sg,wP.xw,m.mk,Sh.EU,xn.JJ,xn.u,el.NU],styles:[".tracing-cells-form[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}.tracing-cells-form[_ngcontent-%COMP%]   .cells-number[_ngcontent-%COMP%]{color:#98a2ae;padding-left:22px;padding-bottom:5px;margin-top:-5px}.tracing-cells-form[_ngcontent-%COMP%]   .cells-multiselect[_ngcontent-%COMP%]{width:100%;padding-left:22px}.tracing-cells-form[_ngcontent-%COMP%]   .trace-radio-button[_ngcontent-%COMP%]     .ui-radiobutton-label{margin-left:8px}.tracing-cells-form[_ngcontent-%COMP%]   .radio-button-wrapper[_ngcontent-%COMP%]   p-radioButton[_ngcontent-%COMP%]:not(:last-of-type){margin-right:40px}[_nghost-%COMP%]     .p-multiselect-label-container{white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]     .p-multiselect{height:26px}"]}),e})();const kZ="^[A-Fa-f0-9]+$",NZ="^[0-9]$|^[1-9][0-9]$",LZ=function(e){return{"label-disabled":e}},DZ=function(e,t){return{"span-addon-disabled":e,"span-addon-dirty":t}},ZZ=function(){return{minWidth:"32px",minHeight:"26px"}};let RZ=(()=>{class e{constructor(e,t){this.formBuilder=e,this.store=t,this.formValidationError=new Pe.vpe,this.ngUnsubscribe=new Ae.xQ,this.inputValueType=wn.RYy,this.messageDisplay=wn.t0A,this.validationMessages=dZ,this.resetButtonModel={title:"Set default value",icon:"mdi mdi-cog-counterclockwise",theme:wn.bnJ.Default,thickness:wn.NOb.Thin}}ngOnInit(){this.buildForm(),this.subscribeOnFormChanges(),this.subscribeGetBitmapConfiguration(),this.isComponentTraceType()&&!this.isOngoingTrace()?this.form.enable():this.form.disable()}ngOnChanges(){this.subscribeGetBitmapConfiguration(),this.form&&(this.isComponentTraceType()&&!this.isOngoingTrace()?this.form.enable():this.form.disable())}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}resetBitmapConfiguration(){this.store.dispatch(XD({payload:this.targetComponent})),this.form.markAsPristine()}isComponentTraceType(){return this.traceType===xZ.Component}isOngoingTrace(){return!!this.traces.find(e=>e.targetComponent===this.targetComponent&&e.traceType===this.traceType)}buildForm(){this.form=this.formBuilder.group({tx:["",xn.kI.compose([xn.kI.required,xn.kI.pattern(kZ),xn.kI.maxLength(8)])],rx:["",xn.kI.compose([xn.kI.required,xn.kI.pattern(kZ),xn.kI.maxLength(8)])]})}subscribeOnFormChanges(){this.form.statusChanges.pipe((0,_e.R)(this.ngUnsubscribe),(0,ys.x)()).subscribe(()=>this.formValidationError.emit(this.form.invalid)),this.form.valueChanges.pipe((0,_e.R)(this.ngUnsubscribe),(0,Mb.b)(1e3),(0,vs.h)(()=>!this.form.pristine&&!this.form.invalid),(0,ys.x)((e,t)=>e.tx===t.tx&&e.rx===t.rx)).subscribe(e=>{this.store.dispatch(WD({payload:{targetComponent:this.targetComponent,filters:e}})),this.form.markAsPristine()})}subscribeGetBitmapConfiguration(){this.store.pipe((0,g.Ys)((0,g.P1)(sZ,(e,t)=>e.uplaneFilters[t]||{bitmap:{rx:"",tx:""}}),this.targetComponent),(0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.filtersConfig=e,this.form&&this.form.pristine&&e.bitmap&&this.form.patchValue(e.bitmap)})}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(xn.qu),Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["oam-bitmap-filter"]],inputs:{targetComponent:"targetComponent",traceType:"traceType",traces:"traces"},outputs:{formValidationError:"formValidationError"},features:[Pe.TTD],decls:17,vars:26,consts:[[1,"bitmap-filter-container"],[3,"ngClass"],[1,"bitmap-filter-form",3,"formGroup"],[1,"bitmap-filter-input","bitmap-filter-input-tx"],[1,"ui-inputgroup"],[1,"ui-inputgroup-addon","default",3,"ngClass"],[1,"bitmap-input"],["controlName","tx","placeholder","",3,"group","id","inputValueType","validationMessages","validationMessageDisplay"],[1,"bitmap-filter-input","bitmap-filter-input-rx"],["controlName","rx","placeholder","",3,"group","id","inputValueType","validationMessages","validationMessageDisplay"],["id","reset-button",1,"trace-buttons",3,"model","options","disabled","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"label",1),Pe._uU(2,"Bitmap filter TX / RX:"),Pe.qZA(),Pe.TgZ(3,"form",2),Pe.TgZ(4,"div",3),Pe.TgZ(5,"div",4),Pe.TgZ(6,"span",5),Pe._uU(7," 0x "),Pe.qZA(),Pe.TgZ(8,"div",6),Pe._UZ(9,"ui-webem-form-input",7),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(10,"div",8),Pe.TgZ(11,"div",4),Pe.TgZ(12,"span",5),Pe._uU(13," 0x "),Pe.qZA(),Pe.TgZ(14,"div",6),Pe._UZ(15,"ui-webem-form-input",9),Pe.qZA(),Pe.TgZ(16,"ui-webem-button",10),Pe.NdJ("action",function(){return t.resetBitmapConfiguration()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngClass",Pe.VKq(17,LZ,t.form.disabled)),Pe.xp6(2),Pe.Q6J("formGroup",t.form),Pe.xp6(3),Pe.Q6J("ngClass",Pe.WLB(19,DZ,t.form.disabled,t.form.controls.tx.dirty&&t.form.controls.tx.invalid)),Pe.xp6(3),Pe.Q6J("group",t.form)("id","tx")("inputValueType",t.inputValueType.TEXT)("validationMessages",t.validationMessages)("validationMessageDisplay",t.messageDisplay.SHOW_MESSAGE),Pe.xp6(3),Pe.Q6J("ngClass",Pe.WLB(22,DZ,t.form.disabled,t.form.controls.rx.dirty&&t.form.controls.rx.invalid)),Pe.xp6(3),Pe.Q6J("group",t.form)("id","rx")("inputValueType",t.inputValueType.TEXT)("validationMessages",t.validationMessages)("validationMessageDisplay",t.messageDisplay.SHOW_MESSAGE),Pe.xp6(1),Pe.Q6J("model",t.resetButtonModel)("options",Pe.DdM(25,ZZ))("disabled",t.form.pristine&&t.filtersConfig&&t.filtersConfig.isDefault||!t.isComponentTraceType()||t.isOngoingTrace()))},directives:[m.mk,xn._Y,xn.JL,xn.sg,Zi,Ui.r],styles:[".bitmap-filter-form[_ngcontent-%COMP%]{display:flex}.bitmap-filter-input-rx[_ngcontent-%COMP%]{margin-left:8px}.bitmap-filter-input[_ngcontent-%COMP%]{display:flex}.bitmap-filter-input[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{cursor:default}.bitmap-filter-input[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon.default.span-addon-disabled[_ngcontent-%COMP%], .bitmap-filter-input[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon.default.span-addon-disabled[_ngcontent-%COMP%]:hover{color:#bec8d2;border-color:#bec8d2;background-color:#fff}.bitmap-filter-input[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .span-addon-dirty[_ngcontent-%COMP%]{border-color:#98a2ae}.bitmap-filter-input[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon[_ngcontent-%COMP%]:hover, .bitmap-filter-input[_ngcontent-%COMP%]:hover   .ui-inputgroup-addon[_ngcontent-%COMP%]{background-color:#fff;border-color:#98a2ae}.bitmap-input[_ngcontent-%COMP%]{width:100%}.bitmap-input[_ngcontent-%COMP%]     .validation-message{padding-bottom:10px;margin-left:-20px}.trace-buttons[_ngcontent-%COMP%]{margin-left:7px}  .ui-inputgroup .ui-inputtext:disabled{color:#bec8d2}  .ui-inputgroup .ui-inputtext:not(:last-child){border-radius:0 3px 3px 0;height:26px;border-right-width:1px;border-right-style:solid}  .ui-inputgroup .ui-inputgroup-addon{padding:0;line-height:21px}"]}),e})();const UZ=["startButton"];function FZ(e,t){1&e&&Pe._uU(0,"User Plane Traces Configuration")}function jZ(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"oam-trace-cells-panel",15),Pe.NdJ("selectedCells",function(t){return Pe.CHM(e),Pe.oxw(2).updateSelectedCells(t)}),Pe.qZA(),Pe.BQk()}if(2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("traces",e.traces)("traceType",e.form.controls.selectTraceType.value)("targetComponent",e.form.controls.selectTargetComponent.value)}}function $Z(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"oam-bitmap-filter",16),Pe.NdJ("formValidationError",function(t){return Pe.CHM(e),Pe.oxw(2).isFormInvalid(t)}),Pe.qZA()}if(2&e){const e=Pe.oxw(2);Pe.Q6J("traces",e.traces)("traceType",e.form.controls.selectTraceType.value)("targetComponent",e.form.controls.selectTargetComponent.value)}}const qZ=function(e){return{"trace-button":e}},BZ=function(){return{forceHeight:"26px"}};function GZ(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",2),Pe.TgZ(1,"form",3),Pe.TgZ(2,"div",4),Pe.TgZ(3,"label",5),Pe._uU(4,"Target component:"),Pe.qZA(),Pe.TgZ(5,"div",6),Pe._UZ(6,"p-dropdown",7),Pe.qZA(),Pe.TgZ(7,"div",8),Pe.TgZ(8,"label",5),Pe._uU(9,"Trace type:"),Pe.qZA(),Pe._UZ(10,"p-radioButton",9),Pe._UZ(11,"p-radioButton",10),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.YNc(12,jZ,2,3,"ng-container",11),Pe.YNc(13,$Z,1,3,"oam-bitmap-filter",12),Pe.TgZ(14,"ui-webem-button",13,14),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().startUplaneTrace()}),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("formGroup",e.form),Pe.xp6(5),Pe.Q6J("options",e.targetComponents),Pe.xp6(4),Pe.Q6J("value",e.traceTypes.Component),Pe.xp6(1),Pe.Q6J("value",e.traceTypes.Sherpa),Pe.xp6(1),Pe.Q6J("ngIf",e.isVduTracing),Pe.xp6(1),Pe.Q6J("ngIf",e.areBitmapFilterVisible),Pe.xp6(1),Pe.Q6J("ngClass",Pe.VKq(10,qZ,!e.areBitmapFilterVisible))("model",e.startButtonModel)("options",Pe.DdM(12,BZ))("disabled",e.isStartButtonDisabled(e.isDestinationServerConfInvalid))}}let VZ=(()=>{class e{constructor(e,t){this.store=e,this.tracingConfigService=t,this.isDestinationServerConfInvalid=!1,this.traceTypes=xZ,this.isBitmapFilterInputInvalid=!1,this.startButtonModel={title:"Start User Plane Trace",label:"Start User Plane Trace",theme:wn.bnJ.Accent,thickness:wn.NOb.Thick},this.ngUnsubscribe=new Ae.xQ}ngOnInit(){this.targetComponents=this.tracingConfigService.targetComponentOptions,this.isVduTracing=this.tracingConfigService.isConfigVdu,this.form=new xn.cw({selectTargetComponent:new xn.NI(this.targetComponents[0].value),selectTraceType:new xn.NI(xZ.Component)}),this.isVduTracing||this.form.controls.selectTargetComponent.disable();const e=this.form.controls.selectTraceType;e.valueChanges.subscribe(t=>{e.setValue(t,{emitEvent:!1})})}startUplaneTrace(){this.store.dispatch(kD({payload:{nrCellDns:this.nrCellDns,targetComponent:this.form.controls.selectTargetComponent.value,traceType:this.form.controls.selectTraceType.value}}))}isStartButtonDisabled(e){return!!(e||this.isBitmapFilterInputInvalid||this.isVduTracing&&T().isEmpty(this.nrCellDns)||this.traces.find(e=>e.targetComponent===this.form.controls.selectTargetComponent.value&&e.traceType===this.form.controls.selectTraceType.value))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}isFormInvalid(e){this.isBitmapFilterInputInvalid=e}updateSelectedCells(e){this.nrCellDns=e?e.reduce((e,{basicCell:t})=>[...e,...t.distNames.config?[t.distNames.config]:[]],[]):[]}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(wZ.P))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["oam-uplane-traces-configuration"]],viewQuery:function(e,t){if(1&e&&Pe.Gf(UZ,5),2&e){let e;Pe.iGM(e=Pe.CRH())&&(t.startButton=e.first)}},inputs:{traces:"traces",isDestinationServerConfInvalid:"isDestinationServerConfInvalid"},decls:5,vars:0,consts:[["title",""],["content",""],[1,"uplane-tracers-container"],[1,"uplane-traces-form",3,"formGroup"],["fxLayout","column",1,"input-row","ui-inputgroup"],[1,"traces-label"],["fxLayout","column",1,"target-type"],["name","selectTargetComponent","formControlName","selectTargetComponent",3,"options"],["fxLayout","column",1,"radio-button-wrapper"],["name","selectTraceType","label","Component","formControlName","selectTraceType",3,"value"],["name","selectTraceType","label","Sherpa","formControlName","selectTraceType",3,"value"],[4,"ngIf"],[3,"traces","traceType","targetComponent","formValidationError",4,"ngIf"],["id","start-button",1,"trace-button",3,"ngClass","model","options","disabled","action"],["startButton",""],[3,"traces","traceType","targetComponent","selectedCells"],[3,"traces","traceType","targetComponent","formValidationError"]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-rich-panel"),Pe.YNc(1,FZ,1,0,"ng-template",null,0,Pe.W1O),Pe.YNc(3,GZ,16,13,"ng-template",null,1,Pe.W1O),Pe.qZA())},directives:[CZ.d,xn._Y,xn.JL,xn.sg,wP.xw,xi.Lt,xn.JJ,xn.u,Sh.EU,m.O5,Ui.r,m.mk,MZ,RZ],styles:[".uplane-traces-form[_ngcontent-%COMP%]   .target-type[_ngcontent-%COMP%]{margin-bottom:20px}.uplane-traces-form[_ngcontent-%COMP%]     p-dropdown span.p-dropdown-label{border-radius:3px}.uplane-traces-form[_ngcontent-%COMP%]   .radio-button-wrapper[_ngcontent-%COMP%]   p-radioButton[_ngcontent-%COMP%]{padding-bottom:5px}.trace-button[_ngcontent-%COMP%]{padding-top:15px}"]}),e})();var YZ=(()=>(function(e){e.Start="Start",e.Active="Active",e.Stop="Stop",e.Fail="Fail"}(YZ||(YZ={})),YZ))(),JZ=(()=>(function(e){e.SetUPlaneLocalTracesInStore="[Tracing] Set Local Traces In Store",e.AddLocalTrace="[Tracing] Add Local Trace",e.RemoveLocalTrace="[Tracing] Remove Local Trace",e.UpdateLocalTrace="[Tracing] Update Local Trace"}(JZ||(JZ={})),JZ))();const HZ=(0,g.PH)(JZ.SetUPlaneLocalTracesInStore,(0,g.Ky)()),WZ=(0,g.PH)(JZ.AddLocalTrace,(0,g.Ky)()),QZ=(0,g.PH)(JZ.RemoveLocalTrace,(0,g.Ky)()),zZ=(0,g.PH)(JZ.UpdateLocalTrace,(0,g.Ky)()),KZ="tracesLocal",XZ=(0,I.H)({selectId:eR});function eR({targetComponent:e,traceType:t}){return`${e}_${t}`}const tR=XZ.getInitialState(),nR=(0,g.Lq)(tR,(0,g.on)(HZ,(e,{payload:t})=>XZ.setAll(t,Object.assign({},tR))),(0,g.on)(WZ,(e,{payload:t})=>XZ.addOne(t,e)),(0,g.on)(QZ,(e,{payload:t})=>XZ.removeOne(t,e)),(0,g.on)(zZ,(e,{key:t,updateLocalTraces:n})=>XZ.updateOne({id:t,changes:{status:n.status,traceType:n.traceType,nrCellDns:n.nrCellDns}},e)),(0,g.on)(LD,(e,{isOperationBegining:t,key:n})=>XZ.updateOne({id:n,changes:{ongoingStatus:t}},e)),(0,g.on)(DD,(e,{key:t,status:n})=>XZ.updateOne({id:t,changes:{status:n}},e)));function iR(e,t){return nR(e,t)}const oR=(0,g.ZF)(KZ),{selectAll:sR}=RD.getSelectors(),aR=(0,g.P1)(oR,sR);function rR(e,t){if(1&e&&Pe._uU(0),2&e){const e=Pe.oxw();Pe.Oqu(e.PANEL_HEADER)}}function lR(e,t){1&e&&(Pe.TgZ(0,"th",5),Pe._uU(1,"Cells"),Pe.qZA())}function cR(e,t){1&e&&(Pe.TgZ(0,"tr"),Pe.TgZ(1,"td",10),Pe.TgZ(2,"div",11),Pe._UZ(3,"i",12),Pe.TgZ(4,"span"),Pe._uU(5,"No traces to display"),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA())}function dR(e,t){if(1&e&&(Pe.TgZ(0,"tr"),Pe.TgZ(1,"th",5),Pe._uU(2,"Target"),Pe.qZA(),Pe.TgZ(3,"th",5),Pe._uU(4,"Trace type"),Pe.qZA(),Pe.YNc(5,lR,2,0,"th",6),Pe.TgZ(6,"th",7),Pe._uU(7,"Status"),Pe.qZA(),Pe.TgZ(8,"th",8),Pe._uU(9,"Action"),Pe.qZA(),Pe.qZA(),Pe._UZ(10,"tr"),Pe.YNc(11,cR,6,0,"tr",9)),2&e){const e=Pe.oxw(2);Pe.xp6(5),Pe.Q6J("ngIf",e.isVduTracing),Pe.xp6(6),Pe.Q6J("ngIf",e.isTableEmpty())}}function uR(e,t){if(1&e&&(Pe.TgZ(0,"td",21),Pe._uU(1),Pe.ALo(2,"nullableValue"),Pe.qZA()),2&e){const e=t.ngIf;Pe.Q6J("title",e.selectedCells.title),Pe.xp6(1),Pe.hij(" ",Pe.lcZ(2,2,e.selectedCells.name)," ")}}const pR=function(e){return{selectedCells:e}};function gR(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,uR,3,4,"td",20),Pe.ALo(2,"async"),Pe.BQk()),2&e){const e=Pe.oxw().$implicit,t=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("ngIf",Pe.VKq(3,pR,t.getSelectedCells(Pe.lcZ(2,1,t.allVDUCells$),e)))}}function hR(e,t){1&e&&(Pe.TgZ(0,"div"),Pe._UZ(1,"ui-webem-spinner"),Pe.TgZ(2,"span"),Pe._uU(3,"Ongoing"),Pe.qZA(),Pe.qZA())}function mR(e,t){1&e&&(Pe.TgZ(0,"div"),Pe._UZ(1,"i",22),Pe.TgZ(2,"span"),Pe._uU(3,"Stopped"),Pe.qZA(),Pe.qZA())}function fR(e,t){1&e&&(Pe.TgZ(0,"div"),Pe._UZ(1,"i",23),Pe.TgZ(2,"span"),Pe._uU(3,"Failed"),Pe.qZA(),Pe.qZA())}function bR(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",19),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw().$implicit;return Pe.oxw(2).startTrace(t)}),Pe.qZA()}if(2&e){const e=Pe.oxw().$implicit,t=Pe.oxw(2);Pe.Q6J("model",t.getStartButtonModel(e.status))("disabled",e.ongoingStatus)}}function CR(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",19),Pe.NdJ("action",function(){Pe.CHM(e);const t=Pe.oxw().$implicit;return Pe.oxw(2).stopTrace(t)}),Pe.qZA()}if(2&e){const e=Pe.oxw().$implicit,t=Pe.oxw(2);Pe.Q6J("model",t.stopButtonModel)("disabled",e.ongoingStatus)}}function vR(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"tr"),Pe.TgZ(1,"td",13),Pe._uU(2),Pe.ALo(3,"nullableValue"),Pe.qZA(),Pe.TgZ(4,"td",14),Pe._uU(5),Pe.ALo(6,"nullableValue"),Pe.qZA(),Pe.YNc(7,gR,3,5,"ng-container",9),Pe.TgZ(8,"td",15),Pe.YNc(9,hR,4,0,"div",9),Pe.YNc(10,mR,4,0,"div",9),Pe.YNc(11,fR,4,0,"div",9),Pe.qZA(),Pe.TgZ(12,"td",16),Pe.TgZ(13,"div"),Pe.YNc(14,bR,1,2,"ui-webem-button",17),Pe.YNc(15,CR,1,2,"ng-template",null,18,Pe.W1O),Pe.TgZ(17,"ui-webem-button",19),Pe.NdJ("action",function(){const t=Pe.CHM(e).$implicit;return Pe.oxw(2).removeTrace(t.traceId)}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.$implicit,n=Pe.MAs(16),i=Pe.oxw(2);Pe.xp6(2),Pe.hij(" ",Pe.lcZ(3,10,i.getTargetComponentName(e.targetComponent))," "),Pe.xp6(3),Pe.hij(" ",Pe.lcZ(6,12,e.traceType)," "),Pe.xp6(2),Pe.Q6J("ngIf",i.isVduTracing),Pe.xp6(2),Pe.Q6J("ngIf",i.isTraceOngoing(e)),Pe.xp6(1),Pe.Q6J("ngIf",i.isTraceStopped(e.status)),Pe.xp6(1),Pe.Q6J("ngIf",i.isTraceFailed(e.status)),Pe.xp6(3),Pe.Q6J("ngIf",i.isTraceStopped(e.status)||i.isTraceFailed(e.status))("ngIfElse",n),Pe.xp6(3),Pe.Q6J("model",i.clearButtonModel)("disabled",i.isTraceOngoing(e)||e.ongoingStatus)}}function yR(e,t){if(1&e&&(Pe.TgZ(0,"p-table",2),Pe.YNc(1,dR,12,2,"ng-template",3),Pe.YNc(2,vR,18,14,"ng-template",4),Pe.qZA()),2&e){const e=Pe.oxw();Pe.Q6J("autoLayout",!0)("value",e.localTraces)("resizableColumns",!0)("totalRecords",e.getNumberOfTraces())}}let SR=(()=>{class e{constructor(e,t){this.store=e,this.tracingConfigService=t,this.ngUnsubscribe=new Ae.xQ,this.localTraces=[],this.NOT_APPLICABLE="N/A",this.PANEL_HEADER="User Plane Traces",this.clearButtonModel={title:"Clear",icon:"mdi mdi-delete-forever",thickness:wn.NOb.Thin},this.stopButtonModel={title:"Stop",icon:"mdi mdi-stop",thickness:wn.NOb.Thin}}ngOnInit(){this.allVDUCells$=this.store.select(_Z.aG),this.targetComponents=this.tracingConfigService.targetComponentOptions,this.isVduTracing=this.tracingConfigService.isConfigVdu,this.store.pipe((0,_e.R)(this.ngUnsubscribe),(0,g.Ys)(aR)).subscribe(e=>{this.localTraces=e}),this.store.pipe((0,_e.R)(this.ngUnsubscribe),(0,g.Ys)((0,g.P1)(sZ,e=>e.uplaneFilters))).subscribe(e=>{this.uplaneFiltersConf=e})}ngOnChanges(e){e.traces&&e.traces.firstChange||this.analyseTracesDiff()}getStartButtonModel(e){return{title:this.isTraceFailed(e)?"Retry":"Start",icon:"mdi mdi-sync",thickness:wn.NOb.Thin}}startTrace(e){const t=Object.assign({targetComponent:e.targetComponent,traceType:e.traceType},e.nrCellDns&&{nrCellDns:e.nrCellDns});this.store.dispatch(kD({payload:t})),this.store.dispatch(LD({isOperationBegining:!0,key:`${t.targetComponent}_${t.traceType}`}))}stopTrace(e){this.store.dispatch(ND({payload:e}))}removeTrace(e){const t=this.localTraces.find(t=>t.traceId===e);if(t){const e=eR(t);this.store.dispatch(QZ({payload:e}))}}getSelectedCells(e,t){const n=e&&e.filter(e=>e.basicCell.distNames.config&&t.nrCellDns&&t.nrCellDns.includes(e.basicCell.distNames.config)),i=n&&n.length;if(n&&i&&0!==i){if(1===i){const e=n[0];return{name:`${e.basicCell.name} (PCI: ${e.basicCell.physicalLayerCellID})`,title:""}}return{name:`${i} cells selected`,title:n.map(e=>`${e.basicCell.name} (PCI: ${e.basicCell.physicalLayerCellID})`).join("\n")}}return{name:"",title:""}}getTxFilter(e){if(e.traceType===xZ.Sherpa)return this.NOT_APPLICABLE;{const t=this.uplaneFiltersConf[e.targetComponent];return t&&t.bitmap&&t.bitmap.tx||""}}getRxFilter(e){if(e.traceType===xZ.Sherpa)return this.NOT_APPLICABLE;{const t=this.uplaneFiltersConf[e.targetComponent];return t&&t.bitmap&&t.bitmap.rx||""}}getTargetComponentName(e){const t=this.targetComponents.find(t=>t.value===e);return t?t.label:""}isTableEmpty(){return!this.localTraces||!this.localTraces.length}isTraceStopped(e){return e===YZ.Stop}isTraceFailed(e){return e===YZ.Fail}isTraceOngoing(e){return!!e.status&&!this.isTraceStopped(e.status)&&!this.isTraceFailed(e.status)}getNumberOfTraces(){return this.localTraces?this.localTraces.length:0}ngOnDestroy(){this.store.dispatch(HZ({payload:this.localTraces})),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}analyseTracesDiff(){const e=(0,_.cloneDeep)(this.traces),t=[],n=this.localTraces.reduce((n,i)=>{const o=e.findIndex(e=>this.areTracesTheSameTargetAndType(e,i));return-1!==o?((0,_.isEqual)(e[o],i)?n.push(i):n.unshift(e[o]),e.splice(o,1)):t.push(i.status!==YZ.Fail?Object.assign(Object.assign({},i),{status:YZ.Stop}):i),n},[]);this.store.dispatch(HZ({payload:[...e,...n,...t]}))}areTracesTheSameTargetAndType(e,t){return e.targetComponent===t.targetComponent&&e.traceType===t.traceType}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(wZ.P))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["oam-uplane-traces-table"]],inputs:{traces:"traces"},features:[Pe.TTD],decls:5,vars:0,consts:[["header",""],["content",""],[3,"autoLayout","value","resizableColumns","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pResizableColumn",""],["pResizableColumn","",4,"ngIf"],[1,"centered-column-header","status-column"],[1,"centered-column-header","action-column"],[4,"ngIf"],["colspan","7"],[1,"empty-table"],[1,"information-icon","mdi","mdi-information"],[1,"target-component-column"],[1,"trace-type-column"],[1,"status-column"],[1,"action-column"],[3,"model","disabled","action",4,"ngIf","ngIfElse"],["stopButton",""],[3,"model","disabled","action"],["class","cells-column",3,"title",4,"ngIf"],[1,"cells-column",3,"title"],[1,"mdi","mdi-stop"],[1,"mdi","mdi-alert"]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-panel"),Pe.YNc(1,rR,1,1,"ng-template",null,0,Pe.W1O),Pe.YNc(3,yR,3,4,"ng-template",null,1,Pe.W1O),Pe.qZA())},directives:[nM.y,jm.iA,Ri.jx,jm.Q7,m.O5,Ui.r,mo.O],pipes:[tg.c,m.Ov],styles:[".empty-table[_ngcontent-%COMP%]{height:100px;display:flex;align-items:center;justify-content:center;background-color:#fff}.empty-table[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;color:#98a2ae}.empty-table[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:8px;color:#98a2ae;font-size:14px}.centered-column-header[_ngcontent-%COMP%]{text-align:center}.target-component-column[_ngcontent-%COMP%]{min-width:62px}.cells-column[_ngcontent-%COMP%]{min-width:135px}.filter-column[_ngcontent-%COMP%]{min-width:95px}.status-column[_ngcontent-%COMP%]{width:98px}.status-column[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]:before{font-size:14px}.status-column[_ngcontent-%COMP%]   .mdi-alert[_ngcontent-%COMP%]{color:#da1914}.status-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.status-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding-left:5px}.action-column[_ngcontent-%COMP%]{width:76px}.action-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:space-between}  .status-column .spinner-icon{font-size:12px}  .mdi-sync:before{transform:rotate(90deg)}  .ui-table-resizable>.ui-table-wrapper{overflow-x:hidden}"]}),e})();function PR(e,t){1&e&&(Pe.ynx(0),Pe._UZ(1,"oam-tracing-not-enabled"),Pe.BQk())}function OR(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",3),Pe.TgZ(1,"div",4),Pe.TgZ(2,"oam-destination-server-configuration",5),Pe.NdJ("formValidationErrorOrHasNewValue",function(t){const n=Pe.CHM(e).ngIf;return Pe.oxw(2).isFormInvalid(t,n.isStatusOperationOngoingTraceCommonConfiguration)}),Pe.qZA(),Pe._UZ(3,"oam-uplane-traces-configuration",6),Pe.qZA(),Pe._UZ(4,"oam-uplane-traces-table",7),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.xp6(2),Pe.Q6J("traces",e.traces)("isStatusOperationOngoingTraceCommonConfiguration",e.isStatusOperationOngoingTraceCommonConfiguration),Pe.xp6(1),Pe.Q6J("traces",e.traces)("isDestinationServerConfInvalid",n.isDestinationServerConfInvalid),Pe.xp6(1),Pe.Q6J("traces",e.traces)}}const xR=function(e,t){return{traces:e,isStatusOperationOngoingTraceCommonConfiguration:t}};function wR(e,t){if(1&e&&(Pe.YNc(0,OR,5,5,"div",2),Pe.ALo(1,"async"),Pe.ALo(2,"async")),2&e){const e=Pe.oxw();Pe.Q6J("ngIf",Pe.WLB(5,xR,Pe.lcZ(1,1,e.traces$),Pe.lcZ(2,3,e.isStatusOperationOngoingTraceCommonConfiguration$)))}}let AR=(()=>{class e{constructor(e){this.store=e,this.isDestinationServerConfInvalid=!1,this.ngUnsubscribe=new Ae.xQ}ngOnInit(){this.store.dispatch(vD()),this.store.pipe((0,g.Ys)(AD),(0,ys.x)(_.isEqual),(0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.isTraceEnabled=e,this.updateTraces()}),this.traces$=this.store.select(BD),this.isStatusOperationOngoingTraceCommonConfiguration$=this.store.select(rZ)}ngOnDestroy(){this.store.dispatch(yD()),this.store.dispatch(ID()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}updateTraces(){this.store.dispatch(this.isTraceEnabled?TD():ID())}isFormInvalid(e,t){this.isDestinationServerConfInvalid=e||t}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["oam-tracing-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["tracingEnabled",""],["class","tracing-panels",4,"ngIf"],[1,"tracing-panels"],[1,"configuration-column"],[3,"traces","isStatusOperationOngoingTraceCommonConfiguration","formValidationErrorOrHasNewValue"],[3,"traces","isDestinationServerConfInvalid"],[3,"traces"]],template:function(e,t){if(1&e&&(Pe.YNc(0,PR,2,0,"ng-container",0),Pe.YNc(1,wR,3,8,"ng-template",null,1,Pe.W1O)),2&e){const e=Pe.MAs(2);Pe.Q6J("ngIf",!t.isTraceEnabled)("ngIfElse",e)}},directives:[m.O5,lZ,OZ,VZ,SR],pipes:[m.Ov],styles:[".tracing-panels[_ngcontent-%COMP%]{display:flex;margin:15px}.configuration-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%;max-width:304px;margin-right:24px}oam-uplane-traces-table[_ngcontent-%COMP%]{flex:1 1 100%}[_nghost-%COMP%]     .label-disabled{color:#98a2ae}"]}),e})();var _R=n(92411);const TR=[{path:"",component:AR,outlet:"content_center"},{path:"",component:_R.r,outlet:"content_menu"}];let IR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(TR)],f.Bz]}),e})();var ER=n(18823);const MR=(0,g.Lq)({traceCells:[]},(0,g.on)(IZ,(e,{cells:t})=>Object.assign(Object.assign({},e),{traceCells:t})));function kR(e,t){return MR(e,t)}var NR=n(59171);let LR=(()=>{class e{constructor(e,t,n,i){this.store=e,this.actions$=t,this.tracingService=n,this.pollingService=i,this.ERROR="error",this.unsubscribeTracesActivationWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(yD)),{dispatch:!1}),this.subscribeTracesActivationError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(SD),(0,A.U)(({})=>(0,FC.wN)({payload:{detail:"Traces activation operation failed",severity:this.ERROR,summary:"Traces Activation"}})))),this.subscribeTracesActivationWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(vD),(0,dC.zg)(()=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.unsubscribeTracesActivationWatch$),(0,dC.zg)(()=>this.tracingService.getTracesActivationStatus().pipe((0,ys.x)(_.isEqual),(0,A.U)(e=>PD(e)),(0,NC.K)(e=>(0,nl.of)(SD(e)))))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(NR.a),Pe.LFG(DC.x))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var DR=n(29343),ZR=(()=>(function(e){e[e.FAILED_COMPONENT_TRACE_ID=7]="FAILED_COMPONENT_TRACE_ID",e[e.FAILED_SHERPA_TRACE_ID=8]="FAILED_SHERPA_TRACE_ID"}(ZR||(ZR={})),ZR))();let RR=(()=>{class e{constructor(e,t,n,i){this.store=e,this.actions$=t,this.tracingService=n,this.pollingService=i,this.ERROR="error",this.SUCCESS="success",this.subscribeUPlaneTracesWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(TD),(0,dC.zg)(()=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.unsubscribeUPlaneTracesWatch$),(0,dC.zg)(()=>this.tracingService.getAllUPlaneTraces().pipe((0,ys.x)(_.isEqual),(0,A.U)(e=>MD({payload:e})),(0,NC.K)(e=>(0,nl.of)(ED({payload:e}))))))))),this.unsubscribeUPlaneTracesWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ID)),{dispatch:!1}),this.subscribeTracesError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ED),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Trace streams operation failed",severity:this.ERROR,summary:"Trace Streams"}})))),this.startUPlaneTrace$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(kD),(0,Bo.M)(this.store.select(aR)),(0,dC.zg)(([e,t])=>this.tracingService.startUPlaneTrace({body:e.payload}).pipe((0,dC.zg)(()=>[(0,FC.wN)({payload:{detail:"Trace streams operation finished",severity:this.SUCCESS,summary:"Trace Streams"}}),DD({key:`${e.payload.targetComponent}_${e.payload.traceType}`,status:YZ.Start}),LD({isOperationBegining:!1,key:`${e.payload.targetComponent}_${e.payload.traceType}`})]),(0,NC.K)(n=>{const i=[ED({payload:n})];i.push(LD({isOperationBegining:!1,key:`${e.payload.targetComponent}_${e.payload.traceType}`}));const o=this.buildNewLocalTrace(e.payload),s=`${o.targetComponent}_${o.traceType}`;return t.find(({targetComponent:e,traceType:t})=>s===`${e}_${t}`)?i.push(zZ({key:s,updateLocalTraces:o})):i.push(WZ({payload:o})),(0,nl.of)(...i)}))))),this.stopTrace$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(ND),(0,A.U)(e=>e.payload),(0,dC.zg)(e=>(this.store.dispatch(LD({isOperationBegining:!0,key:`${e.targetComponent}_${e.traceType}`})),this.tracingService.stopUPlaneTraceById({traceId:e.traceId}).pipe((0,dC.zg)(()=>[(0,FC.wN)({payload:{detail:`Stop Trace ${e.traceId} accepted`,severity:this.SUCCESS,summary:"Trace Stream stopped"}}),DD({key:`${e.targetComponent}_${e.traceType}`,status:YZ.Stop}),LD({isOperationBegining:!1,key:`${e.targetComponent}_${e.traceType}`})]),(0,NC.K)(t=>(0,nl.of)(ED({payload:t}),LD({isOperationBegining:!1,key:`${e.targetComponent}_${e.traceType}`}))))))))}buildNewLocalTrace(e){let t=e.traceType===xZ.Component?ZR.FAILED_COMPONENT_TRACE_ID:ZR.FAILED_SHERPA_TRACE_ID;return e.targetComponent===DR.g.L2HiRlc?t+=2:e.targetComponent===DR.g.L2Lo&&(t+=4),Object.assign({status:YZ.Fail,traceId:t.toString()},e)}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(NR.a),Pe.LFG(tv.xj))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var UR=n(17525),FR=n(79882),jR=n(39477),$R=n(6546),qR=n(49617);let BR=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.lockVDUCellSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.cl),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellLock.finished(e)),(0,$R.R)()]))),this.lockVDUCellFailed$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.e7),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellLock.failed(e)),(0,$R.R)()]))),this.lockVDUCellHttpError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.x3),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellLock.failed(e)),(0,$R.R)()]))),this.lockVDUCellStarted$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.w),(0,Ss.b)(({cellId:e})=>[(0,FC.wN)(qR.Q.cellLock.started([e])),(0,$R.h)()]))),this.lockVDUCell$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.w),(0,dC.zg)(({cellId:e})=>this.executeLock([e],!0).pipe((0,NC.K)(e=>(0,nl.of)((0,AZ.ZA)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,errorMessage:t,detailedStatuses:n}),this.requestEndpoint=({body:e})=>this.statusService.lockCells({body:e}),this.executeLock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getCellsLock({operationId:e}),additionalData:{cellIds:e},onActionSuccess:t&&AZ.cl||void 0,onActionFailure:AZ.e7,onActionError:AZ.x3,onActionOngoing:AZ.vv})}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(tv.xj),Pe.LFG(EC.Bj))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var GR=n(74298);let VR=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.unlockVDUCellSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.XL),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellUnlock.finished(e)),(0,$R.R)()]))),this.unlockVDUCellFailed$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.gb),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellUnlock.failed(e)),(0,$R.R)()]))),this.unlockVDUCellHttpError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.Dm),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellUnlock.failed(e)),(0,$R.R)()]))),this.unlockVDUCellStarted$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.z8),(0,Ss.b)(({cellId:e})=>[(0,FC.wN)(qR.Q.cellUnlock.started([e])),(0,$R.h)()]))),this.unlockVDUCell$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.z8),(0,dC.zg)(({cellId:e})=>this.executeUnlock([e],!0).pipe((0,NC.K)(e=>(0,nl.of)((0,AZ.ZA)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,errorMessage:t,detailedStatuses:n}),this.requestEndpoint=({body:e})=>this.statusService.unlockCells({body:e}),this.executeUnlock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getCellsUnlock({operationId:e}),additionalData:{cellIds:e},onActionSuccess:t&&AZ.XL||void 0,onActionFailure:AZ.gb,onActionError:AZ.Dm,onActionOngoing:AZ.D8})}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(tv.xj),Pe.LFG(GR.B))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var YR=n(98795),JR=n(74428),HR=n(29747),WR=n(88565);let QR=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.blockVDUCellSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.uN),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellBlock.finished(e))]))),this.blockVDUCellFailed$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.Bg),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellBlock.failed(e))]))),this.blockVDUCellHttpError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.Ae),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellBlock.failed(e))]))),this.blockVDUCellStarted$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.B$),(0,Ss.b)(({cellId:e})=>[(0,FC.wN)(qR.Q.cellBlock.started([e]))]))),this.blockVDUCell$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.B$),(0,dC.zg)(({cellId:e})=>this.executeBlock(e,!0).pipe((0,NC.K)(e=>(0,nl.of)((0,AZ.ZA)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,errorMessage:t,detailedStatuses:n}),this.requestEndpoint=({body:e})=>this.statusService.blockCell({body:e}),this.executeBlock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{id:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getBlock({operationId:e}),additionalData:{cellIds:[e]},onActionSuccess:t&&AZ.uN||void 0,onActionFailure:AZ.Bg,onActionError:AZ.Ae,onActionOngoing:AZ.zl})}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(tv.xj),Pe.LFG(WR.Bj))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var zR=n(16727);let KR=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.unblockVDUCellSuccess$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.JW),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellUnblock.finished(e))]))),this.unblockVDUCellFailed$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.YK),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellUnblock.failed(e))]))),this.unblockVDUCellHttpError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.f9),(0,Ss.b)(({additionalData:{cellIds:e}})=>[(0,FC.wN)(qR.Q.cellUnblock.failed(e))]))),this.unblockVDUCellStarted$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.je),(0,Ss.b)(({cellId:e})=>[(0,FC.wN)(qR.Q.cellUnblock.started([e]))]))),this.unblockVDUCell$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(AZ.je),(0,dC.zg)(({cellId:e})=>this.executeUnlock(e,!0).pipe((0,NC.K)(e=>(0,nl.of)((0,AZ.ZA)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,errorMessage:t,detailedStatuses:n}),this.requestEndpoint=({body:e})=>this.statusService.unblockCell({body:e}),this.executeUnlock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{id:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getUnblock({operationId:e}),additionalData:{cellIds:[e]},onActionSuccess:t&&AZ.JW||void 0,onActionFailure:AZ.YK,onActionError:AZ.f9,onActionOngoing:AZ.J3})}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(tv.xj),Pe.LFG(zR.B))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),XR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,YR.d,g.Aw.forFeature(FR._,{vDUCells:UR.I6}),oC.sQ.forFeature([jR.U]),oC.sQ.forFeature([BR]),oC.sQ.forFeature([VR]),oC.sQ.forFeature([QR]),oC.sQ.forFeature([KR]),oC.sQ.forFeature([JR.B,HR.t])]]}),e})();var eU=(()=>(function(e){e.UPDATE_DESTINATION_SERVER_CONFIGURATION="UpdateDestinationServerConfiguration"}(eU||(eU={})),eU))();let tU=(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.actions$=t,this.pollingService=n,this.asyncOperationsService=i,this.trsService=o,this.ERROR="error",this.SUCCESS="success",this.traceConfigurationError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(JD),(0,A.U)(()=>(0,FC.wN)({payload:{detail:"Destination server configuration operation failed",severity:this.ERROR,summary:"Destination Server Configuration"}})))),this.getTraceCommonConfiguration$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(VD),(0,dC.zg)(()=>this.trsService.getTraceCommonConfiguration().pipe((0,A.U)(e=>HD({payload:e})),(0,NC.K)(e=>(0,nl.of)(JD(e))))))),this.unsubscribeTraceCommonConfigurationOperationStatus$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(KD),(0,Ie.b)(()=>"unsub called")),{dispatch:!1}),this.subscribeTraceCommonConfigurationOperationStatus$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(zD),(0,dC.zg)(({operationId:t,operationType:n})=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.unsubscribeTraceCommonConfigurationOperationStatus$),(0,Ss.b)(()=>this.asyncOperationsService.operationsIdGet({id:t})),(0,ys.x)(_.isEqual),(0,dC.zg)(e=>{const t=[eZ({operationType:n,operationStatus:e})];return"Successful"===e.status&&(t.push(VD()),t.push(KD()),t.push(tZ()),t.push((0,FC.wN)({payload:{detail:"Destination server configuration operation finished",severity:this.SUCCESS,summary:"Destination Server Configuration"}}))),"Failed"===e.status&&(t.push(KD()),t.push(tZ()),t.push((0,FC.wN)({payload:{detail:"Destination server configuration operation failed",severity:this.ERROR,summary:"Destination Server Configuration"}}))),t}),(0,NC.K)(e=>(0,nl.of)(JD(e))))))),this.updateTraceCommonConfiguration$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(YD),(0,dC.zg)(e=>this.trsService.updateTraceCommonConfiguration({body:e.payload}).pipe((0,A.U)(e=>zD({operationId:e,operationType:eU.UPDATE_DESTINATION_SERVER_CONFIGURATION})),(0,NC.K)(e=>(0,nl.of)(JD(e)))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(ls.xj),Pe.LFG(OS.z),Pe.LFG(ck.m))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var nU=n(22126);let iU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,nU.F,IR,ER.N,XR,Sh.cc,el.q4,xn.UX,wP.ae,oC.sQ.forFeature([RR,LR,tU]),g.Aw.forFeature(ZD,jD),g.Aw.forFeature(KZ,iR),g.Aw.forFeature("traceCells",kR),g.Aw.forFeature("traceActivation",xD),g.Aw.forFeature(nZ,oZ),wn.QGW,jm.U$,wn.EJq,wn.YI8,xi.kW,wn.Fme,fC.oS]]}),e})();var oU=(()=>(function(e){e.TraceConfigurationError="[Trace Configuration] Trace Configuration Error",e.GetCPlaneRouteConfiguration="[User] [Trace Configuration] Get static route configuration for C-Plane tracing server",e.SetCPlaneRouteConfiguration="[User] [Trace Configuration] Set static route configuration for C-Plane tracing server",e.UpdateCPlaneRouteConfiguration="[User] [Trace Configuration] Update static route configuration for C-Plane tracing server",e.SubscribeCplaneUpdateStatusWatch="[Trace Configuration] Subscribe update static route configuration operation for C-Plane tracing server",e.UnsubscribeCplaneUpdateStatusWatch="[Trace Configuration] Unsubscribe update static route configuration operation for C-Plane tracing server"}(oU||(oU={})),oU))();const sU=(0,g.PH)(oU.SubscribeCplaneUpdateStatusWatch,(0,g.Ky)()),aU=(0,g.PH)(oU.UnsubscribeCplaneUpdateStatusWatch),rU=(0,g.PH)(oU.TraceConfigurationError,(0,g.Ky)()),lU=(0,g.PH)(oU.GetCPlaneRouteConfiguration),cU=(0,g.PH)(oU.SetCPlaneRouteConfiguration,(0,g.Ky)()),dU=(0,g.PH)(oU.UpdateCPlaneRouteConfiguration,(0,g.Ky)()),uU="cplaneConfiguration",pU=(0,g.Lq)({cplaneTracingStaticRouteConfiguration:{}},(0,g.on)(cU,(e,t)=>Object.assign(Object.assign({},e),{cplaneTracingStaticRouteConfiguration:{destinationIpAddr:t.destinationIpAddr,destinationIpPrefixLength:t.destinationIpPrefixLength,gatewayIpAddr:t.gatewayIpAddr}})));function gU(e,t){return pU(e,t)}const hU=(0,g.ZF)(uU),mU=(0,g.P1)(hU,e=>e.cplaneTracingStaticRouteConfiguration);var fU=(()=>(function(e){e.SetOperationId="[Tracing] Set operation id",e.SetOperationStatus="[Tracing] Set operation status",e.ResetOperation="[Tracing] Reset operation"}(fU||(fU={})),fU))();const bU=(0,g.PH)(fU.SetOperationId,(0,g.Ky)()),CU=(0,g.PH)(fU.SetOperationStatus,(0,g.Ky)()),vU=(0,g.PH)(fU.ResetOperation,(0,g.Ky)()),yU="TracingOperations";var SU=(()=>(function(e){e.UpdateCPlaneRouteConfiguration="UPDATE_CPLANE_ROUTE_CONFIGURATION"}(SU||(SU={})),SU))();const PU=(0,g.Lq)({[SU.UpdateCPlaneRouteConfiguration]:{id:"",operationStatus:null}},(0,g.on)(bU,(e,{operationType:t,operationId:n})=>Object.assign(Object.assign({},e),{[t]:{id:n,operationStatus:null}})),(0,g.on)(CU,(e,{operationType:t,operationStatus:n})=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{operationStatus:n})})),(0,g.on)(vU,(e,{operationType:t})=>Object.assign(Object.assign({},e),{[t]:{id:"",operationStatus:null}})));function OU(e,t){return PU(e,t)}const xU=(0,g.ZF)(yU),wU=(0,g.P1)(xU,e=>function(e,t){const n=e[t];return!(0,_.isNull)(n.operationStatus)&&"Ongoing"===n.operationStatus.status}(e,SU.UpdateCPlaneRouteConfiguration));function AU(e,t){1&e&&(Pe.TgZ(0,"div",3),Pe._UZ(1,"i",4),Pe._uU(2,' In order to run internal Control Plane traces, MNL/MNLENT/TRBLCADM.actInternalTrace parameter needs to be set to "true" '),Pe.qZA())}function _U(e,t){1&e&&Pe._uU(0,"Control Plane Route Configuration")}function TU(e,t){1&e&&Pe._UZ(0,"i",29)}function IU(e,t){1&e&&(Pe.TgZ(0,"div",32),Pe._uU(1," IP address is required "),Pe.qZA())}function EU(e,t){1&e&&(Pe.TgZ(0,"div",32),Pe._uU(1," IP address is not valid or it doesn't correspond to chosen IP version "),Pe.qZA())}function MU(e,t){if(1&e&&(Pe.TgZ(0,"div",30),Pe.YNc(1,IU,2,0,"div",31),Pe.YNc(2,EU,2,0,"div",31),Pe.qZA()),2&e){const e=Pe.oxw(3);let t,n;Pe.xp6(1),Pe.Q6J("ngIf",null==(t=e.traceCplaneConfigurationForm.get("destinationIpAddr"))||null==t.errors?null:t.errors.required),Pe.xp6(1),Pe.Q6J("ngIf",null==(n=e.traceCplaneConfigurationForm.get("destinationIpAddr"))||null==n.errors?null:n.errors.pattern)}}function kU(e,t){1&e&&Pe._UZ(0,"i",29)}function NU(e,t){1&e&&(Pe.TgZ(0,"div",32),Pe._uU(1," IP address is required "),Pe.qZA())}function LU(e,t){1&e&&(Pe.TgZ(0,"div",32),Pe._uU(1," IP address is not valid or it doesn't correspond to chosen IP version "),Pe.qZA())}function DU(e,t){if(1&e&&(Pe.TgZ(0,"div",30),Pe.YNc(1,NU,2,0,"div",31),Pe.YNc(2,LU,2,0,"div",31),Pe.qZA()),2&e){const e=Pe.oxw(3);let t,n;Pe.xp6(1),Pe.Q6J("ngIf",null==(t=e.traceCplaneConfigurationForm.get("gatewayIpAddr"))||null==t.errors?null:t.errors.required),Pe.xp6(1),Pe.Q6J("ngIf",null==(n=e.traceCplaneConfigurationForm.get("gatewayIpAddr"))||null==n.errors?null:n.errors.pattern)}}function ZU(e,t){1&e&&Pe._UZ(0,"i",29)}function RU(e,t){if(1&e&&(Pe.TgZ(0,"div",32),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw(4);Pe.xp6(1),Pe.hij(" ",e.prefixSubMaskLabel," value is required ")}}function UU(e,t){if(1&e&&(Pe.TgZ(0,"div",32),Pe._uU(1),Pe.qZA()),2&e){const e=Pe.oxw(4);Pe.xp6(1),Pe.AsE(" ",e.prefixSubMaskLabel," value is out of range [1...",e.ipPrefixMaxLength,"] ")}}function FU(e,t){if(1&e&&(Pe.TgZ(0,"div",30),Pe.YNc(1,RU,2,1,"div",31),Pe.YNc(2,UU,2,2,"div",31),Pe.qZA()),2&e){const e=Pe.oxw(3);let t,n;Pe.xp6(1),Pe.Q6J("ngIf",null==(t=e.traceCplaneConfigurationForm.get("destinationIpPrefixLength"))||null==t.errors?null:t.errors.required),Pe.xp6(1),Pe.Q6J("ngIf",!(null!=(n=e.traceCplaneConfigurationForm.get("destinationIpPrefixLength"))&&null!=n.errors&&n.errors.required))}}function jU(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"ui-webem-button",33),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(3).saveCPlaneConfiguration()}),Pe.ALo(1,"async"),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw(3);Pe.Q6J("model",e.model)("disabled",n.isCplaneConfigDisabledUntilNewData||n.traceCplaneConfigurationForm.pristine||n.traceCplaneConfigurationForm.invalid||Pe.lcZ(1,2,n.updateCPlaneOperationInProgress$))}}const $U=function(e){return{model:e}};function qU(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"form",10),Pe.TgZ(1,"div",11),Pe.TgZ(2,"div",12),Pe.TgZ(3,"label",13),Pe._uU(4,"IP version:"),Pe.qZA(),Pe.TgZ(5,"div",14),Pe.TgZ(6,"p-radioButton",15),Pe.NdJ("onClick",function(){return Pe.CHM(e),Pe.oxw(2).onIpVersionChange()}),Pe.qZA(),Pe.TgZ(7,"p-radioButton",16),Pe.NdJ("onClick",function(){return Pe.CHM(e),Pe.oxw(2).onIpVersionChange()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"div",12),Pe.TgZ(9,"label",17),Pe._uU(10,"Destination IP address:"),Pe.qZA(),Pe.TgZ(11,"div",18),Pe.YNc(12,TU,1,0,"i",19),Pe.TgZ(13,"input",20),Pe.NdJ("keyup",function(){return Pe.CHM(e),Pe.oxw(2).onIPChange()}),Pe.qZA(),Pe.YNc(14,MU,3,2,"div",21),Pe.qZA(),Pe.qZA(),Pe.TgZ(15,"div",12),Pe.TgZ(16,"label",22),Pe._uU(17,"Gateway IP address:"),Pe.qZA(),Pe.TgZ(18,"div",18),Pe.YNc(19,kU,1,0,"i",19),Pe.TgZ(20,"input",23),Pe.NdJ("keyup",function(){return Pe.CHM(e),Pe.oxw(2).onIPChange()}),Pe.qZA(),Pe.YNc(21,DU,3,2,"div",21),Pe.qZA(),Pe.qZA(),Pe.TgZ(22,"div",12),Pe.TgZ(23,"label",24),Pe._uU(24),Pe.qZA(),Pe.TgZ(25,"div",18),Pe.YNc(26,ZU,1,0,"i",19),Pe.TgZ(27,"input",25),Pe.NdJ("keyup",function(){return Pe.CHM(e),Pe.oxw(2).onIPChange()}),Pe.qZA(),Pe.YNc(28,FU,3,2,"div",21),Pe.qZA(),Pe.qZA(),Pe.TgZ(29,"div",26,27),Pe.YNc(31,jU,2,4,"ui-webem-button",28),Pe.ALo(32,"async"),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw(2);let t,n,i,o,s,a;Pe.Q6J("formGroup",e.traceCplaneConfigurationForm),Pe.xp6(12),Pe.Q6J("ngIf",e.traceCplaneConfigurationForm.dirty&&(null==(t=e.traceCplaneConfigurationForm.get("destinationIpAddr"))?null:t.errors)),Pe.xp6(1),Pe.MGl("placeholder","",e.ipProtocol," address"),Pe.xp6(1),Pe.Q6J("ngIf",e.traceCplaneConfigurationForm.dirty&&(null==(n=e.traceCplaneConfigurationForm.get("destinationIpAddr"))?null:n.errors)),Pe.xp6(5),Pe.Q6J("ngIf",e.traceCplaneConfigurationForm.dirty&&(null==(i=e.traceCplaneConfigurationForm.get("gatewayIpAddr"))?null:i.errors)),Pe.xp6(1),Pe.MGl("placeholder","",e.ipProtocol," address"),Pe.xp6(1),Pe.Q6J("ngIf",e.traceCplaneConfigurationForm.dirty&&(null==(o=e.traceCplaneConfigurationForm.get("gatewayIpAddr"))?null:o.errors)),Pe.xp6(3),Pe.hij("Destination ",e.prefixSubMaskLabel,":"),Pe.xp6(2),Pe.Q6J("ngIf",e.traceCplaneConfigurationForm.dirty&&(null==(s=e.traceCplaneConfigurationForm.get("destinationIpPrefixLength"))?null:s.errors)),Pe.xp6(1),Pe.MGl("placeholder","[1...",e.ipPrefixMaxLength,"]"),Pe.xp6(1),Pe.Q6J("ngIf",e.traceCplaneConfigurationForm.dirty&&(null==(a=e.traceCplaneConfigurationForm.get("destinationIpPrefixLength"))?null:a.errors)),Pe.xp6(3),Pe.Q6J("ngIf",Pe.VKq(14,$U,Pe.lcZ(32,12,e.cPlaneUpdateButtonModel$)))}}function BU(e,t){1&e&&(Pe.TgZ(0,"div",5),Pe.TgZ(1,"div",6),Pe.TgZ(2,"ui-webem-panel",7),Pe.YNc(3,_U,1,0,"ng-template",null,8,Pe.W1O),Pe.YNc(5,qU,33,16,"ng-template",null,9,Pe.W1O),Pe.qZA(),Pe.qZA(),Pe.qZA())}const GU=[{path:"",component:(()=>{class e{constructor(e,t){this.store=e,this.formBuilder=t,this.ngUnsubscribe=new Ae.xQ,this.ipProtocol=hZ,this.isCplaneConfigDisabledUntilNewData=!1,this.icons={ONGOING:"mdi mdi-loading mdi-spin",SUCCESS_ICON:"success-icon mdi mdi-check-circle",ERROR_ICON:"alert-icon mdi mdi-alert"}}ngOnInit(){this.store.dispatch(vD()),this.store.dispatch(lU()),this.traceCplaneConfigurationForm=this.buildTraceCplaneConfigurationForm(),this.getTraceConfigurationCplaneSubscription(),this.updateCPlaneOperationInProgress$=this.store.pipe((0,g.Ys)(wU),(0,ys.x)(_.isEqual),(0,Ps.d)()),this.cPlaneUpdateButtonModel$=this.updateCPlaneOperationInProgress$.pipe((0,A.U)(e=>this.createActionButtonModel(e,"Save"))),this.isTraceEnabled$=this.store.pipe((0,g.Ys)(AD),(0,ys.x)(_.isEqual)),this.store.pipe((0,g.Ys)(mU),(0,ys.x)(_.isEqual),(0,Ie.b)(()=>this.store.dispatch(lU()))),this.store.pipe((0,_e.R)(this.ngUnsubscribe),(0,g.Ys)(hU),(0,ys.x)(_.isEqual)).subscribe(e=>{this.cplaneConfiguration=e});const e=this.traceCplaneConfigurationForm.controls.ipVersion;e.valueChanges.subscribe(t=>{e.setValue(t,{emitEvent:!1})})}ngOnDestroy(){this.store.dispatch(yD()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onIpVersionChange(){let e,t;this.traceCplaneConfigurationForm.markAsPristine(),this.store.pipe((0,g.Ys)(mU)).subscribe(e=>{var t;const n=(null===(t=e.destinationIpAddr)||void 0===t?void 0:t.match(mZ))?fZ:hZ;this.traceCplaneConfigurationForm.value.ipVersion===n?this.traceCplaneConfigurationForm.patchValue(e):(this.traceCplaneConfigurationForm.controls.destinationIpAddr.reset(),this.traceCplaneConfigurationForm.controls.gatewayIpAddr.reset(),this.traceCplaneConfigurationForm.controls.destinationIpPrefixLength.reset())}),this.traceCplaneConfigurationForm.value.ipVersion===hZ?(this.ipProtocol=hZ,this.prefixSubMaskLabel="subnet mask length",this.ipPrefixMaxLength=32,e=gZ,t=NZ):(this.prefixSubMaskLabel="IP prefix length",this.ipProtocol=fZ,this.ipPrefixMaxLength=128,e=mZ,t="^[0-9]$|^[1-9][0-9]$|^[1-9][0-9][0-9]$"),this.traceCplaneConfigurationForm.controls.destinationIpAddr.setValidators(xn.kI.compose([xn.kI.required,xn.kI.pattern(e)])),this.traceCplaneConfigurationForm.controls.gatewayIpAddr.setValidators(xn.kI.compose([xn.kI.required,xn.kI.pattern(e)])),this.traceCplaneConfigurationForm.controls.destinationIpPrefixLength.setValidators(xn.kI.compose([xn.kI.required,xn.kI.pattern(t),xn.kI.min(1),xn.kI.max(this.ipPrefixMaxLength)])),this.traceCplaneConfigurationForm.controls.destinationIpAddr.updateValueAndValidity(),this.traceCplaneConfigurationForm.controls.gatewayIpAddr.updateValueAndValidity(),this.traceCplaneConfigurationForm.controls.destinationIpPrefixLength.updateValueAndValidity()}getTraceConfigurationCplaneSubscription(){return this.store.pipe((0,_e.R)(this.ngUnsubscribe),(0,g.Ys)(mU)).subscribe(e=>{var t;if(this.traceCplaneConfigurationForm.pristine){this.traceCplaneConfigurationForm.patchValue(e);let n=hZ;(null===(t=e.destinationIpAddr)||void 0===t?void 0:t.match(mZ))&&(n=fZ),this.traceCplaneConfigurationForm.controls.ipVersion.setValue(n)}this.onIpVersionChange(),this.isCplaneConfigDisabledUntilNewData=!1})}saveCPlaneConfiguration(){this.isCplaneConfigDisabledUntilNewData=!0;const e=this.traceCplaneConfigurationForm.value,t={destinationIpAddr:e.destinationIpAddr,destinationIpPrefixLength:parseInt(e.destinationIpPrefixLength,0),gatewayIpAddr:e.gatewayIpAddr};this.traceCplaneConfigurationForm.markAsPristine(),this.store.dispatch(dU(t))}updateTracePageState(e){e&&this.store.dispatch(lU())}buildTraceCplaneConfigurationForm(){return this.formBuilder.group({ipVersion:[hZ,[]],destinationIpAddr:["",xn.kI.compose([xn.kI.required])],destinationIpPrefixLength:["",xn.kI.compose([xn.kI.pattern(NZ),xn.kI.required])],gatewayIpAddr:["",xn.kI.compose([xn.kI.required])]})}onIPChange(){const e=Object.assign({},this.traceCplaneConfigurationForm.value),{cplaneTracingStaticRouteConfiguration:t}=this.cplaneConfiguration,{destinationIpPrefixLength:n}=t,i=Object.assign(Object.assign({},t),{destinationIpPrefixLength:`${n}`});(0,_.isEmpty)(e)||(0,_.isEmpty)(e.ipVersion)||delete e.ipVersion,this.isCplaneConfigDisabledUntilNewData=!((0,_.isEmpty)(t)||!(0,_.isEqual)(e,i))}createActionButtonModel(e,t){const n={label:t,length:wn.Wmq.Short,theme:wn.bnJ.Accent};return e&&(n.icon=this.icons.ONGOING,n.label=""),n}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(xn.qu))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["oam-diagnostic-cplane-home"]],decls:5,vars:4,consts:[[1,"p-grid","cplane-tab"],["class","p-col-12 traces-disabled",4,"ngIf","ngIfElse"],["tracesAreEnabled",""],[1,"p-col-12","traces-disabled"],[1,"information-icon","mdi","mdi-information"],[1,"p-col-12"],[1,"p-grid"],["id","cplane-trace",1,"p-col-3"],["header",""],["content",""],[3,"formGroup"],[1,"trace-collector"],["fxLayout","column",1,"input-row","ui-inputgroup"],[1,"ip-label","form-color-label"],["fxLayout","column",1,"radio-button-wrapper"],["name","ipVersion","label","IPv4","value","IPv4","formControlName","ipVersion",1,"trace-radio-button",3,"onClick"],["name","ipVersion","label","IPv6","value","IPv6","formControlName","ipVersion",1,"trace-radio-button",3,"onClick"],[1,"destinationIpAddr","form-color-label"],[1,"input-container"],["class","mdi mdi-alert red-alert icon-class","aria-hidden","true",4,"ngIf"],["pInputText","","autocomplete","off","name","destinationIpAddr","formControlName","destinationIpAddr",1,"ui-inputtext","destination-address",3,"placeholder","keyup"],["class","errors",4,"ngIf"],[1,"gatewayIpAddr","form-color-label"],["pInputText","","name","gatewayIpAddr","autocomplete","off","formControlName","gatewayIpAddr",1,"ui-inputtext","destination-address",3,"placeholder","keyup"],[1,"destinationIpPrefixLength","form-color-label"],["pInputText","","name","destinationIpPrefixLength","autocomplete","off","formControlName","destinationIpPrefixLength",1,"ui-inputtext","destination-address",3,"placeholder","keyup"],[1,"input-row"],["buttonContainer",""],["id","webem-CPlane-submit-button",3,"model","disabled","action",4,"ngIf"],["aria-hidden","true",1,"mdi","mdi-alert","red-alert","icon-class"],[1,"errors"],["class","fade show",4,"ngIf"],[1,"fade","show"],["id","webem-CPlane-submit-button",3,"model","disabled","action"]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"div",0),Pe.YNc(1,AU,3,0,"div",1),Pe.ALo(2,"async"),Pe.YNc(3,BU,7,0,"ng-template",null,2,Pe.W1O),Pe.qZA()),2&e){const e=Pe.MAs(4);Pe.xp6(1),Pe.Q6J("ngIf",!Pe.lcZ(2,2,t.isTraceEnabled$))("ngIfElse",e)}},directives:[m.O5,nM.y,xn._Y,xn.JL,xn.sg,wP.xw,Sh.EU,xn.JJ,xn.u,xn.Fj,Ui.r],pipes:[m.Ov],styles:["[_nghost-%COMP%]{display:block;height:100%;background-color:#edf2f5;padding:10px 15px 20px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:70px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{margin-bottom:0;position:relative}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:30px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .trace-radio-button[_ngcontent-%COMP%]     .ui-radiobutton-label{margin-left:8px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .traces-disabled[_ngcontent-%COMP%]{font-size:14px;color:#98a2ae;display:flex;align-items:center;white-space:pre-wrap;margin-top:-.5rem}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .traces-disabled[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .traces-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .traces-disabled[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#98a2ae}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .traces-disabled[_ngcontent-%COMP%]   .information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .errors[_ngcontent-%COMP%]{color:#da1914;margin-top:2px;position:absolute;font-size:10px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .red-alert[_ngcontent-%COMP%]{color:#da1914;position:absolute;top:2px;font-size:16px;right:8px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   .options-label[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:9px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   .radio-button-wrapper[_ngcontent-%COMP%]{margin-top:0}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   .ip-label[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:9px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #uplane-traces[_ngcontent-%COMP%]   .radio-button-wrapper[_ngcontent-%COMP%]   p-radioButton[_ngcontent-%COMP%]:not(:last-of-type){margin-right:40px;padding-bottom:5px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #cplane-trace[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:26px;width:100%}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #cplane-trace[_ngcontent-%COMP%]   .radio-button-wrapper[_ngcontent-%COMP%]   p-radioButton[_ngcontent-%COMP%]:not(:last-of-type){margin-right:40px;padding-bottom:5px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #cplane-trace[_ngcontent-%COMP%]   .destinationIpAddr[_ngcontent-%COMP%], [_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #cplane-trace[_ngcontent-%COMP%]   .destinationIpPrefixLength[_ngcontent-%COMP%], [_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #cplane-trace[_ngcontent-%COMP%]   .gatewayIpAddr[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:6px;width:100%}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #webem-CPlane-submit-button[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:30px;margin-right:10px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #webem-CPlane-submit-button[_ngcontent-%COMP%]     button{min-width:70px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .ui-inputgroup-addon[_ngcontent-%COMP%], [_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:28px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   #rx[_ngcontent-%COMP%], [_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   #tx[_ngcontent-%COMP%]{border-radius:0 3px 3px 0;width:100%}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .txrx-error[_ngcontent-%COMP%]{color:#da1914;margin-top:2px;position:absolute;font-size:10px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .icon-class[_ngcontent-%COMP%]{position:absolute;top:2px;font-size:16px;right:8px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .txrx-inputs[_ngcontent-%COMP%], [_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]:not(:first-child){width:100%;margin-bottom:0}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon[_ngcontent-%COMP%]{background-color:#fff;padding:0;line-height:25px;font-size:11px}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .span-addon-disabled[_ngcontent-%COMP%]{color:#bec8d2;border-color:#bec8d2;background-color:#fff}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .span-addon-dirty[_ngcontent-%COMP%]{border-color:#98a2ae}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .default-bitmap-notification[_ngcontent-%COMP%]{margin:15px 0;color:#98a2ae;min-width:100%;display:flex;align-items:center}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .default-bitmap-notification[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline;font-size:14px;vertical-align:sub}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .default-bitmap-notification[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#98a2ae}[_nghost-%COMP%]   .cplane-tab[_ngcontent-%COMP%]   #filters-configuration[_ngcontent-%COMP%]   .default-bitmap-notification[_ngcontent-%COMP%]   .information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}.form-color-label[_ngcontent-%COMP%]{color:#4d5766;font-size:11px;text-transform:capitalize}"]}),e})(),outlet:"content_center"},{path:"",component:_R.r,outlet:"content_menu"}];let VU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(GU)],f.Bz]}),e})(),YU=(()=>{class e{constructor(e,t,n,i,o,s,a){this.store=e,this.actions$=t,this.tracingService=n,this.certMgtService=i,this.asyncOperationsService=o,this.traceConfigurationService=s,this.pollingService=a,this.ERROR="error",this.SUCCESS="success",this.INFO="info",this.NOTIFICATION_SUMMARY="Control Plane route configuration update",this.traceConfigurationError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rU),(0,A.U)(e=>(0,FC.wN)({payload:{detail:e.error.statusText||e.error,severity:this.ERROR,summary:"Diagnostic Tracing -  Operation failed"}})))),this.getCPlaneRouteConfiguration$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(lU),(0,dC.zg)(()=>this.traceConfigurationService.getCPlaneTracingStaticRoute().pipe((0,A.U)(e=>cU(e)),(0,NC.K)(e=>(0,nl.of)(rU({error:e}))))))),this.updateCPlaneRouteConfiguration$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(dU),(0,dC.zg)(e=>this.traceConfigurationService.updateCPlaneTracingStaticRoute({body:{destinationIpAddr:e.destinationIpAddr,destinationIpPrefixLength:e.destinationIpPrefixLength,gatewayIpAddr:e.gatewayIpAddr}}).pipe((0,dC.zg)(e=>[bU({operationType:SU.UpdateCPlaneRouteConfiguration,operationId:e}),sU({operationType:SU.UpdateCPlaneRouteConfiguration,operationId:e})]),(0,NC.K)(e=>(0,nl.of)(rU(e))))))),this.subscribeCPlaneUpdateStatusWatch$=(0,oC.GW)(()=>({scheduler:e=gk.z5}={})=>this.actions$.pipe((0,oC.l4)(sU),(0,dC.zg)(t=>this.watchOperationStatus(t,this.unsubscribeCPlaneUpdateStatusWatch$,e)))),this.unsubscribeCPlaneUpdateStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(aU)),{dispatch:!1})}watchOperationStatus(e,t,n){return this.pollingService.getTimer(n).pipe((0,_e.R)(t),(0,Ss.b)(()=>this.asyncOperationsService.operationsIdGet({id:e.operationId}).pipe((0,NC.K)(e=>(0,nl.of)({reason:"Server connection not working",status:"Ongoing"})))),(0,dC.zg)(t=>this.manageOperationStatus(t,e.operationType,e.operationId)))}manageOperationStatus(e,t,n){const i=`Control Plane route configuration ${e.reason&&"Ongoing"===e.status?"failed to ":""}update`,o=aU(),s=[...e.reason&&"Ongoing"===e.status?[]:[CU({operationType:t,operationStatus:e})]],a={detail:`${i} operation (id: ${n}): ${e.status}`,summary:this.NOTIFICATION_SUMMARY,severity:"Ongoing"===e.status&&!e.reason&&this.INFO||"Successful"===e.status&&this.SUCCESS||this.ERROR};return"Successful"!==e.status&&"Failed"!==e.status||(s.push(o),e.reason&&(a.detail=`${i} fail reason: ${e.reason}`)),"Successful"===e.status&&s.push(lU()),s.push((0,FC.wN)({payload:a})),s}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(NR.a),Pe.LFG(lk.G),Pe.LFG(OS.z),Pe.LFG(ck.m),Pe.LFG(DC.x))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),JU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,VU,wn.QGW,wP.ae,Sh.cc,xn.UX,wn.EJq,iU,g.Aw.forFeature(uU,gU),g.Aw.forFeature(yU,OU),oC.sQ.forFeature([YU]),nU.F]]}),e})();var HU=(()=>(function(e){e.GetExternalEntities="[IP Connectivity] Get external entities for scope input",e.GetExternalAddresses="[IP Connectivity] Get external interfaces for Source Address input",e.SetExternalEntities="[IP Connectivity] Set external entities for scope input",e.SetExternalAddresses="[IP Connectivity] Set external interfaces for Source Address input",e.IPConnectivityError="[IP Connectivity] IP Connectivity Error",e.TriggerIPConnectivityTests="[IP Connectivity] Trigger IP Connectivity Tests",e.StartIPConnectivityTest="[IP Connectivity] Start IP Connectivity Test",e.UnsubscribeIPConnectivityTestStatusWatch="[IP Connectivity] Unsubscribe Start IP Connectivity Test Status Watch",e.AddIPConnectivityTestResult="[IP Connectivity] Add IP Connectivity Test Result",e.ClearAllIPConnectivityTestResults="[IP Connectivity] Clear All IP Connectivity Test Result",e.SetAllWaitingIPConnectivityTests="[IP Connectivity] Set All IP Connectivity Test Waiting",e.CancelIPConnectivityTests="[IP Connectivity] Set All IP Connectivity Test cancel",e.EnableIPConnectivityTests="[IP Connectivity] Set Start IP Connectivity Test enable"}(HU||(HU={})),HU))();const WU=(0,g.PH)(HU.GetExternalEntities,(0,g.Ky)()),QU=(0,g.PH)(HU.GetExternalAddresses),zU=(0,g.PH)(HU.SetExternalEntities,(0,g.Ky)()),KU=(0,g.PH)(HU.SetExternalAddresses,(0,g.Ky)()),XU=(0,g.PH)(HU.IPConnectivityError,(0,g.Ky)()),eF=(0,g.PH)(HU.TriggerIPConnectivityTests,(0,g.Ky)()),tF=(0,g.PH)(HU.StartIPConnectivityTest,(0,g.Ky)()),nF=(0,g.PH)(HU.UnsubscribeIPConnectivityTestStatusWatch),iF=(0,g.PH)(HU.AddIPConnectivityTestResult,(0,g.Ky)()),oF=(0,g.PH)(HU.ClearAllIPConnectivityTestResults),sF=(0,g.PH)(HU.CancelIPConnectivityTests),aF=(0,g.PH)(HU.EnableIPConnectivityTests),rF=(0,g.PH)(HU.SetAllWaitingIPConnectivityTests,(0,g.Ky)()),lF=(0,g.Lq)({scopeIPs:[],sourceAddressIPs:[]},(0,g.on)(zU,(e,{payload:t})=>Object.assign(Object.assign({},e),{scopeIPs:t})),(0,g.on)(KU,(e,{payload:t})=>Object.assign(Object.assign({},e),{sourceAddressIPs:t})));function cF(e,t){return lF(e,t)}const dF=(0,g.ZF)("ipConnectivity"),uF=(0,g.P1)(dF,e=>e.sourceAddressIPs),pF=(0,g.P1)(dF,e=>e.scopeIPs),gF=(0,I.H)({selectId:e=>`${e.setup.sourceIp}-${e.setup.destinationIp}`}),hF=gF.getInitialState(),mF=(0,g.Lq)(hF,(0,g.on)(rF,(e,{testsSetup:t})=>{const n=t.map(e=>({setup:e,status:{status:"Waiting"}}));return gF.upsertMany(n,e)}),(0,g.on)(iF,(e,{setup:t,status:n})=>gF.upsertOne({setup:t,status:n},e)),(0,g.on)(oF,e=>gF.removeAll(e)),(0,g.on)(sF,e=>{const t=[];for(const n in e.entities){const i=e.entities[n];i&&"Waiting"===i.status.status&&t.push({setup:i.setup,status:{status:"Cancelled"}})}return gF.upsertMany(t,e)}));function fF(e,t){return mF(e,t)}const{selectAll:bF}=gF.getSelectors(),CF=(0,g.ZF)("ipConnectivityTestStatus"),vF=(0,g.P1)(CF,bF);var yF=(()=>(function(e){e.IpTestSelect="[IP Connectivity] IP Test select from table",e.IpTestDeselect="[IP Connectivity] IP Test deselect from table"}(yF||(yF={})),yF))();const SF=(0,g.PH)(yF.IpTestSelect,(0,g.Ky)()),PF=(0,g.PH)(yF.IpTestDeselect);function OF(e,t){1&e&&(Pe.TgZ(0,"tr"),Pe.TgZ(1,"td",8),Pe._uU(2,"No data"),Pe.qZA(),Pe.qZA())}function xF(e,t){if(1&e&&(Pe.TgZ(0,"tr"),Pe.TgZ(1,"th",4),Pe._uU(2,"Host"),Pe.qZA(),Pe.TgZ(3,"th",5),Pe._uU(4,"Address"),Pe.qZA(),Pe.TgZ(5,"th",6),Pe._uU(6,"Test result"),Pe.qZA(),Pe.qZA(),Pe.YNc(7,OF,3,0,"tr",7)),2&e){const e=Pe.oxw();Pe.xp6(7),Pe.Q6J("ngIf",e.isTableEmpty())}}function wF(e,t){1&e&&Pe._UZ(0,"i",18)}function AF(e,t){1&e&&Pe._UZ(0,"i",19)}function _F(e,t){1&e&&Pe._UZ(0,"i",20)}function TF(e,t){1&e&&Pe._UZ(0,"i",21)}function IF(e,t){1&e&&Pe._UZ(0,"i",22)}function EF(e,t){1&e&&(Pe.TgZ(0,"span"),Pe._UZ(1,"i",23),Pe.qZA())}function MF(e,t){if(1&e&&(Pe.TgZ(0,"tr",9),Pe.TgZ(1,"td",4),Pe._uU(2),Pe.qZA(),Pe.TgZ(3,"td",5),Pe._uU(4),Pe.qZA(),Pe.TgZ(5,"td",6),Pe.TgZ(6,"span",10),Pe.TgZ(7,"span",11),Pe.YNc(8,wF,1,0,"i",12),Pe.YNc(9,AF,1,0,"i",13),Pe.YNc(10,_F,1,0,"i",14),Pe.YNc(11,TF,1,0,"i",15),Pe.YNc(12,IF,1,0,"i",16),Pe.TgZ(13,"span",17),Pe._uU(14),Pe.qZA(),Pe.qZA(),Pe.YNc(15,EF,2,0,"span",7),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e){const e=t.$implicit;Pe.Q6J("pSelectableRow",e)("id",e.id),Pe.xp6(2),Pe.Oqu(e.host),Pe.xp6(2),Pe.Oqu(e.address),Pe.xp6(2),Pe.Q6J("tooltipDisabled",!e.reason&&"Failed"!==e.testResult)("pTooltip","Operation failed: "+e.reason)("tooltipPosition","left")("tooltipStyleClass","test-result-reason-tooltip"),Pe.xp6(1),Pe.Q6J("ngSwitch",e.testResult),Pe.xp6(1),Pe.Q6J("ngSwitchCase","Successful"),Pe.xp6(1),Pe.Q6J("ngSwitchCase","Failed"),Pe.xp6(1),Pe.Q6J("ngSwitchCase","Ongoing"),Pe.xp6(1),Pe.Q6J("ngSwitchCase","Waiting"),Pe.xp6(1),Pe.Q6J("ngSwitchCase","Cancelled"),Pe.xp6(2),Pe.hij(" ",e.testResult," "),Pe.xp6(1),Pe.Q6J("ngIf",e.reason&&"Failed"===e.testResult)}}let kF=(()=>{class e{constructor(){this.selectTest=new Pe.vpe,this.clearSelection=new Pe.vpe}ngOnInit(){}isTableEmpty(){return!this.ipConnectivityTableData||!this.ipConnectivityTableData.length}getTestId(e){const t=e.host.split(" ");return`${t[t.length-1]}-${e.address}`}onSelectIpTest({data:e}){this.selectTest.emit(e.id)}onRowUnselect(){this.clearSelection.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-ip-connectivity-table"]],inputs:{ipConnectivityTableData:"ipConnectivityTableData"},outputs:{selectTest:"selectTest",clearSelection:"clearSelection"},decls:4,vars:2,consts:[["selectionMode","single","dataKey","id",1,"ip-connectivity-table",3,"value","autoLayout","onRowSelect","onRowUnselect"],["table",""],["pTemplate","header"],["pTemplate","body"],[1,"host"],[1,"address"],[1,"test-result"],[4,"ngIf"],["colspan","3",1,"empty-table"],[3,"pSelectableRow","id"],[1,"test-result-details",3,"tooltipDisabled","pTooltip","tooltipPosition","tooltipStyleClass"],[1,"test-result-status",3,"ngSwitch"],["class","mdi mdi-16px mdi-check status-available-icon",4,"ngSwitchCase"],["class","mdi mdi-16px mdi-alert red-alert",4,"ngSwitchCase"],["class","mdi mdi-16px mdi-loading mdi-spin status-warning-icon",4,"ngSwitchCase"],["class","mdi mdi-16px mdi-progress-clock",4,"ngSwitchCase"],["class","mdi mdi-16px mdi-close red-close",4,"ngSwitchCase"],[1,"test-result-status-result"],[1,"mdi","mdi-16px","mdi-check","status-available-icon"],[1,"mdi","mdi-16px","mdi-alert","red-alert"],[1,"mdi","mdi-16px","mdi-loading","mdi-spin","status-warning-icon"],[1,"mdi","mdi-16px","mdi-progress-clock"],[1,"mdi","mdi-16px","mdi-close","red-close"],[1,"mdi","mdi-16px","mdi-information-outline"]],template:function(e,t){1&e&&(Pe.TgZ(0,"p-table",0,1),Pe.NdJ("onRowSelect",function(e){return t.onSelectIpTest(e)})("onRowUnselect",function(){return t.onRowUnselect()}),Pe.YNc(2,xF,8,1,"ng-template",2),Pe.YNc(3,MF,16,16,"ng-template",3),Pe.qZA()),2&e&&Pe.Q6J("value",t.ipConnectivityTableData)("autoLayout",!0)},directives:[jm.iA,Ri.jx,m.O5,jm.Ei,Nr.u,m.RF,m.n9],styles:['[_nghost-%COMP%]     .p-datatable-resizable>.p-datatable-wrapper{overflow-x:hidden}[_nghost-%COMP%]     .ip-connectivity-table .host{width:220px}[_nghost-%COMP%]     .ip-connectivity-table .address{width:265px;position:static}[_nghost-%COMP%]     .ip-connectivity-table .test-result{width:140px}[_nghost-%COMP%]     .empty-table{background-color:#fff;height:28px;padding-left:8px}[_nghost-%COMP%]     .p-datatable{box-shadow:0 2px 3px rgba(0,0,0,.1);border-radius:3px;border-bottom:none}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{padding-left:8px;padding-right:8px;border-bottom:1px solid #4d5766;font-weight:700;background-color:#fff;color:#1b1b1b;white-space:nowrap;border-top:none}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody{font-size:11px}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody .ui-centered-content{text-align:center}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr:focus{outline:none}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{height:26px;white-space:nowrap;text-overflow:ellipsis;padding-left:8px;padding-right:8px}[_nghost-%COMP%]     .p-datatable .status-available-icon{color:#3daa00;font-size:12px}[_nghost-%COMP%]     .p-datatable .red-close{color:red;font-size:12px}.test-result-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.test-result-status[_ngcontent-%COMP%]{display:flex;align-items:center}.test-result-status-result[_ngcontent-%COMP%]{margin-left:5px}  .p-tooltip.p-tooltip-left.p-component.test-result-reason-tooltip{margin-left:-10px;max-width:16em}  .p-tooltip.p-tooltip-left.p-component.test-result-reason-tooltip .p-tooltip-text{background-color:#fff;color:#000;line-height:1.3em;padding:8px;border:1px solid #da1914}  .p-tooltip.p-tooltip-left.p-component.test-result-reason-tooltip .p-tooltip-text:after{content:"";position:absolute;top:50%;margin-top:-.45em;right:-2px;width:10px;height:10px;background:#fff;border-right:1px solid #da1914;border-bottom:1px solid #da1914;-moz-transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}'],changeDetection:0}),e})();function NF(e,t){if(1&e&&(Pe.TgZ(0,"span",31),Pe._uU(1),Pe.qZA()),2&e){const e=t.$implicit;Pe.s9C("title",e.label),Pe.xp6(1),Pe.Oqu(e.label)}}function LF(e,t){if(1&e&&(Pe.TgZ(0,"span",31),Pe._uU(1),Pe.qZA()),2&e){const e=t.$implicit;Pe.s9C("title",e.label),Pe.xp6(1),Pe.Oqu(e.label)}}function DF(e,t){1&e&&Pe._UZ(0,"i",32)}function ZF(e,t){1&e&&(Pe.TgZ(0,"div",35),Pe._uU(1," IP address is required "),Pe.qZA())}function RF(e,t){1&e&&(Pe.TgZ(0,"div",35),Pe._uU(1," IP address is not valid or it doesn't correspond to chosen IP version "),Pe.qZA())}function UF(e,t){if(1&e&&(Pe.TgZ(0,"div",33),Pe.YNc(1,ZF,2,0,"div",34),Pe.YNc(2,RF,2,0,"div",34),Pe.qZA()),2&e){const e=Pe.oxw();let t,n;Pe.xp6(1),Pe.Q6J("ngIf",null==(t=e.ipConnectivityConfigurationForm.get("IpAddress"))||null==t.errors?null:t.errors.required),Pe.xp6(1),Pe.Q6J("ngIf",null==(n=e.ipConnectivityConfigurationForm.get("IpAddress"))||null==n.errors?null:n.errors.pattern)}}function FF(e,t){1&e&&Pe._UZ(0,"i",32)}function jF(e,t){1&e&&(Pe.TgZ(0,"div",35),Pe._uU(1," Payload size is required "),Pe.qZA())}function $F(e,t){1&e&&(Pe.TgZ(0,"div",35),Pe._uU(1," Value out of range [16...65507] "),Pe.qZA())}function qF(e,t){if(1&e&&(Pe.TgZ(0,"div",33),Pe.YNc(1,jF,2,0,"div",34),Pe.YNc(2,$F,2,0,"div",34),Pe.qZA()),2&e){const e=Pe.oxw();let t,n;Pe.xp6(1),Pe.Q6J("ngIf",null==(t=e.ipConnectivityConfigurationForm.get("payload"))||null==t.errors?null:t.errors.required),Pe.xp6(1),Pe.Q6J("ngIf",!(null!=(n=e.ipConnectivityConfigurationForm.get("payload"))&&null!=n.errors&&n.errors.required))}}function BF(e,t){1&e&&Pe._UZ(0,"i",32)}function GF(e,t){1&e&&(Pe.TgZ(0,"div",35),Pe._uU(1," DSCP value is required "),Pe.qZA())}function VF(e,t){1&e&&(Pe.TgZ(0,"div",35),Pe._uU(1," Value out of range [0...63] "),Pe.qZA())}function YF(e,t){if(1&e&&(Pe.TgZ(0,"div",33),Pe.YNc(1,GF,2,0,"div",34),Pe.YNc(2,VF,2,0,"div",34),Pe.qZA()),2&e){const e=Pe.oxw();let t,n;Pe.xp6(1),Pe.Q6J("ngIf",null==(t=e.ipConnectivityConfigurationForm.get("dscp"))||null==t.errors?null:t.errors.required),Pe.xp6(1),Pe.Q6J("ngIf",!(null!=(n=e.ipConnectivityConfigurationForm.get("dscp"))&&null!=n.errors&&n.errors.required))}}function JF(e,t){1&e&&(Pe.TgZ(0,"div",36),Pe._UZ(1,"i",37),Pe.TgZ(2,"span"),Pe._uU(3,"Table will be populated after IP connectivity test is launched"),Pe.qZA(),Pe.qZA())}const HF=function(e){return{"label-disabled":e}},WF="1",QF="remote";let zF=(()=>{class e{constructor(e,t){this.store=e,this.formBuilder=t,this.inputValueType=wn.RYy,this.startButtonModel={theme:wn.bnJ.Accent,label:"Start"},this.stopButtonModel={theme:wn.bnJ.Default,label:"Cancel"},this.ButtonOptions={minWidth:"70px"},this.dscpLimits={min:0,max:63},this.payloadLimits={min:16,max:65507},this.scopeOptions=[],this.sourceAddressOptions=[],this.IPv4="ipv4Address",this.IPv6="ipv6Address"}ngOnInit(){this.ipConnectivityConfigurationForm=this.buildipConnectivityConfigurationForm(),this.store.dispatch(QU()),this.externalAddressesSubscription=this.getExternalAddressesSubscription(),this.externalEntitiesSubscription=this.getExternalEntitiesSubscription(),this.triggerFormValidation(),this.ipConnectivityTestsSubscription=this.store.select(vF).subscribe(e=>{this.ipConnectivityTests=e.map(e=>({id:`${e.setup.sourceIp}-${e.setup.destinationIp}`,host:`${e.setup.name} ${e.setup.sourceIp}`,address:e.setup.destinationIp,testResult:e.status.status,reason:e.status.reason||""}))});const e=this.ipConnectivityConfigurationForm.controls.ipVersion;e.valueChanges.subscribe(t=>{e.setValue(t,{emitEvent:!1})})}startIPConnectivity(){const e=this.computeTestSetup();this.store.dispatch(aF()),this.store.dispatch(eF({payload:e}))}cancelTests(){this.store.dispatch(sF())}isCancelButtonEnabled(){return this.ipConnectivityTests.some(e=>"Waiting"===e.testResult)}isStartButtonDisabled(){return 0===this.sourceAddressOptions.length||this.ipConnectivityTests.some(e=>"Waiting"===e.testResult||"Ongoing"===e.testResult)}computeTestSetup(){const e=this.ipConnectivityConfigurationForm.value.sourceAddress,t=e.lastIndexOf(" "),n={dscp:parseInt(this.ipConnectivityConfigurationForm.value.dscp,10),payloadSize:parseInt(this.ipConnectivityConfigurationForm.value.payload,10),name:"default"===e?e:e.slice(0,t),sourceIp:"default"===e?"":e.slice(t+1)};return this.addTestSetupsBasedOnScopeSelection(n)}addTestSetupsBasedOnScopeSelection(e){const t=[],n=this.ipConnectivityConfigurationForm.value.addressForm;switch(n){case this.scopeOptions[0].value:this.scopeOptions.forEach(n=>{if("0"!==n.value&&"1"!==n.value){const i=n.value.slice(n.value.lastIndexOf(" ")+1);t.push(Object.assign(Object.assign({},e),{destinationIp:i}))}});break;case this.scopeOptions[1].value:{const n=this.ipConnectivityConfigurationForm.value.IpAddress;t.push(Object.assign(Object.assign({},e),{destinationIp:n}));break}default:{const i=n.slice(n.lastIndexOf(" ")+1);t.push(Object.assign(Object.assign({},e),{destinationIp:i}))}}return t}initializeAddressLists(){this.ipv4AddresList=[{value:"default",label:"Default interface"}],this.ipv6AddresList=[{value:"default",label:"Default interface"}]}initializeEntitiesLists(){this.ipv4EntitiesList=[{label:"All configured IPv4 hosts",value:"0"},{label:"User defined address",value:WF}],this.ipv6EntitiesList=[{label:"All configured IPv6 hosts",value:"0"},{label:"User defined address",value:WF}]}getExternalAddressesSubscription(){return this.store.pipe((0,g.Ys)(uF)).subscribe(e=>{this.initializeAddressLists(),this.updateAddressList(e,this.ipv4AddresList,this.IPv4),this.updateAddressList(e,this.ipv6AddresList,this.IPv6),this.setIPv4IPv6AddressList()})}getExternalEntitiesSubscription(){return this.store.pipe((0,g.Ys)(pF)).subscribe(e=>{this.initializeEntitiesLists(),this.updateAddressList(e,this.ipv4EntitiesList,this.IPv4),this.updateAddressList(e,this.ipv6EntitiesList,this.IPv6),this.setIPv4IPv6EntitiesList()})}updateAddressList(e,t,n){e.forEach(e=>{e[n]&&t.push({value:`${e.name} ${e[n]}`,label:`${e.name} ${e[n]}`,dataType:QF})})}isRemoteDataEmpty(){return!this.scopeOptions.some(e=>e.dataType===QF)}setIPv4IPv6EntitiesList(){this.scopeOptions="ipv4"===this.ipConnectivityConfigurationForm.value.ipVersion?this.ipv4EntitiesList:this.ipv6EntitiesList,this.isRemoteDataEmpty()&&T().remove(this.scopeOptions,e=>"0"===e.value),this.ipConnectivityConfigurationForm.controls.addressForm.setValue(this.scopeOptions&&this.scopeOptions[0]?this.scopeOptions[0].value:"0")}setIPv4IPv6AddressList(){this.sourceAddressOptions="ipv4"===this.ipConnectivityConfigurationForm.value.ipVersion?this.ipv4AddresList:this.ipv6AddresList,this.ipConnectivityConfigurationForm.controls.sourceAddress.setValue(this.sourceAddressOptions[0]?this.sourceAddressOptions[0].value:"")}ngOnDestroy(){this.externalAddressesSubscription.unsubscribe(),this.externalEntitiesSubscription.unsubscribe(),this.ipConnectivityTestsSubscription.unsubscribe()}isUserDefinedAddressSelected(){return this.ipConnectivityConfigurationForm.value.addressForm===WF}clearInformationOnIpVersionChange(){const e=this.ipConnectivityConfigurationForm.controls.IpAddress,t=this.ipConnectivityConfigurationForm.controls.payload;this.ipConnectivityConfigurationForm.controls.dscp.setValue(10),t.setValue(16),e.setValue(""),this.triggerFormValidation()}triggerFormValidation(){const e=this.ipConnectivityConfigurationForm.controls.IpAddress;"ipv4"===this.ipConnectivityConfigurationForm.value.ipVersion?(this.setIPv4IPv6EntitiesList(),this.setIPv4IPv6AddressList(),this.internetProtocolType=gZ):(this.setIPv4IPv6EntitiesList(),this.setIPv4IPv6AddressList(),this.internetProtocolType=mZ),e.setValidators(xn.kI.compose([xn.kI.pattern(this.internetProtocolType)])),e.updateValueAndValidity(),this.getExternalEntities(this.ipConnectivityConfigurationForm.value.sourceAddress)}buildipConnectivityConfigurationForm(){return this.formBuilder.group({ipVersion:["ipv4",[]],addressForm:["0"],sourceAddress:[""],IpAddress:["",xn.kI.compose([xn.kI.required,xn.kI.pattern(this.internetProtocolType)])],dscp:["10",xn.kI.compose([xn.kI.required,xn.kI.pattern(NZ),xn.kI.min(this.dscpLimits.min),xn.kI.max(this.dscpLimits.max)])],payload:["16",xn.kI.compose([xn.kI.required,xn.kI.pattern("^[0-9]$|^[1-9][0-9]$|^[1-9][0-9][0-9]$|^[1-9][0-9][0-9][0-9]$|^[1-9][0-9][0-9][0-9][0-9]$"),xn.kI.min(this.payloadLimits.min),xn.kI.max(this.payloadLimits.max)])]},{validators:this.ipAddressRequiredWhenScope()})}clearAddressInput(){this.ipConnectivityConfigurationForm.controls.IpAddress.reset("")}selectedTest(e){this.store.dispatch(SF({uuid:e}))}clearSelection(){this.store.dispatch(PF())}ipAddressRequiredWhenScope(){return e=>{const t=e.get("addressForm").value,n=e.get("IpAddress");if(t&&t===WF&&!n.value)n.setErrors(Object.assign(Object.assign({},n.errors),{required:!0}));else{let e=Object.assign({},n.errors);e.required&&delete e.required,(0,_.isEmpty)(e)&&(e=null),n.setErrors(e)}return null}}getExternalEntities(e){const t=e.indexOf(" ");this.store.dispatch(WU({payload:-1===t?e:e.slice(0,t)}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(xn.qu))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["diagnostic-ip-connectivity"]],decls:46,vars:23,consts:[[1,"p-grid","ipConnectivity"],[3,"formGroup"],["fxLayout","column",1,"input-row","ui-inputgroup"],[1,"options-label","form-color-label"],["fxLayout","row",1,"radio-button-wrapper"],["name","ipVersion","label","IPv4","value","ipv4","id","IPv4","formControlName","ipVersion","labelStyleClass","radioButtonLabel",3,"onClick"],["name","ipVersion","label","IPv6","id","IPv6","value","ipv6","formControlName","ipVersion","labelStyleClass","radioButtonLabel",1,"radio-button",3,"onClick"],[1,"label-source-address"],[1,"form-color-label"],["name","sourceAddress","formControlName","sourceAddress","appendTo","body",1,"source-address",3,"options","onChange"],["pTemplate","item"],[1,"label","form-color-label"],["appendTo","body","name","addressForm","formControlName","addressForm",1,"scope",3,"options","onChange"],[3,"ngClass"],["fxLayout","row","fxLayoutAlign","space-between start"],[1,"address"],["class","mdi mdi-alert red-alert icon-class","aria-hidden","true",4,"ngIf"],["pInputText","","name","IpAddress","autocomplete","off","formControlName","IpAddress",1,"address-input","ui-inputtext"],["class","errors",4,"ngIf"],[1,"label-payload-dscp"],[1,"firstLabel","form-color-label"],[1,"secondLabel","form-color-label"],["fxLayout","row","fxLayoutAlign","space-between start",1,"payload-dscp"],[1,"payload-size"],["pInputText","","placeholder","[16...65507] bytes","name","payload","autocomplete","off","formControlName","payload",1,"payload-size-input",3,"type"],[1,"input-container","dscp"],["pInputText","","placeholder","[0...63]","name","dscp","autocomplete","off","formControlName","dscp",1,"dscp-input",3,"type"],[1,"button",3,"model","disabled","options","action"],["id","ongoing-streams",1,"ip-connectivity-table","p-col-12"],[3,"ipConnectivityTableData","selectTest","clearSelection"],["class","no-ip-connectivity-info",4,"ngIf"],[3,"title"],["aria-hidden","true",1,"mdi","mdi-alert","red-alert","icon-class"],[1,"errors"],["class","fade show",4,"ngIf"],[1,"fade","show"],[1,"no-ip-connectivity-info"],[1,"information-icon","mdi","mdi-information"]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"form",1),Pe.TgZ(2,"div",2),Pe.TgZ(3,"label",3),Pe._uU(4,"IP version:"),Pe.qZA(),Pe.TgZ(5,"div",4),Pe.TgZ(6,"p-radioButton",5),Pe.NdJ("onClick",function(){return t.clearInformationOnIpVersionChange()}),Pe.qZA(),Pe.TgZ(7,"p-radioButton",6),Pe.NdJ("onClick",function(){return t.clearInformationOnIpVersionChange()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"div",7),Pe.TgZ(9,"label",8),Pe._uU(10," Source address: "),Pe.qZA(),Pe.qZA(),Pe.TgZ(11,"p-dropdown",9),Pe.NdJ("onChange",function(e){return t.getExternalEntities(e.value)}),Pe.YNc(12,NF,2,2,"ng-template",10),Pe.qZA(),Pe.TgZ(13,"div",11),Pe.TgZ(14,"label"),Pe._uU(15," Scope: "),Pe.qZA(),Pe.qZA(),Pe.TgZ(16,"p-dropdown",12),Pe.NdJ("onChange",function(){return t.clearAddressInput()}),Pe.YNc(17,LF,2,2,"ng-template",10),Pe.qZA(),Pe.TgZ(18,"div",11),Pe.TgZ(19,"label",13),Pe._uU(20," Address: "),Pe.qZA(),Pe.qZA(),Pe.TgZ(21,"div",14),Pe.TgZ(22,"div",15),Pe.YNc(23,DF,1,0,"i",16),Pe._UZ(24,"input",17),Pe.YNc(25,UF,3,2,"div",18),Pe.qZA(),Pe.qZA(),Pe.TgZ(26,"div",19),Pe.TgZ(27,"span",20),Pe._uU(28,"Payload size:"),Pe.qZA(),Pe.TgZ(29,"span",21),Pe._uU(30,"DSCP:"),Pe.qZA(),Pe.qZA(),Pe.TgZ(31,"div"),Pe.TgZ(32,"div",22),Pe.TgZ(33,"div",23),Pe.YNc(34,FF,1,0,"i",16),Pe._UZ(35,"input",24),Pe.YNc(36,qF,3,2,"div",18),Pe.qZA(),Pe.TgZ(37,"div",25),Pe.YNc(38,BF,1,0,"i",16),Pe._UZ(39,"input",26),Pe.YNc(40,YF,3,2,"div",18),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(41,"ui-webem-button",27),Pe.NdJ("action",function(){return t.startIPConnectivity()}),Pe.qZA(),Pe.TgZ(42,"div",28),Pe.TgZ(43,"ui-webem-ip-connectivity-table",29),Pe.NdJ("selectTest",function(e){return t.selectedTest(e)})("clearSelection",function(){return t.clearSelection()}),Pe.qZA(),Pe.qZA(),Pe.YNc(44,JF,4,0,"div",30),Pe.TgZ(45,"ui-webem-button",27),Pe.NdJ("action",function(){return t.cancelTests()}),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e){let e,n,i,o,s,a;Pe.xp6(1),Pe.Q6J("formGroup",t.ipConnectivityConfigurationForm),Pe.xp6(10),Pe.Q6J("options",t.sourceAddressOptions),Pe.xp6(5),Pe.Q6J("options",t.scopeOptions),Pe.xp6(3),Pe.Q6J("ngClass",Pe.VKq(21,HF,!t.isUserDefinedAddressSelected())),Pe.xp6(4),Pe.Q6J("ngIf",(null==(e=t.ipConnectivityConfigurationForm.get("IpAddress"))?null:e.dirty)&&(null==(e=t.ipConnectivityConfigurationForm.get("IpAddress"))?null:e.errors)),Pe.xp6(1),Pe.uIk("disabled",t.isUserDefinedAddressSelected()?null:""),Pe.xp6(1),Pe.Q6J("ngIf",(null==(n=t.ipConnectivityConfigurationForm.get("IpAddress"))?null:n.dirty)&&(null==(n=t.ipConnectivityConfigurationForm.get("IpAddress"))?null:n.errors)),Pe.xp6(9),Pe.Q6J("ngIf",(null==(i=t.ipConnectivityConfigurationForm.get("payload"))?null:i.dirty)&&(null==(i=t.ipConnectivityConfigurationForm.get("payload"))?null:i.errors)),Pe.xp6(1),Pe.Q6J("type",t.inputValueType.NUMBER),Pe.xp6(1),Pe.Q6J("ngIf",(null==(o=t.ipConnectivityConfigurationForm.get("payload"))?null:o.dirty)&&(null==(o=t.ipConnectivityConfigurationForm.get("payload"))?null:o.errors)),Pe.xp6(2),Pe.Q6J("ngIf",(null==(s=t.ipConnectivityConfigurationForm.get("dscp"))?null:s.dirty)&&(null==(s=t.ipConnectivityConfigurationForm.get("dscp"))?null:s.errors)),Pe.xp6(1),Pe.Q6J("type",t.inputValueType.NUMBER),Pe.xp6(1),Pe.Q6J("ngIf",(null==(a=t.ipConnectivityConfigurationForm.get("dscp"))?null:a.dirty)&&(null==(a=t.ipConnectivityConfigurationForm.get("dscp"))?null:a.errors)),Pe.xp6(1),Pe.Q6J("model",t.startButtonModel)("disabled",t.ipConnectivityConfigurationForm.invalid||t.isStartButtonDisabled())("options",t.ButtonOptions),Pe.xp6(2),Pe.Q6J("ipConnectivityTableData",t.ipConnectivityTests),Pe.xp6(1),Pe.Q6J("ngIf",!t.ipConnectivityTests.length),Pe.xp6(1),Pe.Q6J("model",t.stopButtonModel)("disabled",!t.isCancelButtonEnabled())("options",t.ButtonOptions)}},directives:[xn._Y,xn.JL,xn.sg,wP.xw,Sh.EU,xn.JJ,xn.u,xi.Lt,Ri.jx,Pr.oO,m.mk,wP.Wh,m.O5,xn.Fj,Ei.o,Ui.r,kF],styles:["[_nghost-%COMP%]    {display:block;width:calc(100% - 10px)}[_nghost-%COMP%]     .fade.show{width:100%}[_nghost-%COMP%]     .label-disabled{color:#98a2ae}[_nghost-%COMP%]     .payload-dscp{width:304px}[_nghost-%COMP%]     .ipConnectivity{margin-left:15px;margin-top:17px}[_nghost-%COMP%]     .ipConnectivity .icon-class{position:absolute;top:2px;font-size:16px;right:8px}[_nghost-%COMP%]     .ipConnectivity .radio-button{margin-left:40px}[_nghost-%COMP%]     .ipConnectivity .errors{margin-top:1px;font-size:10px;position:absolute;color:#da1914}[_nghost-%COMP%]     .ipConnectivity .red-alert{color:#da1914}[_nghost-%COMP%]     .ipConnectivity .label{margin-top:16px;font-size:11px;padding:0;color:#1b1b1b}[_nghost-%COMP%]     .ipConnectivity .options-label{font-size:11px}[_nghost-%COMP%]     .ipConnectivity .label-source-address{font-size:11px;margin-top:16px;padding:0;color:#1b1b1b}[_nghost-%COMP%]     .ipConnectivity .label-payload-dscp{font-size:11px;margin-top:20px;padding:0;color:#1b1b1b}[_nghost-%COMP%]     .ipConnectivity .scope{display:block;width:304px;padding:0;margin-bottom:17px;height:26px}[_nghost-%COMP%]     .ipConnectivity .address{padding:0;position:relative}[_nghost-%COMP%]     .ipConnectivity .address input{padding-right:30px}[_nghost-%COMP%]     .ipConnectivity .address .address-input{width:304px;height:26px}[_nghost-%COMP%]     .ipConnectivity .source-address{display:block;width:304px;padding:0;border-color:#98a2ae;margin-bottom:15px;height:26px}[_nghost-%COMP%]     .ipConnectivity .payload-size{position:relative;padding-right:0;width:140px;height:38px;margin-right:20px;margin-top:5px}[_nghost-%COMP%]     .ipConnectivity .payload-size .payload-size-input{width:140px;height:26px}[_nghost-%COMP%]     .ipConnectivity .dscp{position:relative;margin-left:4px;padding-left:0;margin-top:5px}[_nghost-%COMP%]     .ipConnectivity .dscp .dscp-input{width:140px;height:26px}[_nghost-%COMP%]     .ipConnectivity .firstLabel{margin-right:101px;font-size:11px}[_nghost-%COMP%]     .ipConnectivity .secondLabel{font-size:11px}[_nghost-%COMP%]     .stopButton{padding:0;margin-top:30px;margin-left:15px;width:72px;height:24px}[_nghost-%COMP%]     .button{margin-top:20px;margin-right:8px}[_nghost-%COMP%]     .radioButtonLabel{font-size:11px}[_nghost-%COMP%]     .ip-connectivity-table{margin-top:30px;padding:0}[_nghost-%COMP%]     .no-ip-connectivity-info{display:flex;align-items:center;color:#98a2ae;margin-top:10px}[_nghost-%COMP%]     .no-ip-connectivity-info .information-icon{font-size:26px;margin-right:2px}[_nghost-%COMP%]     .no-ip-connectivity-info span{font-size:14px;color:#98a2ae}[_nghost-%COMP%]     input{padding-right:33px}.form-color-label[_ngcontent-%COMP%]{color:#4d5766}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),e})();var KF=n(43190);const XF=(0,g.Lq)({selectedIpTestId:""},(0,g.on)(SF,(e,{uuid:t})=>({selectedIpTestId:t})),(0,g.on)(PF,e=>({selectedIpTestId:""})));function ej(e,t){return XF(e,t)}const tj=(0,g.ZF)("ipConnectivitySelection"),nj=(0,g.P1)(tj,e=>e.selectedIpTestId);function ij(e,t){if(1&e&&Pe._UZ(0,"ui-webem-details-section",5),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("data",e.info)}}function oj(e,t){if(1&e&&Pe._UZ(0,"ui-webem-details-section-text",6),2&e){const e=Pe.oxw().ngIf;Pe.Q6J("text",e.pingReplyList)("withBorders",!0)}}function sj(e,t){if(1&e&&(Pe.ynx(0),Pe.YNc(1,ij,1,1,"ui-webem-details-section",3),Pe.YNc(2,oj,1,2,"ui-webem-details-section-text",4),Pe.BQk()),2&e){const e=t.ngIf;Pe.xp6(1),Pe.Q6J("ngIf",e.info.length),Pe.xp6(1),Pe.Q6J("ngIf",e.pingReplyList.length)}}function aj(e,t){1&e&&(Pe.TgZ(0,"div",7),Pe._UZ(1,"i",8),Pe.TgZ(2,"span",7),Pe._uU(3," No Ip Connectivity test selected "),Pe.qZA(),Pe.qZA())}const rj=[{path:"",component:zF,outlet:"content_center"},{path:"",component:_R.r,outlet:"content_menu"},{path:"",component:(()=>{class e{constructor(e){this.store=e,this.EMPTY_VALUE="-",this.DEFAULT_VALUE="default",this.infoKeys=["avgRoundTripTime","maxRoundTripTime","minRoundTripTime","sentPackets","receivedPackets","lostPackets","lostPacketsPercent"],this.infoKeyToDescription={avgRoundTripTime:"Average round trip time",maxRoundTripTime:"Maximum round trip time",minRoundTripTime:"Minimum round trip time",sentPackets:"Sent packets",receivedPackets:"Received packets",lostPackets:"Lost packets",lostPacketsPercent:"Lost packets percent"},this.infoKeyUnits={avgRoundTripTime:"ms",maxRoundTripTime:"ms",minRoundTripTime:"ms",lostPacketsPercent:"%"}}ngOnInit(){this.selection$=this.store.pipe((0,g.Ys)(nj),(0,KF.w)(e=>{return this.store.pipe((0,g.Ys)((t=e,(0,g.P1)(CF,e=>e.entities[t]))));var t}),(0,A.U)(e=>e?this.computeDetailsObject(e):null))}computeDetailsObject(e){const t={info:[],pingReplyList:[]};t.info.push({key:e.setup.name===this.DEFAULT_VALUE?this.DEFAULT_VALUE:e.setup.sourceIp,value:e.status.status});const n=e.status.result;return!n||(0,_.isEmpty)(n)?this.infoKeys.forEach(e=>{t.info.push({key:this.infoKeyToDescription[e],value:this.EMPTY_VALUE})}):(this.infoKeys.forEach(e=>{t.info.push({key:this.infoKeyToDescription[e],value:this.computeValues(n,e)})}),n.pingReplyList.forEach(e=>{t.pingReplyList.push(`Size = ${e.size} bytes, Round trip time = ${e.rtt} ms, Time to live = ${e.ttl}`)})),t}computeValues(e,t){return this.infoKeyUnits[t]?`${e[t]}${this.infoKeyUnits[t]}`:e[t]}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["diagnostic-ip-connectivity-description-content"]],decls:5,vars:4,consts:[["icon","mdi mdi-information","header","Details"],[4,"ngIf","ngIfElse"],["noSelectedTest",""],["class","ip-test-info",3,"data",4,"ngIf"],["title","Ping reply list:","id","ping-reply-list",3,"text","withBorders",4,"ngIf"],[1,"ip-test-info",3,"data"],["title","Ping reply list:","id","ping-reply-list",3,"text","withBorders"],[1,"no-selection"],[1,"information-icon","mdi","mdi-information"]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"webem-details-panel",0),Pe.YNc(1,sj,3,2,"ng-container",1),Pe.ALo(2,"async"),Pe.qZA(),Pe.YNc(3,aj,4,0,"ng-template",null,2,Pe.W1O)),2&e){const e=Pe.MAs(4);Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,2,t.selection$))("ngIfElse",e)}},directives:[$p.V,m.O5,B_.h,ag],pipes:[m.Ov],styles:['@charset "UTF-8";[_nghost-%COMP%]     .no-selection{display:flex!important;align-items:center}[_nghost-%COMP%]     .no-selection .information-icon{font-size:26px;margin-right:6px;color:#98a2ae}[_nghost-%COMP%]     .no-selection .information-icon.mdi:before{font-size:unset}[_nghost-%COMP%]     .ip-test-info .details-section .section-data{border-top-color:transparent}[_nghost-%COMP%]     .ip-test-info .details-section .section-data ui-webem-detail-data-row:first-of-type .section-row{padding-bottom:3px}[_nghost-%COMP%]     .ip-test-info .details-section .section-data ui-webem-detail-data-row:first-of-type .section-row .section-row-key{font-size:13px;font-weight:700}[_nghost-%COMP%]     .ip-test-info .details-section .section-data ui-webem-detail-data-row:first-of-type .section-row .section-row-value{overflow:hidden;white-space:nowrap}[_nghost-%COMP%]     .ip-test-info .details-section .section-data ui-webem-detail-data-row:first-of-type .section-row .section-row-value span{visibility:hidden}[_nghost-%COMP%]     .ip-test-info .details-section .section-data ui-webem-detail-data-row:first-of-type .section-row .section-row-value span:before{visibility:visible;font-family:Material Design Icons,sans-serif;font-size:16px;line-height:1;text-align:center;display:inline-block}[_nghost-%COMP%]     .ip-test-info .details-section .section-data ui-webem-detail-data-row:first-of-type .section-row .section-row-value[title=Failed] span:before{content:"\uf026";color:red}[_nghost-%COMP%]     .ip-test-info .details-section .section-data ui-webem-detail-data-row:first-of-type .section-row .section-row-value[title=Cancelled] span:before{content:"\uf156";color:red}[_nghost-%COMP%]     .ip-test-info .details-section .section-data ui-webem-detail-data-row:first-of-type .section-row .section-row-value[title=Waiting] span:before{content:"\uf995"}[_nghost-%COMP%]     .ip-test-info .details-section .section-data ui-webem-detail-data-row:first-of-type .section-row .section-row-value[title=Ongoing] span:before{content:"\uf771";animation:mdi-spin 2s linear infinite}[_nghost-%COMP%]     .ip-test-info .details-section .section-data ui-webem-detail-data-row:first-of-type .section-row .section-row-value[title=Successful] span:before{content:"\uf12c";color:green}']}),e})(),outlet:"content_right"}];let lj=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[f.Bz.forChild(rj)],f.Bz]}),e})(),cj=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,jm.U$,Nr.z]]}),e})();var dj=n(65766),uj=n(29923);let pj=(()=>{class e{constructor(e,t,n,i){this.store=e,this.actions$=t,this.diagnosticService=n,this.pollingService=i,this.ERROR="error",this.UnsubscribeIPConnectivityTestStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(HU.UnsubscribeIPConnectivityTestStatusWatch)),{dispatch:!1}),this.CanRetrieveIPConnectivityTests$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(HU.EnableIPConnectivityTests,HU.CancelIPConnectivityTests),(0,A.U)(e=>e.type===HU.EnableIPConnectivityTests),(0,Ps.d)()),{dispatch:!1}),this.IPConnectivityError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(HU.IPConnectivityError),(0,A.U)(({error:e})=>(0,FC.wN)({payload:{detail:e.statusText||e,severity:this.ERROR,summary:"IP Connectivity - Operation failed"}})))),this.GetExternalInterfaces$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(HU.GetExternalAddresses),(0,dC.zg)(()=>this.diagnosticService.interfacesExternalGet().pipe((0,A.U)(e=>KU({payload:e})),(0,NC.K)(e=>(0,nl.of)(XU({error:e}))))))),this.GetExternalEntities$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(HU.GetExternalEntities),(0,dC.zg)(({payload:e})=>this.diagnosticService.getListOfExternalEntities({id:e}).pipe((0,A.U)(e=>zU({payload:e})),(0,NC.K)(e=>(0,nl.of)(XU({error:e}))))))),this.TriggerIPConnectivityTests$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(HU.TriggerIPConnectivityTests),(0,A.U)(({payload:e})=>e),(0,dC.zg)(e=>[oF(),rF({testsSetup:e}),tF({payload:e})]))),this.StartIPConnectivityTest$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(HU.StartIPConnectivityTest),(0,A.U)(({payload:e})=>e),(0,Ss.b)(t=>(0,uj.z)(t.map(t=>(0,nl.of)(!0).pipe((0,Bo.M)(this.CanRetrieveIPConnectivityTests$),(0,vs.h)(([,e])=>e),(0,Ss.b)(()=>this.triggerPingTest(t,e)))))),(0,dj.u)()))}triggerPingTest(e,t){return this.diagnosticService.startIpConnectivityTest({body:e}).pipe((0,dC.zg)(n=>this.pollingService.getTimer(t).pipe((0,_e.R)(this.UnsubscribeIPConnectivityTestStatusWatch$),(0,dC.zg)(()=>this.diagnosticService.getIpConnectivityTestStatus({id:n})),(0,ys.x)(_.isEqual),(0,dC.zg)(t=>{const n=[];return"Ongoing"!==t.status&&n.push(nF()),n.push(iF({status:t,setup:e})),n}))),(0,NC.K)(t=>{const n={status:"Failed",reason:t.statusText||t};return(0,nl.of)(XU({error:t}),iF({status:n,setup:e}))}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(dk.y),Pe.LFG(ls.xj))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),gj=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[],imports:[[lj,nU.F,xn.UX,Mt.hJ,h.o9,Ei.j,xi.kW,wn.QGW,m.ez,wn.EJq,Sh.cc,cj,g.Aw.forFeature("ipConnectivity",cF),g.Aw.forFeature("ipConnectivityTestStatus",fF),g.Aw.forFeature("ipConnectivitySelection",ej),oC.sQ.forFeature([pj]),cC.E,wn.g3K]]}),e})();var hj=(()=>(function(e){e.AddPmtuDiscoveryTestResult="[PMTU Discovery] Add PMTU Discovery Test Result",e.RemovePmtuDiscoveryTestResult="[PMTU Discovery] Remove PMTU Discovery Test Result",e.TriggerPmtuDiscoveryTest="[PMTU Discovery] Trigger PMTU Discovery Test",e.StartPmtuDiscoveryTest="[PMTU Discovery] Start PMTU Discovery Test",e.UnsubscribePmtuDiscoveryTestStatusWatch="[PMTU Discovery] Unsubscribe PMTU Discovery Test Status Watch"}(hj||(hj={})),hj))();const mj=(0,g.PH)(hj.UnsubscribePmtuDiscoveryTestStatusWatch),fj=(0,g.PH)(hj.AddPmtuDiscoveryTestResult,(0,g.Ky)()),bj=(0,g.PH)(hj.RemovePmtuDiscoveryTestResult),Cj=(0,g.PH)(hj.TriggerPmtuDiscoveryTest,(0,g.Ky)()),vj=(0,g.PH)(hj.StartPmtuDiscoveryTest,(0,g.Ky)());var yj=(()=>(function(e){e.GetExternalAddresses="[PMTU Discovery] Get external interfaces for Source Address input",e.SetExternalAddresses="[PMTU Discovery] Set external interfaces for Source Address input",e.PMTUDiscoveryError="[PMTU Discovery] PMTU Discovery Error"}(yj||(yj={})),yj))();const Sj=(0,g.PH)(yj.GetExternalAddresses),Pj=(0,g.PH)(yj.SetExternalAddresses,(0,g.Ky)()),Oj=(0,g.PH)(yj.PMTUDiscoveryError,(0,g.Ky)()),xj=(0,g.Lq)({sourceAddressIPs:[]},(0,g.on)(Pj,(e,{payload:t})=>({sourceAddressIPs:t})));function wj(e,t){return xj(e,t)}const Aj=(0,g.ZF)("pmtuDiscovery"),_j=(0,g.P1)(Aj,e=>e.sourceAddressIPs),Tj={pmtuDiscoveryStatus:{}},Ij=(0,g.Lq)(Tj,(0,g.on)(fj,(e,{payload:t})=>({pmtuDiscoveryStatus:t})),(0,g.on)(bj,e=>Tj));function Ej(e,t){return Ij(e,t)}const Mj=(0,g.ZF)("startPmtuDiscoveryTest"),kj=(0,g.P1)(Mj,e=>e.pmtuDiscoveryStatus);let Nj=(()=>{class e{transform(e){return e?e+" octets":tg.v}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"formatPmtuResult",type:e,pure:!0}),e})();function Lj(e,t){1&e&&Pe._UZ(0,"i",11)}function Dj(e,t){1&e&&Pe._UZ(0,"i",12)}function Zj(e,t){1&e&&Pe._UZ(0,"i",13)}function Rj(e,t){if(1&e&&(Pe.ynx(0),Pe.TgZ(1,"tr"),Pe.TgZ(2,"td",4),Pe._uU(3,"Status"),Pe.qZA(),Pe.TgZ(4,"td"),Pe.TgZ(5,"span",5),Pe.YNc(6,Lj,1,0,"i",6),Pe.YNc(7,Dj,1,0,"i",7),Pe.YNc(8,Zj,1,0,"i",8),Pe.qZA(),Pe.TgZ(9,"span"),Pe._uU(10),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(11,"tr"),Pe.TgZ(12,"td",9),Pe._uU(13,"Path maximum transmission unit"),Pe.qZA(),Pe.TgZ(14,"td"),Pe._uU(15),Pe.ALo(16,"formatPmtuResult"),Pe.qZA(),Pe.qZA(),Pe.TgZ(17,"tr"),Pe.TgZ(18,"td",10),Pe._uU(19,"Local maximum transmission unit"),Pe.qZA(),Pe.TgZ(20,"td"),Pe._uU(21),Pe.ALo(22,"formatPmtuResult"),Pe.qZA(),Pe.qZA(),Pe.BQk()),2&e){const e=Pe.oxw().$implicit;Pe.xp6(5),Pe.Q6J("ngSwitch",e.status),Pe.xp6(1),Pe.Q6J("ngSwitchCase","Successful"),Pe.xp6(1),Pe.Q6J("ngSwitchCase","Failed"),Pe.xp6(1),Pe.Q6J("ngSwitchCase","Ongoing"),Pe.xp6(2),Pe.Oqu(e.status),Pe.xp6(5),Pe.Oqu(Pe.lcZ(16,7,null==e.result?null:e.result.pathMTU)),Pe.xp6(6),Pe.Oqu(Pe.lcZ(22,9,null==e.result?null:e.result.localMTU))}}function Uj(e,t){1&e&&(Pe.TgZ(0,"tr"),Pe.TgZ(1,"td",14),Pe._uU(2,"Status"),Pe.qZA(),Pe.TgZ(3,"td",15),Pe._uU(4,"No data"),Pe.qZA(),Pe.qZA(),Pe.TgZ(5,"tr"),Pe.TgZ(6,"td",16),Pe._uU(7,"Path maximum transmission unit"),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"tr"),Pe.TgZ(9,"td",17),Pe._uU(10,"Local maximum transmission unit"),Pe.qZA(),Pe.qZA())}function Fj(e,t){if(1&e&&(Pe.YNc(0,Rj,23,11,"ng-container",2),Pe.YNc(1,Uj,11,0,"ng-template",null,3,Pe.W1O)),2&e){const e=Pe.MAs(2),t=Pe.oxw();Pe.Q6J("ngIf",!t.isTableEmpty())("ngIfElse",e)}}let jj=(()=>{class e{constructor(){}set pmtuTableData(e){this.pmtuData=[e]}ngOnInit(){}isTableEmpty(){return(0,_.isEmpty)(this.pmtuData[0])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ui-webem-pmtu-table"]],inputs:{pmtuTableData:"pmtuTableData"},decls:2,vars:1,consts:[["styleClass","no-p-table-head",3,"value"],["pTemplate","body"],[4,"ngIf","ngIfElse"],["emptyTable",""],["pResizableColumn","",1,"status"],[3,"ngSwitch"],["class","mdi mdi-check status-available-icon",4,"ngSwitchCase"],["class","mdi mdi-alert red-alert",4,"ngSwitchCase"],["class","mdi mdi-loading mdi-spin",4,"ngSwitchCase"],["pResizableColumn","",1,"path-transmission-unit"],["pResizableColumn","",1,"local-transmission-unit"],[1,"mdi","mdi-check","status-available-icon"],[1,"mdi","mdi-alert","red-alert"],[1,"mdi","mdi-loading","mdi-spin"],[1,"status"],["rowspan","3","id","empty-table"],[1,"path-transmission-unit"],[1,"local-transmission-unit"]],template:function(e,t){1&e&&(Pe.TgZ(0,"p-table",0),Pe.YNc(1,Fj,3,2,"ng-template",1),Pe.qZA()),2&e&&Pe.Q6J("value",t.pmtuData)},directives:[jm.iA,Ri.jx,m.O5,jm.Q7,m.RF,m.n9],pipes:[Nj],styles:["[_nghost-%COMP%]     .ui-table-resizable>.ui-table-wrapper{overflow-x:hidden}[_nghost-%COMP%]     .local-transmission-unit, [_nghost-%COMP%]     .path-transmission-unit, [_nghost-%COMP%]     .status{min-width:70px;text-align:left}[_nghost-%COMP%]     .ui-table-wrapper{border-radius:3px}[_nghost-%COMP%]     .ui-table .ui-table-tbody>tr>td:last-of-type{border-bottom:none}[_nghost-%COMP%]     #empty-table{background-color:#fff;padding-left:8px;vertical-align:top;line-height:28px;border-bottom:none;border-left:1px solid #bec8d2}[_nghost-%COMP%]     p-table table td:first-child, [_nghost-%COMP%]     p-table table th:first-child{width:185px;font-weight:700;border-right:1px solid #bec8d2}[_nghost-%COMP%]     .status-available-icon{color:#3daa00;font-size:12px;margin-right:2px;margin-left:-3px}[_nghost-%COMP%]     .red-alert{font-size:12px;margin-left:-2px;margin-right:3px}[_nghost-%COMP%]     .mdi-spin{font-size:12px;margin-left:-2px;margin-right:2px}"]}),e})();function $j(e,t){1&e&&Pe._UZ(0,"i",21)}function qj(e,t){1&e&&(Pe.TgZ(0,"div",24),Pe._uU(1," IP address is required "),Pe.qZA())}function Bj(e,t){1&e&&(Pe.TgZ(0,"div",24),Pe._uU(1," IP address is not valid or it doesn't correspond to chosen IP version "),Pe.qZA())}function Gj(e,t){if(1&e&&(Pe.TgZ(0,"div",22),Pe.YNc(1,qj,2,0,"div",23),Pe.YNc(2,Bj,2,0,"div",23),Pe.qZA()),2&e){const e=Pe.oxw();let t,n;Pe.xp6(1),Pe.Q6J("ngIf",null==(t=e.pmtuConfigurationForm.get("destinationIpAddress"))||null==t.errors?null:t.errors.required),Pe.xp6(1),Pe.Q6J("ngIf",null==(n=e.pmtuConfigurationForm.get("destinationIpAddress"))||null==n.errors?null:n.errors.pattern)}}function Vj(e,t){1&e&&Pe._UZ(0,"i",21)}function Yj(e,t){1&e&&(Pe.TgZ(0,"div",24),Pe._uU(1," DSCP value is required "),Pe.qZA())}function Jj(e,t){1&e&&(Pe.TgZ(0,"div",24),Pe._uU(1," DSCP value is out of range [0...63] "),Pe.qZA())}function Hj(e,t){if(1&e&&(Pe.TgZ(0,"div",22),Pe.YNc(1,Yj,2,0,"div",23),Pe.YNc(2,Jj,2,0,"div",23),Pe.qZA()),2&e){const e=Pe.oxw();let t,n;Pe.xp6(1),Pe.Q6J("ngIf",null==(t=e.pmtuConfigurationForm.get("dscp"))||null==t.errors?null:t.errors.required),Pe.xp6(1),Pe.Q6J("ngIf",!(null!=(n=e.pmtuConfigurationForm.get("dscp"))&&null!=n.errors&&n.errors.required))}}function Wj(e,t){1&e&&(Pe.TgZ(0,"div",25),Pe._UZ(1,"i",26),Pe.TgZ(2,"span"),Pe._uU(3,"Table will be populated after PMTU discovery is launched"),Pe.qZA(),Pe.qZA())}const Qj="ipv4",zj=[{path:"",component:(()=>{class e{constructor(e,t){this.store=e,this.formBuilder=t,this.inputValueType=wn.RYy,this.saveButtonModel={label:"Start",theme:wn.bnJ.Accent},this.saveButtonOptions={minWidth:"70px"},this.dscpLimits={min:0,max:63},this.sourceAddressOptions=[],this.IPv4="ipv4Address",this.IPv6="ipv6Address"}ngOnInit(){this.pmtuConfigurationForm=this.buildPmtuConfigurationForm(),this.store.dispatch(Sj()),this.externalAddressesSubscription=this.getExternalAddressesSubscription(),this.triggerFormValidation(),this.pmtuTestSubscription=this.store.select(kj).subscribe(e=>{this.pmtuDiscoveryTest=e}),this.ipVersionSubscription=this.pmtuConfigurationForm.controls.ipVersion.valueChanges.pipe((0,Os.O)(Qj),(0,Te.G)()).subscribe(([e,t])=>{e!==t&&(this.pmtuConfigurationForm.controls.destinationIpAddress.reset(),this.pmtuConfigurationForm.controls.dscp.reset("10"))})}startPmtuDiscovery(){const e=this.computeTestSetup();this.store.dispatch(Cj({payload:e}))}isStartButtonDisabled(){return"Ongoing"===this.pmtuDiscoveryTest.status}computeTestSetup(){const e=this.pmtuConfigurationForm.value.sourceAddress,t=e.lastIndexOf(" ");return{dscp:parseInt(this.pmtuConfigurationForm.value.dscp,10),name:e.slice(0,t),sourceIp:e.slice(t+1),destinationIp:this.pmtuConfigurationForm.value.destinationIpAddress}}initializeAddressLists(){this.ipv4AddresList=[],this.ipv6AddresList=[]}getExternalAddressesSubscription(){return this.store.pipe((0,g.Ys)(_j)).subscribe(e=>{this.initializeAddressLists(),this.updateAddressList(e,this.ipv4AddresList,this.IPv4),this.updateAddressList(e,this.ipv6AddresList,this.IPv6),this.setIPv4IPv6Lists()})}updateAddressList(e,t,n){e.forEach(e=>{e[n]&&t.push({value:`${e.name} ${e[n]}`,label:`${e.name} ${e[n]}`})})}setIPv4IPv6Lists(){this.sourceAddressOptions=this.pmtuConfigurationForm.value.ipVersion===Qj?this.ipv4AddresList:this.ipv6AddresList,this.pmtuConfigurationForm.controls.sourceAddress.setValue(this.sourceAddressOptions[0]?this.sourceAddressOptions[0].label:"")}ngOnDestroy(){this.externalAddressesSubscription.unsubscribe(),this.pmtuTestSubscription.unsubscribe(),this.ipVersionSubscription.unsubscribe()}triggerFormValidation(){"ipv4"===this.pmtuConfigurationForm.value.ipVersion?(this.setIPv4IPv6Lists(),this.internetProtocolType=gZ):(this.setIPv4IPv6Lists(),this.internetProtocolType=mZ),this.pmtuConfigurationForm.controls.destinationIpAddress.setValidators(xn.kI.compose([xn.kI.required,xn.kI.pattern(this.internetProtocolType)])),this.pmtuConfigurationForm.controls.destinationIpAddress.updateValueAndValidity()}buildPmtuConfigurationForm(){return this.formBuilder.group({ipVersion:["ipv4",[]],sourceAddress:[""],destinationIpAddress:["",xn.kI.compose([xn.kI.required,xn.kI.pattern(this.internetProtocolType)])],dscp:["10",xn.kI.compose([xn.kI.required,xn.kI.pattern(NZ),xn.kI.min(this.dscpLimits.min),xn.kI.max(this.dscpLimits.max)])]})}isTableEmpty(){return(0,_.isEmpty)(this.pmtuDiscoveryTest)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(xn.qu))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["diagnostic-pmtu-discovery"]],decls:32,vars:12,consts:[[1,"p-grid","p-nogutter","pmtu"],[3,"formGroup"],["fxLayout","column",1,"p-col-12","label"],[1,"options-label"],["fxLayout","row",1,"radio-button-wrapper"],["name","ipVersion","label","IPv4","value","ipv4","id","IPv4","formControlName","ipVersion","labelStyleClass","radioButtonLabel",3,"onClick"],["name","ipVersion","label","IPv6","value","ipv6","id","IPv6","formControlName","ipVersion","labelStyleClass","radioButtonLabel",1,"radio-button",3,"onClick"],[1,"p-col-12","label"],["appendTo","body","name","sourceAddress","formControlName","sourceAddress",1,"p-col-12","source-ip",3,"options"],[1,"label"],["fxLayout","row","fxLayoutAlign","space-between start"],[1,"destination-ip"],["class","mdi mdi-alert red-alert icon-class","aria-hidden","true",4,"ngIf"],["pInputText","","type","text","autocomplete","off","name","destinationIpAddress","formControlName","destinationIpAddress",1,"ui-inputtext","dest-input"],["class","errors",4,"ngIf"],["fxFlex","47",1,"dscp"],["pInputText","","name","dscp","autocomplete","off","formControlName","dscp","placeholder","[0...63]",1,"ui-inputtext","dscp-input",3,"type"],[1,"pmtu-table"],[3,"pmtuTableData"],["class","no-pmtu-info",4,"ngIf"],[1,"saveButton",3,"model","disabled","options","action"],["aria-hidden","true",1,"mdi","mdi-alert","red-alert","icon-class"],[1,"errors"],["class","fade show",4,"ngIf"],[1,"fade","show"],[1,"no-pmtu-info"],[1,"information-icon","mdi","mdi-information"]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"form",1),Pe.TgZ(2,"div",2),Pe.TgZ(3,"label",3),Pe._uU(4,"IP version:"),Pe.qZA(),Pe.TgZ(5,"div",4),Pe.TgZ(6,"p-radioButton",5),Pe.NdJ("onClick",function(){return t.triggerFormValidation()}),Pe.qZA(),Pe.TgZ(7,"p-radioButton",6),Pe.NdJ("onClick",function(){return t.triggerFormValidation()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"div",7),Pe.TgZ(9,"label"),Pe._uU(10," Source IP address: "),Pe.qZA(),Pe.qZA(),Pe._UZ(11,"p-dropdown",8),Pe.TgZ(12,"div",9),Pe.TgZ(13,"label"),Pe._uU(14," Destination IP address: "),Pe.qZA(),Pe.qZA(),Pe.TgZ(15,"div",10),Pe.TgZ(16,"div",11),Pe.YNc(17,$j,1,0,"i",12),Pe._UZ(18,"input",13),Pe.YNc(19,Gj,3,2,"div",14),Pe.qZA(),Pe.qZA(),Pe.TgZ(20,"div",7),Pe.TgZ(21,"label"),Pe._uU(22," DSCP: "),Pe.qZA(),Pe.qZA(),Pe.TgZ(23,"div",10),Pe.TgZ(24,"div",15),Pe.YNc(25,Vj,1,0,"i",12),Pe._UZ(26,"input",16),Pe.qZA(),Pe.qZA(),Pe.YNc(27,Hj,3,2,"div",14),Pe.TgZ(28,"div",17),Pe._UZ(29,"ui-webem-pmtu-table",18),Pe.qZA(),Pe.YNc(30,Wj,4,0,"div",19),Pe.TgZ(31,"ui-webem-button",20),Pe.NdJ("action",function(){return t.startPmtuDiscovery()}),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e){let e,n,i,o;Pe.xp6(1),Pe.Q6J("formGroup",t.pmtuConfigurationForm),Pe.xp6(10),Pe.Q6J("options",t.sourceAddressOptions),Pe.xp6(6),Pe.Q6J("ngIf",(null==(e=t.pmtuConfigurationForm.get("destinationIpAddress"))?null:e.dirty)&&(null==(e=t.pmtuConfigurationForm.get("destinationIpAddress"))?null:e.errors)),Pe.xp6(2),Pe.Q6J("ngIf",(null==(n=t.pmtuConfigurationForm.get("destinationIpAddress"))?null:n.dirty)&&(null==(n=t.pmtuConfigurationForm.get("destinationIpAddress"))?null:n.errors)),Pe.xp6(6),Pe.Q6J("ngIf",(null==(i=t.pmtuConfigurationForm.get("dscp"))?null:i.dirty)&&(null==(i=t.pmtuConfigurationForm.get("dscp"))?null:i.errors)),Pe.xp6(1),Pe.Q6J("type",t.inputValueType.NUMBER),Pe.xp6(1),Pe.Q6J("ngIf",(null==(o=t.pmtuConfigurationForm.get("dscp"))?null:o.dirty)&&(null==(o=t.pmtuConfigurationForm.get("dscp"))?null:o.errors)),Pe.xp6(2),Pe.Q6J("pmtuTableData",t.pmtuDiscoveryTest),Pe.xp6(1),Pe.Q6J("ngIf",t.isTableEmpty()),Pe.xp6(1),Pe.Q6J("model",t.saveButtonModel)("disabled",t.pmtuConfigurationForm.invalid||t.isStartButtonDisabled())("options",t.saveButtonOptions)}},directives:[xn._Y,xn.JL,xn.sg,wP.xw,Sh.EU,xn.JJ,xn.u,xi.Lt,wP.Wh,m.O5,xn.Fj,Ei.o,wP.yH,jj,Ui.r],styles:["[_nghost-%COMP%]    {display:block;height:100%}[_nghost-%COMP%]     .pmtu{margin-left:15px}[_nghost-%COMP%]     .pmtu .label{font-size:11px;padding:0;margin-top:16px}[_nghost-%COMP%]     .pmtu .radio-button{margin-left:40px}[_nghost-%COMP%]     .pmtu .source-ip{display:block;width:306px;padding:0;border-color:#98a2ae}[_nghost-%COMP%]     .pmtu .icon-class{position:absolute;top:2px;font-size:16px;right:8px}[_nghost-%COMP%]     .pmtu .errors{color:#da1914;margin-top:2px;position:absolute;font-size:10px;padding:0}[_nghost-%COMP%]     .pmtu .red-alert{color:#da1914}[_nghost-%COMP%]     .pmtu .destination-ip{position:relative;padding:0}[_nghost-%COMP%]     .pmtu .destination-ip .dest-input{width:306px;height:26px;border:1px solid #98a2ae;padding-right:33px}[_nghost-%COMP%]     .pmtu .dscp{position:relative;padding:0}[_nghost-%COMP%]     .pmtu .dscp .dscp-input{width:142px;height:26px;border:1px solid #98a2ae}[_nghost-%COMP%]     .pmtu .saveButton{margin-top:20px}[_nghost-%COMP%]     .pmtu .pmtu-table{width:304px;margin:30px 0 10px}[_nghost-%COMP%]     .radioButtonLabel{font-size:11px}[_nghost-%COMP%]     .no-pmtu-info{display:flex;align-items:center;color:#98a2ae;margin:-5px 4px -11px -2px}[_nghost-%COMP%]     .no-pmtu-info .information-icon{font-size:26px;margin-right:2px}[_nghost-%COMP%]     .no-pmtu-info span{font-size:14px;color:#98a2ae}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),e})(),outlet:"content_center"},{path:"",component:_R.r,outlet:"content_menu"}];let Kj=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(zj)],f.Bz]}),e})(),Xj=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,jm.U$]]}),e})(),e$=(()=>{class e{constructor(e,t,n){this.store=e,this.actions$=t,this.diagnosticService=n,this.ERROR="error",this.PMTUDiscoveryError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(yj.PMTUDiscoveryError),(0,A.U)(({error:e})=>(0,FC.wN)({payload:{detail:e.statusText||e,severity:this.ERROR,summary:"PMTU Discovery - Operation failed"}})))),this.GetExternalInterfaces$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(yj.GetExternalAddresses),(0,dC.zg)(()=>this.diagnosticService.interfacesExternalGet().pipe((0,A.U)(e=>Pj({payload:e})),(0,NC.K)(e=>(0,nl.of)(Oj({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(dk.y))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),t$=(()=>{class e{constructor(e,t,n,i){this.store=e,this.actions$=t,this.diagnosticService=n,this.pollingService=i,this.UnsubscribePmtuDiscoveryStatusWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(hj.UnsubscribePmtuDiscoveryTestStatusWatch)),{dispatch:!1}),this.TriggerPmtuDiscoveryTest$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(hj.TriggerPmtuDiscoveryTest),(0,SS.p)(1e3),(0,A.U)(({payload:e})=>e),(0,A.U)(e=>vj({payload:e})))),this.StartPmtuDiscoveryTest$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(hj.StartPmtuDiscoveryTest),(0,dC.zg)(({payload:e})=>this.diagnosticService.startPmtuDiscovery({body:e}).pipe((0,dC.zg)(e=>this.pollingService.getTimer(LC.P).pipe((0,_e.R)(this.UnsubscribePmtuDiscoveryStatusWatch$),(0,dC.zg)(()=>this.diagnosticService.getPmtuDiscoveryStatus({id:e})),(0,ys.x)(_.isEqual),(0,dC.zg)(e=>{const t=[];return"Ongoing"!==e.status&&t.push(mj()),t.push(fj({payload:e})),t}))),(0,NC.K)(e=>{const t={status:"Failed",reason:e.statusText||e};return(0,nl.of)(Oj({error:e}),fj({payload:t}))})))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(dk.y),Pe.LFG(ls.xj))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();var n$=n(27745);let i$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[],imports:[[Kj,nU.F,xi.kW,Mt.hJ,wn.EJq,xn.u5,xn.UX,n$.d,h.o9,Ei.j,wn.QGW,m.ez,Sh.cc,Xj,g.Aw.forFeature("pmtuDiscovery",wj),g.Aw.forFeature("startPmtuDiscoveryTest",Ej),oC.sQ.forFeature([e$,t$])]]}),e})();var o$=n(51896),s$=n(83102);const a$={pattern:`File not supported. Please choose ${s$.ic} file`,tooLarge:`File size too large. Size limit for settings ${s$.v$} KB`,noSize:"File is empty"};var r$=n(93154),l$=n(63540);function c$(e,t){1&e&&Pe._uU(0,"Custom settings")}function d$(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",5),Pe.TgZ(1,"div",6),Pe.TgZ(2,"div",7),Pe._uU(3,"Import"),Pe.qZA(),Pe.qZA(),Pe.TgZ(4,"div",6),Pe.TgZ(5,"div",8),Pe.TgZ(6,"div",9),Pe.TgZ(7,"ui-webem-form-input-file",10),Pe.NdJ("change",function(t){return Pe.CHM(e),Pe.oxw().onImportFileChange(t)}),Pe.qZA(),Pe.qZA(),Pe.TgZ(8,"div",11),Pe.TgZ(9,"ui-webem-button",12),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().importSettings()}),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.qZA(),Pe.TgZ(10,"div",13),Pe.TgZ(11,"div",7),Pe._uU(12,"Export"),Pe.qZA(),Pe.qZA(),Pe.TgZ(13,"div",6),Pe.TgZ(14,"label"),Pe._uU(15,"Export current WebEM settings to a file:"),Pe.qZA(),Pe.TgZ(16,"ui-webem-button",14),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().exportSettings()}),Pe.qZA(),Pe.qZA(),Pe.TgZ(17,"div",15),Pe.TgZ(18,"div",7),Pe._uU(19,"Keyboard shortcuts"),Pe.qZA(),Pe.qZA(),Pe.TgZ(20,"div",6),Pe.TgZ(21,"label"),Pe._uU(22,"Turn on to enable shortcuts in WebEM:"),Pe.qZA(),Pe.TgZ(23,"p-inputSwitch",16),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().shortcutsEnabled=t})("onChange",function(t){return Pe.CHM(e),Pe.oxw().changeKeyboardShortcutsAvailabilityState(t)}),Pe.qZA(),Pe.qZA(),Pe.TgZ(24,"div",15),Pe.TgZ(25,"div",7),Pe._uU(26,"Default settings"),Pe.qZA(),Pe.qZA(),Pe.TgZ(27,"div",6),Pe.TgZ(28,"label"),Pe._uU(29,"Restore default WebEM settings:"),Pe.qZA(),Pe.TgZ(30,"ui-webem-button",17),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw().restoreDefaultUiSettings()}),Pe.qZA(),Pe.qZA(),Pe.qZA()}if(2&e){const e=Pe.oxw();Pe.xp6(7),Pe.Q6J("group",e.form)("accept",e.settingsExtension)("placeholder",e.placeholder)("actionButtonModel",e.importFileButtonModel)("actionButtonOptions",e.buttonOptions)("validationMessageDisplay",e.messageDisplay.SHOW_MESSAGE)("validationMessages",e.fileValidationMessages),Pe.xp6(2),Pe.Q6J("disabled",!e.importFile)("model",e.applyButtonModel)("options",e.buttonOptions),Pe.xp6(7),Pe.Q6J("model",e.exportButtonModel),Pe.xp6(7),Pe.Q6J("ngModel",e.shortcutsEnabled),Pe.xp6(7),Pe.Q6J("model",e.restoreButtonModel)}}const u$=[{path:"",component:(()=>{class e{constructor(e,t){this.store=e,this.formBuilder=t,this.ngUnsubscribe=new Ae.xQ,this.importFileButtonModel={label:"Browse...",action:o$.vj,length:wn.Wmq.Short},this.applyButtonModel={label:"Apply",theme:wn.bnJ.Accent},this.exportButtonModel={label:"Export Settings",length:wn.Wmq.Short},this.restoreButtonModel={label:"Restore Settings",length:wn.Wmq.Short},this.buttonOptions={minWidth:"70px"},this.messageDisplay=wn.t0A,this.fileValidationMessages=a$,this.settingsExtension=s$.ic,this.placeholder=`Please choose ${s$.ic} file`,this.fileExtensionPattern=new RegExp(`(?:.+)\\${s$.ic}$`)}ngOnInit(){this.form=this.formBuilder.group({importFile:["",[xn.kI.pattern(this.fileExtensionPattern)]]}),this.importFileFormControl=this.form.controls.importFile,this.keyboardShortcutsState$=this.store.pipe((0,g.Ys)(l$.u)),this.keyboardShortcutsState$.pipe((0,_e.R)(this.ngUnsubscribe)).subscribe(e=>{this.shortcutsEnabled=e})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}importSettings(){this.importFile&&(this.store.dispatch((0,o$.vj)({file:this.importFile})),this.importFile=null,this.importFileFormControl.patchValue(""))}onImportFileChange(e){if(this.form.invalid)return void(this.importFile=null);const t=e.target;if(t.files&&t.files[0]){const e=t.files[0];switch(!0){case e.size>s$.NP:this.handleValidationError({tooLarge:!0});break;case!e.size:this.handleValidationError({noSize:!0});break;default:this.importFile=e}}else this.importFile=null}exportSettings(){this.store.dispatch((0,o$.cC)())}restoreDefaultUiSettings(){this.store.dispatch((0,o$.yj)()),this.store.dispatch((0,o$.ZA)())}handleValidationError(e){this.importFile=null,this.importFileFormControl.setValidators(()=>e),this.importFileFormControl.updateValueAndValidity(),this.importFileFormControl.setValidators(xn.kI.pattern(this.fileExtensionPattern))}changeKeyboardShortcutsAvailabilityState(e){this.store.dispatch((0,r$.k)({payload:e.checked}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(xn.qu))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["app-settings-ui-settings"]],decls:7,vars:0,consts:[[1,"layout-settings"],["id","layout-settings",1,"p-grid","p-nogutter"],["fxFlex","30%",1,"p-col-12","p-nogutter","layout-settings-container"],["header",""],["content",""],[1,"p-col-12","settings-content"],[1,"p-dir-row","settings-group"],[1,"settings-group-title"],["fxFill","",1,"import-group"],["fxFlex","1 1 auto",1,"import-group-item"],["id","import-settings-input","controlName","importFile","label","Import custom settings",1,"input-file",3,"group","accept","placeholder","actionButtonModel","actionButtonOptions","validationMessageDisplay","validationMessages","change"],["fxFlex","0 1 auto","fxFlexAlign","flex-start",1,"import-group-item","apply-button"],["id","apply-settings-button",3,"disabled","model","options","action"],[1,"p-dir-row","settings-group","export-group"],["id","export-button",3,"model","action"],[1,"p-dir-row","settings-group","gap-margin"],["binary","true",3,"ngModel","ngModelChange","onChange"],["id","restore-button",3,"model","action"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"div",1),Pe.TgZ(2,"ui-webem-panel",2),Pe.YNc(3,c$,1,0,"ng-template",null,3,Pe.W1O),Pe.YNc(5,d$,31,13,"ng-template",null,4,Pe.W1O),Pe.qZA(),Pe.qZA(),Pe.qZA())},directives:[nM.y,wP.yH,wP.s9,ob,wP.XD,Ui.r,xw,xn.JJ,xn.On],styles:[".layout-settings-container[_ngcontent-%COMP%]{padding:15px}.layout-settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]{padding:0}.layout-settings-container[_ngcontent-%COMP%]   .settings-group[_ngcontent-%COMP%]{padding-top:10px;position:relative}.layout-settings-container[_ngcontent-%COMP%]   .settings-group-title[_ngcontent-%COMP%]{font-size:13px;font-weight:700}.layout-settings-container[_ngcontent-%COMP%]   .settings-group[_ngcontent-%COMP%]   .import-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.layout-settings-container[_ngcontent-%COMP%]   .settings-group[_ngcontent-%COMP%]   .import-group[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{margin:23px 0 0 8px}.layout-settings-container[_ngcontent-%COMP%]   .settings-group[_ngcontent-%COMP%]   .import-group[_ngcontent-%COMP%]     .input{margin-right:8px}.layout-settings-container[_ngcontent-%COMP%]   .settings-group[_ngcontent-%COMP%]   p-inputSwitch[_ngcontent-%COMP%]{position:absolute;margin-top:4px}.layout-settings-container[_ngcontent-%COMP%]   .gap-margin[_ngcontent-%COMP%]{margin-top:20px}.layout-settings-container[_ngcontent-%COMP%]   .export-group[_ngcontent-%COMP%]{margin-top:0}.layout-settings-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:11px;margin-right:15px}"]}),e})(),outlet:"content_center"},{path:"",component:(()=>{class e extends Mp.O{ngOnInit(){this.setMenuItemsMap([Ip.r.uiSettings])}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Pe.n5z(e)))(n||e)}}(),e.\u0275cmp=Pe.Xpm({type:e,selectors:[["app-settings-app-settings-navigation"]],features:[Pe.qOj],decls:1,vars:1,consts:[[3,"menuItemsMap"]],template:function(e,t){1&e&&Pe._UZ(0,"ui-webem-submenu",0),2&e&&Pe.Q6J("menuItemsMap",t.menuItemsMap)},directives:[Iy._],styles:[""]}),e})(),outlet:"content_menu"}];let p$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[f.Bz.forChild(u$)],f.Bz]}),e})(),g$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[wn.y$Z]]}),e})(),h$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[wn.YI8,Mt.hJ,wn.y$Z,p$,g$,wn.EJq,xn.u5,ww,wn.QGW,h.o9]]}),e})();var m$=n(49302),f$=(()=>(function(e){e.CHANGE_EXPIRED_PASSWORD_INFORMATION="[Expired Password] Change information"}(f$||(f$={})),f$))();const b$=(0,g.PH)(f$.CHANGE_EXPIRED_PASSWORD_INFORMATION,(0,g.Ky)());var C$=n(54853);function v$(e,t){if(1&e&&(Pe.TgZ(0,"div",16),Pe._UZ(1,"i",17),Pe._uU(2),Pe.ALo(3,"async"),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(2),Pe.hij(" ",Pe.lcZ(3,1,e.username$),", your password is expired and must be changed ")}}function y$(e,t){1&e&&(Pe.TgZ(0,"div",18),Pe._UZ(1,"i",19),Pe._uU(2," Successfully changed "),Pe.qZA())}function S$(e,t){if(1&e&&(Pe.TgZ(0,"div",18),Pe._UZ(1,"i",20),Pe._uU(2),Pe.qZA()),2&e){const e=Pe.oxw().ngIf;Pe.xp6(2),Pe.hij(" ",e.reason," ")}}function P$(e,t){if(1&e&&(Pe.TgZ(0,"div",21),Pe._UZ(1,"ui-webem-validation-rules-details",22),Pe.qZA()),2&e){const e=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("rulesData",e.passwordMessages)}}function O$(e,t){1&e&&(Pe.TgZ(0,"div",23),Pe._UZ(1,"i",24),Pe.TgZ(2,"p"),Pe._uU(3,"It is required to log in using the new password set"),Pe.qZA(),Pe.qZA())}function x$(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",3),Pe.YNc(1,v$,4,3,"div",4),Pe.TgZ(2,"div",5),Pe.TgZ(3,"div",6),Pe._uU(4,"Change password"),Pe.qZA(),Pe._UZ(5,"img",7),Pe.qZA(),Pe.TgZ(6,"div",8),Pe.TgZ(7,"div",9),Pe.TgZ(8,"ui-webem-user-information-change",10),Pe.NdJ("validationChange",function(t){return Pe.CHM(e),Pe.oxw().validationChange(t)})("informationChange",function(t){return Pe.CHM(e),Pe.oxw().informationChange(t)})("clearInformationResponse",function(){return Pe.CHM(e),Pe.oxw().clearInformationResponse()}),Pe.ALo(9,"async"),Pe.qZA(),Pe.YNc(10,y$,3,0,"div",11),Pe.YNc(11,S$,3,1,"div",11),Pe.qZA(),Pe.YNc(12,P$,2,1,"div",12),Pe.qZA(),Pe._UZ(13,"hr"),Pe.TgZ(14,"div",13),Pe.TgZ(15,"button",14),Pe.NdJ("click",function(){return Pe.CHM(e),Pe.oxw().goToLoginClick()}),Pe.qZA(),Pe.YNc(16,O$,4,0,"div",15),Pe.qZA(),Pe.qZA()}if(2&e){const e=t.ngIf,n=Pe.oxw();Pe.xp6(1),Pe.Q6J("ngIf",e.status!==n.SUCCESSFUL),Pe.xp6(4),Pe.Q6J("src",n.NOKIA_LOGO,Pe.LSH),Pe.xp6(3),Pe.Q6J("username",Pe.lcZ(9,11,n.username$))("passwordValidationOptions$",n.passwordOptions$)("usernameValidationOptions",n.usernameOptions)("changeStatus",e)("changeOptions",n.changeOptions),Pe.xp6(2),Pe.Q6J("ngIf",e.status===n.SUCCESSFUL),Pe.xp6(1),Pe.Q6J("ngIf",e.status===n.FAILED),Pe.xp6(1),Pe.Q6J("ngIf",n.passwordMessages),Pe.xp6(4),Pe.Q6J("ngIf",e.status===n.SUCCESSFUL)}}const w$=[{path:"",component:(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.passwordMessages=[],this.copyrightText=C$.q.copyrightText,this.SUCCESSFUL=wn.OYD.SUCCESSFUL,this.FAILED=wn.OYD.FAILED,this.usernameOptions={minLength:4,maxLength:16},this.changeOptions=[wn.xvE.PASSWORD_EXPIRATION_CHANGE],this.NOKIA_LOGO="assets/nokia/images/logo.svg"}ngOnInit(){this.clearInformationResponse(),this.store.dispatch(vL()),this.informationChangeStatus$=this.store.select(wL).pipe((0,tM.BN)(),(0,tM.gw)(0)),this.username$=this.store.select(NL.zD),this.passwordOptions$=this.store.select(AL).pipe((0,tM.UI)(e=>({minLength:e.minPasswordLength||8,maxLength:16,minNonAlphaNumerical:(0,_.get)(e,"minNonAlphaNumInPassword",1),minNumberOfDigits:1})))}ngOnDestroy(){this.store.dispatch(yL())}informationChange(e){this.store.dispatch(cL()),this.store.dispatch(b$(e))}validationChange(e){this.passwordMessages=(0,wn.Wfk)(e.passwordOptions,e.password)}clearInformationResponse(){this.store.dispatch(pL())}goToLoginClick(){this.store.dispatch((0,nD.yE)()),this.store.dispatch((0,m$.Hi)()),this.store.dispatch((0,mb.uX)({routerLink:Ip.r.login,activatedRoute:this.activatedRoute}))}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(f.gz))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["password-expired"]],decls:6,vars:4,consts:[[1,"password-expired-container"],["class","password-expired-card",4,"ngIf"],[1,"copyright"],[1,"password-expired-card"],["class","alert",4,"ngIf"],[1,"password-expired-header"],[1,"password-expired-title"],["alt","Nokia logo",1,"nokia-logo",3,"src"],[1,"p-grid","password-expired-form-container"],[1,"p-col-6","password-expired-form"],[3,"username","passwordValidationOptions$","usernameValidationOptions","changeStatus","changeOptions","validationChange","informationChange","clearInformationResponse"],["class","validation-message",4,"ngIf"],["class","p-col-6 password-expired-validation-rules",4,"ngIf"],[1,"password-expired-footer"],["pButton","","title","Go to Login","label","Go to Login",1,"password-expired-button",3,"click"],["class","password-expired-success-notification",4,"ngIf"],[1,"alert"],["aria-hidden","true",1,"mdi","mdi-alert","red-alert","icon-class"],[1,"validation-message"],[1,"success-icon","mdi","mdi-check-circle"],[1,"alert-icon","mdi","mdi-alert"],[1,"p-col-6","password-expired-validation-rules"],["title","Password validation rules",3,"rulesData"],[1,"password-expired-success-notification"],[1,"information-icon","mdi","mdi-information"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.YNc(1,x$,17,13,"div",1),Pe.ALo(2,"async"),Pe.TgZ(3,"div",2),Pe.TgZ(4,"p"),Pe._uU(5),Pe.qZA(),Pe.qZA(),Pe.qZA()),2&e&&(Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,2,t.informationChangeStatus$)),Pe.xp6(4),Pe.hij(" \xa9 ",t.copyrightText," "))},directives:[m.O5,GL.L,Mt.Hq,CS],pipes:[m.Ov],styles:[".password-expired-container[_ngcontent-%COMP%]{background-color:#124191;width:100%;min-height:100%;padding-top:200px;display:flex;flex-flow:column;justify-content:space-between}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]{margin:0 auto;width:700px;box-shadow:0 6px 8px 0 rgba(0,0,0,.24),0 17px 50px 0 rgba(0,0,0,.19);background-color:#fff;border-radius:3px}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background-color:#ff6969;text-align:center;color:#fff;padding:4px;border:0;border-radius:3px 3px 0 0;margin-bottom:0}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .icon-class[_ngcontent-%COMP%]{color:#fff;padding-right:8px}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-header[_ngcontent-%COMP%]{display:flex;padding:14px 20px 3px;align-items:center;justify-content:space-between}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-header[_ngcontent-%COMP%]   .nokia-logo[_ngcontent-%COMP%]{width:61px;height:11px}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-header[_ngcontent-%COMP%]   .password-expired-title[_ngcontent-%COMP%]{font-size:16px;color:#4d5766;font-weight:700}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-form-container[_ngcontent-%COMP%] {min-height:380px;padding-right:16px;padding-left:16px;margin:0}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-form-container[_ngcontent-%COMP%]  .password-expired-form{padding-right:22px;padding-top:20px}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-form-container[_ngcontent-%COMP%]  .password-expired-form .local-user-container{background-color:#fff}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-form-container[_ngcontent-%COMP%]  .password-expired-validation-rules{padding-left:15px;padding-right:20px}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]{display:flex;margin-top:21px;margin-bottom:9px;align-items:center;font-size:14px;color:#98a2ae}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px;position:relative;font-size:26px}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]   i.alert-icon[_ngcontent-%COMP%]{color:#da1914}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]   i.success-icon[_ngcontent-%COMP%]{color:#3daa00}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-footer[_ngcontent-%COMP%] {height:54px;display:flex;align-items:center;padding:0 20px 12px}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-footer[_ngcontent-%COMP%]  .password-expired-success-notification{display:flex;flex-direction:row;align-items:center;margin:auto;font-size:14px;color:#98a2ae}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-footer[_ngcontent-%COMP%]  .password-expired-success-notification .information-icon{font-size:26px;margin-right:6px;color:#98a2ae}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-footer[_ngcontent-%COMP%]  .password-expired-success-notification .information-icon.mdi:before{font-size:unset}.password-expired-container[_ngcontent-%COMP%]   .password-expired-card[_ngcontent-%COMP%]   .password-expired-footer[_ngcontent-%COMP%]  .password-expired-success-notification p{margin:0;padding-right:60px}.copyright[_ngcontent-%COMP%]{height:30px;width:100%;text-align:center;color:#fff}"]}),e})()}];let A$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(w$)],f.Bz]}),e})();var _$=n(98898);let T$=(()=>{class e{constructor(e,t){this.actions$=e,this.secService=t,this.changeExpiredPasswordInformation$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(b$),(0,dC.zg)(e=>{const t=window.btoa(e.username),n=window.btoa(e.password),i=window.btoa(e.newPassword);return this.secService.accountExpiredPasswordPatch({body:{username:t,password:n,newPassword:i}}).pipe((0,dC.zg)(()=>[dL(),(0,nD.gy)({payload:_$.i.PASSWORD_CHANGE})]),(0,NC.K)(e=>(0,nl.of)(uL({payload:e.error?e.error.content:"Failed to change"}))))})))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(dD.y))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})(),I$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[wn.ADU,wn.BGI,m.ez,Mt.hJ,sD,oC.sQ.forFeature([T$]),A$]]}),e})();var E$=(()=>(function(e){e.UnsubscribeSessionsWatch="[Sessions] Unsubscribe Sessions Watch",e.SubscribeSessionsWatch="[Sessions] Subscribe Sessions Watch",e.SubscribeSessionsError="[Sessions] Subscribe Sessions Error",e.SetSessions="[Sessions] Set Sessions",e.IsLoadingSessionsData="[Sessions] Is Loading Sessions Data"}(E$||(E$={})),E$))();class M${constructor(e){this.payload=e,this.type=E$.SetSessions}}class k${constructor(){this.type=E$.UnsubscribeSessionsWatch}}class N${constructor(){this.type=E$.SubscribeSessionsWatch}}class L${constructor(e){this.error=e,this.type=E$.SubscribeSessionsError}}class D${constructor(e){this.isLoadingSessionsData=e,this.type=E$.IsLoadingSessionsData}}const Z$={sessions:[],isLoadingSessionsData:!1};function R$(e=Z$,t){return t.type===E$.SetSessions?Object.assign(Object.assign({},e),{sessions:t.payload}):t.type===E$.IsLoadingSessionsData?Object.assign(Object.assign({},e),{isLoadingSessionsData:t.isLoadingSessionsData}):e}const U$=(0,g.ZF)("sessions"),F$=(0,g.P1)(U$,e=>e.sessions),j$=(0,g.P1)(U$,e=>e.isLoadingSessionsData);var $$=(()=>(function(e){e.SELECT_SESSION="[Sessions page] select session from table",e.DESELECT_SESSION="[Sessions page] deselect session from table"}($$||($$={})),$$))();class q${constructor(e){this.payload=e,this.type=$$.SELECT_SESSION}}class B${constructor(){this.type=$$.DESELECT_SESSION}}var G$=n(50890);const V$=[{path:"",component:(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.isLoadingSessionsData$=this.store.select(j$),this.sessions$=this.store.pipe((0,g.Ys)(F$)),this.store.dispatch(new N$)}ngOnDestroy(){this.store.dispatch(new k$)}onSelectSession({SessionID:e}){this.store.dispatch(new q$({SessionID:e}))}onClearSelection(){this.store.dispatch(new B$)}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["sessions-home"]],decls:8,vars:7,consts:[[1,"number-of-sessions"],[1,"information-icon","mdi","mdi-information"],["id","total-sessions"],[1,"sessions-content"],[3,"sessions","isLoadingSessionsData$","SessionSelected","clearSelection"]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"div",0),Pe._UZ(1,"i",1),Pe.TgZ(2,"span",2),Pe._uU(3),Pe.ALo(4,"async"),Pe.qZA(),Pe.qZA(),Pe.TgZ(5,"div",3),Pe.TgZ(6,"ui-webem-sessions-table",4),Pe.NdJ("SessionSelected",function(e){return t.onSelectSession(e)})("clearSelection",function(){return t.onClearSelection()}),Pe.ALo(7,"async"),Pe.qZA(),Pe.qZA()),2&e){let e;Pe.xp6(3),Pe.hij("Total sessions: ",null==(e=Pe.lcZ(4,3,t.sessions$))?null:e.length,""),Pe.xp6(3),Pe.Q6J("sessions",Pe.lcZ(7,5,t.sessions$))("isLoadingSessionsData$",t.isLoadingSessionsData$)}},directives:[G$.E],pipes:[m.Ov],styles:[".number-of-sessions[_ngcontent-%COMP%]{padding-top:10px;padding-left:15px;display:flex;align-items:center;font-size:14px;color:#98a2ae}.number-of-sessions[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#98a2ae}.number-of-sessions[_ngcontent-%COMP%]   .information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}[_nghost-%COMP%]  .sessions-content{padding-top:10px;padding-left:15px;height:100%;max-width:900px}[_nghost-%COMP%]  .sessions-content .sessions-table .sessions-header{font-size:16px;color:#4d5766;border-bottom:1px solid #4d5766}[_nghost-%COMP%]  .as-split-gutter{display:none}"]}),e})(),outlet:"content_center"},{path:"",component:XL,outlet:"content_menu"}];let Y$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,f.Bz.forChild(V$)],f.Bz]}),e})();var J$=n(68285);let H$=(()=>{class e{constructor(e,t,n){this.actions$=e,this.sessionMgmtService=t,this.pollingService=n,this.UnsubscribeSessionsWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(E$.UnsubscribeSessionsWatch)),{dispatch:!1}),this.TurnSpinnerOn$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(E$.SubscribeSessionsWatch),(0,A.U)(()=>new D$(!0)))),this.SubscribeSessionsWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(E$.SubscribeSessionsWatch),(0,dC.zg)(()=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.UnsubscribeSessionsWatch$),(0,dC.zg)(()=>this.sessionMgmtService.sessionsGet()),(0,ys.x)(_.isEqual),(0,dC.zg)(e=>(0,nl.of)(new M$(e),new D$(!1))),(0,NC.K)(e=>(0,nl.of)(new L$(e),new D$(!1)))))))}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(oC.eX),Pe.LFG(J$.B),Pe.LFG(DC.x))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();const W$={};function Q$(e=W$,t){switch(t.type){case $$.DESELECT_SESSION:return{};case $$.SELECT_SESSION:{const{payload:{SessionID:n}}=t;return Object.assign(Object.assign({},e),{selectedSessionId:n})}default:return e}}const z$=(0,g.ZF)("SelectedSession");(0,g.P1)(z$,e=>e.selectedSessionId);let K$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[],imports:[[m.ez,aD,wn.k7l,wn.QGW,g.Aw.forFeature("sessions",R$),g.Aw.forFeature("SelectedSession",Q$),oC.sQ.forFeature([H$]),Y$]]}),e})();var X$=(()=>(function(e){e.GetEntityPolicies="[IP Security Association] Get policy order numbers for pods",e.SetEntityPolicies="[IP Security Association] Set policy order numbers for pods",e.SubscribeEntityPoliciesWatch="[IP Security Association] Subscribe to get policy order numbers for pods watch",e.UnsubscribeEntityPoliciesWatch="[IP Security Association] Unsubscribe from policy order numbers for pods watch",e.GetEntityPoliciesError="[IP Security Association] Get policy order numbers for pods failed",e.ResetEntityPolicies="[IP Security Association] Reset policy order numbers",e.GetIkeAssociationsAction="[IP Security Association] Get Ike associations values",e.IkeAssociationsRequestAction="[IP Security Association] Ike associations request",e.stopIkePoliciesPollingAction="[IP Security Association] Stop Ike policies polling",e.SetEntityIkeAssociationsAction="[IP Security Association] Set Entity Ike Associations",e.GetIKEPoliciesErrorAction="[IP Security Association] Get IKE Policies Error",e.SetSelectedAssociationInfo="[IP Security Association] Set selected association info",e.ClearIkeAssociationsAction="[IP Security Association] Clear IKE associations",e.IsLoadingIkeDataAction="[IP Security Association] Is loading IKE data",e.StartExportAllAssociationsAction="[IP Security Association] Start export all associations",e.GetExportAllAssociationsFailedAction="[IP Security Association] Get export all associations failed result",e.GetExportAllAssociationsSucceedAction="[IP Security Association] Get export all associations succeed result",e.ExportAllAssociationsRequestAction="[IP Security Association] Send export all associations request",e.SetExportOperationStatus="[IP Security Association] Set export operation status"}(X$||(X$={})),X$))();const eq=(0,g.PH)(X$.GetEntityPolicies),tq=(0,g.PH)(X$.SetEntityPolicies,(0,g.Ky)()),nq=(0,g.PH)(X$.SubscribeEntityPoliciesWatch),iq=(0,g.PH)(X$.UnsubscribeEntityPoliciesWatch),oq=(0,g.PH)(X$.GetEntityPoliciesError),sq=(0,g.PH)(X$.ResetEntityPolicies),aq=(0,g.PH)(X$.GetIkeAssociationsAction,(0,g.Ky)()),rq=(0,g.PH)(X$.IkeAssociationsRequestAction,(0,g.Ky)()),lq=(0,g.PH)(X$.stopIkePoliciesPollingAction),cq=(0,g.PH)(X$.SetEntityIkeAssociationsAction,(0,g.Ky)()),dq=(0,g.PH)(X$.GetIKEPoliciesErrorAction),uq=(0,g.PH)(X$.SetSelectedAssociationInfo,(0,g.Ky)()),pq=(0,g.PH)(X$.ClearIkeAssociationsAction),gq=(0,g.PH)(X$.IsLoadingIkeDataAction,(0,g.Ky)()),hq=(0,g.PH)(X$.StartExportAllAssociationsAction),mq=(0,g.PH)(X$.GetExportAllAssociationsFailedAction),fq=(0,g.PH)(X$.GetExportAllAssociationsSucceedAction),bq=(0,g.PH)(X$.ExportAllAssociationsRequestAction,(0,g.Ky)()),Cq=(0,g.PH)(X$.SetExportOperationStatus,(0,g.Ky)()),vq="ipSecurityAssociation",yq={policyOrderNumbers:[]},Sq=(0,g.Lq)(yq,(0,g.on)(tq,(e,{payload:t})=>Object.assign(Object.assign({},e),{policyOrderNumbers:t})),(0,g.on)(sq,()=>Object.assign({},yq)));function Pq(e,t){return Sq(e,t)}const Oq=(0,g.ZF)(vq),xq=(0,g.P1)(Oq,e=>e.policyOrderNumbers),wq="ipSecurityIkePolicies",Aq={selectedPodIkePolicies:{associationsInfos:[],ikeAssociations:[]},selectedAssociationInfo:{},isLoadingData:!1,isExportInProgress:!1},_q=(0,g.Lq)(Aq,(0,g.on)(cq,(e,{payload:t})=>{const n=t.associationsInfos.find(t=>{var n;return(null===(n=e.selectedAssociationInfo)||void 0===n?void 0:n.ipsecSaReqId)===t.ipsecSaReqId&&e.selectedAssociationInfo.localIpAddress===t.localIpAddress&&e.selectedAssociationInfo.remoteIpAddress===t.remoteIpAddress});return Object.assign(Object.assign({},e),{selectedPodIkePolicies:t,selectedAssociationInfo:n})}),(0,g.on)(uq,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedAssociationInfo:t})),(0,g.on)(pq,()=>Aq),(0,g.on)(gq,(e,t)=>Object.assign(Object.assign({},e),{isLoadingData:t.isLoadingData})),(0,g.on)(Cq,(e,t)=>Object.assign(Object.assign({},e),{isExportInProgress:t.isExportInProgress})));function Tq(e,t){return _q(e,t)}const Iq=(0,g.ZF)(wq),Eq=((0,g.P1)(Iq,e=>e.selectedPodIkePolicies),(0,g.P1)(Iq,e=>e.selectedPodIkePolicies.ikeAssociations)),Mq=(0,g.P1)(Iq,e=>e.selectedPodIkePolicies.associationsInfos),kq=(0,g.P1)(Iq,e=>e.selectedAssociationInfo),Nq=(0,g.P1)(Iq,e=>e.isLoadingData),Lq=(0,g.P1)(Iq,e=>e.isExportInProgress),Dq=[{name:"Policy order number",minWidth:"150px"},{name:"IKE request ID",minWidth:"150px"},{name:"Local tunnel endpoint",minWidth:"150px"},{name:"Remote tunnel endpoint",minWidth:"150px"},{name:"Status",minWidth:"100px"},{name:"Mode",minWidth:"100px"}],Zq=[{name:"Policy order number",minWidth:"150px"},{name:"Association request ID",minWidth:"150px"},{name:"Local IP address",minWidth:"150px"},{name:"Remote IP address",minWidth:"150px"},{name:"Peer state",minWidth:"120px"},{name:"Inbound SPI",minWidth:"120px"},{name:"Outbound SPI",minWidth:"120px"}];var Rq=n(40954);function Uq(e,t){if(1&e&&(Pe.TgZ(0,"td"),Pe._uU(1),Pe.ALo(2,"nullableValue"),Pe.qZA(),Pe.TgZ(3,"td"),Pe._uU(4),Pe.ALo(5,"nullableValue"),Pe.qZA(),Pe.TgZ(6,"td"),Pe._uU(7),Pe.ALo(8,"nullableValue"),Pe.qZA(),Pe.TgZ(9,"td"),Pe._uU(10),Pe.ALo(11,"nullableValue"),Pe.qZA(),Pe.TgZ(12,"td"),Pe._uU(13),Pe.ALo(14,"nullableValue"),Pe.qZA(),Pe.TgZ(15,"td"),Pe._uU(16),Pe.ALo(17,"nullableValue"),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Oqu(Pe.lcZ(2,6,e.policyOrderNumber)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(5,8,e.ikeSaReqId)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(8,10,e.localTunnelEndPoint)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(11,12,e.remoteTunnelEndPoint)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(14,14,e.status)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(17,16,e.mode))}}let Fq=(()=>{class e{constructor(){this.IPSEC_IKE_TABLE_COLUMNS=Dq,this.ROWS_BUFFER=10,this.scrollable=!1}ngOnInit(){}ngOnChanges(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ipsec-ike-associations-table"]],inputs:{ikeAssociations:"ikeAssociations"},features:[Pe.TTD],decls:3,vars:7,consts:[[1,"ipsec-ike-table",3,"items","columns","minBuffer","virtualScroll","supportNoDataShow","pSelectableRowDisabled","scrollable"],["row",""]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-table-view",0),Pe.YNc(1,Uq,18,18,"ng-template",null,1,Pe.W1O),Pe.qZA()),2&e&&Pe.Q6J("items",t.ikeAssociations)("columns",t.IPSEC_IKE_TABLE_COLUMNS)("minBuffer",t.ROWS_BUFFER)("virtualScroll",!1)("supportNoDataShow",!0)("pSelectableRowDisabled",!0)("scrollable",t.scrollable)},directives:[Rq.x],pipes:[tg.c],styles:["[_nghost-%COMP%]     .ipsec-ike-table{height:auto;padding-bottom:20px;margin-left:-5px}[_nghost-%COMP%]     .ipsec-ike-table p-table>div{box-shadow:0 3px 8px rgba(0,0,0,.13);margin-left:5px;margin-right:5px}"]}),e})();function jq(e,t){if(1&e&&(Pe.TgZ(0,"td"),Pe._uU(1),Pe.ALo(2,"nullableValue"),Pe.qZA(),Pe.TgZ(3,"td"),Pe._uU(4),Pe.ALo(5,"nullableValue"),Pe.qZA(),Pe.TgZ(6,"td"),Pe._uU(7),Pe.ALo(8,"nullableValue"),Pe.qZA(),Pe.TgZ(9,"td"),Pe._uU(10),Pe.ALo(11,"nullableValue"),Pe.qZA(),Pe.TgZ(12,"td"),Pe._uU(13),Pe.ALo(14,"nullableValue"),Pe.qZA(),Pe.TgZ(15,"td"),Pe._uU(16),Pe.ALo(17,"nullableValue"),Pe.qZA(),Pe.TgZ(18,"td"),Pe._uU(19),Pe.ALo(20,"nullableValue"),Pe.qZA()),2&e){const e=t.$implicit;Pe.xp6(1),Pe.Oqu(Pe.lcZ(2,7,e.policyOrderNumber)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(5,9,e.ipsecSaReqId)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(8,11,e.localIpAddress)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(11,13,e.remoteIpAddress)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(14,15,e.peerState)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(17,17,e.inboundSPI)),Pe.xp6(3),Pe.Oqu(Pe.lcZ(20,19,e.outboundSPI))}}let $q=(()=>{class e{constructor(e,t){this.store=e,this.elRef=t,this.IPSEC_IKE_TABLE_COLUMNS=Zq,this.ROWS_BUFFER=40,this.rowSelection=new Pe.vpe,this.scrollable=!1}selectedChange(e){this.rowSelection.emit(e)}ngOnInit(){this.selectorAssociationsInfo$=this.store.select(kq)}ngOnChanges(){if(this.associationsInfos.length>9){const e=this.elRef.nativeElement.children[0];e.classList.remove("no-scrollable-height"),e.classList.add("scrollable-height"),this.scrollable=!0}}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh),Pe.Y36(Pe.SBq))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ipsec-association-info-table"]],inputs:{associationsInfos:"associationsInfos"},outputs:{rowSelection:"rowSelection"},features:[Pe.TTD],decls:4,vars:9,consts:[[1,"ipsec-association-info-table","no-scrollable-height",3,"items","columns","minBuffer","virtualScroll","supportNoDataShow","scrollable","selected","selectedChange"],["row",""]],template:function(e,t){1&e&&(Pe.TgZ(0,"ui-webem-table-view",0),Pe.NdJ("selectedChange",function(e){return t.selectedChange(e)}),Pe.ALo(1,"async"),Pe.YNc(2,jq,21,21,"ng-template",null,1,Pe.W1O),Pe.qZA()),2&e&&Pe.Q6J("items",t.associationsInfos)("columns",t.IPSEC_IKE_TABLE_COLUMNS)("minBuffer",t.ROWS_BUFFER)("virtualScroll",!1)("supportNoDataShow",!0)("scrollable",t.scrollable)("selected",Pe.lcZ(1,7,t.selectorAssociationsInfo$))},directives:[Rq.x],pipes:[m.Ov,tg.c],styles:["[_nghost-%COMP%]     .ipsec-association-info-table{padding-bottom:20px;margin-left:-5px}[_nghost-%COMP%]     .ipsec-association-info-table p-table>div{box-shadow:0 3px 8px rgba(0,0,0,.13);margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .scrollable-height{height:304px}[_nghost-%COMP%]     .no-scrollable-height{height:auto}"]}),e})();function qq(e,t){1&e&&Pe._uU(0,"IP Security Associations")}function Bq(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"div"),Pe.TgZ(2,"label",4),Pe._uU(3,"IKE associations:"),Pe.qZA(),Pe.qZA(),Pe._UZ(4,"ipsec-ike-associations-table",11),Pe.ALo(5,"async"),Pe.TgZ(6,"div"),Pe.TgZ(7,"label",4),Pe._uU(8,"Association information:"),Pe.qZA(),Pe.qZA(),Pe.TgZ(9,"ipsec-association-info-table",12),Pe.NdJ("rowSelection",function(t){return Pe.CHM(e),Pe.oxw(2).onRowSelection(t)}),Pe.ALo(10,"async"),Pe.qZA(),Pe.BQk()}if(2&e){const e=Pe.oxw(2);Pe.xp6(4),Pe.Q6J("ikeAssociations",Pe.lcZ(5,2,e.ikeAssociations$)),Pe.xp6(5),Pe.Q6J("associationsInfos",Pe.lcZ(10,4,e.associationsInfo$))}}function Gq(e,t){1&e&&Pe._UZ(0,"ui-webem-spinner",13)}function Vq(e,t){if(1&e){const e=Pe.EpF();Pe.ynx(0),Pe.TgZ(1,"ui-webem-button",14),Pe.NdJ("action",function(){return Pe.CHM(e),Pe.oxw(2).exportAllAssociations()}),Pe.ALo(2,"async"),Pe.qZA(),Pe.TgZ(3,"div",15),Pe._UZ(4,"i",16),Pe.TgZ(5,"span"),Pe._uU(6,"Export all associations for selected POD to a file. You can check IKE associations and association information for all polices in this file."),Pe.qZA(),Pe.qZA(),Pe.BQk()}if(2&e){const e=t.ngIf,n=Pe.oxw(2);Pe.xp6(1),Pe.Q6J("disabled",!n.selectedTargetPod||Pe.lcZ(2,3,n.isExportInProgress$))("model",e)("options",n.buttonOptions)}}function Yq(e,t){if(1&e){const e=Pe.EpF();Pe.TgZ(0,"div",3),Pe.TgZ(1,"div"),Pe.TgZ(2,"label",4),Pe._uU(3,"POD information:"),Pe.qZA(),Pe.qZA(),Pe.TgZ(4,"p-dropdown",5),Pe.NdJ("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().selectedTargetPod=t})("onChange",function(t){return Pe.CHM(e),Pe.oxw().selectPod(t.value)}),Pe.qZA(),Pe.qZA(),Pe.TgZ(5,"div",3),Pe.TgZ(6,"div"),Pe.TgZ(7,"label",4),Pe._uU(8,"Policy order number:"),Pe.qZA(),Pe.qZA(),Pe.TgZ(9,"p-dropdown",6),Pe.NdJ("onChange",function(t){return Pe.CHM(e),Pe.oxw().selectPolicyOrderNum(t.value)})("ngModelChange",function(t){return Pe.CHM(e),Pe.oxw().selectedTargetPolicyOrderNum=t}),Pe.qZA(),Pe.qZA(),Pe.YNc(10,Bq,11,6,"ng-container",7),Pe.ALo(11,"async"),Pe.YNc(12,Gq,1,0,"ng-template",null,8,Pe.W1O),Pe.TgZ(14,"div",9),Pe.YNc(15,Vq,7,5,"ng-container",10),Pe.ALo(16,"async"),Pe.qZA()}if(2&e){const e=Pe.MAs(13),t=Pe.oxw();Pe.xp6(4),Pe.Q6J("options",t.podInfoOptions)("ngModel",t.selectedTargetPod)("disabled",0===(null==t.podInfoOptions?null:t.podInfoOptions.length)),Pe.xp6(5),Pe.Q6J("options",t.policyOrderNum)("ngModel",t.selectedTargetPolicyOrderNum)("disabled",0===(null==t.policyOrderNum?null:t.policyOrderNum.length)),Pe.xp6(1),Pe.Q6J("ngIf",!Pe.lcZ(11,9,t.isLoadingData$))("ngIfElse",e),Pe.xp6(5),Pe.Q6J("ngIf",Pe.lcZ(16,11,t.exportButtonModel$))}}let Jq=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe$=new Ae.xQ,this.podInfoOptions=[],this.policyOrderNum=[],this.buttonOptions={minWidth:"150px"}}ngOnInit(){this.store.dispatch(nq()),this.store.pipe((0,g.Ys)(xq),(0,_e.R)(this.ngUnsubscribe$),(0,ys.x)()).subscribe(e=>{this.setPodAndPolicyOrderNumberList(e)}),this.ikeAssociations$=this.store.select(Eq),this.associationsInfo$=this.store.select(Mq),this.isLoadingData$=this.store.select(Nq),this.isExportInProgress$=this.store.select(Lq),this.exportButtonModel$=this.store.pipe((0,g.Ys)(Lq),(0,ys.x)(_.isEqual),(0,A.U)(e=>this.createExportButtonModel(e,"Export All Associations")))}createExportButtonModel(e,t){const n={label:t,theme:wn.bnJ.Accent};return e&&(n.icon="mdi mdi-loading mdi-spin",n.label="",n.title=`${t} in progress...`),n}exportAllAssociations(){this.store.dispatch(hq()),this.store.dispatch(bq({payload:this.selectedTargetPod}))}setPodAndPolicyOrderNumberList(e){var t;this.podInfoOptions=[...e].filter(e=>!(0,_.isEmpty)(e.orderNumbers)),(0,_.isEmpty)(this.podInfoOptions)&&(this.store.dispatch(lq()),this.store.dispatch(pq())),(!this.selectedTargetPod||this.selectedTargetPod&&!this.isSelectPodInOptions())&&(this.selectedTargetPod=null===(t=this.getSelectDefaultOption(this.podInfoOptions))||void 0===t?void 0:t.name),this.reloadOrderNumbersList()}reloadOrderNumbersList(){var e;const t=null===(e=this.isSelectPodInOptions())||void 0===e?void 0:e.orderNumbers;this.policyOrderNum=t||[],(0,_.isEmpty)(this.policyOrderNum)&&(this.selectedTargetPolicyOrderNum=NaN),(0,_.isEmpty)(this.policyOrderNum)||this.policyOrderNum.includes(this.selectedTargetPolicyOrderNum)||(this.selectedTargetPolicyOrderNum=this.getSelectDefaultOption(this.policyOrderNum),this.stopAndGetIkeAssociations(this.selectedTargetPolicyOrderNum,this.selectedTargetPod))}stopAndGetIkeAssociations(e,t){this.store.dispatch(lq()),this.store.dispatch(aq({payload:{policyId:null==e?void 0:e.toString(),tnlHostName:t}}))}getSelectDefaultOption(e){return e[0]}isSelectPodInOptions(){return this.podInfoOptions.find(e=>e.name===this.selectedTargetPod)}onRowSelection(e){this.store.dispatch(uq({payload:e}))}selectPod(e){var t;const n=null===(t=this.podInfoOptions.find(t=>t.name===e))||void 0===t?void 0:t.orderNumbers;this.policyOrderNum=n||[],this.selectedTargetPolicyOrderNum=this.getSelectDefaultOption(this.policyOrderNum),this.stopAndGetIkeAssociations(this.selectedTargetPolicyOrderNum,this.selectedTargetPod)}selectPolicyOrderNum(e){this.selectedTargetPolicyOrderNum=e,this.stopAndGetIkeAssociations(this.selectedTargetPolicyOrderNum,this.selectedTargetPod)}ngOnDestroy(){this.store.dispatch(iq()),this.store.dispatch(lq()),this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["diagnostic-ipsec-associations"]],decls:6,vars:0,consts:[[1,"ipsec-associactions-panels"],["header",""],["content",""],["fxLayout","column",1,"target-type"],[1,"text-color-label"],["optionLabel","name","optionValue","name","name","selectTargetPod",1,"pod-information",3,"options","ngModel","disabled","ngModelChange","onChange"],["name","selectTargetPolicyOrderNum",1,"pod-information",3,"options","ngModel","disabled","onChange","ngModelChange"],[4,"ngIf","ngIfElse"],["fetchingData",""],[1,"export-container"],[4,"ngIf"],[3,"ikeAssociations"],[3,"associationsInfos","rowSelection"],[1,"data-loading-spinner"],[1,"export-button",3,"disabled","model","options","action"],[1,"export-notification"],[1,"information-icon","mdi","mdi-information"]],template:function(e,t){1&e&&(Pe.TgZ(0,"div",0),Pe.TgZ(1,"ui-webem-panel"),Pe.YNc(2,qq,1,0,"ng-template",null,1,Pe.W1O),Pe.YNc(4,Yq,17,13,"ng-template",null,2,Pe.W1O),Pe.qZA(),Pe.qZA())},directives:[nM.y,xi.Lt,xn.JJ,xn.On,m.O5,Fq,$q,mo.O,Ui.r],pipes:[m.Ov],styles:[".ipsec-associactions-panels[_ngcontent-%COMP%]{display:flex;padding:10px 15px 23px;flex-direction:column;flex:1 1 100%;max-width:100%;box-sizing:border-box}.target-type[_ngcontent-%COMP%]{margin-bottom:20px}.pod-information[_ngcontent-%COMP%]{display:block;width:306px;padding:0;border-color:#98a2ae;margin-bottom:15px;height:26px}.text-color-label[_ngcontent-%COMP%]{color:#4d5766;font-size:11px}.export-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#98a2ae;margin-top:10px}.export-container[_ngcontent-%COMP%]   .export-notification[_ngcontent-%COMP%]{position:relative;left:12px}.export-container[_ngcontent-%COMP%]   .export-notification[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:4px}.export-container[_ngcontent-%COMP%]   .export-notification[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#98a2ae;height:100%;vertical-align:super}"]}),e})(),Hq=(()=>{class e{transform(e){return[{key:"Local IP address/prefix",value:`${e.localIpAddress?`${e.localIpAddress}`:tg.v}/${e.localIpPrefixLength?`${e.localIpPrefixLength}`:tg.v}`},{key:"Local IP port",value:e.localIpPort?`${e.localIpPort}`:tg.v},{key:"Protocol",value:e.protocol?`${e.protocol}`:tg.v},{key:"Remote IP address/prefix",value:`${e.remoteIpAddress?`${e.remoteIpAddress}`:tg.v}/${e.remoteIpPrefixLength?`${e.remoteIpPrefixLength}`:tg.v}`},{key:"Remote IP port",value:e.remoteIpPort?`${e.remoteIpPort}`:tg.v}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Pe.Yjl({name:"ipSecurityAssociationInfoDetailsPropertiesPipe",type:e,pure:!0}),e})();function Wq(e,t){if(1&e&&(Pe.ynx(0),Pe._UZ(1,"ui-webem-details-section",3),Pe.ALo(2,"ipSecurityAssociationInfoDetailsPropertiesPipe"),Pe.ALo(3,"async"),Pe.BQk()),2&e){const e=Pe.oxw();Pe.xp6(1),Pe.Q6J("data",Pe.lcZ(2,1,Pe.lcZ(3,3,e.associationsInfo$)))}}function Qq(e,t){1&e&&Pe._UZ(0,"ui-webem-no-selected-message",4)}const zq=[{path:"",component:Jq,outlet:"content_center"},{path:"",component:(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new Ae.xQ}ngOnInit(){this.associationsInfo$=this.store.pipe((0,_e.R)(this.ngUnsubscribe),(0,g.Ys)(kq))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(Pe.Y36(g.yh))},e.\u0275cmp=Pe.Xpm({type:e,selectors:[["ipsec-association-info-details"]],inputs:{associationsInfos:"associationsInfos"},decls:5,vars:4,consts:[[1,"ip-security-association-info-details"],[4,"ngIf","ngIfElse"],["noSelectedAssociationsInfos",""],["title","Traffic selector",3,"data"],["message","No association information selected",1,"details-empty-data"]],template:function(e,t){if(1&e&&(Pe.TgZ(0,"webem-details-panel",0),Pe.YNc(1,Wq,4,5,"ng-container",1),Pe.ALo(2,"async"),Pe.YNc(3,Qq,1,0,"ng-template",null,2,Pe.W1O),Pe.qZA()),2&e){const e=Pe.MAs(4);Pe.xp6(1),Pe.Q6J("ngIf",Pe.lcZ(2,2,t.associationsInfo$))("ngIfElse",e)}},directives:[$p.V,m.O5,B_.h,rg.G],pipes:[m.Ov,Hq],styles:[".ip-security-association-info-details[_ngcontent-%COMP%]   ui-webem-details-section[_ngcontent-%COMP%]{padding-bottom:revert;margin-bottom:15px}.ip-security-association-info-details[_ngcontent-%COMP%]   ui-webem-details-section[_ngcontent-%COMP%]     .details-section .section-data .section-row-key{flex:0 0 175px}.ip-security-association-info-details[_ngcontent-%COMP%]   .details-empty-data[_ngcontent-%COMP%]{padding-top:5px}"]}),e})(),outlet:"content_right"},{path:"",component:_R.r,outlet:"content_menu"}];let Kq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({imports:[[m.ez,xi.kW,f.Bz.forChild(zq)],f.Bz]}),e})();function Xq(e){const t=[...e].sort((e,t)=>e.name.localeCompare(t.name,navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0}));return t.forEach(e=>{e.orderNumbers.sort((e,t)=>e-t)}),t}var eB=n(65370),tB=n(56011);let nB=(()=>{class e{constructor(e,t,n,i,o,s,a){this.store=e,this.actions$=t,this.securityService=n,this.pollingService=i,this.webemStateService=o,this.config=s,this.logger=a,this.exportAllAssociationsSummaryText="Export ALL Associations",this.EXPORT_TOAST_MESSAGE={exportStarted:"Export all associations operation started",exportFailed:"Export all associations operation failed",exportSucceeded:"Export all associations operation finished"},this.INFO="info",this.ERROR="error",this.SUCCESS="success",this.subscribeEntityPoliciesWatch$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(nq),(0,dC.zg)(()=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.unsubscribeEntityPoliciesWatch$),(0,A.U)(()=>eq()))))),this.unsubscribeEntityPoliciesWatch$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(iq)),{dispatch:!1}),this.getEntityPolicies$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(eq),(0,MC.z)(()=>this.securityService.securityEntityPoliciesGet().pipe((0,A.U)(e=>tq({payload:Xq(e)})),(0,NC.K)(e=>(this.logger.warn(e),(0,nl.of)(oq()))))))),this.getEntityPoliciesError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(oq),(0,dC.zg)(()=>(0,nl.of)((0,FC.wN)({payload:{severity:"error",summary:"Get IP Security Policy Info",detail:"Get IP security policy info failed"}}),sq())))),this.getIKEPoliciesError$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(dq),(0,dC.zg)(()=>(0,nl.of)((0,FC.wN)({payload:{severity:"error",summary:"Get IP Security Associations Info",detail:"Get IP security associations info failed"}}),pq())))),this.turnSpinnerOn$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(aq),(0,A.U)(()=>gq({isLoadingData:!0})))),this.startIkeAssociationPolling$=(0,oC.GW)(()=>({scheduler:e=LC.P}={})=>this.actions$.pipe((0,oC.l4)(aq),(0,vs.h)(({payload:e})=>!!e.policyId&&!!e.tnlHostName),(0,dC.zg)(({payload:t})=>this.pollingService.getTimer(e).pipe((0,_e.R)(this.stopIkePoliciesPolling$),(0,A.U)(()=>rq({payload:t})))))),this.stopIkePoliciesPolling$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(lq)),{dispatch:!1}),this.getIkeAssociationsRequest$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(rq),(0,MC.z)(({payload:e})=>this.securityService.securityIkePoliciesGet(e).pipe((0,dC.zg)(e=>[cq({payload:iB(e)}),gq({isLoadingData:!1})]),(0,NC.K)(e=>(this.logger.warn(e),(0,nl.of)(dq(),gq({isLoadingData:!1})))))))),this.exportAllAssociationsStartedNotification$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(hq),(0,dC.zg)(()=>[(0,FC.wN)({payload:{summary:this.exportAllAssociationsSummaryText,detail:this.EXPORT_TOAST_MESSAGE.exportStarted,severity:this.INFO}})]))),this.exportAllAssociationsFailed$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(mq),(0,dC.zg)(()=>[(0,FC.wN)({payload:{summary:this.exportAllAssociationsSummaryText,detail:this.EXPORT_TOAST_MESSAGE.exportFailed,severity:this.ERROR}})]))),this.exportAllAssociationsSucceed$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(fq),(0,dC.zg)(()=>[(0,FC.wN)({payload:{summary:this.exportAllAssociationsSummaryText,detail:this.EXPORT_TOAST_MESSAGE.exportSucceeded,severity:this.SUCCESS}})]))),this.exportAllAssociationsRequest$=(0,oC.GW)(()=>this.actions$.pipe((0,oC.l4)(bq),(0,dC.zg)(({payload:e})=>(this.store.dispatch(Cq({isExportInProgress:!0})),this.securityService.securityIkePoliciesGet({policyId:"All",tnlHostName:e}).pipe((0,A.U)(t=>{const n=iB(t),i=this.webemStateService.getWebemState();return this.exportAsCsv$(n,e,i,this.config.SNAPSHOT_NAME_PARAMETERS),this.store.dispatch(Cq({isExportInProgress:!1})),fq()}),(0,NC.K)(e=>(this.logger.warn(e),this.store.dispatch(Cq({isExportInProgress:!1})),(0,nl.of)(mq()))))))))}exportAsCsv$(e,t,n,i){const o=function(e,t,n){let i="";t&&(i=n.filter(e=>t[e]).reduce((e,n)=>`${e}${t[n]}_`,""),i=_.isEmpty(i)?"":`MRBTS-${i}`);const o=(new ls.ou).toFormattedFileDateTime();return(0,eM.nS)(`IP security associations_${i}${e}_${o}`)}(t,n,i),s=['Note: two tables on this sheet, you can search keyword "IKE associations" and "Association information" to find them.'],a=[""],r=e.ikeAssociations.map(e=>{const t=[];return t.push(e.policyOrderNumber?e.policyOrderNumber.toString():tg.v),t.push(e.ikeSaReqId?e.ikeSaReqId.toString():tg.v),t.push(e.localTunnelEndPoint||tg.v),t.push(e.remoteTunnelEndPoint||tg.v),t.push(e.status||tg.v),t.push(e.mode||tg.v),t}),l=e.associationsInfos.map(e=>{const t=[];return t.push(e.policyOrderNumber?e.policyOrderNumber.toString():tg.v),t.push(e.ipsecSaReqId?e.ipsecSaReqId.toString():tg.v),t.push(e.localIpAddress||tg.v),t.push(e.remoteIpAddress||tg.v),t.push(e.localIpPrefixLength?e.localIpPrefixLength.toString():tg.v),t.push(e.remoteIpPrefixLength?e.remoteIpPrefixLength.toString():tg.v),t.push(e.localIpPort?e.localIpPort.toString():tg.v),t.push(e.remoteIpPort?e.remoteIpPort.toString():tg.v),t.push(e.protocol?e.protocol.toString():tg.v),t.push(e.peerState||tg.v),t.push(e.inboundSPI||tg.v),t.push(e.outboundSPI||tg.v),t}),c=[["IKE associations"]].concat([["Policy order number","IKE request ID","Local tunnel endpoint","Remote tunnel endpoint","Status","Mode"]]).concat(r),d=[["Association information"]].concat([["Policy order number","Association request ID","Local IP address","Remote IP address","Local IP prefix length","Remote IP prefix length","Local IP port","Remote IP port","Protocol","Peer state","Inbound SPI","Outbound SPI"]]).concat(l);return new eB.J0([s].concat(a).concat(c).concat(a).concat(d),o,{header:s})}}return e.\u0275fac=function(t){return new(t||e)(Pe.LFG(g.yh),Pe.LFG(oC.eX),Pe.LFG(PS.I),Pe.LFG(ls.xj),Pe.LFG(ls.lu),Pe.LFG(tB.S),Pe.LFG(iS.Kf))},e.\u0275prov=Pe.Yz7({token:e,factory:e.\u0275fac}),e})();function iB(e){const t=e.associationsInfos.reduce((e,t)=>{const n=t.trafficSelectors.map(e=>Object.assign({inboundSPI:t.inboundSPI,ipsecSaReqId:t.ipsecSaReqId,outboundSPI:t.outboundSPI,peerState:t.peerState,policyOrderNumber:t.policyOrderNumber},e));return e.concat(n)},[]);return{associationsInfos:_.sortBy(t,[e=>e.ipsecSaReqId]),ikeAssociations:_.sortBy(e.ikeAssociations,[e=>e.ikeSaReqId])}}var oB=n(97721);let sB=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pe.oAB({type:e}),e.\u0275inj=Pe.cJS({providers:[Fq],imports:[[m.ez,wn.Fme,fC.oS,f.Bz,wn.QGW,wn.upY,wn.EJq,oB.E,wn.g3K,wn.gkd,nU.F,Kq,xi.kW,g.Aw.forFeature(vq,Pq),g.Aw.forFeature(wq,Tq),oC.sQ.forFeature([nB]),xn.UX,xn.u5]]}),e})()},56061:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AlarmActiveModule:()=>Ye});var i=n(62800),o=n(12057),s=n(60697),a=n(12021),r=(()=>(function(e){e.SetAlarms="[alarms-page] SetAlarms",e.SetCurrentPage="[User] [alarms-page] SetCurrentPage",e.UnsubscribeAlarmsWatch="[User] [alarms-page] UnsubscribeAlarmsWatch",e.SubscribeAlarmsWatch="[User] [alarms-page] SubscribeAlarmsWatch",e.AlarmsRequest="[alarms-page] AlarmsRequest",e.SubscribeAlarmsError="[alarms-page] SubscribeAlarmsError",e.ExportAlarms="[User] [alarms-page] ExportAlarms",e.SetItemsPerPage="[alarms-page] SetItemsPerPage",e.IsLoadingData="[alarms-page] Is Loading Data",e.ClearActiveAlarmData="[alarms-page] Clear Active Alarm Data"}(r||(r={})),r))();class l{constructor(e){this.payload=e,this.type=r.SetAlarms}}class c{constructor(e){this.payload=e,this.type=r.SetCurrentPage}}class d{constructor(){this.type=r.UnsubscribeAlarmsWatch}}class u{constructor(){this.type=r.SubscribeAlarmsWatch}}class p{constructor(){this.type=r.AlarmsRequest}}class g{constructor(e){this.error=e,this.type=r.SubscribeAlarmsError}}class h{constructor(){this.type=r.ExportAlarms}}class m{constructor(e){this.payload=e,this.type=r.SetItemsPerPage}}class f{constructor(e){this.payload=e,this.type=r.IsLoadingData}}class b{constructor(){this.type=r.ClearActiveAlarmData}}var C=n(79765);const v=(0,n(23607).H)({selectId:e=>e.uuid}),y=v.getInitialState({total:0,pageSettings:{sortOrder:1,sortField:"appearTime",first:1},itemsPerPage:15,isLoadingData:!0});function S(e=y,t){switch(t.type){case r.SetAlarms:{const{payload:{total:n,alarms:i}}=t;return v.setAll(i,Object.assign(Object.assign({},e),{total:n}))}case r.SetCurrentPage:return Object.assign(Object.assign({},e),{pageSettings:t.payload});case r.SetItemsPerPage:return Object.assign(Object.assign({},e),{itemsPerPage:t.payload});case r.IsLoadingData:return Object.assign(Object.assign({},e),{isLoadingData:t.payload});case r.ClearActiveAlarmData:return v.setAll([],Object.assign({},y));default:return e}}const{selectAll:P}=v.getSelectors(),O=(0,i.ZF)("ActiveAlarms"),x=(0,i.P1)(O,e=>e.total),w=(0,i.P1)(O,P);var A=n(88002),_=n(45435),T=n(46782),I=(()=>(function(e){e.DESELECT_ACTIVE_ALARM="[User] [Active alarm page] deselect alarm from table",e.SELECT_ACTIVE_ALARM="[User] [Active alarm page] select alarm from table"}(I||(I={})),I))();class E{constructor(e){this.payload=e,this.type=I.SELECT_ACTIVE_ALARM}}class M{constructor(){this.type=I.DESELECT_ACTIVE_ALARM}}var k=n(91928),N=n(90100),L=(()=>(function(e){e.SET_SEVERITY_FILTER_TYPE="[User] [alarm menu] Set alarm severity filter",e.SET_FILTER_KEY="[User] [alarm menu] Set filter key",e.SET_IMPACT_TYPE="[User] [alarm menu] Set filter by impacted cell",e.RESET_SEVERITY_FILTER_TYPE="[User] [alarm menu] Reset alarm severity filter"}(L||(L={})),L))();class D{constructor(e){this.payload=e,this.type=L.SET_SEVERITY_FILTER_TYPE}}class Z{constructor(e){this.payload=e,this.type=L.SET_FILTER_KEY}}class R{constructor(e){this.payload=e,this.type=L.SET_IMPACT_TYPE}}class U{constructor(){this.type=L.RESET_SEVERITY_FILTER_TYPE}}var F=n(93487);const j=(0,i.ZF)("ActiveAlarms"),$=(0,i.P1)(j,e=>e.isLoadingData);var q=n(8678),B=n(74788);const G={warning:!1,minor:!1,major:!1,critical:!1,filterKey:"",filterByImpactedCells:{degraded:!1,faulty:!1,affected:!1,cellIdentity:""},queryIndependented:{shouldDisableCellIdFilter:!0}};function V(e=G,t){switch(t.type){case L.SET_SEVERITY_FILTER_TYPE:return Object.assign(Object.assign({},e),{[t.payload.type]:t.payload.state});case L.SET_FILTER_KEY:return Object.assign(Object.assign({},e),{filterKey:t.payload.key});case L.SET_IMPACT_TYPE:{const n=Object.assign({},e.filterByImpactedCells,t.payload),i={shouldDisableCellIdFilter:!(n.faulty||n.degraded||n.affected)};return n.cellIdentity=i.shouldDisableCellIdFilter?"":n.cellIdentity,Object.assign(Object.assign({},e),{filterByImpactedCells:n,queryIndependented:i})}case L.RESET_SEVERITY_FILTER_TYPE:return G;default:return e}}const Y=(0,i.ZF)("AlarmFilter");var J=n(24235),H=n(72257),W=n(66359),Q=n(76208),z=n(88361),K=n(7067),X=n(66057),ee=n(12332),te=n(24751),ne=n(11918);function ie(e,t){if(1&e){const e=B.EpF();B.TgZ(0,"ui-webem-overlay-menu-bar",12),B.TgZ(1,"div",13),B.TgZ(2,"div",14),B.TgZ(3,"div",15),B.TgZ(4,"div",16),B.TgZ(5,"b"),B._uU(6,"Filter by:"),B.qZA(),B.qZA(),B.qZA(),B.TgZ(7,"p-checkbox",17,18),B.NdJ("onChange",function(){B.CHM(e);const t=B.MAs(8);return B.oxw(2).setFilterTypeWithFaulty(t.checked)}),B.qZA(),B.TgZ(9,"p-checkbox",19,20),B.NdJ("onChange",function(){B.CHM(e);const t=B.MAs(10);return B.oxw(2).setFilterTypeWithDegraded(t.checked)}),B.qZA(),B.TgZ(11,"p-checkbox",21,22),B.NdJ("onChange",function(){B.CHM(e);const t=B.MAs(12);return B.oxw(2).setFilterTypeWithAffected(t.checked)}),B.qZA(),B.TgZ(13,"div",23),B.TgZ(14,"ui-webem-vertical-labeled-input",24),B.NdJ("keyupValueChanged",function(t){return B.CHM(e),B.oxw(2).setFilterTypeWithCellIdentity(t)}),B.qZA(),B.qZA(),B.qZA(),B.qZA(),B.qZA()}if(2&e){const e=B.oxw().ngIf,t=B.oxw();B.Q6J("model",t.filterButton.model)("options",t.filterButton.options),B.xp6(7),B.Q6J("binary",!0)("ngModel",e.filterByImpactedCells.faulty),B.xp6(2),B.Q6J("binary",!0)("ngModel",e.filterByImpactedCells.degraded),B.xp6(2),B.Q6J("binary",!0)("ngModel",e.filterByImpactedCells.affected),B.xp6(3),B.Q6J("value",e.filterByImpactedCells.cellIdentity)("disabled",e.queryIndependented.shouldDisableCellIdFilter)}}function oe(e,t){if(1&e){const e=B.EpF();B.TgZ(0,"div",1),B.TgZ(1,"div",2),B.TgZ(2,"span",3),B._uU(3,"Filter by severity:"),B.qZA(),B.TgZ(4,"ui-webem-toggle-button",4),B.NdJ("change",function(t){B.CHM(e);const n=B.oxw();return n.filter(n.AlarmSeverities.critical,t)}),B._UZ(5,"ui-webem-alarm-severity-icon",5),B.qZA(),B.TgZ(6,"ui-webem-toggle-button",6),B.NdJ("change",function(t){B.CHM(e);const n=B.oxw();return n.filter(n.AlarmSeverities.major,t)}),B._UZ(7,"ui-webem-alarm-severity-icon",5),B.qZA(),B.TgZ(8,"ui-webem-toggle-button",7),B.NdJ("change",function(t){B.CHM(e);const n=B.oxw();return n.filter(n.AlarmSeverities.minor,t)}),B._UZ(9,"ui-webem-alarm-severity-icon",5),B.qZA(),B.TgZ(10,"ui-webem-toggle-button",8),B.NdJ("change",function(t){B.CHM(e);const n=B.oxw();return n.filter(n.AlarmSeverities.warning,t)}),B._UZ(11,"ui-webem-alarm-severity-icon",5),B.qZA(),B.YNc(12,ie,15,10,"ui-webem-overlay-menu-bar",9),B.TgZ(13,"ui-webem-button",10),B.NdJ("action",function(){return B.CHM(e),B.oxw().exportAlarms()}),B.ALo(14,"async"),B.qZA(),B.qZA(),B.TgZ(15,"ui-webem-filter-input",11),B.NdJ("valueChange",function(t){return B.CHM(e),B.oxw().filterKeyChange(t)}),B.qZA(),B.qZA()}if(2&e){const e=t.ngIf,n=B.oxw();B.xp6(4),B.Q6J("checked",e.critical),B.xp6(1),B.Q6J("type",n.alarmTypes.critical),B.xp6(1),B.Q6J("checked",e.major),B.xp6(1),B.Q6J("type",n.alarmTypes.major),B.xp6(1),B.Q6J("checked",e.minor),B.xp6(1),B.Q6J("type",n.alarmTypes.minor),B.xp6(1),B.Q6J("checked",e.warning),B.xp6(1),B.Q6J("type",n.alarmTypes.warning),B.xp6(1),B.Q6J("ngIf",!n.isConfigCu),B.xp6(1),B.Q6J("model",n.saveButtonModel)("disabled",!B.lcZ(14,12,n.totalNumberOfAlarms$)),B.xp6(2),B.Q6J("value",e.filterKey)}}let se=(()=>{class e{constructor(e,t){this.store=e,this.accountConfig=t,this.alarmTypes=s.PPC,this.AlarmSeverities=s.hc7,this.filterButton={model:{icon:"mdi mdi-16px mdi-filter",label:"Impacted Cells",title:"Impacted Cells",theme:s.bnJ.Default,length:s.Wmq.Short},options:{minWidth:"70px",minHeight:"26px"}}}ngOnInit(){this.isConfigCu=this.accountConfig.isConfigCu,this.filterStates$=this.store.pipe((0,i.Ys)(Y)),this.totalNumberOfAlarms$=this.store.select(x),this.saveButtonModel=this.createSaveButtonModel()}filter(e,t){this.store.dispatch(new D({type:e,state:t})),this.store.dispatch(new p)}setImpactTypeForFilterAlarms(e){this.store.dispatch(new R(e)),this.store.dispatch(new p)}setFilterTypeWithCellIdentity({value:e}){this.setImpactTypeForFilterAlarms({cellIdentity:e})}setFilterTypeWithFaulty(e){this.setImpactTypeForFilterAlarms({faulty:e})}setFilterTypeWithDegraded(e){this.setImpactTypeForFilterAlarms({degraded:e})}setFilterTypeWithAffected(e){this.setImpactTypeForFilterAlarms({affected:e})}filterKeyChange(e){this.store.dispatch(new Z({key:e})),this.store.dispatch(new p)}exportAlarms(){this.store.dispatch(new h)}createSaveButtonModel(){return{icon:"mdi mdi-content-save",label:"Save Alarms List",length:s.Wmq.Short}}}return e.\u0275fac=function(t){return new(t||e)(B.Y36(i.yh),B.Y36(J.MQ))},e.\u0275cmp=B.Xpm({type:e,selectors:[["alarm-active-alarms-active-menu"]],decls:2,vars:3,consts:[["class","alarms-menu","fxLayout","row",4,"ngIf"],["fxLayout","row",1,"alarms-menu"],["fxFlex","84","fxLayoutAlign","start start",1,"filters"],[1,"sort-label"],["id","filter-critical",3,"checked","change"],[3,"type"],["id","filter-major",3,"checked","change"],["id","filter-minor",3,"checked","change"],["id","filter-warning",3,"checked","change"],["class","filter-impacted-cells",3,"model","options",4,"ngIf"],["fxLayoutAlign","start",1,"save-alarms-button",3,"model","disabled","action"],["id","filter-search","fxLayoutAlign","end",3,"value","valueChange"],[1,"filter-impacted-cells",3,"model","options"],[1,"p-dialog","filter-panel"],[1,"p-dialog-content"],[1,"content-header"],[1,"menu-label","menu-bold-label"],["label","Faulty cells","name","checkbox",1,"impacted-cells",3,"binary","ngModel","onChange"],["faultyCheckbox",""],["label","Degraded cells","name","checkbox",1,"impacted-cells",3,"binary","ngModel","onChange"],["degradedCheckbox",""],["label","Affected cells","name","checkbox",1,"impacted-cells",3,"binary","ngModel","onChange"],["affectedCheckbox",""],[1,"filter-input"],["id","filterByCellIdentity","inputLabel","Filter by cell identity ID:",3,"value","disabled","keyupValueChanged"]],template:function(e,t){1&e&&(B.YNc(0,oe,16,14,"div",0),B.ALo(1,"async")),2&e&&B.Q6J("ngIf",B.lcZ(1,1,t.filterStates$))},directives:[o.O5,H.xw,H.yH,H.Wh,W.j,Q.U,z.r,K.T,X.o,ee.XZ,te.JJ,te.On,ne.s],pipes:[o.Ov],styles:["[_nghost-%COMP%]     .alarms-menu{justify-content:space-between}[_nghost-%COMP%]     .alarms-menu .filters .sort-label{margin-right:15px;margin-top:4px}[_nghost-%COMP%]     .alarms-menu .filters ui-webem-toggle-button:not(:last-child){margin-right:8px}[_nghost-%COMP%]     .alarms-menu .filters .save-alarms-button{margin-right:15px;border-left:1px solid #98a2ae}[_nghost-%COMP%]     .alarms-menu .filters .save-alarms-button button{min-width:70px;margin-left:15px}[_nghost-%COMP%]     .alarms-menu .filters .filter-impacted-cells{margin-left:7px;margin-right:15px;border-left:1px solid #98a2ae}[_nghost-%COMP%]     .alarms-menu .filters .filter-impacted-cells button{min-width:70px;margin-left:15px}[_nghost-%COMP%]     .alarms-menu .filters .content-header{color:#1b1b1b;margin-bottom:10px}[_nghost-%COMP%]     .alarms-menu .filters .ui-overlaypanel-shifted:after{left:1.25em;right:auto}[_nghost-%COMP%]     .alarms-menu .filters .ui-overlaypanel{left:15px!important}[_nghost-%COMP%]     .alarms-menu .filters .p-dialog.filter-panel .p-dialog-content{width:340px}[_nghost-%COMP%]     .alarms-menu .filters .p-dialog.filter-panel .p-dialog-content .content-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .alarms-menu .filters .p-dialog.filter-panel .filter-input{margin-top:20px}[_nghost-%COMP%]     .alarms-menu #filter-search{width:307px}[_nghost-%COMP%]     .alarms-menu .impacted-cells{display:flex}"]}),e})();var ae=n(2461);let re=(()=>{class e{constructor(e,t,n,i){this.store=e,this.route=t,this.datetimeService=n,this.elRef=i,this.currentHeight=0,this.ngUnsubscribe=new C.xQ}ngOnInit(){this.isLoadingData$=this.store.select($),this.store.dispatch(new f(!0)),this.filterAlarmsOnRedirect(),this.alarms$=this.store.pipe((0,i.Ys)(w),(0,A.U)(e=>e.map(e=>{const t=this.datetimeService.formatFromISO8601(e.appearTime,!0);return Object.assign(Object.assign({},e),{appearTime:t})}))),this.totalNumberOfAlarms$=this.store.pipe((0,i.Ys)(x)),this.itemsPerPage$=this.store.pipe((0,i.Ys)(O),(0,A.U)(e=>e.itemsPerPage)),this.store.dispatch(new u),this.route.events.pipe((0,_.h)(e=>e instanceof a.m2),(0,T.R)(this.ngUnsubscribe)).subscribe(()=>{this.filterAlarmsOnRedirect()})}ngAfterViewChecked(){const e=this.elRef.nativeElement.parentNode&&this.elRef.nativeElement.parentNode.offsetHeight;e&&this.currentHeight!==e&&setTimeout(()=>{this.setItemsPerPageForCurrentHeight(e)})}ngOnDestroy(){this.store.dispatch(new d),this.store.dispatch(new b),this.store.dispatch(new M),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onSelectAlarm({uuid:e,faultId:t}){this.store.dispatch(new E({uuid:e})),"N/A"!==t&&this.store.dispatch(new k.v7({faultId:t}))}onClearSelection(){this.store.dispatch(new M)}onPageChange(e){this.store.dispatch(new f(!0)),this.store.dispatch(new c(e)),this.store.dispatch(new p)}setItemsPerPageForCurrentHeight(e){this.currentHeight=e;const t=Math.floor(e/33);this.store.dispatch(new m(t))}filterAlarmsOnRedirect(){var e;if((null===(e=history.state)||void 0===e?void 0:e.data)&&history.state.data.type===q.b.ALARMS){const e={[F.d.WARNING]:s.hc7.warning,[F.d.MAJOR]:s.hc7.major,[F.d.CRITICAL]:s.hc7.critical,[F.d.MINOR]:s.hc7.minor}[history.state.data.filterType];this.store.dispatch(new U),this.store.dispatch(new D({type:e,state:!0}))}}}return e.\u0275fac=function(t){return new(t||e)(B.Y36(i.yh),B.Y36(a.F0),B.Y36(N.d),B.Y36(B.SBq))},e.\u0275cmp=B.Xpm({type:e,selectors:[["alarm-active-home"]],decls:8,vars:11,consts:[[1,"historical-alarms-container"],[1,"menu"],[1,"content"],[3,"alarms","totalNumberOfAlarms$","loading","itemsPerPage","alarmType","AlarmSelected","clearSelection","PageChanged"]],template:function(e,t){1&e&&(B.TgZ(0,"div",0),B.TgZ(1,"div",1),B._UZ(2,"alarm-active-alarms-active-menu"),B.qZA(),B.TgZ(3,"div",2),B.TgZ(4,"ui-webem-alarms-table",3),B.NdJ("AlarmSelected",function(e){return t.onSelectAlarm(e)})("clearSelection",function(){return t.onClearSelection()})("PageChanged",function(e){return t.onPageChange(e)}),B.ALo(5,"async"),B.ALo(6,"async"),B.ALo(7,"async"),B.qZA(),B.qZA(),B.qZA()),2&e&&(B.xp6(4),B.Q6J("alarms",B.lcZ(5,5,t.alarms$))("totalNumberOfAlarms$",t.totalNumberOfAlarms$)("loading",B.lcZ(6,7,t.isLoadingData$))("itemsPerPage",B.lcZ(7,9,t.itemsPerPage$))("alarmType","active"))},directives:[se,ae.l],pipes:[o.Ov],styles:[".menu[_ngcontent-%COMP%]{padding-top:9px;padding-bottom:9px;border-bottom:1px solid #98a2ae}.content[_ngcontent-%COMP%]{padding-top:10px}.historical-alarms-container[_ngcontent-%COMP%]{padding:0 15px;background-color:#edf2f5;height:100%}"]}),e})();const le={};function ce(e=le,t){switch(t.type){case I.DESELECT_ACTIVE_ALARM:return{};case I.SELECT_ACTIVE_ALARM:{const{payload:{uuid:n}}=t;return Object.assign(Object.assign({},e),{selectedUuid:n})}default:return e}}const de=(0,i.ZF)("SelectedAlarm"),ue=(0,i.P1)(de,e=>e.selectedUuid);var pe=n(43190),ge=n(9112),he=n(11708),me=n(50536),fe=n(95260),be=n(49201),Ce=n(59290),ve=n(23815);let ye=(()=>{class e{constructor(e,t,n){this.alarmParametersMapper=e,this.faultParametersMapper=t,this.accountConfig=n}createModel(e,t){const n=e&&[this.createSimpleAlarmEntry(e,"severity"),this.createSimpleAlarmEntry(e,"appearTime"),this.createSimpleAlarmEntry(e,"lastUpdatedTime"),this.createSimpleAlarmEntry(e,"alarmId"),this.createSimpleAlarmEntry(e,"alarmName"),this.createSimpleAlarmEntry(e,"faultId"),this.createSimpleAlarmEntry(e,"faultName"),this.createSimpleAlarmEntry(e,"alarmingObject"),this.createSimpleAlarmEntry(e,"eventTypeName"),this.createSimpleAlarmEntry(e,"probableCauseName"),this.createSimpleAlarmEntry(e,"additionalInfo")];let i;return e&&this.accountConfig.getNetElementType()===J.dV.VDU&&(null==n||n.push(this.createImpactedCellsEntry(e,"faultyCells"),this.createImpactedCellsEntry(e,"degradedCells"),this.createImpactedCellsEntry(e,"affectedCells"))),i=t?[this.createSimpleFaultEntry(t,"meaning"),this.createSimpleFaultEntry(t,"instruction")]:[{key:"Meaning",value:"N/A"},{key:"Instruction",value:"N/A"}],{alarm:n,fault:i}}createSimpleAlarmEntry(e,...t){return{key:t.map(e=>this.alarmParametersMapper.getUiName(e)||"<NOT-MAPPED-PROPERTY>").join("/"),value:t.map(t=>(0,Ce.j8)(e[t])).join("/")}}createImpactedCellsEntry(e,t){var n;const i=null===(n=e[t])||void 0===n?void 0:n.impactScope;return{key:this.alarmParametersMapper.getUiName(t)||"<NOT-MAPPED-PROPERTY>",value:"cells"===i?e[t].impactOnCells.length:["all","none","unknown"].includes(i)?(0,ve.capitalize)(i):be.v}}createSimpleFaultEntry(e,...t){return{key:t.map(e=>this.faultParametersMapper.getUiName(e)||"<NOT-MAPPED-PROPERTY>").join("/"),value:t.map(t=>(0,Ce.j8)(e[t])).join("/")}}}return e.\u0275fac=function(t){return new(t||e)(B.LFG(me.v),B.LFG(fe.Q),B.LFG(J.MQ))},e.\u0275prov=B.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Se=n(89635);function Pe(e,t){if(1&e&&(B.ynx(0),B._UZ(1,"alarm-details",1),B.BQk()),2&e){const e=t.ngIf;B.xp6(1),B.Q6J("selectedAlarmDataInput",e)}}let Oe=(()=>{class e{constructor(e,t,n){this.store=e,this.alarmDescriptionModelService=t,this.datetimeService=n}ngOnInit(){this.selection$=this.store.pipe((0,i.Ys)(ue),(0,pe.w)(e=>{const t=this.store.pipe((0,i.Ys)((n=e,(0,i.P1)(O,e=>e.entities[n]))));var n;return(0,ge.aj)([t,t.pipe((0,pe.w)(e=>this.store.pipe((0,i.Ys)((0,he.FL)(e&&e.faultId)))))])}),(0,A.U)(([e,t])=>{if(e&&e.severity){const n=e.severity.toString(),i=this.datetimeService.formatFromISO8601(e.appearTime,!0),o=(0,ve.upperFirst)(n),s=e.lastUpdatedTime&&this.datetimeService.formatFromISO8601(e.lastUpdatedTime,!0),a=(0,ve.pick)(e,["faultyCells","degradedCells","affectedCells"]);return Object.assign(Object.assign(Object.assign({},this.alarmDescriptionModelService.createModel(Object.assign(Object.assign({},e),{appearTime:i,severity:o,lastUpdatedTime:s}),t)),{uuid:e.uuid}),a)}return{}}))}}return e.\u0275fac=function(t){return new(t||e)(B.Y36(i.yh),B.Y36(ye),B.Y36(N.d))},e.\u0275cmp=B.Xpm({type:e,selectors:[["alarm-active-description-content"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"selectedAlarmDataInput"]],template:function(e,t){1&e&&(B.YNc(0,Pe,2,1,"ng-container",0),B.ALo(1,"async")),2&e&&B.Q6J("ngIf",B.lcZ(1,1,t.selection$))},directives:[o.O5,Se.M],pipes:[o.Ov],styles:[""]}),e})();const xe=[{path:"",component:re,outlet:"content_center"},{path:"",component:n(16417).l,outlet:"content_menu"},{path:"",component:Oe,outlet:"content_right"}];let we=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=B.oAB({type:e}),e.\u0275inj=B.cJS({imports:[[o.ez,a.Bz.forChild(xe)],a.Bz]}),e})();var Ae=n(12205),_e=n(17513),Te=n(374),Ie=n(19773),Ee=n(54395),Me=n(57057),ke=n(87479),Ne=n(5304),Le=n(25917),De=n(33637),Ze=n(89651),Re=n(26269),Ue=n(21907),Fe=n(44364),je=n(62959);let $e=(()=>{class e{constructor(e,t,n,o,s,a){this.store=e,this.layoutsConfigService=t,this.actions$=n,this.fmService=o,this.pollingService=s,this.alarmService=a,this.FIRST_PAGE=1,this.UnsubscribeAlarmsWatch$=(0,_e.GW)(()=>this.actions$.pipe((0,_e.l4)(r.UnsubscribeAlarmsWatch)),{dispatch:!1}),this.TurnSpinnerOn$=(0,_e.GW)(()=>this.actions$.pipe((0,_e.l4)(L.SET_SEVERITY_FILTER_TYPE,L.SET_FILTER_KEY),(0,A.U)(()=>new f(!0)))),this.SubscribeAlarmsError$=(0,_e.GW)(()=>this.actions$.pipe((0,_e.l4)(r.SubscribeAlarmsError),(0,Ie.zg)(e=>(0,Le.of)((0,Fe.wN)({payload:{detail:"Failed to retrieve alarms",severity:"error",summary:"Active Alarms"}}))))),this.AlarmsRequest$=(0,_e.GW)(()=>({scheduler:e=De.P,debounce:t=100}={})=>this.actions$.pipe((0,_e.l4)(r.AlarmsRequest),(0,Ee.b)(t,e),(0,Me.M)(this.store.pipe((0,i.Ys)(O))),(0,Me.M)(this.store.pipe((0,i.Ys)(Y))),(0,A.U)(([[,{pageSettings:e,itemsPerPage:t}],n])=>({pageSettings:e,itemsPerPage:t,filterData:n})),(0,ke.z)(({pageSettings:e,itemsPerPage:t,filterData:n})=>this.fmService.getActiveAlarms(this.mapLazyLoadEventToApiInput(e,t,n,!1)).pipe((0,Ie.zg)(e=>(0,Le.of)(new l(e),new f(!1))),(0,Ne.K)(e=>(0,Le.of)(new g(e),new f(!1))))))),this.ExportAlarms$=(0,_e.GW)(()=>({scheduler:e=De.P,debounce:t=100}={})=>this.actions$.pipe((0,_e.l4)(r.ExportAlarms),(0,Ee.b)(t,e),(0,Me.M)(this.store.pipe((0,i.Ys)(O))),(0,Me.M)(this.store.pipe((0,i.Ys)(Y))),(0,A.U)(([[,{pageSettings:e,total:t}],n])=>({pageSettings:e,total:t,filterData:n})),(0,Me.M)(this.store.pipe((0,i.Ys)(this.layoutsConfigService.getStatusBarModel.selectModelState))),(0,Ie.zg)(([{pageSettings:e,total:t,filterData:n},i])=>this.fmService.getActiveAlarms(this.mapLazyLoadEventToApiInput(e,t,n,!0)).pipe((0,A.U)(e=>{this.alarmService.exportAlarmsAsCsv(e.alarms,i,!1)}),(0,Ne.K)(e=>(0,Le.of)(new g(e)))))),{dispatch:!1}),this.SubscribeAlarmsWatch$=(0,_e.GW)(()=>({scheduler:e=De.P}={})=>this.actions$.pipe((0,_e.l4)(r.SubscribeAlarmsWatch),(0,Ie.zg)(()=>this.pollingService.getTimer(e).pipe((0,T.R)(this.UnsubscribeAlarmsWatch$),(0,A.U)(()=>new p)))))}mapLazyLoadEventToApiInput(e,t,n,i){const o=1===e.sortOrder?"asc":"desc",a=i||!e.first?this.FIRST_PAGE:e.first,r=function(){const e=[s.hc7.critical,s.hc7.major,s.hc7.minor,s.hc7.warning];return Object.keys(n).filter(function(t){return-1!==e.indexOf(t)}).reduce(function(e,t){return n[t]?e.concat(t):e},[])}();return{sortedBy:e.sortField,sortOrder:o,itemsPerPage:t,filterBySeverity:r,pageNumber:a,filterByText:n.filterKey,filterByImpactedCells:n.filterByImpactedCells}}}return e.\u0275fac=function(t){return new(t||e)(B.LFG(i.yh),B.LFG(je.p),B.LFG(_e.eX),B.LFG(Ue.SH),B.LFG(Ze.x),B.LFG(Re.T))},e.\u0275prov=B.Yz7({token:e,factory:e.\u0275fac}),e})();var qe=n(74705),Be=n(9938),Ge=n(6639),Ve=n(49088);let Ye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=B.oAB({type:e}),e.\u0275inj=B.cJS({providers:[ye,me.v,fe.Q],imports:[[Ve.s,o.ez,Te.o9,s.F8l,s.EJq,s.OUy,s.hXG,s.lHd,Be._,we,i.Aw.forFeature("AlarmFilter",V),i.Aw.forFeature("ActiveAlarms",S),i.Aw.forFeature("Faults",he.I6),i.Aw.forFeature("SelectedAlarm",ce),_e.sQ.forFeature([$e,qe.Q]),Ae.s,s.f1i,s.jPy,ee.nD,te.u5,Ge.U]]}),e})()},9938:(e,t,n)=>{"use strict";n.d(t,{_:()=>u});var i=n(12057),o=n(46239),s=n(60697),a=n(44748),r=n(49088),l=n(5913),c=n(24751),d=n(74788);let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[c.u5,l.Qy,r.s,i.ez,s.g3K,o.E,a.LU,s.F8l,l.Qy,c.u5]]}),e})();n(89635)},89635:(e,t,n)=>{"use strict";n.d(t,{M:()=>A});var i=n(23815),o=(()=>(function(e){e.All="all",e.None="none",e.Unknown="unknown",e.NotAvailable="notAvailable"}(o||(o={})),o))(),s=(()=>(function(e){e.all="All cells impacted",e.none="No cell impact",e.unknown="Cells unknown",e.notAvailable="No cells to display"}(s||(s={})),s))(),a=n(74788),r=n(24235),l=n(33346),c=n(44748),d=n(12057),u=n(75107),p=n(5913),g=n(24751),h=n(7067);let m=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["ui-webem-detail-section-info"]],inputs:{info:"info"},decls:4,vars:1,consts:[[1,"details-section"],[1,"information-icon","mdi","mdi-information"],[1,"section-info"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a._UZ(1,"i",1),a.TgZ(2,"span",2),a._uU(3),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Oqu(t.info))},styles:[".details-section[_ngcontent-%COMP%]{display:flex!important}.details-section[_ngcontent-%COMP%]   .information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px;color:#98a2ae}.details-section[_ngcontent-%COMP%]   .information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}.details-section[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#98a2ae;font-size:14px;line-height:40px}"]}),e})();function f(e,t){if(1&e&&(a.ynx(0),a._UZ(1,"ui-webem-details-section",6),a.BQk()),2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("title","Fault information")("data",e.selectedAlarmData.fault)}}function b(e,t){if(1&e&&(a.ynx(0),a._UZ(1,"ui-webem-details-section",6),a.YNc(2,f,2,2,"ng-container",7),a.BQk()),2&e){const e=a.oxw();a.xp6(1),a.Q6J("title","Alarm information")("data",e.selectedAlarmData.alarm),a.xp6(1),a.Q6J("ngIf",e.selectedAlarmData.fault)}}function C(e,t){if(1&e&&(a.TgZ(0,"span",13),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.xp6(1),a.hij(" ",e.label," ")}}function v(e,t){if(1&e&&a._UZ(0,"ui-webem-details-section",14),2&e){const e=a.oxw(3);a.Q6J("list",e.impactedCellsList)}}function y(e,t){if(1&e&&a._UZ(0,"ui-webem-detail-section-info",15),2&e){const e=a.oxw(3);a.Q6J("info",e.impactedOnAllCellsInfo)}}function S(e,t){if(1&e&&a._UZ(0,"ui-webem-detail-section-info",15),2&e){const e=a.oxw(3);a.Q6J("info",e.NO_FILTER_INFO)}}function P(e,t){if(1&e){const e=a.EpF();a.ynx(0),a.TgZ(1,"p-selectButton",9),a.NdJ("onChange",function(t){return a.CHM(e),a.oxw(2).selectImpactedType(t.value)})("ngModelChange",function(t){return a.CHM(e),a.oxw(2).selectedImpactedType=t}),a.YNc(2,C,2,1,"ng-template"),a.qZA(),a.TgZ(3,"ui-webem-filter-input",10),a.NdJ("valueChange",function(t){return a.CHM(e),a.oxw(2).filterImpactedCells(t)}),a.qZA(),a.YNc(4,v,1,1,"ui-webem-details-section",11),a.YNc(5,y,1,1,"ui-webem-detail-section-info",12),a.YNc(6,S,1,1,"ui-webem-detail-section-info",12),a.BQk()}if(2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("options",e.IMPACT_CELLS_TYPE)("ngModel",e.selectedImpactedType),a.xp6(2),a.Q6J("value",e.filterValue)("disabled",!e.isCellImpacted()),a.xp6(1),a.Q6J("ngIf",e.impactedCellsList.length),a.xp6(1),a.Q6J("ngIf",e.impactedOnAllCellsInfo),a.xp6(1),a.Q6J("ngIf",e.isCellImpacted()&&!e.impactedCellsList.length)}}function O(e,t){if(1&e&&(a.TgZ(0,"p-tabPanel",8),a.YNc(1,P,7,7,"ng-container",3),a.qZA()),2&e){const e=a.oxw(),t=a.MAs(7);a.xp6(1),a.Q6J("ngIf",e.selectedAlarmData.alarm)("ngIfElse",t)}}function x(e,t){1&e&&(a.TgZ(0,"div",16),a._UZ(1,"i",17),a.TgZ(2,"span",16),a._uU(3," No alarm selected "),a.qZA(),a.qZA())}const w={[o.All]:s.all,[o.None]:s.none,[o.Unknown]:s.unknown,[o.NotAvailable]:s.notAvailable};let A=(()=>{class e{constructor(e){this.accountConfig=e,this.NO_FILTER_INFO="No data matching filter criteria",this.IMPACT_CELLS_TYPE=[{value:"faultyCells",label:"Faulty Cells"},{value:"degradedCells",label:"Degraded Cells"},{value:"affectedCells",label:"Affected Cells"}]}set selectedAlarmDataInput(e){this.selectedAlarmData=e}ngOnInit(){this.filterValue="",this.selectedImpactedType=this.IMPACT_CELLS_TYPE[0].value}ngOnChanges(e){this.selectedAlarmData=e.selectedAlarmDataInput.currentValue,this.previousAlarmData=e.selectedAlarmDataInput.previousValue,e.selectedAlarmDataInput.firstChange||(0,i.isEqual)(this.selectedAlarmData,this.previousAlarmData)||(this.isAlarmUuidchanged(this.selectedAlarmData,this.previousAlarmData)&&(this.filterValue="",this.selectedImpactedType=this.IMPACT_CELLS_TYPE[0].value),this.updateImpactedCellsData())}isAlarmUuidchanged(e,t){return!(0,i.isEqual)((0,i.get)(e,"uuid"),(0,i.get)(t,"uuid"))}selectImpactedType(e){this.filterValue="",this.selectedImpactedType=e,this.updateImpactedCellsData()}isAlarmImpactOnCells(){return!(0,i.isEmpty)(this.selectedAlarmData[this.selectedImpactedType])&&this.selectedAlarmData[this.selectedImpactedType].impactOnCells&&this.selectedAlarmData[this.selectedImpactedType].impactScope}updateImpactedCellsData(){this.isAlarmImpactOnCells()?(this.impactedCellsList=this.mapToImpactedCellsList(),this.impactedOnAllCellsInfo=this.mapToImpactedAllCellsInfo()):(this.impactedCellsList=[],this.impactedOnAllCellsInfo=w[o.NotAvailable])}mapToImpactedCellsList(){var e;return null===(e=this.selectedAlarmData[this.selectedImpactedType])||void 0===e?void 0:e.impactOnCells.map(e=>`NRCELL-${e.nrCellId} / ${e.nrCellIdentity}`)}mapToImpactedAllCellsInfo(){var e;return w[null===(e=this.selectedAlarmData[this.selectedImpactedType])||void 0===e?void 0:e.impactScope]}isCellImpacted(){var e;return"cells"===(null===(e=this.selectedAlarmData[this.selectedImpactedType])||void 0===e?void 0:e.impactScope)}filterImpactedCells(e){this.filterValue=e,this.impactedCellsList=this.mapToImpactedCellsList().filter(t=>t.includes(e))}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.MQ))},e.\u0275cmp=a.Xpm({type:e,selectors:[["alarm-details"]],inputs:{selectedAlarmDataInput:"selectedAlarmDataInput"},features:[a.TTD],decls:8,vars:6,consts:[[3,"icon","header"],[1,"tabbed-panel"],["header","Overview",3,"selected"],[4,"ngIf","ngIfElse"],["header","Impacted Cells",4,"ngIf"],["noSelectedAlarm",""],[3,"title","data"],[4,"ngIf"],["header","Impacted Cells"],[1,"select-object-buttons",3,"options","ngModel","onChange","ngModelChange"],["id","faulty-cells-filter",3,"value","disabled","valueChange"],[3,"list",4,"ngIf"],[3,"info",4,"ngIf"],[1,"p-button-label","ui-clickable"],[3,"list"],[3,"info"],[1,"no-selection"],["alt","No alarm selected",1,"information-icon","mdi","mdi-information"]],template:function(e,t){if(1&e&&(a.TgZ(0,"webem-details-panel",0),a.TgZ(1,"div",1),a.TgZ(2,"p-tabView"),a.TgZ(3,"p-tabPanel",2),a.YNc(4,b,3,3,"ng-container",3),a.qZA(),a.YNc(5,O,2,2,"p-tabPanel",4),a.qZA(),a.qZA(),a.qZA(),a.YNc(6,x,4,0,"ng-template",null,5,a.W1O)),2&e){const e=a.MAs(7);a.Q6J("icon","mdi mdi-information")("header","Details"),a.xp6(3),a.Q6J("selected",!0),a.xp6(1),a.Q6J("ngIf",t.selectedAlarmData.alarm)("ngIfElse",e),a.xp6(1),a.Q6J("ngIf",!t.accountConfig.isConfigCu)}},directives:[l.V,c.xf,c.x4,d.O5,u.h,p.UN,g.JJ,g.On,h.T,m],styles:["[_nghost-%COMP%]     .details-section #undefined-table .section-row .section-row-key{flex:0 0 110px;align-items:flex-start}[_nghost-%COMP%]     .no-selection{display:flex!important}[_nghost-%COMP%]     .no-selection .information-icon{font-size:26px;margin-right:6px;color:#98a2ae}[_nghost-%COMP%]     .no-selection .information-icon.mdi:before{font-size:unset}[_nghost-%COMP%]     .tabbed-panel{margin-top:-19px;height:calc(100% - 25px)}[_nghost-%COMP%]     .tabbed-panel   p-tabview{height:100%;display:block}[_nghost-%COMP%]     .tabbed-panel   p-tabview p-selectButton .p-button .p-button-label{padding-left:.545em;padding-right:.545em}[_nghost-%COMP%]     .tabbed-panel   p-tabview ui-webem-filter-input{margin-top:10px}[_nghost-%COMP%]     .tabbed-panel   p-tabview ui-webem-details-section{margin-top:30px;display:block}[_nghost-%COMP%]     .tabbed-panel   p-tabview ui-webem-details-section:first-of-type{margin-top:5px;display:block}[_nghost-%COMP%]     .tabbed-panel   .p-tabview{height:100%}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-panels{background-color:#fff;height:100%;padding:10px 0 0;overflow:auto}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-nav{margin-left:0;margin-right:0;border-radius:0}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-nav li:not(.p-highlight):not(.p-disabled):hover{border:none;border-bottom:2px solid #ccf4ff}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-nav li.p-highlight:hover{border:none;border-bottom:3px solid #124191}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-nav li{border:none}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-nav li:focus{box-shadow:none}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-nav li a span{font-size:12px;color:#1b1b1b}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-nav .p-highlight{background-color:#fff;border:none;border-bottom:3px solid #124191}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-nav .p-highlight .p-tabview-title{color:#124191;font-weight:700}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-nav .p-highlight:hover{background-color:#ccf4ff}[_nghost-%COMP%]     .tabbed-panel   .p-tabview .p-tabview-nav .p-tabview-title{line-height:18px}"],changeDetection:0}),e})()},65971:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AlarmHistoryModule:()=>je});var i=n(62800),o=n(12057),s=n(12021),a=(()=>(function(e){e.SetAlarms="[historical-alarms-page] SetAlarms",e.SetCurrentPage="[User] [historical-alarms-page] SetCurrentPage",e.UnsubscribeAlarmsWatch="[User] [historical-alarms-page] UnsubscribeAlarmsWatch",e.SubscribeAlarmsWatch="[User] [historical-alarms-page] SubscribeAlarmsWatch",e.AlarmsRequest="[historical-alarms-page] AlarmsRequest",e.SubscribeAlarmsError="[historical-alarms-page] SubscribeAlarmsError",e.ExportAlarms="[historical-alarms-page] ExportAlarms",e.SetItemsPerPage="[historical-alarms-page] SetItemsPerPage",e.IsLoadingData="[historical-alarms-page] Is Loading Data",e.ClearHistoricalAlarmData="[historical-alarms-page] Clear Historical Alarm Data"}(a||(a={})),a))();const r=(0,i.PH)(a.SetAlarms,(0,i.Ky)()),l=(0,i.PH)(a.SetCurrentPage,(0,i.Ky)()),c=(0,i.PH)(a.UnsubscribeAlarmsWatch),d=(0,i.PH)(a.SubscribeAlarmsWatch),u=(0,i.PH)(a.AlarmsRequest),p=(0,i.PH)(a.SubscribeAlarmsError,(0,i.Ky)()),g=(0,i.PH)(a.ExportAlarms),h=(0,i.PH)(a.SetItemsPerPage,(0,i.Ky)()),m=(0,i.PH)(a.IsLoadingData,(0,i.Ky)()),f=(0,i.PH)(a.ClearHistoricalAlarmData),b=(0,n(23607).H)({selectId:e=>e.uuid}),C=b.getInitialState({total:0,pageSettings:{sortOrder:1,sortField:"appearTime",first:1},itemsPerPage:15,isLoadingData:!0});function v(e=C,t){switch(t.type){case a.SetAlarms:{const{alarms:{total:n,alarms:i}}=t;return b.setAll(i,Object.assign(Object.assign({},e),{total:n}))}case a.SetCurrentPage:return Object.assign(Object.assign({},e),{pageSettings:t.currentPage});case a.SetItemsPerPage:return Object.assign(Object.assign({},e),{itemsPerPage:t.itemsPerPage});case a.IsLoadingData:return Object.assign(Object.assign({},e),{isLoadingData:t.isLoadingData});case a.ClearHistoricalAlarmData:return b.setAll([],Object.assign({},C));default:return e}}const{selectAll:y}=b.getSelectors(),S=(0,i.ZF)("HistoricalAlarms"),P=(0,i.P1)(S,e=>e.total),O=(0,i.P1)(S,y);var x=n(88002),w=(()=>(function(e){e.DESELECT_ACTIVE_ALARM="[User] [Historical alarm page] deselect alarm from table",e.SELECT_ACTIVE_ALARM="[User] [Historical alarm page] select alarm from table"}(w||(w={})),w))();class A{constructor(e){this.payload=e,this.type=w.SELECT_ACTIVE_ALARM}}class _{constructor(){this.type=w.DESELECT_ACTIVE_ALARM}}var T=n(91928),I=n(90100);const E=(0,i.ZF)("HistoricalAlarms"),M=(0,i.P1)(E,e=>e.isLoadingData);var k=n(74788),N=n(60697),L=(()=>(function(e){e.SET_SEVERITY_FILTER_TYPE="[User] [alarm history menu] Set alarm severity filter",e.SET_FILTER_KEY="[User] [alarm history menu] Set filter key",e.SET_IMPACT_TYPE="[User] [alarm history menu] Set filter by affected cell"}(L||(L={})),L))();class D{constructor(e){this.payload=e,this.type=L.SET_SEVERITY_FILTER_TYPE}}class Z{constructor(e){this.payload=e,this.type=L.SET_FILTER_KEY}}class R{constructor(e){this.payload=e,this.type=L.SET_IMPACT_TYPE}}const U={warning:!1,minor:!1,major:!1,critical:!1,filterKey:"",filterByImpactedCells:{degraded:!1,faulty:!1,affected:!1,cellIdentity:""},queryIndependented:{shouldDisableCellIdFilter:!0}};function F(e=U,t){switch(t.type){case L.SET_SEVERITY_FILTER_TYPE:return Object.assign(Object.assign({},e),{[t.payload.type]:t.payload.state});case L.SET_FILTER_KEY:return Object.assign(Object.assign({},e),{filterKey:t.payload.key});case L.SET_IMPACT_TYPE:{const n=Object.assign({},e.filterByImpactedCells,t.payload),i={shouldDisableCellIdFilter:!(n.faulty||n.degraded||n.affected)};return n.cellIdentity=i.shouldDisableCellIdFilter?"":n.cellIdentity,Object.assign(Object.assign({},e),{filterByImpactedCells:n,queryIndependented:i})}default:return e}}const j=(0,i.ZF)("HistoricalAlarmFilter");var $=n(24235),q=n(72257),B=n(66359),G=n(76208),V=n(88361),Y=n(7067),J=n(66057),H=n(12332),W=n(24751),Q=n(11918);function z(e,t){if(1&e){const e=k.EpF();k.TgZ(0,"ui-webem-overlay-menu-bar",12),k.TgZ(1,"div",13),k.TgZ(2,"div",14),k.TgZ(3,"div",15),k.TgZ(4,"div",16),k.TgZ(5,"b"),k._uU(6,"Filter by:"),k.qZA(),k.qZA(),k.qZA(),k.TgZ(7,"p-checkbox",17,18),k.NdJ("onChange",function(){k.CHM(e);const t=k.MAs(8);return k.oxw(2).setFilterTypeWithFaulty(t.checked)}),k.qZA(),k.TgZ(9,"p-checkbox",19,20),k.NdJ("onChange",function(){k.CHM(e);const t=k.MAs(10);return k.oxw(2).setFilterTypeWithDegraded(t.checked)}),k.qZA(),k.TgZ(11,"p-checkbox",21,22),k.NdJ("onChange",function(){k.CHM(e);const t=k.MAs(12);return k.oxw(2).setFilterTypeWithAffected(t.checked)}),k.qZA(),k.TgZ(13,"div",23),k.TgZ(14,"ui-webem-vertical-labeled-input",24),k.NdJ("keyupValueChanged",function(t){return k.CHM(e),k.oxw(2).setFilterTypeWithCellIdentity(t)}),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA()}if(2&e){const e=k.oxw().ngIf,t=k.oxw();k.Q6J("model",t.filterButton.model)("options",t.filterButton.options),k.xp6(7),k.Q6J("binary",!0)("ngModel",e.filterByImpactedCells.faulty),k.xp6(2),k.Q6J("binary",!0)("ngModel",e.filterByImpactedCells.degraded),k.xp6(2),k.Q6J("binary",!0)("ngModel",e.filterByImpactedCells.affected),k.xp6(3),k.Q6J("value",e.filterByImpactedCells.cellIdentity)("disabled",e.queryIndependented.shouldDisableCellIdFilter)}}function K(e,t){if(1&e){const e=k.EpF();k.TgZ(0,"div",1),k.TgZ(1,"div",2),k.TgZ(2,"span",3),k._uU(3,"Filter by severity:"),k.qZA(),k.TgZ(4,"ui-webem-toggle-button",4),k.NdJ("change",function(t){k.CHM(e);const n=k.oxw();return n.filter(n.AlarmSeverities.critical,t)}),k._UZ(5,"ui-webem-alarm-severity-icon",5),k.qZA(),k.TgZ(6,"ui-webem-toggle-button",6),k.NdJ("change",function(t){k.CHM(e);const n=k.oxw();return n.filter(n.AlarmSeverities.major,t)}),k._UZ(7,"ui-webem-alarm-severity-icon",5),k.qZA(),k.TgZ(8,"ui-webem-toggle-button",7),k.NdJ("change",function(t){k.CHM(e);const n=k.oxw();return n.filter(n.AlarmSeverities.minor,t)}),k._UZ(9,"ui-webem-alarm-severity-icon",5),k.qZA(),k.TgZ(10,"ui-webem-toggle-button",8),k.NdJ("change",function(t){k.CHM(e);const n=k.oxw();return n.filter(n.AlarmSeverities.warning,t)}),k._UZ(11,"ui-webem-alarm-severity-icon",5),k.qZA(),k.YNc(12,z,15,10,"ui-webem-overlay-menu-bar",9),k.TgZ(13,"ui-webem-button",10),k.NdJ("action",function(){return k.CHM(e),k.oxw().exportAlarms()}),k.ALo(14,"async"),k.qZA(),k.qZA(),k.TgZ(15,"ui-webem-filter-input",11),k.NdJ("valueChange",function(t){return k.CHM(e),k.oxw().filterKeyChange(t)}),k.qZA(),k.qZA()}if(2&e){const e=t.ngIf,n=k.oxw();k.xp6(4),k.Q6J("checked",e.critical),k.xp6(1),k.Q6J("type",n.alarmTypes.critical),k.xp6(1),k.Q6J("checked",e.major),k.xp6(1),k.Q6J("type",n.alarmTypes.major),k.xp6(1),k.Q6J("checked",e.minor),k.xp6(1),k.Q6J("type",n.alarmTypes.minor),k.xp6(1),k.Q6J("checked",e.warning),k.xp6(1),k.Q6J("type",n.alarmTypes.warning),k.xp6(1),k.Q6J("ngIf",!n.isConfigCu),k.xp6(1),k.Q6J("model",n.saveButtonModel)("disabled",!k.lcZ(14,12,n.totalNumberOfAlarms$)),k.xp6(2),k.Q6J("value",e.filterKey)}}let X=(()=>{class e{constructor(e,t){this.store=e,this.accountConfig=t,this.alarmTypes=N.PPC,this.AlarmSeverities=N.hc7,this.filterButton={model:{icon:"mdi mdi-16px mdi-filter",label:"Impacted Cells",title:"Impacted Cells",theme:N.bnJ.Default,length:N.Wmq.Short},options:{minWidth:"70px",minHeight:"26px"}}}ngOnInit(){this.isConfigCu=this.accountConfig.isConfigCu,this.filterStates$=this.store.pipe((0,i.Ys)(j)),this.totalNumberOfAlarms$=this.store.select(P),this.saveButtonModel=this.createSaveButtonModel()}filter(e,t){this.store.dispatch(new D({type:e,state:t})),this.store.dispatch(u())}setImpactTypeForFilterAlarms(e){this.store.dispatch(new R(e)),this.store.dispatch(u())}setFilterTypeWithCellIdentity({value:e}){this.setImpactTypeForFilterAlarms({cellIdentity:e})}setFilterTypeWithFaulty(e){this.setImpactTypeForFilterAlarms({faulty:e})}setFilterTypeWithDegraded(e){this.setImpactTypeForFilterAlarms({degraded:e})}setFilterTypeWithAffected(e){this.setImpactTypeForFilterAlarms({affected:e})}filterKeyChange(e){this.store.dispatch(new Z({key:e})),this.store.dispatch(u())}exportAlarms(){this.store.dispatch(g())}createSaveButtonModel(){return{icon:"mdi mdi-content-save",label:"Save Alarms List",length:N.Wmq.Short}}}return e.\u0275fac=function(t){return new(t||e)(k.Y36(i.yh),k.Y36($.MQ))},e.\u0275cmp=k.Xpm({type:e,selectors:[["alarm-history-menu"]],decls:2,vars:3,consts:[["class","alarms-menu","fxLayout","row",4,"ngIf"],["fxLayout","row",1,"alarms-menu"],["fxFlex","84","fxLayoutAlign","start start",1,"filters"],[1,"sort-label"],["id","filter-critical",3,"checked","change"],[3,"type"],["id","filter-major",3,"checked","change"],["id","filter-minor",3,"checked","change"],["id","filter-warning",3,"checked","change"],["class","filter-impacted-cells",3,"model","options",4,"ngIf"],["fxLayoutAlign","end",1,"save-alarms-button",3,"model","disabled","action"],["id","filter-search","fxLayoutAlign","end",3,"value","valueChange"],[1,"filter-impacted-cells",3,"model","options"],[1,"p-dialog","filter-panel"],[1,"p-dialog-content"],[1,"content-header"],[1,"menu-label","menu-bold-label"],["label","Faulty cells","name","checkbox",1,"impacted-cells",3,"binary","ngModel","onChange"],["faultyCheckbox",""],["label","Degraded cells","name","checkbox",1,"impacted-cells",3,"binary","ngModel","onChange"],["degradedCheckbox",""],["label","Affected cells","name","checkbox",1,"impacted-cells",3,"binary","ngModel","onChange"],["affectedCheckbox",""],[1,"filter-input"],["id","filterByCellIdentity","inputLabel","Filter by cell identity ID:",3,"value","disabled","keyupValueChanged"]],template:function(e,t){1&e&&(k.YNc(0,K,16,14,"div",0),k.ALo(1,"async")),2&e&&k.Q6J("ngIf",k.lcZ(1,1,t.filterStates$))},directives:[o.O5,q.xw,q.yH,q.Wh,B.j,G.U,V.r,Y.T,J.o,H.XZ,W.JJ,W.On,Q.s],pipes:[o.Ov],styles:["[_nghost-%COMP%]     .alarms-menu .filters .sort-label{margin-right:15px;margin-top:4px}[_nghost-%COMP%]     .alarms-menu .filters ui-webem-toggle-button:not(:last-child){margin-right:8px}[_nghost-%COMP%]     .alarms-menu .filters .save-alarms-button{margin-right:15px;border-left:1px solid #98a2ae}[_nghost-%COMP%]     .alarms-menu .filters .save-alarms-button button{min-width:70px;margin-left:15px}[_nghost-%COMP%]     .alarms-menu .filters .filter-impacted-cells{margin-left:7px;margin-right:15px;border-left:1px solid #98a2ae}[_nghost-%COMP%]     .alarms-menu .filters .filter-impacted-cells button{min-width:70px;margin-left:15px}[_nghost-%COMP%]     .alarms-menu .filters .filter-impacted-cells .ui-overlaypanel-shifted:after{left:1.25em;right:auto}[_nghost-%COMP%]     .alarms-menu .filters .filter-impacted-cells .ui-overlaypanel{left:15px!important}[_nghost-%COMP%]     .alarms-menu .filters .content-header{color:#1b1b1b;margin-bottom:10px}[_nghost-%COMP%]     .alarms-menu .filters .p-dialog.filter-panel .p-dialog-content{width:340px}[_nghost-%COMP%]     .alarms-menu .filters .p-dialog.filter-panel .p-dialog-content .content-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .alarms-menu .filters .p-dialog.filter-panel .filter-input{margin-top:20px}[_nghost-%COMP%]     .alarms-menu #filter-search{width:307px}[_nghost-%COMP%]     .alarms-menu .impacted-cells{display:flex}"]}),e})();var ee=n(2461);let te=(()=>{class e{constructor(e,t,n){this.store=e,this.datetimeService=t,this.elRef=n,this.currentHeight=0}ngOnInit(){this.isLoadingData$=this.store.select(M),this.store.dispatch(m({isLoadingData:!0})),this.alarms$=this.store.pipe((0,i.Ys)(O),(0,x.U)(e=>e.map(e=>{const t=this.datetimeService.formatFromISO8601(e.appearTime,!0),n=this.datetimeService.formatFromISO8601(e.clearedTime,!0);return Object.assign(Object.assign({},e),{appearTime:t,clearedTime:n})}))),this.totalNumberOfAlarms$=this.store.select(P),this.itemsPerPage$=this.store.pipe((0,i.Ys)(S),(0,x.U)(e=>e.itemsPerPage)),this.store.dispatch(d())}ngAfterViewChecked(){const e=this.elRef.nativeElement.parentNode&&this.elRef.nativeElement.parentNode.offsetHeight;e&&this.currentHeight!==e&&setTimeout(()=>{this.setItemsPerPageForCurrentHeight(e)})}ngOnDestroy(){this.store.dispatch(c()),this.store.dispatch(new _),this.store.dispatch(f())}onSelectAlarm({uuid:e,faultId:t}){this.store.dispatch(new A({uuid:e})),"N/A"!==t&&this.store.dispatch(new T.v7({faultId:t}))}onClearSelection(){this.store.dispatch(new _)}onPageChange(e){this.store.dispatch(m({isLoadingData:!0})),this.store.dispatch(l({currentPage:e})),this.store.dispatch(u())}setItemsPerPageForCurrentHeight(e){this.currentHeight=e;const t=Math.floor(e/33);this.store.dispatch(h({itemsPerPage:t}))}}return e.\u0275fac=function(t){return new(t||e)(k.Y36(i.yh),k.Y36(I.d),k.Y36(k.SBq))},e.\u0275cmp=k.Xpm({type:e,selectors:[["alarm-history-home"]],decls:8,vars:11,consts:[[1,"current-alarms-container"],[1,"menu"],[1,"content"],[3,"alarms","totalNumberOfAlarms$","loading","itemsPerPage","alarmType","AlarmSelected","clearSelection","PageChanged"]],template:function(e,t){1&e&&(k.TgZ(0,"div",0),k.TgZ(1,"div",1),k._UZ(2,"alarm-history-menu"),k.qZA(),k.TgZ(3,"div",2),k.TgZ(4,"ui-webem-alarms-table",3),k.NdJ("AlarmSelected",function(e){return t.onSelectAlarm(e)})("clearSelection",function(){return t.onClearSelection()})("PageChanged",function(e){return t.onPageChange(e)}),k.ALo(5,"async"),k.ALo(6,"async"),k.ALo(7,"async"),k.qZA(),k.qZA(),k.qZA()),2&e&&(k.xp6(4),k.Q6J("alarms",k.lcZ(5,5,t.alarms$))("totalNumberOfAlarms$",t.totalNumberOfAlarms$)("loading",k.lcZ(6,7,t.isLoadingData$))("itemsPerPage",k.lcZ(7,9,t.itemsPerPage$))("alarmType","historical"))},directives:[X,ee.l],pipes:[o.Ov],styles:[".menu[_ngcontent-%COMP%]{padding-top:9px;padding-bottom:9px;border-bottom:1px solid #98a2ae}.content[_ngcontent-%COMP%]{padding-top:10px}.current-alarms-container[_ngcontent-%COMP%]{padding:0 15px;background-color:#edf2f5;height:100%}"]}),e})();const ne={};function ie(e=ne,t){switch(t.type){case w.DESELECT_ACTIVE_ALARM:return{};case w.SELECT_ACTIVE_ALARM:{const{payload:{uuid:n}}=t;return Object.assign(Object.assign({},e),{selectedUuid:n})}default:return e}}const oe=(0,i.ZF)("SelectedHistoricalAlarm"),se=(0,i.P1)(oe,e=>e.selectedUuid);var ae=n(43190),re=n(9112),le=n(11708),ce=n(50536),de=n(95260),ue=n(49201),pe=n(59290),ge=n(23815);let he=(()=>{class e{constructor(e,t,n){this.alarmParametersMapper=e,this.faultParametersMapper=t,this.accountConfig=n}createModel(e,t){const n=e&&[this.createSimpleAlarmEntry(e,"severity"),this.createSimpleAlarmEntry(e,"appearTime"),this.createSimpleAlarmEntry(e,"clearedTime"),this.createSimpleAlarmEntry(e,"lastUpdatedTime"),this.createSimpleAlarmEntry(e,"alarmId"),this.createSimpleAlarmEntry(e,"alarmName"),this.createSimpleAlarmEntry(e,"faultId"),this.createSimpleAlarmEntry(e,"faultName"),this.createSimpleAlarmEntry(e,"alarmingObject"),this.createSimpleAlarmEntry(e,"eventTypeName"),this.createSimpleAlarmEntry(e,"probableCauseName"),this.createSimpleAlarmEntry(e,"additionalInfo")];let i;return e&&this.accountConfig.getNetElementType()===$.dV.VDU&&(null==n||n.push(this.createImpactedCellsEntry(e,"faultyCells"),this.createImpactedCellsEntry(e,"degradedCells"),this.createImpactedCellsEntry(e,"affectedCells"))),i=t?[this.createSimpleFaultEntry(t,"meaning"),this.createSimpleFaultEntry(t,"instruction")]:[{key:"Meaning",value:"N/A"},{key:"Instruction",value:"N/A"}],{alarm:n,fault:i}}createSimpleAlarmEntry(e,...t){return{key:t.map(e=>this.alarmParametersMapper.getUiName(e)||"<NOT-MAPPED-PROPERTY>").join("/"),value:t.map(t=>(0,pe.j8)(e[t])).join("/")}}createImpactedCellsEntry(e,t){var n;const i=null===(n=e[t])||void 0===n?void 0:n.impactScope;return{key:this.alarmParametersMapper.getUiName(t)||"<NOT-MAPPED-PROPERTY>",value:"cells"===i?e[t].impactOnCells.length:["all","none","unknown"].includes(i)?(0,ge.capitalize)(i):ue.v}}createSimpleFaultEntry(e,...t){return{key:t.map(e=>this.faultParametersMapper.getUiName(e)||"<NOT-MAPPED-PROPERTY>").join("/"),value:t.map(t=>(0,pe.j8)(e[t])).join("/")}}}return e.\u0275fac=function(t){return new(t||e)(k.LFG(ce.v),k.LFG(de.Q),k.LFG($.MQ))},e.\u0275prov=k.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var me=n(89635);function fe(e,t){if(1&e&&(k.ynx(0),k._UZ(1,"alarm-details",1),k.BQk()),2&e){const e=t.ngIf;k.xp6(1),k.Q6J("selectedAlarmDataInput",e)}}let be=(()=>{class e{constructor(e,t,n){this.store=e,this.alarmDescriptionModelService=t,this.datetimeService=n}ngOnInit(){this.selection$=this.store.pipe((0,i.Ys)(se),(0,ae.w)(e=>{const t=this.store.pipe((0,i.Ys)((n=e,(0,i.P1)(S,e=>e.entities[n]))));var n;return(0,re.aj)([t,t.pipe((0,ae.w)(e=>this.store.pipe((0,i.Ys)((0,le.FL)(e&&e.faultId)))))])}),(0,x.U)(([e,t])=>{if(e&&e.severity){const n=e.severity.toString(),i=this.datetimeService.formatFromISO8601(e.appearTime,!0),o=this.datetimeService.formatFromISO8601(e.clearedTime,!0),s=(0,ge.upperFirst)(n),a=e.lastUpdatedTime&&this.datetimeService.formatFromISO8601(e.lastUpdatedTime,!0),r=(0,ge.pick)(e,["faultyCells","degradedCells","affectedCells"]);return Object.assign(Object.assign(Object.assign({},this.alarmDescriptionModelService.createModel(Object.assign(Object.assign({},e),{appearTime:i,clearedTime:o,severity:s,lastUpdatedTime:a}),t)),{uuid:e.uuid}),r)}return{}}))}}return e.\u0275fac=function(t){return new(t||e)(k.Y36(i.yh),k.Y36(he),k.Y36(I.d))},e.\u0275cmp=k.Xpm({type:e,selectors:[["alarm-history-description-content"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"selectedAlarmDataInput"]],template:function(e,t){1&e&&(k.YNc(0,fe,2,1,"ng-container",0),k.ALo(1,"async")),2&e&&k.Q6J("ngIf",k.lcZ(1,1,t.selection$))},directives:[o.O5,me.M],pipes:[o.Ov],styles:[""]}),e})();const Ce=[{path:"",component:te,outlet:"content_center"},{path:"",component:n(16417).l,outlet:"content_menu"},{path:"",component:be,outlet:"content_right"}];let ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=k.oAB({type:e}),e.\u0275inj=k.cJS({imports:[[o.ez,s.Bz.forChild(Ce)],s.Bz]}),e})();var ye=n(17513),Se=n(374),Pe=n(9938),Oe=n(46239),xe=n(12205),we=n(19773),Ae=n(54395),_e=n(57057),Te=n(5304),Ie=n(46782),Ee=n(25917),Me=n(33637),ke=n(89651),Ne=n(26269),Le=n(21907),De=n(44364),Ze=n(62959);let Re=(()=>{class e{constructor(e,t,n,o,s,l){this.store=e,this.layoutsConfigService=t,this.actions$=n,this.fmService=o,this.pollingService=s,this.alarmService=l,this.FIRST_PAGE=1,this.UnsubscribeAlarmsWatch$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(a.UnsubscribeAlarmsWatch)),{dispatch:!1}),this.SubscribeAlarmsError$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(a.SubscribeAlarmsError),(0,we.zg)(e=>(0,Ee.of)((0,De.wN)({payload:{detail:"Failed to retrieve alarms",severity:"error",summary:"Historical Alarms"}}))))),this.TurnSpinnerOn$=(0,ye.GW)(()=>this.actions$.pipe((0,ye.l4)(L.SET_SEVERITY_FILTER_TYPE,L.SET_FILTER_KEY),(0,x.U)(()=>m({isLoadingData:!0})))),this.AlarmsRequest$=(0,ye.GW)(()=>({scheduler:e=Me.P,debounce:t=100}={})=>this.actions$.pipe((0,ye.l4)(a.AlarmsRequest),(0,Ae.b)(t,e),(0,_e.M)(this.store.pipe((0,i.Ys)(S))),(0,_e.M)(this.store.pipe((0,i.Ys)(j))),(0,x.U)(([[,{pageSettings:e,itemsPerPage:t}],n])=>({pageSettings:e,itemsPerPage:t,filterData:n})),(0,we.zg)(({pageSettings:e,itemsPerPage:t,filterData:n})=>this.fmService.getHistoricalAlarms(this.mapLazyLoadEventToApiInput(e,t,n,!1)).pipe((0,we.zg)(e=>(0,Ee.of)(r({alarms:e}),m({isLoadingData:!1}))),(0,Te.K)(e=>(0,Ee.of)(p(e),m({isLoadingData:!1}))))))),this.ExportAlarms$=(0,ye.GW)(()=>({scheduler:e=Me.P,debounce:t=100}={})=>this.actions$.pipe((0,ye.l4)(a.ExportAlarms),(0,Ae.b)(t,e),(0,_e.M)(this.store.pipe((0,i.Ys)(S))),(0,_e.M)(this.store.pipe((0,i.Ys)(j))),(0,x.U)(([[,{pageSettings:e,total:t}],n])=>({pageSettings:e,total:t,filterData:n})),(0,_e.M)(this.store.pipe((0,i.Ys)(this.layoutsConfigService.getStatusBarModel.selectModelState))),(0,we.zg)(([{pageSettings:e,total:t,filterData:n},i])=>this.fmService.getHistoricalAlarms(this.mapLazyLoadEventToApiInput(e,t,n,!0)).pipe((0,x.U)(e=>{this.alarmService.exportAlarmsAsCsv(e.alarms,i,!0)}),(0,Te.K)(e=>(0,Ee.of)(p(e)))))),{dispatch:!1}),this.SubscribeAlarmsWatch$=(0,ye.GW)(()=>({scheduler:e=Me.P}={})=>this.actions$.pipe((0,ye.l4)(a.SubscribeAlarmsWatch),(0,we.zg)(()=>this.pollingService.getTimer(e).pipe((0,Ie.R)(this.UnsubscribeAlarmsWatch$),(0,x.U)(()=>u())))))}mapLazyLoadEventToApiInput(e,t,n,i){const o=1===e.sortOrder?"asc":"desc",s=i||!e.first?this.FIRST_PAGE:e.first,a=function(){const e=[N.hc7.critical,N.hc7.major,N.hc7.minor,N.hc7.warning];return Object.keys(n).filter(function(t){return-1!==e.indexOf(t)}).reduce(function(e,t){return n[t]?e.concat(t):e},[])}();return{sortedBy:e.sortField,sortOrder:o,itemsPerPage:t,filterBySeverity:a,pageNumber:s,filterByText:n.filterKey,filterByImpactedCells:n.filterByImpactedCells}}}return e.\u0275fac=function(t){return new(t||e)(k.LFG(i.yh),k.LFG(Ze.p),k.LFG(ye.eX),k.LFG(Le.SH),k.LFG(ke.x),k.LFG(Ne.T))},e.\u0275prov=k.Yz7({token:e,factory:e.\u0275fac}),e})();var Ue=n(74705),Fe=n(6639);let je=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=k.oAB({type:e}),e.\u0275inj=k.cJS({providers:[he,ce.v,de.Q,$.MQ],imports:[[o.ez,Se.o9,Pe._,N.lHd,N.OUy,N.F8l,N.EJq,Oe.E,N.hXG,ve,i.Aw.forFeature("HistoricalAlarmFilter",F),i.Aw.forFeature("HistoricalAlarms",v),i.Aw.forFeature("Faults",le.I6),i.Aw.forFeature("SelectedHistoricalAlarm",ie),ye.sQ.forFeature([Re,Ue.Q]),xe.s,N.jPy,N.f1i,Fe.U,H.nD]]}),e})()},49088:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var i=n(12057),o=n(60697),s=n(74788);let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,o.y$Z]]}),e})()},16417:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var i=n(16661),o=n(92748),s=n(74788),a=n(56964);let r=(()=>{class e extends o.O{ngOnInit(){this.setMenuItemsMap([i.r.activeAlarms,i.r.historicalAlarms,i.r.faultToggling])}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(e)))(n||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["oam-alarm-shared-webem-alarm-content-menu"]],features:[s.qOj],decls:1,vars:1,consts:[[3,"menuItemsMap"]],template:function(e,t){1&e&&s._UZ(0,"ui-webem-submenu",0),2&e&&s.Q6J("menuItemsMap",t.menuItemsMap)},directives:[a._],encapsulation:2}),e})()},12732:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var i=(()=>(function(e){e.Enabled="enabled",e.Disabled="disabled"}(i||(i={})),i))()},45354:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var i=(()=>(function(e){e.Inactive="Inactive",e.Active="Active"}(i||(i={})),i))()},65202:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var i=(()=>(function(e){e.Available="available",e.Unavailable="unavailable"}(i||(i={})),i))()},85642:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var i=(()=>(function(e){e.Available="available",e.Unavailable="unavailable",e.Conflicting="conflicting"}(i||(i={})),i))()},28649:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var i=(()=>(function(e){e.LockUnlock="lock_unlock"}(i||(i={})),i))()},23930:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var i=(()=>(function(e){e.Simple="simple",e.Complex="complex",e.SimpleList="simpleList"}(i||(i={})),i))()},58016:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var i=(()=>(function(e){e.Locked="locked",e.Unlocked="unlocked"}(i||(i={})),i))()},51001:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var i=(()=>(function(e){e.Locked="Locked",e.Unlocked="Unlocked",e.Unknown="Unknown"}(i||(i={})),i))()},21907:(e,t,n)=>{"use strict";n.d(t,{SH:()=>i.S,Bj:()=>o.B});var i=n(82292),o=n(7587);n(88708)},7324:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CellsMappingModule:()=>Mi});var i=n(12057),o=n(12021),s=n(62800),a=n(54260),r=n(9112),l=n(38523),c=n(87676),d=n(91849),u=(()=>(function(e){e.SetCellView="[User] [Cells mapping] Set cells mapping cell status view",e.SetSelectedCell="[User] [Cells mapping] Set selected cell",e.SetCellDisplayConfigurationParameters="[User] [Cells mapping] Set visible cell parameters",e.ChangeCellSortType="[User] [Cells mapping] Change cell sort type",e.ChangeCellsFilterStateAction="[User] [Cells mapping] Change cell filters",e.ChangeCellGroupBy="[User] [Cells mapping] Change group by",e.ResetCellFilters="[User] [Cells mapping] Reset filters for cells",e.SetFreeSearchText="[User] [Cells mapping] Set free search text",e.Export="[User] [Cells mapping] Export Cells to CSV"}(u||(u={})),u))();const p=(0,s.PH)(u.SetCellView,(0,s.Ky)()),g=(0,s.PH)(u.SetSelectedCell,(0,s.Ky)()),h=(0,s.PH)(u.SetCellDisplayConfigurationParameters,(0,s.Ky)()),m=(0,s.PH)(u.ChangeCellSortType,(0,s.Ky)()),f=(0,s.PH)(u.SetFreeSearchText,(0,s.Ky)()),b=(0,s.PH)(u.ChangeCellsFilterStateAction,(0,s.Ky)()),C=(0,s.PH)(u.ResetCellFilters),v=(0,s.PH)(u.Export),y=(0,s.PH)(u.ChangeCellGroupBy,(0,s.Ky)());var S=(()=>(function(e){e.BY_NRCELL_ID="nrCellId",e.BY_CELL_NAME="cellName",e.BY_SERVING_DU_ID="servingDuId",e.BY_OPERATIONAL_STATE="operationalState",e.BY_ADMINISTRATIVE_STATE="administrativeState"}(S||(S={})),S))(),P=n(23815);const O="cellsMappingCellsState",x={viewType:d.b.TILE,freeSearchText:"",selectedId:-1,displayConfiguration:{actions:!0,cellGroupId:!0,cellName:!0,nrarfcn:!0,nrCellIdentity:!0,physicalLayerCellID:!0,type:!0,technology:!0},sortType:c.j.BY_NR_CELL_ID,filterState:{[S.BY_NRCELL_ID]:"",[S.BY_CELL_NAME]:"",[S.BY_SERVING_DU_ID]:"",[S.BY_OPERATIONAL_STATE]:[],[S.BY_ADMINISTRATIVE_STATE]:[]},groupByConfiguration:{cellGroup:!0}},w=(0,s.Lq)(x,(0,s.on)(p,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),(0,s.on)(g,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedId:(0,P.isNil)(t)?-1:t})),(0,s.on)(h,(e,{payload:t})=>Object.assign(Object.assign({},e),{displayConfiguration:t})),(0,s.on)(m,(e,{payload:t})=>Object.assign(Object.assign({},e),{sortType:t})),(0,s.on)(b,(e,{payload:t})=>Object.assign(Object.assign({},e),{filterState:Object.assign(Object.assign({},e.filterState),t)})),(0,s.on)(f,(e,{payload:t})=>Object.assign(Object.assign({},e),{freeSearchText:t})),(0,s.on)(C,e=>Object.assign(Object.assign({},x),{viewType:e.viewType,selectedId:e.selectedId})),(0,s.on)(y,(e,{payload:t})=>Object.assign(Object.assign({},e),{groupByConfiguration:t})));function A(e,t){return w(e,t)}const _=(0,s.ZF)(O),T=(0,s.P1)(_,e=>e.viewType),I=(0,s.P1)(_,e=>e.selectedId),E=(0,s.P1)(_,e=>e.displayConfiguration),M=(0,s.P1)(_,e=>e.sortType),k=(0,s.P1)(_,e=>e.freeSearchText),N=(0,s.P1)(_,e=>e.filterState),L=(0,s.P1)(_,e=>e.groupByConfiguration),D=(0,s.P1)(M,k,E,N,L,T,(e,t,n,i,o,s)=>e===x.sortType&&t===x.freeSearchText&&(0,P.isEqual)(n,x.displayConfiguration)&&(0,P.isEqual)(i,x.filterState)&&(!(0,P.isEqual)(s,x.viewType)||(0,P.isEqual)(o,x.groupByConfiguration))),Z=(0,s.P1)(_,e=>Object.keys(e.displayConfiguration).every(t=>e.displayConfiguration[t]));var R=n(20518),U=n(8408),F=n(88002),j=n(87519),$=n(74788);const q={[U.k.Locked]:0,[U.k.Unlocked]:1},B={[R.g.Disabled]:0,[R.g.Enabled]:1,[R.g.Testing]:2,null:3},G={[c.j.BY_NR_CELL_ID]:(e,t)=>Y(e.basicCell.id)-Y(t.basicCell.id),[c.j.BY_SERVING_DU]:(e,t)=>Y(e.basicCell.id)-Y(t.basicCell.id),[c.j.BY_ADMINISTRATIVE_STATE]:(e,t)=>q[e.basicCell.administrativeState]-q[t.basicCell.administrativeState],[c.j.BY_OPERATIONAL_STATE]:(e,t)=>B[e.basicCell.operationalState]-B[t.basicCell.operationalState]};let V=(()=>{class e{transform(e,t){return e.sort(G[t])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=$.Yjl({name:"sortCells",type:e,pure:!0}),e})();function Y(e){return Number.parseInt(e,10)}var J=n(9064),H=(()=>(function(e){e.SetDuView="[User] [Cells mapping] Set cells mapping du status view",e.SetSelectedDu="[User] [Cells mapping] Set selected du",e.SetDuDisplayConfigurationParameters="[User] [Cells mapping] Set visible du parameters",e.ChangeDuSortType="[User] [Cells mapping] Change du sort type",e.ChangeDuInputFilterType="[User] [Cells mapping] Change du input filter value",e.ChangeDuTextSearchInput="[User] [Cells mapping] Change du text search value",e.SelectDusAppliedSortAndFilter="[Effect] [Cells mapping] Select dus applied sorting and filtering",e.ResetDuFilters="[User] [Cells mapping] Reset filters for dus"}(H||(H={})),H))();const W=(0,s.PH)(H.SetDuView,(0,s.Ky)()),Q=(0,s.PH)(H.SetSelectedDu,(0,s.Ky)()),z=(0,s.PH)(H.SetDuDisplayConfigurationParameters,(0,s.Ky)()),K=(0,s.PH)(H.ChangeDuSortType,(0,s.Ky)()),X=(0,s.PH)(H.ChangeDuInputFilterType,(0,s.Ky)()),ee=(0,s.PH)(H.ChangeDuTextSearchInput,(0,s.Ky)()),te=((0,s.PH)(H.SelectDusAppliedSortAndFilter),(0,s.PH)(H.ResetDuFilters));var ne=n(29168);const ie="cellsMappingDusState",oe={viewType:d.b.TILE,freeSearchText:"",selectedId:"",sortType:J.V.BY_NRDU_ID,filterState:{[ne.s.BY_NRDU_ID]:"",[ne.s.BY_NRDU_NAME]:"",[ne.s.BY_ADMINISTRATIVE_STATE]:[],[ne.s.BY_F1_LINK_STATUS]:[]},displayConfiguration:{Actions:!0,cellsSummary:!0,gnbDuName:!0,id:!0}},se=(0,s.Lq)(oe,(0,s.on)(W,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),(0,s.on)(Q,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedId:t})),(0,s.on)(z,(e,{payload:t})=>Object.assign(Object.assign({},e),{displayConfiguration:t})),(0,s.on)(K,(e,{payload:t})=>Object.assign(Object.assign({},e),{sortType:t})),(0,s.on)(X,(e,{payload:t})=>Object.assign(Object.assign({},e),{filterState:Object.assign(Object.assign({},e.filterState),t)})),(0,s.on)(ee,(e,{payload:t})=>Object.assign(Object.assign({},e),{freeSearchText:t})),(0,s.on)(te,e=>Object.assign(Object.assign({},oe),{viewType:e.viewType,selectedId:e.selectedId})));function ae(e,t){return se(e,t)}const re=(0,s.ZF)(ie),le=((0,s.P1)(re,e=>e.viewType),(0,s.P1)(re,e=>e.selectedId)),ce=(0,s.P1)(re,e=>e.displayConfiguration),de=(0,s.P1)(re,e=>e.sortType),ue=(0,s.P1)(re,e=>e.filterState),pe=(0,s.P1)(re,e=>e.freeSearchText),ge=(0,s.P1)(de,pe,ue,ce,(e,t,n,i)=>e===oe.sortType&&t===oe.freeSearchText&&(0,P.isEqual)(n,oe.filterState)&&(0,P.isEqual)(i,oe.displayConfiguration)),he=(0,s.P1)(re,e=>Object.keys(e.displayConfiguration).every(t=>e.displayConfiguration[t]));var me=n(48002),fe=(()=>(function(e){e.BY_CELL_GROUP="cellGroup"}(fe||(fe={})),fe))();const be=(0,P.mapValues)(x.groupByConfiguration,()=>!1),Ce=e=>(0,P.mapValues)(x.displayConfiguration,()=>e),ve=e=>(0,r.aj)([e.select(l.nZ),e.select(le)]).pipe((0,F.U)(([e,t])=>e.filter(e=>e.nrDuId===t.toString()))),ye=e=>(0,r.aj)([ve(e),e.select(M),e.select(N),e.select(k)]).pipe((0,j.x)(P.isEqual),(0,F.U)(([e,t,n,i])=>(new V).transform((0,me.b)(e,n,i),t))),Se=(e,t)=>{t.dispatch(m({payload:c.j[e]}))},Pe=()=>{let e;return function(e){e.NR_CELL_IDENTITY="nrCellIdentity",e.PHYSICAL_LAYER_CELL_ID="physicalLayerCellID",e.CELL_NAME="cellName",e.TYPE="type",e.NRARFCN="nrarfcn",e.CELL_GROUP_ID="cellGroupId",e.DU_NAME="duName",e.ACTIONS="actions",e.TECHNOLOGY="technology"}(e||(e={})),[{description:"Present the following data on Cell widget:",localStorageKey:"cells-on-cells-mapping",initialConfig:[e.NR_CELL_IDENTITY,e.PHYSICAL_LAYER_CELL_ID,e.CELL_NAME,e.TECHNOLOGY,e.TYPE,e.NRARFCN,e.CELL_GROUP_ID,e.ACTIONS],options:[{value:e.NR_CELL_IDENTITY,label:"NR Cell identity"},{value:e.PHYSICAL_LAYER_CELL_ID,label:"PCI"},{value:e.CELL_NAME,label:"Cell name"},{value:e.TECHNOLOGY,label:"Cell technology"},{value:e.TYPE,label:"Cell type"},{value:e.NRARFCN,label:"NRARFCN"},{value:e.CELL_GROUP_ID,label:"Cell group ID"},{value:e.ACTIONS,label:"Actions"}],getDataSource:e=>e.select(E).pipe((0,F.U)(e=>Object.keys(e).filter(t=>e[t]))),onFilterChange:(t,n)=>{n.dispatch(h({payload:{nrCellIdentity:t.includes(e.NR_CELL_IDENTITY),physicalLayerCellID:t.includes(e.PHYSICAL_LAYER_CELL_ID),cellName:t.includes(e.CELL_NAME),type:t.includes(e.TYPE),nrarfcn:t.includes(e.NRARFCN),cellGroupId:t.includes(e.CELL_GROUP_ID),actions:t.includes(e.ACTIONS),technology:t.includes(e.TECHNOLOGY)}}))},selectAllInput:{selectAll:e=>e.dispatch(h({payload:Ce(!0)})),deselectAll:e=>e.dispatch(h({payload:Ce(!1)})),isAllSelected:e=>e.select(Z)}}]},Oe=(e,t,n)=>{n.dispatch(b({payload:{[e]:t}}))},xe=(e,t,n)=>{n.dispatch(b({payload:{[e]:t}}))};var we=n(13994),Ae=n(67223),_e=n(34191),Te=n(39284),Ie=n(78008);const Ee=new Te.N,Me=e=>(0,P.mapValues)(oe.displayConfiguration,()=>e),ke=e=>(0,r.aj)([e.select(Ae.cD),e.select(de),e.select(ue),e.select(pe)]).pipe((0,j.x)(P.isEqual),(0,F.U)(([e,t,n,i])=>Ee.transform((0,Ie.e)(e,n,i),t))),Ne=()=>{const e=(e,t)=>{t.dispatch(K({payload:J.V[e]}))};return{description:"Sort DUs by:",defaultSort:J.V.BY_NRDU_ID,groupName:"cellMappingDusSorting",getDataSource:e=>e.pipe((0,s.Ys)(de)),options:[{onChange:e,hint:"Ascending order",label:"NRDU ID",value:J.V.BY_NRDU_ID},{onChange:e,hint:"Locked DU(s) will be displayed as first",label:"Administrative state",value:J.V.BY_ADMINISTRATIVE_STATE},{onChange:e,hint:"Unavailable DU(s) will be displayed as first",label:"F1 link status",value:J.V.BY_F1_LINK_STATUS}]}},Le=()=>{const e=(e,t,n)=>{n.dispatch(X({payload:{[e]:t}}))},t=(e,t,n)=>{n.dispatch(X({payload:{[e]:t}}))};return[{description:"Filter DUs by:",inputs:[{id:ne.s.BY_NRDU_ID,label:"NRDU ID:",setInputFilter:e},{id:ne.s.BY_NRDU_NAME,label:"NRDU name:",setInputFilter:e}],checkboxes:[{id:ne.s.BY_ADMINISTRATIVE_STATE,label:"Administrative state",options:[{label:"Locked",value:U.k.Locked},{label:"Unlocked",value:U.k.Unlocked}],setCheckboxFilter:t},{id:ne.s.BY_F1_LINK_STATUS,label:"F1 link status",options:[{label:"Available",value:_e.y.Available},{label:"Unavailable",value:_e.y.Unavailable}],setCheckboxFilter:t}],getDataSource:e=>e.select(ue)}]},De=()=>{let e;return function(e){e.ID="id",e.GNB_DU_NAME="gnbDuName",e.CELLS_SUMMARY="cellsSummary",e.ACTIONS="Actions"}(e||(e={})),[{description:"Present the following data on DU widget:",initialConfig:[e.ID,e.GNB_DU_NAME,e.CELLS_SUMMARY,e.ACTIONS],options:[{value:e.ID,label:"DU ID"},{value:e.GNB_DU_NAME,label:"DU name"},{value:e.CELLS_SUMMARY,label:"Cell statistics"},{value:e.ACTIONS,label:"Actions"}],getDataSource:e=>e.select(ce).pipe((0,F.U)(e=>Object.keys(e).filter(t=>e[t]))),onFilterChange:(t,n)=>{n.dispatch(z({payload:{Actions:t.includes(e.ACTIONS),id:t.includes(e.ID),gnbDuName:t.includes(e.GNB_DU_NAME),cellsSummary:t.includes(e.CELLS_SUMMARY)}}))},selectAllInput:{selectAll:e=>e.dispatch(z({payload:Me(!0)})),deselectAll:e=>e.dispatch(z({payload:Me(!1)})),isAllSelected:e=>e.select(he)},localStorageKey:"dus-on-cells-mapping"}]};var Ze=n(13742),Re=n(16661),Ue=n(89251),Fe=n(77951),je=n(33013);let $e=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=$.lG2({type:e,selectors:[["","cellsMappingPrimaryTile",""]]}),e})();var qe=n(26215),Be=(()=>(function(e){e.TogglePrimaryPanel="[User] [TogglePrimaryPanel] Toggle primary panel"}(Be||(Be={})),Be))();const Ge=(0,s.PH)(Be.TogglePrimaryPanel),Ve="mappingView",Ye=(0,s.Lq)({togglePrimaryPanel:!0},(0,s.on)(Ge,e=>Object.assign(Object.assign({},e),{togglePrimaryPanel:!e.togglePrimaryPanel})));function Je(e,t){return Ye(e,t)}const He=(0,s.ZF)(Ve),We=(0,s.P1)(He,e=>e.togglePrimaryPanel);let Qe=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=$.lG2({type:e,selectors:[["","cellsMappingSecondaryTileGrid",""]]}),e})();var ze=n(79765),Ke=n(25917),Xe=n(13653),et=n(15257),tt=n(46782),nt=n(68307),it=n(18390);let ot=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=$.lG2({type:e,selectors:[["","cellsMappingPrimaryPanelTile",""]]}),e})(),st=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=$.lG2({type:e,selectors:[["","cellsMappingPrimaryEmptyDataPanelHook",""]]}),e})();var at=n(45740),rt=n(22078),lt=n(14982),ct=n(72689);const dt=["scroll"];function ut(e,t){if(1&e&&$._UZ(0,"status-shared-toolbar-content-filter",7),2&e){const e=$.oxw();$.Q6J("model",e.model.configure)}}function pt(e,t){if(1&e&&$._UZ(0,"status-shared-toolbar-value-filter",7),2&e){const e=$.oxw();$.Q6J("model",e.model.filter)}}function gt(e,t){if(1&e&&$._UZ(0,"status-shared-toolbar-sorter",7),2&e){const e=$.oxw();$.Q6J("model",e.model.sort)}}function ht(e,t){if(1&e&&$._UZ(0,"status-shared-toolbar-text-search",7),2&e){const e=$.oxw();$.Q6J("model",e.model.freeSearch)}}const mt=function(e,t,n){return{data:e,configuration:t,selected:n}},ft=function(e){return{$implicit:e}};function bt(e,t){if(1&e&&($.TgZ(0,"div",12),$.GkF(1,13),$.qZA()),2&e){const e=t.$implicit,n=$.oxw(2).ngIf,i=$.oxw();$.ekj("selected",n.selectedElement===e.id),$.xp6(1),$.Q6J("ngTemplateOutlet",i.primaryPanelTileDirective)("ngTemplateOutletContext",$.VKq(8,ft,$.kEZ(4,mt,e,n.configuration,n.selectedElement===e.id)))}}function Ct(e,t){if(1&e&&($.ynx(0),$.TgZ(1,"virtual-scroller",9,10),$.YNc(3,bt,2,10,"div",11),$.qZA(),$.BQk()),2&e){const e=$.MAs(2),t=$.oxw().ngIf;$.xp6(1),$.Q6J("items",t.allObjects)("scrollDebounceTime",50),$.xp6(2),$.Q6J("ngForOf",e.viewPortItems)}}function vt(e,t){if(1&e&&($.ynx(0),$.YNc(1,Ct,4,3,"ng-container",8),$.BQk()),2&e){const e=t.ngIf;$.oxw();const n=$.MAs(15);$.xp6(1),$.Q6J("ngIf",e.allObjects&&e.allObjects.length&&0!==e.allObjects.length)("ngIfElse",n)}}function yt(e,t){if(1&e&&$.GkF(0,14),2&e){const e=$.oxw();$.Q6J("ngTemplateOutlet",e.primaryEmptyDataPanel)}}const St=function(e,t,n,i){return{configuration:e,selectedElement:t,allObjects:n,selectedView:i}};let Pt=(()=>{class e{constructor(e,t){this.store=e,this.cdr=t,this.ngUnsubscribe=new ze.xQ}ngOnInit(){this.model.startPolling(this.store),this.objects$=this.model.getDataSource(this.store),this.selected$=this.model.getSelected(this.store),this.configuration$=this.model.getConfiguration(this.store),this.selectedView$=this.model.toggle?this.model.toggle.getDataSource(this.store):(0,Ke.of)(d.b.TILE),this.refreshOnTileUiChanges(),this.initialDuSelected$=this.objects$.pipe((0,Xe.T)(1),(0,F.U)(e=>e.length&&e[0]||null)),this.initialDuSelected$.pipe((0,et.q)(1),(0,tt.R)(this.ngUnsubscribe),(0,nt.b)(e=>{e&&this.store.dispatch(Q({payload:parseInt(e.id,10)}))})).subscribe()}ngAfterViewInit(){this.cdr.detectChanges()}ngOnDestroy(){this.model.stopPolling(this.store),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}refreshOnTileUiChanges(){this.configuration$.pipe((0,tt.R)(this.ngUnsubscribe)).subscribe(()=>{this.virtualScroller&&this.virtualScroller.invalidateAllCachedMeasurements()})}}return e.\u0275fac=function(t){return new(t||e)($.Y36(s.yh),$.Y36($.sBO))},e.\u0275cmp=$.Xpm({type:e,selectors:[["cells-mapping-primary-panel"]],contentQueries:function(e,t,n){if(1&e&&($.Suo(n,ot,7,$.Rgc),$.Suo(n,st,7,$.Rgc)),2&e){let e;$.iGM(e=$.CRH())&&(t.primaryPanelTileDirective=e.first),$.iGM(e=$.CRH())&&(t.primaryEmptyDataPanel=e.first)}},viewQuery:function(e,t){if(1&e&&($.Gf(dt,5,$.SBq),$.Gf(dt,5)),2&e){let e;$.iGM(e=$.CRH())&&(t.virtualScrollerRef=e.first),$.iGM(e=$.CRH())&&(t.virtualScroller=e.first)}},inputs:{model:"model"},decls:16,vars:19,consts:[[1,"toolbar"],[1,"header-row"],[1,"title"],[3,"model",4,"ngIf"],[1,"search-row"],[4,"ngIf"],["noData",""],[3,"model"],[4,"ngIf","ngIfElse"],[1,"virtual-scroll-viewport",3,"items","scrollDebounceTime"],["scroll",""],["class","item-wrapper",3,"selected",4,"ngFor","ngForOf"],[1,"item-wrapper"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&($.TgZ(0,"div",0),$.TgZ(1,"div",1),$.TgZ(2,"span",2),$._uU(3),$.qZA(),$.YNc(4,ut,1,1,"status-shared-toolbar-content-filter",3),$.YNc(5,pt,1,1,"status-shared-toolbar-value-filter",3),$.YNc(6,gt,1,1,"status-shared-toolbar-sorter",3),$.qZA(),$.TgZ(7,"div",4),$.YNc(8,ht,1,1,"status-shared-toolbar-text-search",3),$.qZA(),$.qZA(),$.YNc(9,vt,2,2,"ng-container",5),$.ALo(10,"async"),$.ALo(11,"async"),$.ALo(12,"async"),$.ALo(13,"async"),$.YNc(14,yt,1,1,"ng-template",null,6,$.W1O)),2&e&&($.xp6(3),$.Oqu(t.model.title),$.xp6(1),$.Q6J("ngIf",t.model.configure),$.xp6(1),$.Q6J("ngIf",t.model.filter),$.xp6(1),$.Q6J("ngIf",t.model.sort),$.xp6(2),$.Q6J("ngIf",t.model.freeSearch),$.xp6(1),$.Q6J("ngIf",$.l5B(14,St,$.lcZ(10,6,t.configuration$),$.lcZ(11,8,t.selected$),$.lcZ(12,10,t.objects$),$.lcZ(13,12,t.selectedView$))))},directives:[i.O5,at.x,rt.I,lt.H,ct.G,it.Vw,i.sg,i.tP],pipes:[i.Ov],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:minmax(0,max-content) auto;width:100%;height:100%}.virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%;width:calc(100% - 8px);contain:content}.virtual-scroll-viewport[_ngcontent-%COMP%]   .item-wrapper[_ngcontent-%COMP%]{padding:5px 15px}.virtual-scroll-viewport[_ngcontent-%COMP%]   .item-wrapper.selected[_ngcontent-%COMP%]{background-color:#c2c9d2}.toolbar[_ngcontent-%COMP%]{display:grid;grid-template-rows:35px;padding-left:15px}.toolbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center;padding-right:17px}.toolbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:8px}.toolbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{border-top:1px solid #98a2ae}.toolbar[_ngcontent-%COMP%] > .header-row[_ngcontent-%COMP%]{align-items:baseline}.toolbar[_ngcontent-%COMP%] > .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{align-self:self-start;color:#4d5766;font-size:16px}.toolbar[_ngcontent-%COMP%] > .search-row[_ngcontent-%COMP%]{padding-top:9px;padding-bottom:4px;padding-right:39px}@supports (scrollbar-width: auto){.toolbar[_ngcontent-%COMP%] > .search-row[_ngcontent-%COMP%]{padding-right:36px}}.toolbar[_ngcontent-%COMP%] > .search-row[_ngcontent-%COMP%]     ui-webem-filter-input{width:100%;float:unset}"]}),e})(),Ot=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=$.lG2({type:e,selectors:[["","cellsMappingSecondaryTable",""]]}),e})();const xt={minSize:315,size:315,maxSize:380},wt={minSize:15,size:15,maxSize:15},At={size:"*"};let _t=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=$.lG2({type:e,selectors:[["","cellsMappingSecondEmptyDataPanel",""]]}),e})(),Tt=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=$.lG2({type:e,selectors:[["","cellsMappingPrimaryEmptyDataPanel",""]]}),e})();var It=n(92133),Et=n(87571),Mt=n(19182),kt=n(74952),Nt=n(44761),Lt=n(8701),Dt=n(65044),Zt=n(10674),Rt=n(19230),Ut=n(43286);const Ft=function(e){return{$implicit:e}};function jt(e,t){if(1&e&&$.GkF(0,10),2&e){const e=t.$implicit,n=$.oxw(2);$.Q6J("ngTemplateOutlet",n.primaryTileTemplate)("ngTemplateOutletContext",$.VKq(2,Ft,e))}}function $t(e,t){if(1&e&&$.GkF(0,12),2&e){const e=$.oxw(3);$.Q6J("ngTemplateOutlet",e.emptyPrimaryDataComponent)}}function qt(e,t){if(1&e&&($.ynx(0),$.YNc(1,$t,1,1,"ng-container",11),$.ALo(2,"async"),$.BQk()),2&e){const e=$.oxw(2),t=$.MAs(6);$.xp6(1),$.Q6J("ngIf",!$.lcZ(2,2,e.isFetching$))("ngIfElse",t)}}function Bt(e,t){if(1&e&&($.TgZ(0,"div",6),$.ALo(1,"async"),$.TgZ(2,"cells-mapping-primary-panel",7),$.YNc(3,jt,1,4,"ng-container",8),$.YNc(4,qt,3,4,"ng-container",9),$.qZA(),$.qZA()),2&e){const e=$.oxw();$.Udp("visibility",$.lcZ(1,3,e.isPrimaryPanelContentVisible$)?"visible":"hidden"),$.xp6(2),$.Q6J("model",e.primaryModel)}}function Gt(e,t){if(1&e&&$.GkF(0,10),2&e){const e=t.$implicit,n=$.oxw(2);$.Q6J("ngTemplateOutlet",n.secondaryTileGridTemplate)("ngTemplateOutletContext",$.VKq(2,Ft,e))}}function Vt(e,t){if(1&e&&$.GkF(0,10),2&e){const e=t.$implicit,n=$.oxw(2);$.Q6J("ngTemplateOutlet",n.secondaryTableTemplate)("ngTemplateOutletContext",$.VKq(2,Ft,e))}}function Yt(e,t){if(1&e&&$.GkF(0,12),2&e){const e=$.oxw(3);$.Q6J("ngTemplateOutlet",e.emptySecondaryDataComponent)}}function Jt(e,t){if(1&e&&($.ynx(0),$.YNc(1,Yt,1,1,"ng-container",11),$.ALo(2,"async"),$.BQk()),2&e){const e=$.oxw(2),t=$.MAs(8);$.xp6(1),$.Q6J("ngIf",!$.lcZ(2,2,e.isFetching$))("ngIfElse",t)}}function Ht(e,t){if(1&e&&($.TgZ(0,"status-shared-operations-view",13),$.YNc(1,Gt,1,4,"ng-container",14),$.YNc(2,Vt,1,4,"ng-container",15),$.YNc(3,Jt,3,4,"ng-container",16),$.qZA()),2&e){const e=$.oxw();$.Q6J("model",e.secondaryModel)}}function Wt(e,t){if(1&e){const e=$.EpF();$.TgZ(0,"ui-webem-split-panel-toggle-button",17),$.NdJ("click",function(){return $.CHM(e),$.oxw().togglePrimaryPanel()}),$.ALo(1,"async"),$.qZA()}if(2&e){const e=$.oxw();$.Q6J("collapsed",!$.lcZ(1,1,e.isPanelExpanded$))}}function Qt(e,t){1&e&&$._UZ(0,"ui-webem-no-selected-message",18),2&e&&$.Q6J("isLoading",!0)}function zt(e,t){1&e&&$._UZ(0,"ui-webem-spinner",19)}const Kt=function(){return{order:1,align:"center",position:"start"}};let Xt=(()=>{class e{constructor(e){this.store=e,this.SECONDARY_GRID_CONFIGURATION=At,this.isTransitioning=new qe.X(!1)}ngOnInit(){this.primaryModel.startPolling(this.store),this.isPanelExpanded$=this.store.pipe((0,s.Ys)(We)),this.primaryPanelConfiguration$=this.isPanelExpanded$.pipe((0,F.U)(e=>e?xt:wt)),this.isPrimaryPanelContentVisible$=(0,r.aj)([this.isTransitioning.asObservable(),this.isPanelExpanded$]).pipe((0,F.U)(([e,t])=>!(!e&&!t)),(0,j.x)()),this.isFetching$=(0,r.aj)([this.store.select(Ae.Pm),this.store.select(l.QS)]).pipe((0,F.U)(([e,t])=>!e||!t))}ngOnDestroy(){this.primaryModel.stopPolling(this.store)}togglePrimaryPanel(){this.isTransitioning.next(!0),this.store.dispatch(Ge())}}return e.\u0275fac=function(t){return new(t||e)($.Y36(s.yh))},e.\u0275cmp=$.Xpm({type:e,selectors:[["cells-mapping-view"]],contentQueries:function(e,t,n){if(1&e&&($.Suo(n,$e,7,$.Rgc),$.Suo(n,Qe,7,$.Rgc),$.Suo(n,Ot,7,$.Rgc),$.Suo(n,Tt,7,$.Rgc),$.Suo(n,_t,7,$.Rgc)),2&e){let e;$.iGM(e=$.CRH())&&(t.primaryTileTemplate=e.first),$.iGM(e=$.CRH())&&(t.secondaryTileGridTemplate=e.first),$.iGM(e=$.CRH())&&(t.secondaryTableTemplate=e.first),$.iGM(e=$.CRH())&&(t.emptyPrimaryDataComponent=e.first),$.iGM(e=$.CRH())&&(t.emptySecondaryDataComponent=e.first)}},viewQuery:function(e,t){if(1&e&&$.Gf(Pt,5),2&e){let e;$.iGM(e=$.CRH())&&(t.mappingPrimaryPanelComponent=e.first)}},inputs:{primaryModel:"primaryModel",secondaryModel:"secondaryModel"},decls:9,vars:6,consts:[["data-scrollselectors","div.as-split-area:nth-child(3)",1,"mapping-view",3,"transitionEnd"],[3,"uiWebemSplitPanel"],["class","right-side",3,"model",4,"uiWebemSplitPanel"],[3,"uiWebemPanelToggle"],["fetchingPrimaryData",""],["fetchingSecondaryData",""],[1,"left-side"],[3,"model"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"cellsMappingPrimaryPanelTile"],[4,"cellsMappingPrimaryEmptyDataPanelHook"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet",4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],[1,"right-side",3,"model"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"statusSharedTileGridComponent"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"statusSharedTableComponent"],[4,"statusSharedEmptyData"],["collapseIcon","mdi mdi-chevron-left","expandIcon","mdi mdi-chevron-right",3,"collapsed","click"],["message","Fetching DUs",1,"status-empty-data",3,"isLoading"],[1,"data-loading-spinner"]],template:function(e,t){1&e&&($.TgZ(0,"ui-webem-panel-split",0),$.NdJ("transitionEnd",function(){return t.isTransitioning.next(!1)}),$.YNc(1,Bt,5,5,"ng-template",1),$.ALo(2,"async"),$.YNc(3,Ht,4,1,"status-shared-operations-view",2),$.YNc(4,Wt,2,3,"ng-template",3),$.qZA(),$.YNc(5,Qt,1,1,"ng-template",null,4,$.W1O),$.YNc(7,zt,1,0,"ng-template",null,5,$.W1O)),2&e&&($.xp6(1),$.Q6J("uiWebemSplitPanel",$.lcZ(2,3,t.primaryPanelConfiguration$)),$.xp6(2),$.Q6J("uiWebemSplitPanel",t.SECONDARY_GRID_CONFIGURATION),$.xp6(1),$.Q6J("uiWebemPanelToggle",$.DdM(5,Kt)))},directives:[It.a,Et.f,Mt.D,Pt,ot,st,i.tP,i.O5,kt.E,Nt.j,Lt.a,Dt.Z,Zt.t,Rt.G,Ut.O],pipes:[i.Ov],styles:[".mapping-view[_ngcontent-%COMP%]{display:flex;flex-direction:row;--area-toggle-padding:0}.mapping-view[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{min-width:220px;height:100%;padding-top:2px}.mapping-view[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;margin-left:24px;padding-top:2px}.status-empty-data[_ngcontent-%COMP%]{padding-left:15px}"]}),e})();var en=n(83473),tn=n(22395),nn=n(81478),on=n(52187),sn=n(60697),an=n(43190),rn=n(47702),ln=n(49201),cn=n(42488),dn=n(22730),un=n(39088),pn=n(83665),gn=n(52504),hn=n(62039);let mn=(()=>{class e{transform(e){return e.cellsSummary.basicCellsSummary.administrativeState.locked+e.cellsSummary.basicCellsSummary.administrativeState.unlocked}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=$.Yjl({name:"getTotalNumberOfCellsInDu",type:e,pure:!0}),e})();var fn=n(20087),bn=n(96393),Cn=n(67866);function vn(e,t){if(1&e&&$._UZ(0,"ui-webem-status-icon",18),2&e){const e=$.oxw().ngIf,t=$.oxw();$.Q6J("type",e.f1LinkStatus===t.F1_LINK_STATUS.Available?t.STATUS_ICON_TYPE.Success:t.STATUS_ICON_TYPE.Off)("title",e.f1LinkStatus===t.F1_LINK_STATUS.Available?"Available":"Unavailable")}}function yn(e,t){if(1&e&&($.TgZ(0,"span",19),$._uU(1),$.qZA()),2&e){const e=$.oxw(2);$.xp6(1),$.Oqu(e.NO_STATUS_TEXT)}}function Sn(e,t){if(1&e&&($.ynx(0),$._UZ(1,"ui-webem-raised-alarms",20),$.ALo(2,"toActiveAlarms"),$.ALo(3,"getHighestAlarmSeverity"),$.BQk()),2&e){const e=$.oxw().ngIf;$.xp6(1),$.Q6J("alarms",$.lcZ(2,2,e.alarms))("alarmSeverityType",$.lcZ(3,4,e.alarms))}}function Pn(e,t){1&e&&$._UZ(0,"i",21)}function On(e,t){if(1&e){const e=$.EpF();$.TgZ(0,"div",1),$.YNc(1,vn,1,2,"ui-webem-status-icon",2),$.YNc(2,yn,2,1,"ng-template",null,3,$.W1O),$.TgZ(4,"div",4),$._uU(5),$.qZA(),$.TgZ(6,"span",5),$._uU(7),$.ALo(8,"nullableValue"),$.qZA(),$.TgZ(9,"div",6),$._uU(10),$.ALo(11,"getTotalNumberOfCellsInDu"),$.qZA(),$.TgZ(12,"span",7),$.TgZ(13,"span",8),$._uU(14),$.qZA(),$.TgZ(15,"span",9),$._uU(16),$.qZA(),$._UZ(17,"ui-webem-vertical-html-line",10),$.TgZ(18,"span",11),$._uU(19),$.qZA(),$.TgZ(20,"span",12),$._uU(21),$.qZA(),$.qZA(),$.TgZ(22,"div",13),$.YNc(23,Sn,4,6,"ng-container",14),$.ALo(24,"hasAlarms"),$.YNc(25,Pn,1,0,"i",15),$.qZA(),$.TgZ(26,"div",16),$.TgZ(27,"ui-webem-button-with-menu",17),$.NdJ("click",function(){return $.CHM(e),$.oxw().emitToggleAction()}),$.qZA(),$.qZA(),$.qZA()}if(2&e){const e=t.ngIf,n=$.MAs(3),i=$.oxw();$.xp6(1),$.Q6J("ngIf",e.f1LinkStatus)("ngIfElse",n),$.xp6(4),$.AsE(" ",e.name," / ",e.gnbDuId," "),$.xp6(2),$.hij(" ",$.lcZ(8,14,e.gnbDuName)," "),$.xp6(3),$.Oqu($.lcZ(11,16,e)),$.xp6(4),$.Oqu(e.cellsSummary.basicCellsSummary.operationalState.enabled),$.xp6(2),$.Oqu(e.cellsSummary.basicCellsSummary.operationalState.disabled),$.xp6(3),$.Oqu(e.cellsSummary.basicCellsSummary.administrativeState.unlocked),$.xp6(2),$.Oqu(e.cellsSummary.basicCellsSummary.administrativeState.locked),$.xp6(2),$.Q6J("ngIf",$.lcZ(24,18,e)),$.xp6(2),$.Q6J("ngIf",e.administrativeState===i.administrativeState.Locked),$.xp6(2),$.Q6J("buttonConfig",i.optionModel)("menuOptions",e.administrativeState===i.administrativeState.Locked?i.unLockMenu:i.lockMenu)}}let xn=(()=>{class e{constructor(e,t,n){this.store=e,this.confirmationService=t,this.activatedRoute=n,this.ngUnsubscribe=new ze.xQ,this.toggleMenu=new $.vpe,this.operations=(0,Fe.b)(this.store,this.confirmationService,this.activatedRoute),this.F1_LINK_STATUS=_e.y,this.STATUS_ICON_TYPE=rn.Zm,this.optionModel={title:"Actions",icon:"mdi mdi-dots-vertical",theme:sn.bnJ.Secondary,length:sn.Wmq.Long},this.administrativeState=U.k,this.goToPeMenuItem={label:"Go to PE",icon:"mdi mdi-import",command:()=>this.operations.goToPeDu(this.duId)},this.NO_STATUS_TEXT=ln.v}ngOnInit(){this.selectedDu$=this.store.pipe((0,s.Ys)(le),(0,an.w)(e=>(this.duId=e.toString(),this.store.pipe((0,s.Ys)(Ae.sM,{id:e.toString()}),(0,j.x)())))),this.commissioningSubscription=this.store.pipe((0,tt.R)(this.ngUnsubscribe),(0,s.Ys)(cn.f)).subscribe(e=>{this.isCommissioningInProgress=e,this.setMenu()})}setMenu(){this.lockMenu=[{label:"Lock DU",icon:"mdi mdi-lock-open-variant-outline mdi-16px",command:()=>this.operations.lockDu(this.duId),disabled:this.isCommissioningInProgress,roleAccessFlag:dn.M.LOCK_UNLOCK},this.goToPeMenuItem],this.unLockMenu=[{label:"Unlock DU",icon:"mdi mdi-lock-open-variant-outline mdi-16px",command:()=>this.operations.unlockDu(this.duId),disabled:this.isCommissioningInProgress,roleAccessFlag:dn.M.LOCK_UNLOCK},this.goToPeMenuItem]}emitToggleAction(){this.toggleMenu.emit()}}return e.\u0275fac=function(t){return new(t||e)($.Y36(s.yh),$.Y36(je.YP),$.Y36(o.gz))},e.\u0275cmp=$.Xpm({type:e,selectors:[["cells-mapping-ui-webem-du-top-bar-info"]],outputs:{toggleMenu:"toggleMenu"},decls:2,vars:3,consts:[["class","module-info",4,"ngIf"],[1,"module-info"],["class","status-icon",3,"type","title",4,"ngIf","ngIfElse"],["noStatus",""],[1,"module-id"],[1,"location"],["title","All Cells",1,"module-info-left"],[1,"module-body-middle-item","in-one-row"],["title","Cells enabled",1,"operational-state-enabled"],["title","Cells disabled",1,"operational-state-disabled"],[1,"separator"],["title","Cells unlocked",1,"administrative-state-unlocked"],["title","Cells locked",1,"administrative-state-locked"],[1,"icons"],[4,"ngIf"],["class","mdi mdi-lock mdi-16px lock-icon","title","Locked",4,"ngIf"],[1,"operations-button-container","module-body-right"],[3,"buttonConfig","menuOptions","click"],[1,"status-icon",3,"type","title"],["title","No status"],[1,"alarms",3,"alarms","alarmSeverityType"],["title","Locked",1,"mdi","mdi-lock","mdi-16px","lock-icon"]],template:function(e,t){1&e&&($.YNc(0,On,28,20,"div",0),$.ALo(1,"async")),2&e&&$.Q6J("ngIf",$.lcZ(1,1,t.selectedDu$))},directives:[i.O5,un.y,pn.N,gn.m,hn.V],pipes:[i.Ov,ln.c,mn,fn.U,bn.G,Cn.W],styles:[".base-span-rounded[_ngcontent-%COMP%], .module-info[_ngcontent-%COMP%]   .module-body-middle-item[_ngcontent-%COMP%]   .administrative-state-locked[_ngcontent-%COMP%], .module-info[_ngcontent-%COMP%]   .module-body-middle-item[_ngcontent-%COMP%]   .administrative-state-unlocked[_ngcontent-%COMP%], .module-info[_ngcontent-%COMP%]   .module-body-middle-item[_ngcontent-%COMP%]   .operational-state-disabled[_ngcontent-%COMP%], .module-info[_ngcontent-%COMP%]   .module-body-middle-item[_ngcontent-%COMP%]   .operational-state-enabled[_ngcontent-%COMP%]{border-radius:30px;border-style:solid;border-width:1px;opacity:1}.module-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:left;height:37px;line-height:normal}.module-info[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{--status-icon-font-size:13px;padding-left:5px}.module-info[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex}.module-info[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]:before{vertical-align:text-bottom}.module-info[_ngcontent-%COMP%]   .module-id[_ngcontent-%COMP%]{font-size:14px;font-weight:700;padding-left:6px}.module-info[_ngcontent-%COMP%]   .module-id[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.module-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{padding-left:10px}.module-info[_ngcontent-%COMP%]   .module-info-left[_ngcontent-%COMP%]{order:0;font:700 18px Nokia Pure,sans-serif;color:#124191;flex:0 1 auto;justify-content:center;display:flex;height:100%;flex-direction:column;padding-left:22px}.module-info[_ngcontent-%COMP%]   .module-body-right[_ngcontent-%COMP%]{margin-left:20px}.module-info[_ngcontent-%COMP%]   .module-body-middle-item[_ngcontent-%COMP%]{display:flex;padding-left:20px}.module-info[_ngcontent-%COMP%]   .module-body-middle-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 4px;height:16px;font-size:11px;font-weight:700;min-width:25px;text-align:center}.module-info[_ngcontent-%COMP%]   .module-body-middle-item.in-one-row[_ngcontent-%COMP%]{display:flex;height:24px;align-items:center}.module-info[_ngcontent-%COMP%]   .module-body-middle-item.in-one-row[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.module-info[_ngcontent-%COMP%]   .module-body-middle-item[_ngcontent-%COMP%]   .operational-state-enabled[_ngcontent-%COMP%]{background-color:#fff;border-color:#3daa00;color:#3daa00;margin-right:2px}.module-info[_ngcontent-%COMP%]   .module-body-middle-item[_ngcontent-%COMP%]   .operational-state-disabled[_ngcontent-%COMP%]{background-color:#fff;border-color:#98a2ae;color:#98a2ae}.module-info[_ngcontent-%COMP%]   .module-body-middle-item[_ngcontent-%COMP%]   .administrative-state-unlocked[_ngcontent-%COMP%]{background-color:#fff;border-color:#407ee7;color:#407ee7;margin-right:2px}.module-info[_ngcontent-%COMP%]   .module-body-middle-item[_ngcontent-%COMP%]   .administrative-state-locked[_ngcontent-%COMP%]{background-color:#fff;border-color:#4d5766;color:#4d5766}.module-info[_ngcontent-%COMP%]   .alarms[_ngcontent-%COMP%]{padding-left:20px}.module-info[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{padding-left:9px}"]}),e})();var wn=n(10799),An=n(7633),_n=n(55995),Tn=n(63788),In=n(66085);let En=(()=>{class e{transform(e,t){return e&&t?t.map(t=>({cellGroup:t,cells:e.filter(e=>e.basicCell.cellGroupId===t.id)})).filter(e=>e.cells.length>0):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=$.Yjl({name:"combineCellsWithCellGroups",type:e,pure:!0}),e})();function Mn(e,t){if(1&e){const e=$.EpF();$.TgZ(0,"ui-webem-du",7),$.NdJ("click",function(){const t=$.CHM(e).$implicit;return $.oxw().selectDu(t.data)})("lockDu",function(){const t=$.CHM(e).$implicit;return $.oxw().operations.lockDu(t.data.id)})("unlockDu",function(){const t=$.CHM(e).$implicit;return $.oxw().operations.unlockDu(t.data.id)})("goToPe",function(){const t=$.CHM(e).$implicit;return $.oxw().operations.goToPeDu(t.data.id)}),$.qZA()}if(2&e){const e=t.$implicit;$.oxw();const n=$.MAs(1);$.Q6J("container",null==n.mappingPrimaryPanelComponent?null:n.mappingPrimaryPanelComponent.virtualScrollerRef)("du",e.data)("isCellSummaryInOneRow",!0)("isDuSelected",e.selected)("isRedirectionToCellViewAvailable",!1)("visibleDuParameters",e.configuration),$.uIk("data-id",e.data.id)("data-name",e.data.name)}}function kn(e,t){1&e&&$._UZ(0,"cells-mapping-ui-webem-du-top-bar-info")}function Nn(e,t){if(1&e){const e=$.EpF();$.TgZ(0,"ui-webem-cell-tile",18),$.NdJ("lock",function(){const t=$.CHM(e).$implicit;return $.oxw(4).operations.lockCell(t.basicCell.id)})("unlock",function(){const t=$.CHM(e).$implicit;return $.oxw(4).operations.unlockCell(t.basicCell.id)})("goToPe",function(){const t=$.CHM(e).$implicit;return $.oxw(4).operations.goToPe(t.basicCell.id)})("click",function(){const t=$.CHM(e).$implicit;return $.oxw(4).selectCell(t)}),$.qZA()}if(2&e){const e=t.$implicit,n=$.oxw(3).$implicit,i=$.MAs(4);$.Q6J("model",e)("visibleParameters",n.model.configuration)("selected",n.model.selected===e.basicCell.id)("container",i)}}function Ln(e,t){if(1&e){const e=$.EpF();$.TgZ(0,"div",14),$.TgZ(1,"ui-webem-group-tile",15),$.NdJ("goToPe",function(){const t=$.CHM(e).$implicit;return $.oxw(3).operations.goToPeCellGroup(t.cellGroup.id)})("lockAction",function(){const t=$.CHM(e).$implicit;return $.oxw(3).operations.lockCellGroup(t.cellGroup.id)})("unlockAction",function(){const t=$.CHM(e).$implicit;return $.oxw(3).operations.unlockCellGroup(t.cellGroup.id)}),$.qZA(),$.TgZ(2,"div",16),$.YNc(3,Nn,1,4,"ui-webem-cell-tile",17),$.qZA(),$.qZA()}if(2&e){const e=t.$implicit;$.xp6(1),$.Q6J("title",e.cellGroup.id),$.xp6(2),$.Q6J("ngForOf",e.cells)}}function Dn(e,t){if(1&e&&($.ynx(0),$.YNc(1,Ln,4,2,"div",13),$.ALo(2,"combineCellsWithCellGroups"),$.ALo(3,"async"),$.ALo(4,"async"),$.BQk()),2&e){const e=$.oxw().$implicit,t=$.oxw();$.xp6(1),$.Q6J("ngForOf",$.xi3(2,1,$.lcZ(3,4,e.model.data),$.lcZ(4,6,t.cellGroups$)))}}function Zn(e,t){if(1&e){const e=$.EpF();$.TgZ(0,"ui-webem-cell-tile",21),$.NdJ("lock",function(){const t=$.CHM(e).$implicit;return $.oxw(3).operations.lockCell(t.data.id)})("unlock",function(){const t=$.CHM(e).$implicit;return $.oxw(3).operations.unlockCell(t.data.id)})("goToPe",function(){const t=$.CHM(e).$implicit;return $.oxw(3).operations.goToPe(t.data.id)})("click",function(){const t=$.CHM(e).$implicit;return $.oxw(3).selectCell(t.data)}),$.qZA()}if(2&e){const e=t.$implicit;$.oxw(2);const n=$.MAs(4);$.Q6J("model",e.data)("visibleParameters",e.configuration)("selected",e.selected)("container",n)}}function Rn(e,t){if(1&e&&($.TgZ(0,"status-shared-tile-grid",19),$.YNc(1,Zn,1,4,"ui-webem-cell-tile",20),$.qZA()),2&e){const e=$.oxw().$implicit;$.Q6J("model",e.model)}}function Un(e,t){if(1&e&&($.ynx(0),$.TgZ(1,"ui-webem-module-info-bar"),$.YNc(2,kn,1,0,"ng-template",8),$.qZA(),$.TgZ(3,"div",9,10),$.ALo(5,"async"),$.YNc(6,Dn,5,8,"ng-container",11),$.YNc(7,Rn,2,1,"status-shared-tile-grid",12),$.qZA(),$.BQk()),2&e){const e=$.oxw();$.xp6(3),$.Q6J("ngSwitch",$.lcZ(5,2,e.isGroupedInCellGroups$)),$.xp6(3),$.Q6J("ngSwitchCase",!0)}}function Fn(e,t){1&e&&$._UZ(0,"ui-webem-no-selected-message",22)}function jn(e,t){1&e&&$._UZ(0,"cells-mapping-ui-webem-du-top-bar-info")}function $n(e,t){if(1&e){const e=$.EpF();$.ynx(0),$.TgZ(1,"ui-webem-module-info-bar"),$.YNc(2,jn,1,0,"ng-template",8),$.qZA(),$.TgZ(3,"div",23),$.TgZ(4,"status-shared-cells-status-table",24),$.NdJ("rowSelection",function(t){return $.CHM(e),$.oxw().selectCell(t)})("lockDu",function(t){return $.CHM(e),$.oxw().operations.lockDu(t)})("unlockDu",function(t){return $.CHM(e),$.oxw().operations.unlockDu(t)})("lockCell",function(t){return $.CHM(e),$.oxw().operations.lockCell(t.basicCell.id)})("unlockCell",function(t){return $.CHM(e),$.oxw().operations.unlockCell(t.basicCell.id)})("lockCellGroup",function(t){return $.CHM(e),$.oxw().operations.lockCellGroup(t)})("unlockCellGroup",function(t){return $.CHM(e),$.oxw().operations.unlockCellGroup(t)})("goToPeWithCellGroupId",function(t){return $.CHM(e),$.oxw().operations.goToPeCellGroup(t)})("goToPe",function(t){return $.CHM(e),$.oxw().operations.goToPe(t.basicCell.id)})("goToDu",function(t){return $.CHM(e),$.oxw().goToDu(t)}),$.ALo(5,"async"),$.ALo(6,"async"),$.qZA(),$.qZA(),$.BQk()}if(2&e){const e=t.$implicit,n=$.oxw();$.xp6(4),$.Q6J("cells",$.lcZ(5,4,e.model.data))("dus",$.lcZ(6,6,n.dusModel.getDataSource(n.store)))("selectedCellId",e.model.selected)("visibleCellParameters",e.model.configuration)}}function qn(e,t){1&e&&$._UZ(0,"ui-webem-no-selected-message",25)}const Bn=function(){return{width:"350px"}};let Gn=(()=>{class e{constructor(e,t,n){this.store=e,this.activatedRoute=t,this.confirmationService=n,this.CELL_PARAMETERS_MAPPING=Ue.Y,this.operations=(0,Fe.b)(this.store,this.confirmationService,this.activatedRoute)}ngOnInit(){this.cellsModel={startPolling:e=>e.dispatch((0,a.M5)()),stopPolling:e=>e.dispatch((0,a.vi)()),getDataSource:ye,getSelected:e=>e.select(I).pipe((0,F.U)(e=>e.toString())),getConfiguration:e=>e.select(E),sort:{description:"Sort Cells by:",groupName:"cellsSorting",defaultSort:c.j.BY_NR_CELL_ID,getDataSource:e=>e.select(M),options:[{onChange:Se,hint:"Ascending order",label:"NRCELL ID",value:c.j.BY_NR_CELL_ID},{onChange:Se,hint:"Disabled cells will be displayed as first",label:"Operational state",value:c.j.BY_OPERATIONAL_STATE},{onChange:Se,hint:"Locked cells will be displayed as first",label:"Administrative state",value:c.j.BY_ADMINISTRATIVE_STATE}]},configure:Pe(),filter:[{description:"Filter Cells by:",inputs:[{id:S.BY_NRCELL_ID,label:"NRCELL ID:",setInputFilter:Oe},{id:S.BY_CELL_NAME,label:"Cell name:",setInputFilter:Oe}],checkboxes:[{id:S.BY_OPERATIONAL_STATE,label:"Operational state:",options:[{label:"Enabled",value:R.g.Enabled},{label:"Disabled",value:R.g.Disabled}],setCheckboxFilter:xe},{id:S.BY_ADMINISTRATIVE_STATE,label:"Administrative state:",options:[{label:"Locked",value:U.k.Locked},{label:"Unlocked",value:U.k.Unlocked}],setCheckboxFilter:xe}],getDataSource:e=>e.select(N)}],reset:{areFiltersDefault:e=>(0,r.aj)([e.select(D),e.select(ge)]).pipe((0,F.U)(([e,t])=>e&&t)),resetFilters:e=>{e.dispatch(C()),e.dispatch(te())}},toggle:{getDataSource:e=>e.select(T),toggleView:(e,t)=>t.dispatch(p({payload:e}))},export:{export:e=>e.dispatch(v())},freeSearch:{getDataSource:e=>e.select(k),filterChange:(e,t)=>t.dispatch(f({payload:e}))},groupBy:{options:[{label:"Cell group",value:fe.BY_CELL_GROUP}],initialConfig:[fe.BY_CELL_GROUP],description:"Group Cells by",getDataSource:e=>e.select(L).pipe((0,F.U)(e=>Object.keys(e).filter(t=>e[t]))),onGroupByChange:(e,t)=>t.dispatch(y({payload:e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),be)}))},getElementId:e=>e.basicCell.id},this.dusModel={startPolling:e=>e.dispatch((0,we.VB)()),stopPolling:e=>e.dispatch((0,we.zy)()),getDataSource:ke,getSelected:e=>e.select(le).pipe((0,F.U)(e=>e.toString())),getConfiguration:e=>e.select(ce),title:"DUs",configure:De(),filter:Le(),sort:Ne(),freeSearch:{filterChange:(e,t)=>{t.dispatch(ee({payload:e}))},getDataSource:e=>e.select(pe)}},this.cellGroups$=(0,r.aj)([this.store.select(Ae.cD),this.store.select(le)]).pipe((0,F.U)(([e,t])=>e.find(e=>e.id===t.toString())),(0,F.U)(e=>e&&e.cellGroups||[])),this.isGroupedInCellGroups$=this.store.pipe((0,s.Ys)(L),(0,F.U)(e=>e.cellGroup))}selectDu({id:e}){this.store.dispatch(Q({payload:parseInt(e,10)})),this.store.dispatch(g({payload:-1}))}selectCell(e){const t=(0,P.get)(e,"basicCell.id",null);this.store.dispatch(g({payload:t?parseInt(t,10):null}))}goToDu(e){this.store.dispatch((0,Ze.uX)({routerLink:Re.r.dusStatus,activatedRoute:this.activatedRoute})),this.store.dispatch(we.fW({selectedDuId:e}))}}return e.\u0275fac=function(t){return new(t||e)($.Y36(s.yh),$.Y36(o.gz),$.Y36(je.YP))},e.\u0275cmp=$.Xpm({type:e,selectors:[["cells-mapping"]],decls:8,vars:5,consts:[[1,"cells-mapping-container",3,"primaryModel","secondaryModel"],["mappingView",""],[3,"container","du","isCellSummaryInOneRow","isDuSelected","isRedirectionToCellViewAvailable","visibleDuParameters","click","lockDu","unlockDu","goToPe",4,"cellsMappingPrimaryTile"],[4,"cellsMappingSecondaryTileGrid"],["class","status-empty-data cells-mapping-dus-container","message","No DUs to display",4,"cellsMappingPrimaryEmptyDataPanel"],[4,"cellsMappingSecondaryTable"],["class","status-empty-data","message","No Cells to display",4,"cellsMappingSecondEmptyDataPanel"],[3,"container","du","isCellSummaryInOneRow","isDuSelected","isRedirectionToCellViewAvailable","visibleDuParameters","click","lockDu","unlockDu","goToPe"],["uiWebemSharedInfoBar",""],[1,"right-panel-content",3,"ngSwitch"],["container",""],[4,"ngSwitchCase"],[3,"model",4,"ngSwitchDefault"],["class","cell-group-row",4,"ngFor","ngForOf"],[1,"cell-group-row"],[1,"group-tile",3,"title","goToPe","lockAction","unlockAction"],[1,"cells-container"],["class","cell-tile",3,"model","visibleParameters","selected","container","lock","unlock","goToPe","click",4,"ngFor","ngForOf"],[1,"cell-tile",3,"model","visibleParameters","selected","container","lock","unlock","goToPe","click"],[3,"model"],["class","cell-tile-in-grid",3,"model","visibleParameters","selected","container","lock","unlock","goToPe","click",4,"statusSharedTileComponent"],[1,"cell-tile-in-grid",3,"model","visibleParameters","selected","container","lock","unlock","goToPe","click"],["message","No DUs to display",1,"status-empty-data","cells-mapping-dus-container"],[1,"right-panel-content"],[3,"cells","dus","selectedCellId","visibleCellParameters","rowSelection","lockDu","unlockDu","lockCell","unlockCell","lockCellGroup","unlockCellGroup","goToPeWithCellGroupId","goToPe","goToDu"],["message","No Cells to display",1,"status-empty-data"]],template:function(e,t){1&e&&($.TgZ(0,"cells-mapping-view",0,1),$.YNc(2,Mn,1,8,"ui-webem-du",2),$.YNc(3,Un,8,4,"ng-container",3),$.YNc(4,Fn,1,0,"ui-webem-no-selected-message",4),$.YNc(5,$n,7,8,"ng-container",5),$.YNc(6,qn,1,0,"ui-webem-no-selected-message",6),$.qZA(),$._UZ(7,"p-confirmDialog")),2&e&&($.Q6J("primaryModel",t.dusModel)("secondaryModel",t.cellsModel),$.xp6(7),$.Akn($.DdM(4,Bn)))},directives:[Xt,$e,Qe,Tt,Ot,_t,en.Q,tn.H,nn.C,on.y,i.RF,i.n9,i.ED,xn,i.sg,wn.Y,An.J,_n.P,Tn.E,Rt.G,In.K],pipes:[i.Ov,En],styles:["[_nghost-%COMP%]{padding:10px 10px 0 0;display:block;height:100%}.right-panel-content[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 183px);overflow:auto;padding-bottom:15px;padding-left:2px}.right-panel-content[_ngcontent-%COMP%]   .cell-group-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:min-content auto;grid-column-gap:5px;column-gap:5px}.right-panel-content[_ngcontent-%COMP%]   .cell-group-row[_ngcontent-%COMP%]   .group-tile[_ngcontent-%COMP%]{padding:5px 0}.right-panel-content[_ngcontent-%COMP%]   .cell-group-row[_ngcontent-%COMP%] + .cell-group-row[_ngcontent-%COMP%]{margin-top:10px}.right-panel-content[_ngcontent-%COMP%]   .cell-tile[_ngcontent-%COMP%]{padding:5px}"]}),e})();var Vn=n(33346),Yn=n(36900),Jn=n(44501),Hn=n(41146),Wn=n(31689),Qn=n(3507),zn=n(86985),Kn=n(60698),Xn=n(17393);function ei(e,t){if(1&e&&($.ynx(0),$._UZ(1,"status-shared-cells-status-details",5),$.BQk()),2&e){const e=t.ngIf;$.xp6(1),$.Q6J("selectedCell",e)}}function ti(e,t){if(1&e&&$._UZ(0,"webem-du-details",6),2&e){const e=$.oxw(2).ngIf;$.Q6J("showCellsButtonVisible",!1)("du",e)}}function ni(e,t){if(1&e&&($.ynx(0),$.YNc(1,ei,2,1,"ng-container",0),$.ALo(2,"async"),$.YNc(3,ti,1,2,"ng-template",null,4,$.W1O),$.BQk()),2&e){const e=$.MAs(4),t=$.oxw(2);$.xp6(1),$.Q6J("ngIf",$.lcZ(2,2,t.selectedCell$))("ngIfElse",e)}}function ii(e,t){if(1&e&&($.ynx(0),$._UZ(1,"status-shared-cell-operations-buttons",5),$._UZ(2,"status-shared-details-panel-parameters",8),$.BQk()),2&e){const e=t.ngIf;$.xp6(1),$.Q6J("selectedCell",e),$.xp6(1),$.Q6J("distNames",e.basicCell.distNames)}}function oi(e,t){if(1&e&&($._UZ(0,"webem-du-operations-buttons",6),$._UZ(1,"status-shared-details-panel-parameters",8)),2&e){const e=$.oxw(2).ngIf;$.Q6J("showCellsButtonVisible",!1)("du",e),$.xp6(1),$.Q6J("distNames",e.distNames)}}function si(e,t){if(1&e&&($.ynx(0),$.YNc(1,ii,3,2,"ng-container",0),$.ALo(2,"async"),$.YNc(3,oi,2,3,"ng-template",null,7,$.W1O),$.BQk()),2&e){const e=$.MAs(4),t=$.oxw(2);$.xp6(1),$.Q6J("ngIf",$.lcZ(2,2,t.selectedCell$))("ngIfElse",e)}}function ai(e,t){1&e&&($.TgZ(0,"webem-status-tabbed-panel"),$.YNc(1,ni,5,4,"ng-container",2),$.YNc(2,si,5,4,"ng-container",3),$.qZA())}function ri(e,t){1&e&&$._UZ(0,"ui-webem-no-selected-message",9)}let li=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.selectedCell$=this.store.pipe((0,s.Ys)(I),(0,an.w)(e=>this.store.select(l.fy,{id:e.toString()}))),this.selectedDu$=this.store.pipe((0,s.Ys)(le),(0,an.w)(e=>this.store.select(Ae.sM,{id:e.toString()})))}}return e.\u0275fac=function(t){return new(t||e)($.Y36(s.yh))},e.\u0275cmp=$.Xpm({type:e,selectors:[["cells-mapping-details"]],decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["noSelected",""],[4,"webemOverviewContent"],[4,"webemParametersContent"],["duDetails",""],[3,"selectedCell"],[3,"showCellsButtonVisible","du"],["duParameters",""],[3,"distNames"],["message","Select DU from the list to see details"]],template:function(e,t){if(1&e&&($.TgZ(0,"webem-details-panel"),$.YNc(1,ai,3,0,"webem-status-tabbed-panel",0),$.ALo(2,"async"),$.YNc(3,ri,1,0,"ng-template",null,1,$.W1O),$.qZA()),2&e){const e=$.MAs(4);$.xp6(1),$.Q6J("ngIf",$.lcZ(2,2,t.selectedDu$))("ngIfElse",e)}},directives:[Vn.V,i.O5,Yn.Y,Jn.r,Hn.w,Wn.f,Qn.l,zn.X,Kn.h,Xn.E,Rt.G],pipes:[i.Ov],styles:["webem-du-details[_ngcontent-%COMP%]{overflow-y:hidden;padding-bottom:70px}status-shared-details-panel-parameters[_ngcontent-%COMP%]{overflow-y:auto}status-shared-cells-status-details[_ngcontent-%COMP%]{overflow-y:hidden;padding-bottom:70px}"]}),e})();const ci=[{path:"",component:n(47712).O,outlet:"content_menu"},{path:"",component:Gn,outlet:"content_center"},{path:"",component:li,outlet:"content_right"}];let di=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=$.oAB({type:e}),e.\u0275inj=$.cJS({imports:[[i.ez,o.Bz.forChild(ci)],o.Bz]}),e})();var ui=n(46424),pi=n(50939),gi=n(5234),hi=n(94437),mi=n(46239),fi=n(17513),bi=n(94612),Ci=n(57057),vi=n(64699),yi=n(85859),Si=n(1429),Pi=n(34306);let Oi=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.vnfcSharedService=n,this.PREFIX="Cells_mapping",this.LABELS=["NRCELL ID","NR cell identity","Cell name","Technology","PCI","Cell type","(DL/UL) NRARFCN","Cell group","Serving DU","Status","Locking state","Alarms"],this.exportCellsToCsv$=(0,fi.GW)(()=>this.actions$.pipe((0,fi.l4)(v),(0,bi.b)(e=>(0,Ke.of)(e).pipe((0,Ci.M)(this.store.pipe((0,s.Ys)(l.nZ)),this.store.pipe((0,s.Ys)(vi.K1))))),(0,F.U)(([e,t,n])=>[t.map(e=>this.mapCell(e)),this.getFileName(n)]),(0,nt.b)(([e,t])=>(0,Si.m1)(e,t,this.LABELS))),{dispatch:!1}),this.vnfcSharedService.isVcu()&&this.LABELS.push("Barring status")}getFileName(e){return`${this.PREFIX}${(0,Si.cs)(e)}`}mapCell(e){const t=[e.basicCell.name,e.basicCell.nrCellIdentity||"",e.basicCell.cellName||"",e.basicCell.technology,e.basicCell.physicalLayerCellID,e.type||"",e.basicCell.technology===yi._.Fdd?`${e.basicCell.nrarfcnDl||"\u2013"}/${e.basicCell.nrarfcnUl||"\u2013"}`:e.basicCell.nrarfcn||"",e.basicCell.cellGroupId,e.duName,e.basicCell.operationalState||"",e.basicCell.administrativeState.toLowerCase(),(0,Si.C1)(e.basicCell.alarms)];return this.vnfcSharedService.isVcu()&&t.push(e.barringStatus||""),t}}return e.\u0275fac=function(t){return new(t||e)($.LFG(fi.eX),$.LFG(s.yh),$.LFG(Pi.Z9))},e.\u0275prov=$.Yz7({token:e,factory:e.\u0275fac}),e})();var xi=n(30845),wi=n(44748),Ai=n(96055),_i=n(56177),Ti=n(20667),Ii=n(97759),Ei=n(28061);let Mi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=$.oAB({type:e}),e.\u0275inj=$.cJS({imports:[[i.ez,rn.f_,wi.LU,Ai.B,gi.wX,sn.gkd,di,hi.J,Ti.H,ui.w,sn.UkB,sn.CBz,pi.J,xi.R,gi.xW,s.Aw.forFeature(O,A),s.Aw.forFeature(ie,ae),s.Aw.forFeature(Ve,Je),fi.sQ.forFeature([Oi]),sn.lFv,sn.hZC,sn.q_q,sn.Xn,sn.a9S,sn.hXG,mi.E,sn.g3K,sn.EJq,gi.Ti,en.D,_i.oS,Ii.Us,_i.oS,Ii.V_,it.Lr,sn.XKI,sn.IR6,sn.Fme,Ei.L]]}),e})()},20837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CellsStatusModule:()=>nt});var i=n(12057),o=n(12021),s=n(23815),a=n(89251),r=n(20455),l=n(62800),c=n(58330);const d=(0,l.ZF)(c.UN),u=(0,l.P1)(d,e=>e.viewType),p=(0,l.P1)(d,e=>e.selectedId),g=(0,l.P1)(d,e=>e.displayConfiguration),h=(0,l.P1)(d,e=>e.sortType),m=(0,l.P1)(d,e=>e.freeSearchText),f=(0,l.P1)(d,e=>e.filterState),b=(0,l.P1)(h,m,g,f,(e,t,n,i)=>e===c.E3.sortType&&t===c.E3.freeSearchText&&(0,s.isEqual)(c.E3.displayConfiguration,n)&&(0,s.isEqual)(i,c.E3.filterState)),C=(0,l.P1)(d,e=>Object.keys(e.displayConfiguration).every(t=>e.displayConfiguration[t]));var v=n(88002);const y=e=>(0,s.mapValues)(c.E3.displayConfiguration,()=>e),S=[{localStorageKey:"cells-on-cells-status",initialConfig:["nrCellIdentity","physicalLayerCellID","cellName","technology","type","nrarfcn","cellGroupId","duName","actions"],description:"Present the following data on cell widget:",options:[{label:"NR cell identity",value:"nrCellIdentity"},{label:"PCI",value:"physicalLayerCellID"},{label:"Cell name",value:"cellName"},{label:"Cell technology",value:"technology"},{label:"Cell type",value:"type"},{label:"NRARFCN",value:"nrarfcn"},{label:"Cell group ID",value:"cellGroupId"},{label:"Serving DU ID",value:"duName"},{label:"Actions",value:"actions"}],getDataSource:e=>e.select(g).pipe((0,v.U)(e=>Object.keys(e).filter(t=>e[t]))),onFilterChange:(e,t)=>{t.dispatch(r.wd({payload:e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),y(!1))}))},selectAllInput:{selectAll:e=>e.dispatch(r.wd({payload:y(!0)})),deselectAll:e=>e.dispatch(r.wd({payload:y(!1)})),isAllSelected:e=>e.select(C)}}],P={export:e=>e.dispatch(r.m1())},O={areFiltersDefault:e=>e.select(b),resetFilters:e=>{e.dispatch(r.Ws())}};var x=n(87676);const w=(e,t)=>{t.dispatch(r.mu({payload:e}))},A={description:"Sort cells by:",defaultSort:x.j.BY_NR_CELL_ID,options:[{label:"NRCELL ID",hint:"Ascending order",value:x.j.BY_NR_CELL_ID,onChange:w},{label:"Serving DU ID",hint:"Ascending order",value:x.j.BY_SERVING_DU,onChange:w},{label:"Operational state",hint:"Disabled cells will be displayed first",value:x.j.BY_OPERATIONAL_STATE,onChange:w},{label:"Administrative state",hint:"Locked cells will be displayed first",value:x.j.BY_ADMINISTRATIVE_STATE,onChange:w}],groupName:"",getDataSource:e=>e.select(h)},_={getDataSource:e=>e.select(m),filterChange:(e,t)=>t.dispatch(r.Ym({payload:e}))};var T=n(13342),I=n(20518),E=n(8408);const M=(e,t,n)=>{n.dispatch(r.M6({payload:{[e]:t}}))},k=(e,t,n)=>{n.dispatch(r.M6({payload:{[e]:t}}))},N=[{description:"Filter cells by:",inputs:[{id:T.q.BY_NRCELL_ID,label:"NRCELL ID:",setInputFilter:M},{id:T.q.BY_CELL_NAME,label:"Cell name:",setInputFilter:M},{id:T.q.BY_SERVING_DU_ID,label:"Serving DU ID:",setInputFilter:M}],checkboxes:[{id:T.q.BY_OPERATIONAL_STATE,label:"Operational state:",options:[{label:"Enabled",value:I.g.Enabled},{label:"Disabled",value:I.g.Disabled}],setCheckboxFilter:k},{id:T.q.BY_ADMINISTRATIVE_STATE,label:"Administrative state:",options:[{label:"Locked",value:E.k.Locked},{label:"Unlocked",value:E.k.Unlocked}],setCheckboxFilter:k}],getDataSource:e=>e.select(f)}],L={getDataSource:e=>e.select(u),toggleView:(e,t)=>t.dispatch(r.kE({payload:e}))};var D=n(54260),Z=n(38523),R=n(9112),U=n(48002);const F={[I.g.Disabled]:0,[I.g.Enabled]:1,[I.g.Testing]:2,null:3},j={[E.k.Locked]:0,[E.k.Unlocked]:1},$={[x.j.BY_SERVING_DU]:(e,t)=>q(e.nrDuId)-q(t.nrDuId),[x.j.BY_NR_CELL_ID]:(e,t)=>q(e.basicCell.id)-q(t.basicCell.id),[x.j.BY_OPERATIONAL_STATE]:(e,t)=>F[e.basicCell.operationalState]-F[t.basicCell.operationalState],[x.j.BY_ADMINISTRATIVE_STATE]:(e,t)=>j[e.basicCell.administrativeState]-j[t.basicCell.administrativeState]};function q(e){return Number.parseInt(e,10)}const B={configure:S,filter:N,sort:A,freeSearch:_,reset:O,toggle:L,export:P,startPolling:e=>e.dispatch((0,D.M5)()),stopPolling:e=>e.dispatch((0,D.vi)()),getDataSource:e=>(0,R.aj)([e.select(Z.nZ),e.select(f),e.select(h),e.select(m)]).pipe((0,v.U)(([e,t,n,i])=>function(e,t){return e.sort($[t])}((0,U.b)(e,t,i),n))),getSelected:e=>e.select(p).pipe((0,v.U)(e=>e.toString())),getConfiguration:e=>e.select(g),getElementId:e=>e.basicCell.id,isFetchingData:e=>e.select(Z.QS).pipe((0,v.U)(e=>!e))};var G=n(13994),V=n(67223),Y=n(13742),J=n(16661),H=n(77951),W=n(79765),Q=n(46782),z=n(57057),K=n(39207),X=n(91441),ee=n(65159),te=n(8678),ne=n(74788),ie=n(33013),oe=n(74952),se=n(44761),ae=n(8701),re=n(65044),le=n(83473),ce=n(63788),de=n(7633),ue=n(66085),pe=n(19230);const ge=["virtualTileGrid"];function he(e,t){if(1&e){const e=ne.EpF();ne.TgZ(0,"ui-webem-cell-tile",7),ne.NdJ("lock",function(){const t=ne.CHM(e).$implicit;return ne.oxw(2).operations.lockCell(t.data.basicCell.id)})("unlock",function(){const t=ne.CHM(e).$implicit;return ne.oxw(2).operations.unlockCell(t.data.basicCell.id)})("goToPe",function(){const t=ne.CHM(e).$implicit;return ne.oxw(2).operations.goToPe(t.data.basicCell.id)})("click",function(){const t=ne.CHM(e).$implicit;return ne.oxw(2).selectCell(t.data)}),ne.qZA()}if(2&e){const e=t.$implicit;ne.oxw();const n=ne.MAs(1);ne.Q6J("model",e.data)("visibleParameters",e.configuration)("selected",e.selected)("container",null==n?null:n.virtualScrollerRef)}}function me(e,t){1&e&&(ne.TgZ(0,"status-shared-virtual-tile-grid",4,5),ne.YNc(2,he,1,4,"ui-webem-cell-tile",6),ne.qZA()),2&e&&ne.Q6J("model",t.$implicit.model)}function fe(e,t){if(1&e){const e=ne.EpF();ne.TgZ(0,"status-shared-cells-status-table",8),ne.NdJ("rowSelection",function(t){return ne.CHM(e),ne.oxw().selectCell(t)})("lockDu",function(t){return ne.CHM(e),ne.oxw().operations.lockDu(t)})("unlockDu",function(t){return ne.CHM(e),ne.oxw().operations.unlockDu(t)})("lockCell",function(t){return ne.CHM(e),ne.oxw().operations.lockCell(t.basicCell.id)})("unlockCell",function(t){return ne.CHM(e),ne.oxw().operations.unlockCell(t.basicCell.id)})("lockCellGroup",function(t){return ne.CHM(e),ne.oxw().operations.lockCellGroup(t)})("unlockCellGroup",function(t){return ne.CHM(e),ne.oxw().operations.unlockCellGroup(t)})("goToPeWithCellGroupId",function(t){return ne.CHM(e),ne.oxw().operations.goToPeCellGroup(t)})("goToPe",function(t){return ne.CHM(e),ne.oxw().operations.goToPe(t.basicCell.id)})("goToDu",function(t){return ne.CHM(e),ne.oxw().goToDu(t)}),ne.ALo(1,"async"),ne.ALo(2,"async"),ne.qZA()}if(2&e){const e=t.$implicit,n=ne.oxw();ne.Q6J("cells",ne.lcZ(1,4,e.model.data))("dus",ne.lcZ(2,6,n.dus$))("selectedCellId",e.model.selected)("visibleCellParameters",e.model.configuration)}}function be(e,t){1&e&&ne._UZ(0,"ui-webem-no-selected-message",9)}const Ce=function(){return{width:"350px"}};let ve=(()=>{class e{constructor(e,t,n){this.store=e,this.activatedRoute=t,this.confirmationService=n,this.operations=(0,H.b)(this.store,this.confirmationService,this.activatedRoute),this.CELL_PARAMETERS_MAPPING=a.Y,this.VIEW_MODEL=B,this.ngUnsubscribe=new W.xQ,this.isRouteToDuStatusByGotoDU=!1}ngOnInit(){this.loadStateFromRedirect(),this.store.dispatch(G.VB()),this.dus$=this.store.select(V.cD),this.scrollToSelectedTileWhenDetailsPanelResizes()}ngOnDestroy(){this.isRouteToDuStatusByGotoDU||this.store.dispatch(G.zy()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}selectCell(e){const t=(0,s.isObject)(e)?e.basicCell.id:null;this.store.dispatch(r.n5({payload:t?parseInt(t,10):null}))}goToDu(e){this.isRouteToDuStatusByGotoDU=!0,this.store.dispatch((0,Y.uX)({routerLink:J.r.dusStatus,activatedRoute:this.activatedRoute})),this.store.dispatch(G.fW({selectedDuId:e}))}loadStateFromRedirect(){var e;if((null===(e=history.state)||void 0===e?void 0:e.data)&&history.state.data.type===te.b.CELLS_STATUS){this.store.dispatch(r.Ws());const e={[X.j.ADMINISTRATIVE_STATE]:x.j.BY_ADMINISTRATIVE_STATE,[X.j.OPERATIONAL_STATE]:x.j.BY_OPERATIONAL_STATE,[X.j.INITIAL]:c.E3.sortType}[history.state.data.sortType];this.store.dispatch(r.mu({payload:e}))}}scrollToSelectedTileWhenDetailsPanelResizes(){this.store.pipe((0,Q.R)(this.ngUnsubscribe),K.vt,(0,z.M)(this.store.select(p)),(0,v.U)(([e,t])=>t)).subscribe(e=>{this.virtualTileGrid&&(this.virtualTileGrid.virtualScroller.refresh(),e!==c.E3.selectedId&&this.virtualTileGrid.virtualScroller.scrollToIndex(e))})}}return e.\u0275fac=function(t){return new(t||e)(ne.Y36(l.yh),ne.Y36(o.gz),ne.Y36(ie.YP))},e.\u0275cmp=ne.Xpm({type:e,selectors:[["cells-status"]],viewQuery:function(e,t){if(1&e&&ne.Gf(ge,5),2&e){let e;ne.iGM(e=ne.CRH())&&(t.virtualTileGrid=e.first)}},decls:5,vars:4,consts:[[3,"model"],["trackByPath","basicCell.id",3,"model",4,"statusSharedTileGridComponent"],[3,"cells","dus","selectedCellId","visibleCellParameters","rowSelection","lockDu","unlockDu","lockCell","unlockCell","lockCellGroup","unlockCellGroup","goToPeWithCellGroupId","goToPe","goToDu",4,"statusSharedTableComponent"],["class","status-empty-data","message","No Cells to display",4,"statusSharedEmptyData"],["trackByPath","basicCell.id",3,"model"],["virtualTileGrid",""],[3,"model","visibleParameters","selected","container","lock","unlock","goToPe","click",4,"statusSharedTileComponent"],[3,"model","visibleParameters","selected","container","lock","unlock","goToPe","click"],[3,"cells","dus","selectedCellId","visibleCellParameters","rowSelection","lockDu","unlockDu","lockCell","unlockCell","lockCellGroup","unlockCellGroup","goToPeWithCellGroupId","goToPe","goToDu"],["message","No Cells to display",1,"status-empty-data"]],template:function(e,t){1&e&&(ne.TgZ(0,"status-shared-operations-view",0),ne.YNc(1,me,3,1,"status-shared-virtual-tile-grid",1),ne.YNc(2,fe,3,8,"status-shared-cells-status-table",2),ne.YNc(3,be,1,0,"ui-webem-no-selected-message",3),ne.qZA(),ne._UZ(4,"p-confirmDialog")),2&e&&(ne.Q6J("model",t.VIEW_MODEL),ne.xp6(4),ne.Akn(ne.DdM(3,Ce)))},directives:[oe.E,se.j,ae.a,re.Z,le.Q,ee.h,ce.E,de.J,ue.K,pe.G],pipes:[i.Ov],styles:["[_nghost-%COMP%]{padding:10px 10px 0 15px;display:block;height:100%}status-shared-virtual-tile-grid[_ngcontent-%COMP%]{padding-top:5px}status-shared-cells-status-table[_ngcontent-%COMP%]{padding:10px 0}"]}),e})();var ye=n(43190),Se=n(33346),Pe=n(36900),Oe=n(44501),xe=n(41146),we=n(31689),Ae=n(86985),_e=n(60698);function Te(e,t){if(1&e&&ne._UZ(0,"status-shared-cells-status-details",4),2&e){const e=ne.oxw().ngIf;ne.Q6J("selectedCell",e)}}function Ie(e,t){if(1&e&&(ne.ynx(0),ne._UZ(1,"status-shared-cell-operations-buttons",4),ne._UZ(2,"status-shared-details-panel-parameters",5),ne.BQk()),2&e){const e=ne.oxw().ngIf;ne.xp6(1),ne.Q6J("selectedCell",e),ne.xp6(1),ne.Q6J("distNames",e.basicCell.distNames)}}function Ee(e,t){1&e&&(ne.TgZ(0,"webem-status-tabbed-panel"),ne.YNc(1,Te,1,1,"status-shared-cells-status-details",2),ne.YNc(2,Ie,3,2,"ng-container",3),ne.qZA())}function Me(e,t){1&e&&ne._UZ(0,"ui-webem-no-selected-message",6)}let ke=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.selectedCell$=this.store.pipe((0,l.Ys)(p),(0,ye.w)(e=>this.store.select(Z.fy,{id:e.toString()})))}}return e.\u0275fac=function(t){return new(t||e)(ne.Y36(l.yh))},e.\u0275cmp=ne.Xpm({type:e,selectors:[["cells-status-cell-status-details"]],decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["noSelectedCell",""],[3,"selectedCell",4,"webemOverviewContent"],[4,"webemParametersContent"],[3,"selectedCell"],[3,"distNames"],["message","Select cell from the list to see details"]],template:function(e,t){if(1&e&&(ne.TgZ(0,"webem-details-panel"),ne.YNc(1,Ee,3,0,"webem-status-tabbed-panel",0),ne.ALo(2,"async"),ne.YNc(3,Me,1,0,"ng-template",null,1,ne.W1O),ne.qZA()),2&e){const e=ne.MAs(4);ne.xp6(1),ne.Q6J("ngIf",ne.lcZ(2,2,t.selectedCell$))("ngIfElse",e)}},directives:[Se.V,i.O5,Pe.Y,Oe.r,xe.w,we.f,Ae.X,_e.h,pe.G],pipes:[i.Ov],styles:["status-shared-cells-status-details[_ngcontent-%COMP%]{overflow-y:hidden;padding-bottom:70px}status-shared-details-panel-parameters[_ngcontent-%COMP%]{overflow-y:auto}"]}),e})();const Ne=[{path:"",component:n(47712).O,outlet:"content_menu"},{path:"",component:ve,outlet:"content_center"},{path:"",component:ke,outlet:"content_right"}];let Le=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ne.oAB({type:e}),e.\u0275inj=ne.cJS({imports:[[i.ez,o.Bz.forChild(Ne)],o.Bz]}),e})();var De=n(60697),Ze=n(46424),Re=n(20667),Ue=n(28061),Fe=n(94437),je=n(17513),$e=n(94612),qe=n(68307),Be=n(25917),Ge=n(64699),Ve=n(85859),Ye=n(1429),Je=n(34306);let He=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.vnfcSharedService=n,this.PREFIX="Cells_status",this.LABELS=["NRCELL ID","NR cell identity","Cell name","Technology","PCI","Cell type","(DL/UL) NRARFCN","Cell group","Serving DU","Status","Locking state","Alarms"],this.exportCellsToCsv$=(0,je.GW)(()=>this.actions$.pipe((0,je.l4)(r.m1),(0,$e.b)(e=>(0,Be.of)(e).pipe((0,z.M)(this.store.pipe((0,l.Ys)(Z.nZ)),this.store.pipe((0,l.Ys)(Ge.K1))))),(0,v.U)(([e,t,n])=>[t.map(e=>this.mapCell(e)),this.getFileName(n)]),(0,qe.b)(([e,t])=>(0,Ye.m1)(e,t,this.LABELS))),{dispatch:!1}),this.vnfcSharedService.isVcu()&&this.LABELS.push("Barring status")}getFileName(e){return`${this.PREFIX}${(0,Ye.cs)(e)}`}mapCell(e){const t=[e.basicCell.name,e.basicCell.nrCellIdentity||"",e.basicCell.cellName||"",e.basicCell.technology,e.basicCell.physicalLayerCellID,e.type?e.type:"",e.basicCell.technology===Ve._.Fdd?`${e.basicCell.nrarfcnDl||"\u2013"}/${e.basicCell.nrarfcnUl||"\u2013"}`:e.basicCell.nrarfcn||"",e.basicCell.cellGroupId,e.duName,e.basicCell.operationalState||"",e.basicCell.administrativeState.toLowerCase(),(0,Ye.C1)(e.basicCell.alarms)];return this.vnfcSharedService.isVcu()&&t.push(e.barringStatus||""),t}}return e.\u0275fac=function(t){return new(t||e)(ne.LFG(je.eX),ne.LFG(l.yh),ne.LFG(Je.Z9))},e.\u0275prov=ne.Yz7({token:e,factory:e.\u0275fac}),e})();var We=n(50939),Qe=n(47702),ze=n(44748),Ke=n(96055),Xe=n(46239),et=n(18466),tt=n(97759);let nt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ne.oAB({type:e}),e.\u0275inj=ne.cJS({providers:[ie.YP],imports:[[i.ez,Re.H,ze.LU,De.gkd,Qe.f_,Ze.w,Ke.B,Xe.E,Le,De.CBz,le.D,Fe.J,De.y$Z,De.EJq,l.Aw.forFeature(c.UN,c.I6),je.sQ.forFeature([He]),De.hZC,De.Xn,Ue.L,De.a9S,We.J,et.F,tt.Us]]}),e})()},20667:(e,t,n)=>{"use strict";n.d(t,{H:()=>D});var i=n(12057),o=n(62800),s=n(28524),a=n(17513),r=n(54260),l=n(89651),c=n(57057),d=n(88002),u=n(94612),p=n(87479),g=n(5304),h=n(11627),m=n(46782),f=n(96736),b=n(79765),C=n(25917),v=n(33637),y=n(38523),S=n(44364),P=n(2413),O=n(74788);let x=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.pollingService=t,this.statusService=n,this.store=i,this.updateCellsRevisionProgressEffect$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.l8),(0,c.M)(this.store.select(y.QS)),(0,d.U)(([{revision:e},t])=>{e===t&&this.cellsRequestInProgress$.complete()})),{dispatch:!1}),this.updateCellsProgressEffect$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.nB),(0,c.M)(this.store.select(y.QS)),(0,d.U)(([{payload:e},t])=>{e.revision===t&&this.cellsRequestInProgress$.complete()})),{dispatch:!1}),this.cellsViewError$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.y),(0,u.b)(()=>[(0,S.wN)({payload:{severity:"error",summary:"Updating cells failed"}}),(0,r.DO)()]))),this.stopPolling$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.vi),(0,c.M)(this.store.select(y.gu)),(0,d.U)(([,e])=>e<=1?(0,r.x8)():(0,r.SZ)()))),this.stopInitialPolling$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.x8)),{dispatch:!1}),this.cellsRequest$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.h0),(0,d.U)(e=>(this.cellsRequestInProgress$=new b.xQ,e)),(0,c.M)(this.store.pipe((0,o.Ys)(y.QS))),(0,p.z)(([,e])=>(e!==s.E3.updateVersion?this.statusService.getCuCellsDiff({oldRevision:e}):this.statusService.getCuCellsDiff()).pipe((0,d.U)(e=>e.created.length||e.updated.length||e.removed.length?(0,r.nB)({payload:e}):(0,r.l8)({revision:e.revision})),(0,g.K)(e=>(0,C.of)((0,r.y)({error:e}))))))),this.cellsPolling$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.M5),(0,h.j)(e=>(this.cellsRequestInProgress$||(this.cellsRequestInProgress$=new b.xQ,this.cellsRequestInProgress$.complete()),this.cellsRequestInProgress$)),(0,c.M)(this.store.select(y.gu)),(0,d.U)(([,e])=>0===e?(0,r.zn)():(0,r.cw)()))),this.startInitialCellsPolling$=(0,a.GW)((e=v.P)=>this.actions$.pipe((0,a.l4)(r.zn),(0,u.b)(()=>this.pollingService.getTimer(e).pipe((0,m.R)(this.stopInitialPolling$),(0,f.h)((0,r.h0)())))))}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(a.eX),O.LFG(l.x),O.LFG(P.Bj),O.LFG(o.yh))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var w=n(19773),A=n(49617),_=n(6546);let T=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.lockCellsStart$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.H4),(0,u.b)(({cellIds:e})=>[(0,S.wN)(A.Q.cellLock.started(e)),(0,_.h)()]))),this.lockCellSuccess$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.cC),(0,u.b)(({additionalData:{cellIds:e}})=>[(0,S.wN)(A.Q.cellLock.finished(e)),(0,_.R)()]))),this.lockCellFailed$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.ji),(0,u.b)(({additionalData:{cellIds:e}})=>[(0,S.wN)(A.Q.cellLock.failed(e)),(0,_.R)()]))),this.lockCellHttpError$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.gZ),(0,u.b)(({additionalData:{cellIds:e}})=>[(0,S.wN)(A.Q.cellLock.failed(e)),(0,_.R)()]))),this.lockCellStarted$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.Zw),(0,u.b)(({cellId:e})=>[(0,S.wN)(A.Q.cellLock.started([e])),(0,_.h)()]))),this.lockCell$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.Zw),(0,w.zg)(({cellId:e})=>this.executeLock([e],!0).pipe((0,g.K)(e=>(0,C.of)((0,r.y)({error:e}))))))),this.lockCells$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.H4),(0,w.zg)(({cellIds:e})=>this.executeLock(e,!0).pipe((0,g.K)(e=>(0,C.of)((0,r.y)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.lockCells({body:e}),this.executeLock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getCellsLock({operationId:e}),additionalData:{cellIds:e},onActionSuccess:t&&r.cC||void 0,onActionFailure:r.ji,onActionError:r.gZ,onActionOngoing:r.a8})}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(a.eX),O.LFG(l.x),O.LFG(P.Bj))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var I=n(74298);let E=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.unlockCellsStart$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.iH),(0,u.b)(({cellIds:e})=>[(0,S.wN)(A.Q.cellUnlock.started(e)),(0,_.h)()]))),this.unlockCellSuccess$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.NW),(0,u.b)(({additionalData:{cellIds:e}})=>[(0,S.wN)(A.Q.cellUnlock.finished(e)),(0,_.R)()]))),this.unlockCellFailed$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.ig),(0,u.b)(({additionalData:{cellIds:e}})=>[(0,S.wN)(A.Q.cellUnlock.failed(e)),(0,_.R)()]))),this.unlockCellHttpError$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.rA),(0,u.b)(({additionalData:{cellIds:e}})=>[(0,S.wN)(A.Q.cellUnlock.failed(e)),(0,_.R)()]))),this.unlockCellStarted$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.Vv),(0,u.b)(({cellId:e})=>[(0,S.wN)(A.Q.cellUnlock.started([e])),(0,_.h)()]))),this.unlockCells$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.iH),(0,w.zg)(({cellIds:e})=>this.executeUnlock(e,!0).pipe((0,g.K)(e=>(0,C.of)((0,r.y)({error:e}))))))),this.unlockCell$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.Vv),(0,w.zg)(({cellId:e})=>this.executeUnlock([e],!0).pipe((0,g.K)(e=>(0,C.of)((0,r.y)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.unlockCells({body:e}),this.executeUnlock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getCellsUnlock({operationId:e}),additionalData:{cellIds:e},onActionSuccess:t&&r.NW||void 0,onActionFailure:r.ig,onActionError:r.rA,onActionOngoing:r.T3})}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(a.eX),O.LFG(l.x),O.LFG(I.B))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var M=n(74428),k=n(29747);let N=(()=>{class e{constructor(e,t){this.actions$=e,this.statusService=t,this.cellLockOperationFinished$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.cC,r.ji),(0,w.zg)(({response:{id:e}})=>this.statusService.deleteCellsLock({operationId:e}).pipe((0,d.U)(()=>(0,r.Oq)()),(0,g.K)(e=>(0,C.of)((0,r.Ve)({error:e}))))))),this.cellUnlockOperationFinished$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.NW,r.ig),(0,w.zg)(({response:{id:e}})=>this.statusService.deleteCellsUnlock({operationId:e}).pipe((0,d.U)(()=>(0,r.Oq)()),(0,g.K)(e=>(0,C.of)((0,r.Ve)({error:e}))))))),this.cellGroupLockOperationFinished$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.nz,r.cp),(0,w.zg)(({response:{id:e}})=>this.statusService.deleteCellGroupsLock({operationId:e}).pipe((0,d.U)(()=>(0,r.Oq)()),(0,g.K)(e=>(0,C.of)((0,r.Ve)({error:e}))))))),this.cellGroupUnlockOperationFinished$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(r.F,r.i9),(0,w.zg)(({response:{id:e}})=>this.statusService.deleteCellGroupsUnlock({operationId:e}).pipe((0,d.U)(()=>(0,r.Oq)()),(0,g.K)(e=>(0,C.of)((0,r.Ve)({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(a.eX),O.LFG(I.B))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var L=n(98795);let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=O.oAB({type:e}),e.\u0275inj=O.cJS({imports:[[i.ez,L.d,o.Aw.forFeature(s.EO,s.I6),a.sQ.forFeature([x,T,E,M.B,k.t,N])]]}),e})()},54260:(e,t,n)=>{"use strict";n.d(t,{DO:()=>s,nB:()=>a,M5:()=>r,zn:()=>l,vi:()=>c,x8:()=>d,h0:()=>u,y:()=>p,cw:()=>g,SZ:()=>h,l8:()=>m,cC:()=>f,a8:()=>b,gZ:()=>C,ji:()=>v,NW:()=>y,T3:()=>S,rA:()=>P,ig:()=>O,F:()=>x,z$:()=>w,pd:()=>A,i9:()=>_,nz:()=>T,aV:()=>I,cv:()=>E,cp:()=>M,Zw:()=>k,Vv:()=>N,RL:()=>L,fF:()=>D,H4:()=>Z,iH:()=>R,bW:()=>U,Qi:()=>F,Oq:()=>j,Ve:()=>$});var i=n(62800),o=(()=>(function(e){e.updateCells="[Effect] update cells",e.startCellsPolling="[Effect] start cells polling",e.startInitialCellsPolling="[Effect] start initial cells polling",e.stopCellsPolling="[Effect] stop cells polling",e.stopInitialCellsPolling="[Effect] stop initial cells polling",e.cellsRequest="[Effect] cells request",e.cellsViewError="[Effect] cells view error",e.addCellsSubscriber="[Effect] Add cells subscriber",e.removeCellsSubscriber="[Effect] Remove cells subscriber",e.updateCellsRevision="[Effect] Update cells revision",e.lockCell="[User] lock cell",e.lockActionSuccess="[Effect] cell lock success",e.lockHttpError="[Effect] cell lock http error",e.lockActionOngoing="[Effect] cell lock action ongoing",e.lockFailure="[Effect] cell lock failure",e.unlockCell="[User] unlock cell",e.unlockActionSuccess="[Effect] cell unlock success",e.unlockHttpError="[Effect] cell unlock http error",e.unlockActionOngoing="[Effect] cell unlock action ongoing",e.unlockFailure="[Effect] cell unlock failure",e.cellGroupUnlock="[User] Cell Group unlock",e.unlockCellGroupActionSuccess="[Effect] cell group unlock success",e.unlockCellGroupHttpError="[Effect] cell group unlock http error",e.unlockCellGroupActionOngoing="[Effect] cell group unlock action ongoing",e.unlockCellGroupFailure="[Effect] cell group unlock failure",e.cellGroupLock="[User] cell Group lock",e.cellGroupLockActionSuccess="[Effect] cell group lock success",e.cellGroupLockHttpError="[Effect] cell group lock http error",e.cellGroupLockActionOngoing="[Effect] cell group lock action ongoing",e.cellGroupLockFailure="[Effect] cell group lock failure",e.lockCells="[User] lockCells",e.lockCellsFinished="[Effect] lockCellsFinished finished",e.unlockCellsFinished="[Effect] unlockCellsFinished finished",e.unlockCells="[User] unlockCells",e.cellsGroupsLock="[User] Cell groups lock",e.cellsGroupsLockFinished="[Effect] Cells group lock finished",e.cellsGroupsUnlock="[User] Cells Groups unlock",e.resetRevision="[Effect] resetRevision",e.cellsGroupsUnlockFinished="[Effect] Cells Groups Unlock finished",e.deleteCellOperationSucceeded="[Effect] Cell operation delete succeeded",e.deleteCellOperationFailed="[Effect] Cell operation delete failed"}(o||(o={})),o))();const s=(0,i.PH)(o.resetRevision),a=(0,i.PH)(o.updateCells,(0,i.Ky)()),r=(0,i.PH)(o.startCellsPolling),l=(0,i.PH)(o.startInitialCellsPolling),c=(0,i.PH)(o.stopCellsPolling),d=(0,i.PH)(o.stopInitialCellsPolling),u=(0,i.PH)(o.cellsRequest),p=(0,i.PH)(o.cellsViewError,(0,i.Ky)()),g=(0,i.PH)(o.addCellsSubscriber),h=(0,i.PH)(o.removeCellsSubscriber),m=(0,i.PH)(o.updateCellsRevision,(0,i.Ky)()),f=(0,i.PH)(o.lockActionSuccess,(0,i.Ky)()),b=(0,i.PH)(o.lockActionOngoing,(0,i.Ky)()),C=(0,i.PH)(o.lockHttpError,(0,i.Ky)()),v=(0,i.PH)(o.lockFailure,(0,i.Ky)()),y=(0,i.PH)(o.unlockActionSuccess,(0,i.Ky)()),S=(0,i.PH)(o.unlockActionOngoing,(0,i.Ky)()),P=(0,i.PH)(o.unlockHttpError,(0,i.Ky)()),O=(0,i.PH)(o.unlockFailure,(0,i.Ky)()),x=(0,i.PH)(o.unlockCellGroupActionSuccess,(0,i.Ky)()),w=(0,i.PH)(o.unlockCellGroupActionOngoing,(0,i.Ky)()),A=(0,i.PH)(o.unlockCellGroupHttpError,(0,i.Ky)()),_=(0,i.PH)(o.unlockCellGroupFailure,(0,i.Ky)()),T=(0,i.PH)(o.cellGroupLockActionSuccess,(0,i.Ky)()),I=(0,i.PH)(o.cellGroupLockActionOngoing,(0,i.Ky)()),E=(0,i.PH)(o.cellGroupLockHttpError,(0,i.Ky)()),M=(0,i.PH)(o.cellGroupLockFailure,(0,i.Ky)()),k=(0,i.PH)(o.lockCell,(0,i.Ky)()),N=(0,i.PH)(o.unlockCell,(0,i.Ky)()),L=(0,i.PH)(o.cellGroupUnlock,(0,i.Ky)()),D=(0,i.PH)(o.cellGroupLock,(0,i.Ky)()),Z=(0,i.PH)(o.lockCells,(0,i.Ky)()),R=(0,i.PH)(o.unlockCells,(0,i.Ky)()),U=(0,i.PH)(o.cellsGroupsLock,(0,i.Ky)()),F=(0,i.PH)(o.cellsGroupsUnlock,(0,i.Ky)()),j=(0,i.PH)(o.deleteCellOperationSucceeded),$=(0,i.PH)(o.deleteCellOperationFailed,(0,i.Ky)())},74428:(e,t,n)=>{"use strict";n.d(t,{B:()=>m});var i=n(17513),o=n(54260),s=n(94612),a=n(19773),r=n(5304),l=n(44364),c=n(25917),d=n(89651),u=n(2413),p=n(49617),g=n(6546),h=n(74788);let m=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.cellsGroupsLockStart$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.bW),(0,s.b)(({cellGroupIds:e})=>[(0,l.wN)(p.Q.cellGroupLock.started(e)),(0,g.h)()]))),this.lockCellGroupSuccess$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.nz),(0,s.b)(({additionalData:{cellGroupIds:e}})=>[(0,l.wN)(p.Q.cellGroupLock.finished(e)),(0,g.R)()]))),this.lockCellGroupFailed$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.cp),(0,s.b)(({additionalData:{cellGroupIds:e}})=>[(0,l.wN)(p.Q.cellGroupLock.failed(e)),(0,g.R)()]))),this.lockCellGroupHttpError$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.cv),(0,s.b)(({additionalData:{cellGroupIds:e}})=>[(0,l.wN)(p.Q.cellGroupLock.failed(e)),(0,g.R)()]))),this.lockCellGroupStarted$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.fF),(0,s.b)(({cellGroupId:e})=>[(0,l.wN)(p.Q.cellGroupLock.started([e])),(0,g.h)()]))),this.lockCellGroup$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.fF),(0,a.zg)(({cellGroupId:e})=>this.executeLock([e],!0).pipe((0,r.K)(e=>(0,c.of)((0,o.y)({error:e}))))))),this.lockCellsGroups$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.bW),(0,a.zg)(({cellGroupIds:e})=>this.executeLock(e,!0).pipe((0,r.K)(e=>(0,c.of)((0,o.y)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.lockCellGroups({body:e}),this.executeLock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getCellGroupsLock({operationId:e}),additionalData:{cellGroupIds:e},onActionSuccess:t?o.nz:void 0,onActionFailure:o.cp,onActionError:o.cv,onActionOngoing:o.aV})}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(i.eX),h.LFG(d.x),h.LFG(u.Bj))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})()},29747:(e,t,n)=>{"use strict";n.d(t,{t:()=>m});var i=n(17513),o=n(54260),s=n(94612),a=n(19773),r=n(5304),l=n(44364),c=n(25917),d=n(89651),u=n(2413),p=n(49617),g=n(6546),h=n(74788);let m=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.cellsGroupsUnlockStart$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.Qi),(0,s.b)(({cellGroupIds:e})=>[(0,l.wN)(p.Q.cellGroupUnlock.started(e)),(0,g.h)()]))),this.unlockCellGroupSuccess$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.F),(0,s.b)(({additionalData:{cellGroupIds:e}})=>[(0,l.wN)(p.Q.cellGroupUnlock.finished(e)),(0,g.R)()]))),this.unlockCellGroupFailed$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.i9),(0,s.b)(({additionalData:{cellGroupIds:e}})=>[(0,l.wN)(p.Q.cellGroupUnlock.failed(e)),(0,g.R)()]))),this.unlockCellGroupHttpError$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.pd),(0,s.b)(({additionalData:{cellGroupIds:e}})=>[(0,l.wN)(p.Q.cellGroupUnlock.failed(e)),(0,g.R)()]))),this.unlockCellGroupStarted$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.RL),(0,s.b)(({cellGroupId:e})=>[(0,l.wN)(p.Q.cellGroupUnlock.started([e])),(0,g.h)()]))),this.unlockCellGroup$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.RL),(0,a.zg)(({cellGroupId:e})=>this.executeUnlock([e],!0).pipe((0,r.K)(e=>(0,c.of)((0,o.y)({error:e}))))))),this.unlockCellsGroups$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.Qi),(0,a.zg)(({cellGroupIds:e})=>this.executeUnlock(e,!0).pipe((0,r.K)(e=>(0,c.of)((0,o.y)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.unlockCellGroups({body:e}),this.executeUnlock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getCellGroupsUnlock({operationId:e}),additionalData:{cellGroupIds:e},onActionSuccess:t&&o.F||void 0,onActionFailure:o.i9,onActionError:o.pd,onActionOngoing:o.z$})}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(i.eX),h.LFG(d.x),h.LFG(u.Bj))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})()},49617:(e,t,n)=>{"use strict";n.d(t,{Q:()=>p});var i=n(77267);const o="NRCELL-",s="Cell Lock",a="Cell Unlock",r="Cell Block",l="Cell Unblock",c="NRCELLGRP-",d="Cell Group Lock",u="Cell Group Unlock",p={cellLock:{started:e=>({payload:{severity:"info",summary:s,detail:(0,i.R)(e,"lock operation started",o)}}),finished:e=>({payload:{severity:"success",summary:s,detail:(0,i.R)(e,"lock operation finished",o)}}),failed:e=>({payload:{severity:"error",summary:s,detail:(0,i.R)(e,"lock operation failed",o)}})},cellUnlock:{started:e=>({payload:{severity:"info",summary:a,detail:(0,i.R)(e,"unlock operation started",o)}}),finished:e=>({payload:{severity:"success",summary:a,detail:(0,i.R)(e,"unlock operation finished",o)}}),failed:e=>({payload:{severity:"error",summary:a,detail:(0,i.R)(e,"unlock operation failed",o)}})},cellGroupLock:{started:e=>({payload:{severity:"info",summary:d,detail:(0,i.R)(e,"lock operation started",c)}}),finished:e=>({payload:{severity:"success",summary:d,detail:(0,i.R)(e,"lock operation finished",c)}}),failed:e=>({payload:{severity:"error",summary:d,detail:(0,i.R)(e,"lock operation failed",c)}})},cellGroupUnlock:{started:e=>({payload:{severity:"info",summary:u,detail:(0,i.R)(e,"unlock operation started",c)}}),finished:e=>({payload:{severity:"success",summary:u,detail:(0,i.R)(e,"unlock operation finished",c)}}),failed:e=>({payload:{severity:"error",summary:u,detail:(0,i.R)(e,"unlock operation failed",c)}})},cellBlock:{started:e=>({payload:{severity:"info",summary:r,detail:(0,i.R)(e,"block operation started",o)}}),finished:e=>({payload:{severity:"success",summary:r,detail:(0,i.R)(e,"block operation finished",o)}}),failed:e=>({payload:{severity:"error",summary:r,detail:(0,i.R)(e,"block operation failed",o)}})},cellUnblock:{started:e=>({payload:{severity:"info",summary:l,detail:(0,i.R)(e,"unblock operation started",o)}}),finished:e=>({payload:{severity:"success",summary:l,detail:(0,i.R)(e,"unblock operation finished",o)}}),failed:e=>({payload:{severity:"error",summary:l,detail:(0,i.R)(e,"unblock operation failed",o)}})}}},28524:(e,t,n)=>{"use strict";n.d(t,{EO:()=>a,VL:()=>r,E3:()=>l,I6:()=>d});var i=n(23607),o=n(62800),s=n(54260);const a="cellStatus",r=(0,i.H)({selectId:e=>e.basicCell.id,sortComparer:(e,t)=>Number.parseInt(e.basicCell.id,10)-Number.parseInt(t.basicCell.id,10)}),l={updateVersion:"",subscribers:0,cells:r.getInitialState()},c=(0,o.Lq)(l,(0,o.on)(s.nB,(e,{payload:{created:t,removed:n,updated:i,revision:o}})=>{let s=r.removeMany(n,e.cells);return s=r.addMany(t,s),s=r.upsertMany(i,s),Object.assign(Object.assign({},e),{updateVersion:o,cells:s})}),(0,o.on)(s.DO,()=>Object.assign({},l)),(0,o.on)(s.zn,()=>Object.assign(Object.assign({},l),{subscribers:1})),(0,o.on)(s.x8,()=>Object.assign({},l)),(0,o.on)(s.cw,e=>Object.assign(Object.assign({},e),{subscribers:e.subscribers+1})),(0,o.on)(s.SZ,e=>Object.assign(Object.assign({},e),{subscribers:e.subscribers-1})),(0,o.on)(s.l8,(e,{revision:t})=>Object.assign(Object.assign({},e),{updateVersion:t})));function d(e,t){return c(e,t)}},38523:(e,t,n)=>{"use strict";n.d(t,{nZ:()=>a,fy:()=>r,QS:()=>l,gu:()=>c});var i=n(62800),o=n(28524);const s=(0,i.ZF)(o.EO),a=(0,i.P1)(s,e=>o.VL.getSelectors().selectAll(e.cells)),r=(0,i.P1)(s,(e,{id:t})=>o.VL.getSelectors().selectEntities(e.cells)[t]),l=(0,i.P1)(s,e=>e.updateVersion),c=(0,i.P1)(s,e=>e.subscribers)},98795:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var i=n(12057),o=n(62800),s=n(5805),a=n(74788);let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[i.ez,o.Aw.forFeature(s.ml,s.I6)]]}),e})()},91928:(e,t,n)=>{"use strict";n.d(t,{aJ:()=>i,v7:()=>o,re:()=>s,sv:()=>a});var i=(()=>(function(e){e.GET_FAULT="[User] [page] get fault",e.ADD_FAULT="[effect] add fault",e.FAULT_FETCH_ERROR="[page] fault fetch error"}(i||(i={})),i))();class o{constructor(e){this.payload=e,this.type=i.GET_FAULT}}class s{constructor(e){this.payload=e,this.type=i.ADD_FAULT}}class a{constructor(e){this.payload=e,this.type=i.FAULT_FETCH_ERROR}}},74705:(e,t,n)=>{"use strict";n.d(t,{Q:()=>m});var i=n(17513),o=n(91928),s=n(57057),a=n(19773),r=n(88002),l=n(5304),c=n(62800),d=n(25917),u=n(59193),p=n(11708),g=n(21907),h=n(74788);let m=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.fmService=n,this.getFault$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.aJ.GET_FAULT),(0,s.M)(this.store.pipe((0,c.Ys)(p.t1))),(0,a.zg)(([e,{entities:t}])=>t[e.payload.faultId]?u.E:this.fmService.getFault({faultId:e.payload.faultId}).pipe((0,r.U)(e=>new o.re({fault:e})),(0,l.K)(e=>(0,d.of)(new o.sv({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(i.eX),h.LFG(c.yh),h.LFG(g.SH))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})()},41956:(e,t,n)=>{"use strict";n.d(t,{f$:()=>o,nl:()=>a,St:()=>r,hT:()=>l,SU:()=>c,OR:()=>d,SL:()=>u,S:()=>p,Co:()=>g,mJ:()=>h,SP:()=>m,xe:()=>f,BN:()=>b,wD:()=>C,gT:()=>v,XH:()=>y,FP:()=>S});var i=n(60697);const o="button-indicated",s={minWidth:"70px"},a={minWidth:"95px"},r={model:{icon:"mdi mdi-cog-counterclockwise mdi-18px",theme:i.bnJ.Default,iconPosition:"left",label:"Restore Default View",length:i.Wmq.Short}},l={model:{icon:"configuration-icon-background",label:"Configure",length:i.Wmq.Short},options:{minWidth:"89px"}},c={model:{icon:"mdi mdi-filter",label:"Filter",length:i.Wmq.Short},options:s},d={model:{icon:"mdi mdi-16px mdi-swap-vertical",label:"Sort",length:i.Wmq.Short},options:s},u={model:{icon:"mdi mdi-16px mdi-view-dashboard",label:"Widget View",length:i.Wmq.Short}},p={model:{icon:"mdi mdi-17px mdi-table",label:"Table View",length:i.Wmq.Short}},g=Object.freeze({model:{label:"Export",icon:"mdi mdi-content-save",length:i.Wmq.Short},options:s}),h={model:{icon:"mdi mdi-18px mdi-group",label:"Group",length:i.Wmq.Short},options:s},m={model:{icon:"mdi mdi-18px mdi-refresh mdi-flip-h",label:"CU Reset",length:i.Wmq.Short}},f={model:{icon:"mdi mdi-18px mdi-loading mdi-spin",label:"CU Reset",length:i.Wmq.Short}},b={model:{icon:"mdi mdi-18px mdi-swap-horizontal",label:"Switchover",length:i.Wmq.Short}},C={model:{icon:"mdi mdi-16px mdi-check",label:"Activate",length:i.Wmq.Short}},v={model:{icon:"mdi mdi-18px mdi-loading mdi-spin",label:"Activate",length:i.Wmq.Short}},y={model:{icon:"mdi mdi-18px mdi-loading mdi-spin",label:"Deactivate",length:i.Wmq.Short}},S={model:{icon:"mdi mdi-16px mdi-close",label:"Deactivate",length:i.Wmq.Short}}},11708:(e,t,n)=>{"use strict";n.d(t,{I6:()=>l,t1:()=>c,FL:()=>d});var i=n(23607),o=n(62800),s=n(91928);const a=(0,i.H)({selectId:e=>e.faultId}),r=a.getInitialState({});function l(e=r,t){return t.type===s.aJ.ADD_FAULT?a.addOne(t.payload.fault,e):e}const c=(0,o.ZF)("Faults"),d=e=>(0,o.P1)(c,t=>t.entities[e])},37212:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CuDashboardModule:()=>Zc});var i=n(12057),o=n(12021),s=n(64762),a=n(23815),r=n.n(a),l=n(79765),c=n(62800),d=n(46782),u=n(13653),p=(()=>(function(e){e.registerKey="[PMV2] [Counters dashboard] Registers counter key",e.selectNodes="[PMV2] [User] [Counters dashboard] Selects nodes",e.startPolling="[PMV2] [Counters dashboard] Start polling counters values",e.stopPolling="[PMV2] [Counters dashboard] Stop polling to counters values",e.requestValues="[PMV2] [Counters dashboard] Request all counters values",e.requestValuesForInstance="[PMV2] [Counters dashboard] Request counters values for instance",e.setValues="[PMV2] [Counters dashboard] Set counters values",e.requestInfoForInstance="[PMV2] [Counters dashboard] Request counters info for instance",e.setInfo="[PMV2] [Counters dashboard] Set counters info",e.requestValuesNotModified="[PMV2] [Counters dashboard] Request values not modified",e.requestValuesError="[PMV2] [Counters dashboard] Request values error",e.requestInfoError="[PMV2] [Counters dashboard] Request info error",e.setLatestEtag="[PMV2] [Counters dashboard] Set latest ETag",e.setLatestCounterSelectionDate="[PMV2] [Counters dashboard] Set latest counter selection date"}(p||(p={})),p))();const g=(0,c.PH)(p.registerKey,(0,c.Ky)()),h=(0,c.PH)(p.selectNodes,(0,c.Ky)()),m=(0,c.PH)(p.startPolling),f=(0,c.PH)(p.stopPolling),b=(0,c.PH)(p.requestValues),C=(0,c.PH)(p.requestValuesForInstance,(0,c.Ky)()),v=(0,c.PH)(p.setValues,(0,c.Ky)()),y=(0,c.PH)(p.requestInfoForInstance,(0,c.Ky)()),S=(0,c.PH)(p.setInfo,(0,c.Ky)()),P=(0,c.PH)(p.requestValuesError),O=(0,c.PH)(p.requestValuesNotModified),x=(0,c.PH)(p.requestInfoError),w=(0,c.PH)(p.setLatestEtag,(0,c.Ky)());var A=n(94185),_=n(13799),T=n(50988),I=n(34306),E=n(74788),M=n(66682),k=n(25917),N=n(22759),L=n(75319),D=n(54395),Z=n(45435),R=n(68307),U=n(88002),F=n(42145),j=n(78345),$=n(43190),q=n(87519),B=n(94458),G=n(15257);const V=["positionHighlight"],Y=["*"],J={setCssElementPosition:function(e,t){e.style.left=t.x+"px",e.style.top=t.y+"px"},resetCSSElementPosition:function(e){e.style.left="",e.style.top=""},setTransform:function(e,t){const n=`translate(${t.x}px,${t.y}px)`;e.style.transform=n,e.style.WebkitTransform=n,e.style.MozTransform=n,e.style.msTransform=n,e.style.OTransform=n},resetTransform:function(e){e.style.transform="",e.style.WebkitTransform="",e.style.MozTransform="",e.style.msTransform="",e.style.OTransform=""},clearSelection:()=>{document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()},isElementFitContainer:function(e,t){const n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return i.left>n.left&&i.right<n.right&&i.top>n.top&&i.bottom<n.bottom},isElementIntersectContainer:function(e,t){const n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=i.right-i.left,s=i.bottom-i.top;return i.left+o/2>n.left&&i.right-o/2<n.right&&i.top+s/2>n.top&&i.bottom-s/2<n.bottom},isElementTouchContainer:function(e,t){const n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return i.right>n.left&&i.bottom>n.top&&i.left<n.right&&i.top<n.bottom},isCursorAboveElement:function(e,t){const n=t.getBoundingClientRect();return e.pageX>n.left&&e.pageX<n.right&&e.pageY>n.top&&e.pageY<n.bottom},getElementOuterHeight:function(e){const t=window.getComputedStyle(e);return parseFloat(t.getPropertyValue("height"))+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))},getRelativeCoordinates:(e,t)=>{const n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return{top:i.top-n.top,left:i.left-n.left}},getScrollableContainer(e){const t=/(auto|scroll)/,n=(e,t)=>null===e.parentNode?t:n(e.parentNode,t.concat([e])),i=(e,t)=>getComputedStyle(e,null).getPropertyValue(t),o=e=>t.test((e=>i(e,"overflow")+i(e,"overflow-y")+i(e,"overflow-x"))(e));return(e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return;const t=n(e.parentNode,[]);for(let n=0;n<t.length;n+=1)if(o(t[n]))return t[n];return document.scrollingElement||document.documentElement})(e)}},H=function(e){for(let t=0;t<e;t++)this.push(null)};H.prototype=[];class W{constructor(e,t){this.options=t,this.items=e,this.adjustSizeOfItems(),this.generateGrid()}toString(){const e=this.grid.length;let t,n,i,o="\n #|",s="\n --";for(n=0;n<e;n++)o+=" "+this.padNumber(n," "),s+="---";for(o+=s,n=0;n<this.options.lanes;n++)for(o+="\n"+this.padNumber(n," ")+"|",i=0;i<e;i++)o+=" ",t=this.grid[i][n],o+=t?this.padNumber(this.items.indexOf(t),"0"):"--";return o+="\n",o}setOption(e,t){this.options[e]=t}generateGrid(){let e;for(this.resetGrid(),e=0;e<this.items.length;e++)this.markItemPositionToGrid(this.items[e])}resizeGrid(e){let t=0;this.options.lanes=e,this.adjustSizeOfItems(),this.sortItemsByPosition(),this.resetGrid();for(let n=0;n<this.items.length;n++){const e=this.items[n],i=this.getItemPosition(e);this.updateItemPosition(e,this.findPositionForItem(e,{x:t,y:0})),t=Math.max(t,i.x)}this.pullItemsToLeft()}findPositionForItem(e,t,n){let i,o,s;for(i=t.x;i<this.grid.length;i++)if(void 0!==n){if(s=[i,n],this.itemFitsAtPosition(e,s))return s}else for(o=t.y;o<this.options.lanes;o++)if(s=[i,o],this.itemFitsAtPosition(e,s))return s;const a=this.grid.length;let r=0;return void 0!==n&&this.itemFitsAtPosition(e,[a,n])&&(r=n),[a,r]}moveAndResize(e,t,n){const i=this.getItemPosition({x:t[0],y:t[1],w:e.w,h:e.h}),o=n.w||e.w,s=n.h||e.h;this.updateItemPosition(e,[i.x,i.y]),this.updateItemSize(e,o,s),this.resolveCollisions(e)}moveItemToPosition(e,t){const n=this.getItemPosition({x:t[0],y:t[1],w:e.w,h:e.h});this.updateItemPosition(e,[n.x,n.y]),this.resolveCollisions(e)}resizeItem(e,t){this.updateItemSize(e,t.w||e.w,t.h||e.h),this.pullItemsToLeft(e)}getChangedItems(e,t){return this.items.map(n=>{const i=[],o={},s=e.find(e=>e.$element===n.$element);if(!s)return{item:n,changes:["x","y","w","h"],isNew:!0};const a=s.getValueX(t);n.getValueX(t)!==a&&(i.push("x"),(a||0===a)&&(o.x=a));const r=s.getValueY(t);return n.getValueY(t)!==r&&(i.push("y"),(r||0===r)&&(o.y=r)),n.getValueW(t)!==s.getValueW(t)&&(i.push("w"),o.w=s.w),n.getValueH(t)!==s.getValueH(t)&&(i.push("h"),o.h=s.h),{item:n,oldValues:o,changes:i,isNew:!1}}).filter(e=>e.changes.length)}resolveCollisions(e){this.tryToResolveCollisionsLocally(e)||this.pullItemsToLeft(e),(this.options.floating||this.getItemsCollidingWithItem(e).length)&&this.pullItemsToLeft()}pushCollidingItems(e){this.sortItemsByPosition(),this.resetGrid(),this.generateGrid(),this.items.filter(t=>!this.isItemFloating(t)&&t!==e).forEach(e=>{this.tryToResolveCollisionsLocally(e)||this.pullItemsToLeft(e)})}pullItemsToLeft(e){if("none"!==this.options.direction){if(this.sortItemsByPosition(),this.resetGrid(),e){const t=this.getItemPosition(e);this.updateItemPosition(e,[t.x,t.y])}this.items.filter(t=>!t.dragAndDrop&&t!==e).forEach(e=>{const t=this.getItemPosition(e);this.updateItemPosition(e,[t.x,t.y])});for(let t=0;t<this.items.length;t++){const n=this.items[t],i=this.getItemPosition(n);if(e&&n===e||!n.dragAndDrop||!this.options.floating&&this.isItemFloating(n)&&!this.getItemsCollidingWithItem(n).length)continue;const o=this.findLeftMostPositionForItem(n),s=this.findPositionForItem(n,{x:o,y:0},i.y);this.updateItemPosition(n,s)}}}isOverFixedArea(e,t,n,i,o=null){let s={x:e,y:t,w:n,h:i};"horizontal"!==this.options.direction&&(s={x:t,y:e,w:i,h:n});for(let a=s.x;a<s.x+s.w;a++)for(let e=s.y;e<s.y+s.h;e++)if(this.grid[a]&&this.grid[a][e]&&this.grid[a][e]!==o&&!this.grid[a][e].dragAndDrop)return!0;return!1}checkItemAboveEmptyArea(e,t){let n={x:t.x,y:t.y,w:e.w,h:e.h};return!e.itemPrototype&&e.x===t.x&&e.y===t.y||("horizontal"===this.options.direction&&(n={x:t.y,y:t.x,w:n.h,h:n.w}),!this.checkItemsInArea(n.y,n.y+n.h-1,n.x,n.x+n.w-1,e))}fixItemsPositions(e){const t=this.items.filter(e=>e.itemComponent).filter(t=>this.isItemValidForGrid(t,e)),n=this.items.filter(e=>e.itemComponent).filter(t=>!this.isItemValidForGrid(t,e)),i=new W([],e);i.items=t.map(t=>t.copyForBreakpoint(e.breakpoint)),i.generateGrid(),n.forEach(t=>{const n=t.copyForBreakpoint(e.breakpoint),o=i.findPositionForItem(n,{x:0,y:0});i.items.push(n),i.setItemPosition(n,o),i.markItemPositionToGrid(n)}),i.pullItemsToLeft(),i.pushCollidingItems(),this.items.forEach(t=>{const n=i.items.filter(e=>e.$element===t.$element)[0];t.setValueX(n.x,e.breakpoint),t.setValueY(n.y,e.breakpoint),t.setValueW(n.w,e.breakpoint),t.setValueH(n.h,e.breakpoint),t.autoSize=n.autoSize})}deleteItemPositionFromGrid(e){const t=this.getItemPosition(e);let n,i;for(n=t.x;n<t.x+t.w;n++)if(this.grid[n])for(i=t.y;i<t.y+t.h;i++)this.grid[n][i]===e&&(this.grid[n][i]=null)}isItemFloating(e){if(e.itemComponent&&e.itemComponent.isDragging)return!1;const t=this.getItemPosition(e);return 0!==t.x&&(this.grid[t.x-1]||[]).slice(t.y,t.y+t.h).reduce((e,t)=>e&&!t,!0)}isItemValidForGrid(e,t){const n="horizontal"===t.direction?{x:e.getValueY(t.breakpoint),y:e.getValueX(t.breakpoint),w:e.getValueH(t.breakpoint),h:Math.min(e.getValueW(this.options.breakpoint),t.lanes)}:{x:e.getValueX(t.breakpoint),y:e.getValueY(t.breakpoint),w:Math.min(e.getValueW(this.options.breakpoint),t.lanes),h:e.getValueH(t.breakpoint)};return"number"==typeof n.x&&"number"==typeof n.y&&n.x+n.w<=t.lanes}findDefaultPositionHorizontal(e,t){for(const n of this.grid){const i=this.grid.indexOf(n);let o=0;for(;o<n.length-t+1;){if(!this.checkItemsInArea(i,i+e-1,o,o+t-1))return[i,o];o++}}return[this.grid.length,0]}findDefaultPositionVertical(e,t){for(const n of this.grid){const i=this.grid.indexOf(n);let o=0;for(;o<n.length-e+1;){if(!this.checkItemsInArea(i,i+t-1,o,o+e-1))return[o,i];o++}}return[0,this.grid.length]}checkItemsInArea(e,t,n,i,o){for(let s=e;s<=t;s++)for(let e=n;e<=i;e++)if(this.grid[s]&&this.grid[s][e]&&(!o||this.grid[s][e]!==o))return!0;return!1}sortItemsByPosition(){this.items.sort((e,t)=>{const n=this.getItemPosition(e),i=this.getItemPosition(t);return n.x!==i.x?n.x-i.x:n.y!==i.y?n.y-i.y:0})}adjustSizeOfItems(){for(let e=0;e<this.items.length;e++){const t=this.items[e];void 0===t.autoSize&&(t.autoSize=0===t.w||0===t.h),t.autoSize&&("horizontal"===this.options.direction?t.h=this.options.lanes:t.w=this.options.lanes)}}resetGrid(){this.grid=[]}itemFitsAtPosition(e,t){const n=this.getItemPosition(e);let i,o;if(t[0]<0||t[1]<0)return!1;if(t[1]+Math.min(n.h,this.options.lanes)>this.options.lanes)return!1;if(this.isOverFixedArea(e.x,e.y,e.w,e.h))return!1;for(i=t[0];i<t[0]+n.w;i++){const s=this.grid[i];if(s)for(o=t[1];o<t[1]+n.h;o++)if(s[o]&&s[o]!==e)return!1}return!0}updateItemPosition(e,t){null!==e.x&&null!==e.y&&this.deleteItemPositionFromGrid(e),this.setItemPosition(e,t),this.markItemPositionToGrid(e)}updateItemSize(e,t,n){null!==e.x&&null!==e.y&&this.deleteItemPositionFromGrid(e),e.w=t,e.h=n,this.markItemPositionToGrid(e)}markItemPositionToGrid(e){const t=this.getItemPosition(e);let n,i;for(this.ensureColumns(t.x+t.w),n=t.x;n<t.x+t.w;n++)for(i=t.y;i<t.y+t.h;i++)this.grid[n][i]=e}ensureColumns(e){for(let t=0;t<e;t++)this.grid[t]||this.grid.push(new H(this.options.lanes))}getItemsCollidingWithItem(e){const t=[];for(let n=0;n<this.items.length;n++)e!==this.items[n]&&this.itemsAreColliding(e,this.items[n])&&t.push(n);return t}itemsAreColliding(e,t){const n=this.getItemPosition(e),i=this.getItemPosition(t);return!(i.x>=n.x+n.w||i.x+i.w<=n.x||i.y>=n.y+n.h||i.y+i.h<=n.y)}tryToResolveCollisionsLocally(e){const t=this.getItemsCollidingWithItem(e);if(!t.length)return!0;const n=new W(this.items.map(e=>e.copy()),this.options);let i,o,s,a;for(let r=0;r<t.length;r++){const l=n.items[t[r]],c=this.getItemPosition(l),d=this.getItemPosition(e);if(i=[d.x-c.w,c.y],o=[d.x+d.w,c.y],s=[c.x,d.y-c.h],a=[c.x,d.y+d.h],n.itemFitsAtPosition(l,i))n.updateItemPosition(l,i);else if(n.itemFitsAtPosition(l,s))n.updateItemPosition(l,s);else if(n.itemFitsAtPosition(l,a))n.updateItemPosition(l,a);else{if(!n.itemFitsAtPosition(l,o))return!1;n.updateItemPosition(l,o)}}return this.items.forEach((e,t)=>{const i=n.items.filter(t=>t.$element===e.$element)[0];e.x=i.x,e.y=i.y,e.w=i.w,e.h=i.h,e.autoSize=i.autoSize}),this.generateGrid(),!0}findLeftMostPositionForItem(e){let t=0;const n=this.getItemPosition(e);for(let i=0;i<this.grid.length;i++)for(let o=n.y;o<n.y+n.h;o++){const n=this.grid[i][o];if(!n)continue;const s=this.getItemPosition(n);this.items.indexOf(n)<this.items.indexOf(e)&&(t=s.x+s.w)}return t}findItemByPosition(e,t){for(let n=0;n<this.items.length;n++)if(this.items[n].x===e&&this.items[n].y===t)return this.items[n]}getItemByAttribute(e,t){for(let n=0;n<this.items.length;n++)if(this.items[n][e]===t)return this.items[n];return null}padNumber(e,t){return e>=10?e:t+e}getItemPosition(e){return"horizontal"===this.options.direction?e:{x:e.y,y:e.x,w:e.h,h:e.w}}setItemPosition(e,t){"horizontal"===this.options.direction?(e.x=t[0],e.y=t[1]):(e.x=t[1],e.y=t[0])}}let Q=(()=>{class e{constructor(){this.items=[],this._items=[],this._itemsMap={},this.disabledItems=[],this.debounceRenderSubject=new l.xQ,this.itemRemoveSubject=new l.xQ,this.isInit=!1,this.itemRemoveSubject.pipe((0,D.b)(0)).subscribe(()=>{this.gridList.pullItemsToLeft(),this.render(),this.updateCachedItems()}),this.debounceRenderSubject.pipe((0,D.b)(0)).subscribe(()=>this.render())}isInitialized(){return this.isInit}registerItem(e){return this.items.push(e),e}init(e){this.gridsterComponent=e,this.draggableOptions=e.draggableOptions,this.gridsterOptions=e.gridsterOptions}start(){this.updateMaxItemSize(),this.$positionHighlight&&this.removePositionHighlight(),this.initGridList(),this.isInit=!0,setTimeout(()=>{this.copyItems(),this.fixItemsPositions(),this.gridsterComponent.reflowGridster(!0),this.gridsterComponent.setReady()})}initGridList(){this.gridList=new W(this.items,this.options)}render(){this.updateMaxItemSize(),this.gridList.generateGrid(),this.applySizeToItems(),this.applyPositionToItems(),this.refreshLines()}reflow(){this.calculateCellSize(),this.render()}fixItemsPositions(){this.options.responsiveSizes?this.gridList.fixItemsPositions(this.options):(this.gridList.fixItemsPositions(this.gridsterOptions.basicOptions),this.gridsterOptions.responsiveOptions.forEach(e=>{this.gridList.fixItemsPositions(e)})),this.updateCachedItems()}removeItem(e){this.items.indexOf(e)>=0&&this.items.splice(this.items.indexOf(e),1),this.gridList.deleteItemPositionFromGrid(e),this.removeItemFromCache(e)}onResizeStart(e){this.currentElement=e.$element,this.copyItems(),this._maxGridCols=this.gridList.grid.length,this.highlightPositionForItem(e),this.gridsterComponent.isResizing=!0,this.refreshLines()}onResizeDrag(e){const t=this.snapItemSizeToGrid(e),n=this.dragSizeChanged(t),i=this.snapItemPositionToGrid(e),o=this.dragPositionChanged(i);(n||o)&&(this.restoreCachedItems(),this.gridList.generateGrid(),this.previousDragPosition=i,this.previousDragSize=t,this.gridList.moveAndResize(e,i,{w:t[0],h:t[1]}),this.applyPositionToItems(!0),this.highlightPositionForItem(e))}onResizeStop(e){this.currentElement=void 0,this.updateCachedItems(),this.previousDragSize=null,this.removePositionHighlight(),this.gridsterComponent.isResizing=!1,this.gridList.pullItemsToLeft(e),this.debounceRenderSubject.next(),this.fixItemsPositions()}onStart(e){this.currentElement=e.$element,this.copyItems(),this._maxGridCols=this.gridList.grid.length,this.gridsterComponent.isDragging=!0,this.gridsterComponent.updateGridsterElementData(),this.refreshLines()}onDrag(e){const t=this.snapItemPositionToGrid(e);if(this.dragPositionChanged(t)){if(this.restoreCachedItems(),this.gridList.generateGrid(),this.previousDragPosition=t,"none"===this.options.direction&&!this.gridList.checkItemAboveEmptyArea(e,{x:t[0],y:t[1]}))return;this.gridList.moveItemToPosition(e,t),this.applyPositionToItems(!0),this.highlightPositionForItem(e)}}cancel(){this.restoreCachedItems(),this.previousDragPosition=null,this.updateMaxItemSize(),this.applyPositionToItems(),this.removePositionHighlight(),this.currentElement=void 0,this.gridsterComponent.isDragging=!1}onDragOut(e){this.cancel();const t=this.items.indexOf(e);t>=0&&this.items.splice(t,1),this.gridList.pullItemsToLeft(),this.render()}onStop(e){this.currentElement=void 0,this.updateCachedItems(),this.previousDragPosition=null,this.removePositionHighlight(),this.gridList.pullItemsToLeft(e),this.gridsterComponent.isDragging=!1,this.refreshLines()}calculateCellSize(){"horizontal"===this.options.direction?(this.cellHeight=this.calculateCellHeight(),this.cellWidth=this.options.cellWidth||this.cellHeight*this.options.widthHeightRatio):(this.cellWidth=this.calculateCellWidth(),this.cellHeight=this.options.cellHeight||this.cellWidth/this.options.widthHeightRatio),this.options.heightToFontSizeRatio&&(this._fontSize=this.cellHeight*this.options.heightToFontSizeRatio)}applyPositionToItems(e){this.options.shrink||(e=!0);for(let n=0;n<this.items.length;n++)this.isCurrentElement(this.items[n].$element)||this.items[n].applyPosition(this);const t=this.gridsterComponent.$element.firstChild;if("horizontal"===this.options.direction){const n=e?this.maxItemWidth:0;t.style.height="",t.style.width=(this.gridList.grid.length+n)*this.cellWidth+"px"}else this.gridList.grid.length&&(t.style.height=(this.gridList.grid.length+(e?this.maxItemHeight:0))*this.cellHeight+"px",t.style.width="")}refreshLines(){const e=this.gridsterComponent.$element.firstChild;if(this.options.lines&&this.options.lines.visible&&(this.gridsterComponent.isDragging||this.gridsterComponent.isResizing||this.options.lines.always)){const t=this.options.lines.color||"#d8d8d8",n=this.options.lines.backgroundColor||"transparent",i=this.options.lines.width||1,o=i/2;e.style.backgroundSize=`${this.cellWidth}px ${this.cellHeight}px`,e.style.backgroundPosition=`-${o}px -${o}px`,e.style.backgroundImage=`\n                linear-gradient(to right, ${t} ${i}px, ${n} ${i}px),\n                linear-gradient(to bottom, ${t} ${i}px, ${n} ${i}px)\n            `}else e.style.backgroundSize="",e.style.backgroundPosition="",e.style.backgroundImage=""}removeItemFromCache(e){this._items=this._items.filter(t=>t.$element!==e.$element),Object.keys(this._itemsMap).forEach(t=>{this._itemsMap[t]=this._itemsMap[t].filter(t=>t.$element!==e.$element)})}copyItems(){this._items=this.items.filter(e=>this.isValidGridItem(e)).map(e=>e.copyForBreakpoint(null)),this.gridsterOptions.responsiveOptions.forEach(e=>{this._itemsMap[e.breakpoint]=this.items.filter(e=>this.isValidGridItem(e)).map(t=>t.copyForBreakpoint(e.breakpoint))})}updateMaxItemSize(){this.maxItemWidth=Math.max.apply(null,this.items.map(e=>e.w)),this.maxItemHeight=Math.max.apply(null,this.items.map(e=>e.h))}restoreCachedItems(){const e=this.options.breakpoint?this._itemsMap[this.options.breakpoint]:this._items;this.items.filter(e=>this.isValidGridItem(e)).forEach(t=>{const n=e.filter(e=>e.$element===t.$element)[0];t.x=n.x,t.y=n.y,t.w=n.w,t.h=n.h,t.autoSize=n.autoSize})}isValidGridItem(e){return"none"!==this.options.direction||!!e.itemComponent}calculateCellWidth(){return parseFloat(window.getComputedStyle(this.gridsterComponent.$element).width)/this.options.lanes}calculateCellHeight(){return parseFloat(window.getComputedStyle(this.gridsterComponent.$element).height)/this.options.lanes}applySizeToItems(){for(let e=0;e<this.items.length;e++)this.items[e].applySize(),this.options.heightToFontSizeRatio&&(this.items[e].$element.style["font-size"]=this._fontSize)}isCurrentElement(e){return!!this.currentElement&&e===this.currentElement}snapItemSizeToGrid(e){const t=parseInt(e.$element.style.width,10)-1,n=parseInt(e.$element.style.height,10)-1;let i=Math.round(t/this.cellWidth),o=Math.round(n/this.cellHeight);return i=Math.max(i,1),o=Math.max(o,1),this.gridList.isOverFixedArea(e.x,e.y,i,o,e)?[e.w,e.h]:[i,o]}generateItemPosition(e){let t;if(e.itemPrototype){const n=e.itemPrototype.getPositionToGridster(this);t={x:Math.round(n.x/this.cellWidth),y:Math.round(n.y/this.cellHeight)}}else t={x:Math.round(e.positionX/this.cellWidth),y:Math.round(e.positionY/this.cellHeight)};return t}snapItemPositionToGrid(e){const t=this.generateItemPosition(e);let n=t.x,i=t.y;return n=Math.max(n,0),i=Math.max(i,0),n="horizontal"===this.options.direction?Math.min(n,this._maxGridCols):Math.min(n,Math.max(0,this.options.lanes-e.w)),this.gridList.isOverFixedArea(n,i,e.w,e.h)?[e.x,e.y]:[n,i]}dragSizeChanged(e){return!this.previousDragSize||e[0]!==this.previousDragSize[0]||e[1]!==this.previousDragSize[1]}dragPositionChanged(e){return!this.previousDragPosition||e[0]!==this.previousDragPosition[0]||e[1]!==this.previousDragPosition[1]}highlightPositionForItem(e){const t=e.calculateSize(this),n=e.calculatePosition(this);this.$positionHighlight.style.width=t.width+"px",this.$positionHighlight.style.height=t.height+"px",this.$positionHighlight.style.left=n.left+"px",this.$positionHighlight.style.top=n.top+"px",this.$positionHighlight.style.display="",this.options.heightToFontSizeRatio&&(this.$positionHighlight.style["font-size"]=this._fontSize)}updateCachedItems(){this.triggerOnChange(null),this.gridsterOptions.responsiveOptions.forEach(e=>{this.triggerOnChange(e.breakpoint)}),this.copyItems()}triggerOnChange(e){this.gridList.getChangedItems((e?this._itemsMap[e]:this._items)||[],e).filter(e=>e.item.itemComponent).forEach(t=>{t.changes.indexOf("x")>=0&&t.item.triggerChangeX(e),t.changes.indexOf("y")>=0&&t.item.triggerChangeY(e),t.changes.indexOf("w")>=0&&t.item.triggerChangeW(e),t.changes.indexOf("h")>=0&&t.item.triggerChangeH(e),t.item.itemComponent.change.emit({item:t.item,oldValues:t.oldValues||{},isNew:t.isNew,changes:t.changes,breakpoint:e})})}removePositionHighlight(){this.$positionHighlight.style.display="none"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})(),z=(()=>{class e{constructor(){this.isDragging=!1,this.dragSubject=new l.xQ,this.dragStartSubject=new l.xQ,this.dragStopSubject=new l.xQ}observeDropOver(e){return this.dragStopSubject.pipe((0,Z.h)(t=>{const n=e.gridsterComponent.$element;return![].slice.call(n.querySelectorAll("gridster")).reduce((n,i)=>n||this.isOverGridster(t.item,i,t.event,e.options),!1)&&this.isOverGridster(t.item,n,t.event,e.options)}),(0,R.b)(t=>{t.item.onDrop(e)}))}observeDropOut(e){return this.dragStopSubject.pipe((0,Z.h)(t=>!this.isOverGridster(t.item,e.gridsterComponent.$element,t.event,e.options)),(0,R.b)(e=>{e.item.onCancel()}))}observeDragOver(e){const t=this.dragSubject.pipe((0,U.U)(t=>({item:t.item,event:t.event,isOver:this.isOverGridster(t.item,e.gridsterComponent.$element,t.event,e.options),isDrop:!1}))),n=this.dragStopSubject.pipe((0,U.U)(t=>({item:t.item,event:t.event,isOver:this.isOverGridster(t.item,e.gridsterComponent.$element,t.event,e.options),isDrop:!0}))),i=(0,M.T)(this.dragStartSubject.pipe((0,U.U)(()=>({item:null,isOver:!1,isDrop:!1}))),t,n).pipe((0,F.R)((e,t)=>({item:t.item,event:t.event,isOver:t.isOver,isEnter:!1===e.isOver&&!0===t.isOver,isOut:!0===e.isOver&&!1===t.isOver&&!e.isDrop,isDrop:t.isDrop})),(0,Z.h)(e=>!e.isDrop),(0,j.B)()),o=this.createDragEnterObservable(i,e),s=this.createDragOutObservable(i,e),a=o.pipe((0,$.w)(()=>this.dragSubject.pipe((0,d.R)(s))),(0,U.U)(e=>e.item));return{dragEnter:o,dragOut:s,dragOver:a}}dragItemStart(e,t){this.isDragging=!0,this.dragStartSubject.next({item:e,event:t})}dragItemStop(e,t){this.isDragging=!1,this.dragStopSubject.next({item:e,event:t})}updatePrototypePosition(e,t){this.dragSubject.next({item:e,event:t})}createDragOverObservable(e,t){return e.pipe((0,Z.h)(e=>e.isOver&&!e.isEnter&&!e.isOut),(0,U.U)(e=>e.item),(0,R.b)(e=>e.onOver(t)))}createDragEnterObservable(e,t){return e.pipe((0,Z.h)(e=>e.isEnter),(0,U.U)(e=>e.item),(0,R.b)(e=>e.onEnter(t)))}createDragOutObservable(e,t){return e.pipe((0,Z.h)(e=>e.isOut),(0,U.U)(e=>e.item),(0,R.b)(e=>e.onOut(t)))}isOverGridster(e,t,n,i){const o=e.$element,s=t.parentElement&&t.parentElement.closest("gridster-item");if(s)return this.isOverGridster(e,s,n,i);switch(i.tolerance){case"fit":return J.isElementFitContainer(o,t);case"intersect":return J.isElementIntersectContainer(o,t);case"touch":return J.isElementTouchContainer(o,t);default:return J.isCursorAboveElement(n,t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})();class K{constructor(e,t){this.defaults={lanes:5,direction:"horizontal",widthHeightRatio:1,shrink:!1,responsiveView:!0,responsiveSizes:!1,responsiveToParent:!1,dragAndDrop:!0,resizable:!1,useCSSTransforms:!1,floating:!0,tolerance:"pointer"},this.responsiveOptions=[],this.breakpointsMap={sm:576,md:768,lg:992,xl:1200};const n=e.responsiveToParent?t:window;this.basicOptions=e,this.responsiveOptions=this.extendResponsiveOptions(e.responsiveOptions||[]),this.change=(0,M.T)((0,k.of)(this.getOptionsByWidth(this.getElementWidth(n))),(0,N.R)(window,"resize").pipe((0,D.b)(e.responsiveDebounce||0),(0,U.U)(e=>this.getOptionsByWidth(this.getElementWidth(n))))).pipe((0,q.x)(null,e=>e.minWidth))}getOptionsByWidth(e){let t=0,n=Object.assign({},this.defaults,this.basicOptions);for(;this.responsiveOptions[t];)this.responsiveOptions[t].minWidth<=e&&(n=this.responsiveOptions[t]),t++;return n}extendResponsiveOptions(e){return e.filter(e=>e.breakpoint).map(e=>Object.assign({minWidth:this.breakpointsMap[e.breakpoint]||0},e)).sort((e,t)=>e.minWidth-t.minWidth).map(e=>Object.assign({},this.defaults,this.basicOptions,e))}getElementWidth(e){return e===window?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:e.clientWidth}}let X=(()=>{class e{constructor(e,t,n,i){this.zone=e,this.gridsterPrototype=i,this.optionsChange=new E.vpe,this.ready=new E.vpe,this.reflow=new E.vpe,this.prototypeDrop=new E.vpe,this.prototypeEnter=new E.vpe,this.prototypeOut=new E.vpe,this.draggableOptions={},this.isDragging=!1,this.isResizing=!1,this.isReady=!1,this.isPrototypeEntered=!1,this.isDisabled=!1,this.subscription=new L.w,this.gridster=n,this.$element=t.nativeElement}ngOnInit(){this.gridsterOptions=new K(this.options,this.$element),this.options.useCSSTransforms&&this.$element.classList.add("css-transform"),this.subscription.add(this.gridsterOptions.change.subscribe(e=>{this.gridster.options=e,this.gridster.gridList&&(this.gridster.gridList.options=e),setTimeout(()=>this.optionsChange.emit(e))})),this.gridster.init(this),this.subscription.add((0,N.R)(window,"resize").pipe((0,D.b)(this.gridster.options.responsiveDebounce||0),(0,Z.h)(()=>this.gridster.options.responsiveView)).subscribe(()=>this.reload())),this.zone.runOutsideAngular(()=>{this.subscription.add((0,N.R)(document,"scroll",{passive:!0}).subscribe(()=>this.updateGridsterElementData()));const e=J.getScrollableContainer(this.$element);e&&this.subscription.add((0,N.R)(e,"scroll",{passive:!0}).subscribe(()=>this.updateGridsterElementData()))})}ngAfterContentInit(){this.gridster.start(),this.updateGridsterElementData(),this.connectGridsterPrototype(),this.gridster.$positionHighlight=this.$positionHighlight.nativeElement}ngOnDestroy(){this.subscription.unsubscribe()}setOption(e,t){return"dragAndDrop"===e&&(t?this.enableDraggable():this.disableDraggable()),"resizable"===e&&(t?this.enableResizable():this.disableResizable()),"lanes"===e&&(this.gridster.options.lanes=t,this.gridster.gridList.fixItemsPositions(this.gridster.options),this.reflowGridster()),"direction"===e&&(this.gridster.options.direction=t,this.gridster.gridList.pullItemsToLeft()),"widthHeightRatio"===e&&(this.gridster.options.widthHeightRatio=parseFloat(t||1)),"responsiveView"===e&&(this.gridster.options.responsiveView=!!t),this.gridster.gridList.setOption(e,t),this}reload(){return setTimeout(()=>{this.gridster.fixItemsPositions(),this.reflowGridster()}),this}reflowGridster(e=!1){this.gridster.reflow(),this.reflow.emit({isInit:e,gridsterComponent:this})}updateGridsterElementData(){this.gridster.gridsterScrollData=this.getScrollPositionFromParents(this.$element),this.gridster.gridsterRect=this.$element.getBoundingClientRect()}setReady(){setTimeout(()=>this.isReady=!0),this.ready.emit()}adjustItemsHeightToContent(e=".gridster-item-inner"){this.gridster.items.map(t=>{const n=t.$element.querySelector(e),i=n.lastElementChild,o=J.getRelativeCoordinates(n,t.$element),s=n.getBoundingClientRect();return{item:t,contentHeight:i.getBoundingClientRect().bottom-s.top,scrollElDistance:o}}).forEach(e=>{e.item.h=Math.ceil(e.contentHeight/(this.gridster.cellHeight-e.scrollElDistance.top))}),this.gridster.fixItemsPositions(),this.gridster.reflow()}disable(e){const t=this.gridster.items.indexOf(e.itemComponent);this.isDisabled=!0,t>=0&&delete this.gridster.items[this.gridster.items.indexOf(e.itemComponent)],this.gridster.onDragOut(e)}enable(){this.isDisabled=!1}getScrollPositionFromParents(e,t={scrollTop:0,scrollLeft:0}){return e.parentElement&&e.parentElement!==document.body?(t.scrollTop+=e.parentElement.scrollTop,t.scrollLeft+=e.parentElement.scrollLeft,this.getScrollPositionFromParents(e.parentElement,t)):{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}}connectGridsterPrototype(){this.gridsterPrototype.observeDropOut(this.gridster).subscribe();const e=this.gridsterPrototype.observeDropOver(this.gridster).pipe((0,B.O)(new l.xQ)),t=this.gridsterPrototype.observeDragOver(this.gridster);t.dragOver.pipe((0,Z.h)(()=>!this.isDisabled)).subscribe(e=>{this.isPrototypeEntered&&this.gridster.onDrag(e.item)}),t.dragEnter.pipe((0,Z.h)(()=>!this.isDisabled)).subscribe(e=>{this.isPrototypeEntered=!0,this.gridster.items.indexOf(e.item)<0&&this.gridster.items.push(e.item),this.gridster.onStart(e.item),e.setDragContextGridster(this.gridster),this.parent&&this.parent.disable(e.item),this.prototypeEnter.emit({item:e.item})}),t.dragOut.pipe((0,Z.h)(()=>!this.isDisabled)).subscribe(e=>{this.isPrototypeEntered&&(this.gridster.onDragOut(e.item),this.isPrototypeEntered=!1,this.prototypeOut.emit({item:e.item}),this.parent&&(this.parent.enable(),this.parent.isPrototypeEntered=!0,this.parent.gridster.items.indexOf(e.item)<0&&this.parent.gridster.items.push(e.item),this.parent.gridster.onStart(e.item),e.setDragContextGridster(this.parent.gridster),setTimeout(()=>{this.parent.prototypeEnter.emit({item:e.item}),e.onEnter(this.parent.gridster)})))}),e.pipe((0,Z.h)(()=>!this.isDisabled)).subscribe(e=>{this.isPrototypeEntered&&(this.gridster.onStop(e.item.item),this.gridster.removeItem(e.item.item),this.isPrototypeEntered=!1,this.parent&&this.parent.enable(),this.prototypeDrop.emit({item:e.item.item}))}),e.connect()}enableDraggable(){this.gridster.options.dragAndDrop=!0,this.gridster.items.filter(e=>e.itemComponent&&e.itemComponent.dragAndDrop).forEach(e=>e.itemComponent.enableDragDrop())}disableDraggable(){this.gridster.options.dragAndDrop=!1,this.gridster.items.filter(e=>e.itemComponent).forEach(e=>e.itemComponent.disableDraggable())}enableResizable(){this.gridster.options.resizable=!0,this.gridster.items.filter(e=>e.itemComponent&&e.itemComponent.resizable).forEach(e=>e.itemComponent.enableResizable())}disableResizable(){this.gridster.options.resizable=!1,this.gridster.items.forEach(e=>e.itemComponent.disableResizable())}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(E.R0b),E.Y36(E.SBq),E.Y36(Q),E.Y36(z))},e.\u0275cmp=E.Xpm({type:e,selectors:[["ngx-gridster"]],viewQuery:function(e,t){if(1&e&&E.Gf(V,7),2&e){let e;E.iGM(e=E.CRH())&&(t.$positionHighlight=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&E.ekj("gridster--dragging",t.isDragging)("gridster--resizing",t.isResizing)("gridster--ready",t.isReady)},inputs:{draggableOptions:"draggableOptions",options:"options",parent:"parent"},outputs:{optionsChange:"optionsChange",ready:"ready",reflow:"reflow",prototypeDrop:"prototypeDrop",prototypeEnter:"prototypeEnter",prototypeOut:"prototypeOut"},features:[E._Bn([Q])],ngContentSelectors:Y,decls:5,vars:0,consts:[[1,"gridster-container"],[1,"position-highlight",2,"display","none"],["positionHighlight",""],[1,"inner"]],template:function(e,t){1&e&&(E.F$t(),E.TgZ(0,"div",0),E.Hsn(1),E.TgZ(2,"div",1,2),E._UZ(4,"div",3),E.qZA(),E.qZA())},styles:["\n            ngx-gridster {\n                position: relative;\n                display: block;\n                left: 0;\n                width: 100%;\n            }\n\n            ngx-gridster.gridster--dragging {\n                -moz-user-select: none;\n                -khtml-user-select: none;\n                -webkit-user-select: none;\n                -ms-user-select: none;\n                user-select: none;\n            }\n\n            ngx-gridster .gridster-container {\n                position: relative;\n                width: 100%;\n                list-style: none;\n                -webkit-transition: width 0.2s, height 0.2s;\n                transition: width 0.2s, height 0.2s;\n            }\n\n            ngx-gridster .position-highlight {\n                display: block;\n                position: absolute;\n                z-index: 1;\n            }\n        "],encapsulation:2,changeDetection:0}),e})(),ee=(()=>{class e{get $element(){return this.getItem().$element}get x(){const e=this.getItem();return this.getValueX(e.gridster?e.gridster.options.breakpoint:null)}set x(e){const t=this.getItem();this.setValueX(e,t.gridster?t.gridster.options.breakpoint:null)}get y(){const e=this.getItem();return this.getValueY(e.gridster?e.gridster.options.breakpoint:null)}set y(e){const t=this.getItem();this.setValueY(e,t.gridster?t.gridster.options.breakpoint:null)}get w(){const e=this.getItem();return this.getValueW(e.gridster?e.gridster.options.breakpoint:null)}set w(e){const t=this.getItem();this.setValueW(e,t.gridster?t.gridster.options.breakpoint:null)}get h(){const e=this.getItem();return this.getValueH(e.gridster?e.gridster.options.breakpoint:null)}set h(e){const t=this.getItem();this.setValueH(e,t.gridster?t.gridster.options.breakpoint:null)}get autoSize(){return this.getItem().autoSize}set autoSize(e){this.getItem().autoSize=e}get dragAndDrop(){return!!this.getItem().dragAndDrop}get resizable(){return!!this.getItem().resizable}get positionX(){const e=this.itemComponent||this.itemPrototype;return e?e.positionX:null}get positionY(){const e=this.itemComponent||this.itemPrototype;return e?e.positionY:null}setFromGridsterItem(e){if(this.isItemSet())throw new Error("GridListItem is already set.");return this.itemComponent=e,this}setFromGridsterItemPrototype(e){if(this.isItemSet())throw new Error("GridListItem is already set.");return this.itemPrototype=e,this}setFromObjectLiteral(e){if(this.isItemSet())throw new Error("GridListItem is already set.");return this.itemObject=e,this}copy(){return(new e).setFromObjectLiteral({$element:this.$element,x:this.x,y:this.y,w:this.w,h:this.h,autoSize:this.autoSize,dragAndDrop:this.dragAndDrop,resizable:this.resizable})}copyForBreakpoint(t){return(new e).setFromObjectLiteral({$element:this.$element,x:this.getValueX(t),y:this.getValueY(t),w:this.getValueW(t),h:this.getValueH(t),autoSize:this.autoSize,dragAndDrop:this.dragAndDrop,resizable:this.resizable})}getValueX(e){return this.getItem()[this.getXProperty(e)]}getValueY(e){return this.getItem()[this.getYProperty(e)]}getValueW(e){return this.getItem()[this.getWProperty(e)]||1}getValueH(e){return this.getItem()[this.getHProperty(e)]||1}setValueX(e,t){this.getItem()[this.getXProperty(t)]=e}setValueY(e,t){this.getItem()[this.getYProperty(t)]=e}setValueW(e,t){this.getItem()[this.getWProperty(t)]=e}setValueH(e,t){this.getItem()[this.getHProperty(t)]=e}triggerChangeX(e){const t=this.itemComponent;t&&t[this.getXProperty(e)+"Change"].emit(this.getValueX(e))}triggerChangeY(e){const t=this.itemComponent;t&&t[this.getYProperty(e)+"Change"].emit(this.getValueY(e))}triggerChangeW(e){const t=this.itemComponent;t&&t[this.getWProperty(e)+"Change"].emit(this.getValueW(e))}triggerChangeH(e){const t=this.itemComponent;t&&t[this.getHProperty(e)+"Change"].emit(this.getValueH(e))}hasPositions(e){const t=this.getValueX(e),n=this.getValueY(e);return(t||0===t)&&(n||0===n)}applyPosition(e){const t=this.calculatePosition(e);this.itemComponent.positionX=t.left,this.itemComponent.positionY=t.top,this.itemComponent.updateElemenetPosition()}calculatePosition(e){return e||this.itemComponent?{left:this.x*(e=e||this.itemComponent.gridster).cellWidth,top:this.y*e.cellHeight}:{left:0,top:0}}applySize(e){const t=this.calculateSize(e);this.$element.style.width=t.width+"px",this.$element.style.height=t.height+"px"}calculateSize(e){if(!e&&!this.itemComponent)return{width:0,height:0};let t=this.getValueW((e=e||this.itemComponent.gridster).options.breakpoint),n=this.getValueH(e.options.breakpoint);return"vertical"===e.options.direction&&(t=Math.min(t,e.options.lanes)),"horizontal"===e.options.direction&&(n=Math.min(n,e.options.lanes)),{width:t*e.cellWidth,height:n*e.cellHeight}}getXProperty(t){return t&&this.itemComponent?e.X_PROPERTY_MAP[t]:"x"}getYProperty(t){return t&&this.itemComponent?e.Y_PROPERTY_MAP[t]:"y"}getWProperty(t){if(this.itemPrototype)return this.itemPrototype[e.W_PROPERTY_MAP[t]]?e.W_PROPERTY_MAP[t]:"w";const n=this.getItem();return t&&n.gridster&&n.gridster.options.responsiveSizes?e.W_PROPERTY_MAP[t]:"w"}getHProperty(t){if(this.itemPrototype)return this.itemPrototype[e.H_PROPERTY_MAP[t]]?e.H_PROPERTY_MAP[t]:"h";const n=this.getItem();return t&&n.gridster&&n.gridster.options.responsiveSizes?e.H_PROPERTY_MAP[t]:"h"}getItem(){const e=this.itemComponent||this.itemPrototype||this.itemObject;if(!e)throw new Error("GridListItem is not set.");return e}isItemSet(){return this.itemComponent||this.itemPrototype||this.itemObject}}return e.BREAKPOINTS=["sm","md","lg","xl"],e.X_PROPERTY_MAP={sm:"xSm",md:"xMd",lg:"xLg",xl:"xXl"},e.Y_PROPERTY_MAP={sm:"ySm",md:"yMd",lg:"yLg",xl:"yXl"},e.W_PROPERTY_MAP={sm:"wSm",md:"wMd",lg:"wLg",xl:"wXl"},e.H_PROPERTY_MAP={sm:"hSm",md:"hMd",lg:"hLg",xl:"hXl"},e})();class te{constructor(e){e.touches?(this.touchEvent=e,this.setDataFromTouchEvent(this.touchEvent)):(this.mouseEvent=e,this.setDataFromMouseEvent(this.mouseEvent))}isTouchEvent(){return!!this.touchEvent}pauseEvent(){const e=this.touchEvent||this.mouseEvent;return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}getRelativeCoordinates(e){const t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,i=e.getBoundingClientRect();return{x:this.pageX-i.left-n,y:this.pageY-i.top-t}}setDataFromMouseEvent(e){this.target=e.target,this.clientX=e.clientX,this.clientY=e.clientY,this.pageX=e.pageX,this.pageY=e.pageY,this.type=e.type}setDataFromTouchEvent(e){const t=e.touches[0]||e.changedTouches[0];this.target=e.target,this.clientX=t.clientX,this.clientY=t.clientY,this.pageX=t.pageX,this.pageY=t.pageY,this.type=e.type}}let ne=(()=>{class e{constructor(e,t={}){this.mousemove=(0,M.T)((0,N.R)(document,"mousemove"),(0,N.R)(document,"touchmove",{passive:!1})).pipe((0,j.B)()),this.mouseup=(0,M.T)((0,N.R)(document,"mouseup"),(0,N.R)(document,"touchend"),(0,N.R)(document,"touchcancel")).pipe((0,j.B)()),this.config={handlerClass:null,scroll:!0,scrollEdge:36,scrollDirection:null},this.autoScrollingInterval=[],this.element=e,this.mousedown=(0,M.T)((0,N.R)(e,"mousedown"),(0,N.R)(e,"touchstart")).pipe((0,j.B)()),this.config=Object.assign(Object.assign({},this.config),t),this.dragStart=this.createDragStartObservable().pipe((0,j.B)()),this.dragMove=this.createDragMoveObservable(this.dragStart),this.dragStop=this.createDragStopObservable(this.dragStart),this.fixProblemWithDnDForIE(e),this.requestAnimationFrame=window.requestAnimationFrame||(e=>setTimeout(e,1e3/60)),this.cancelAnimationFrame=window.cancelAnimationFrame||(e=>clearTimeout(e))}createDragStartObservable(){return this.mousedown.pipe((0,U.U)(e=>new te(e)),(0,Z.h)(e=>this.isDragingByHandler(e)),(0,R.b)(e=>{e.isTouchEvent()||e.pauseEvent(),document.activeElement&&document.activeElement.blur(),J.clearSelection()}),(0,$.w)(e=>this.mousemove.pipe((0,U.U)(e=>new te(e)),(0,Z.h)(t=>this.inRange(e,t,5)),(0,U.U)(()=>e),(0,d.R)(this.mouseup),(0,G.q)(1))))}createDragMoveObservable(e){return e.pipe((0,R.b)(e=>{this.addTouchActionNone(e.target)}),(0,$.w)(e=>this.mousemove.pipe((0,u.T)(1),(0,U.U)(e=>new te(e)),(0,R.b)(t=>{t.pauseEvent(),e.pauseEvent()}),(0,d.R)(this.mouseup))),(0,Z.h)(e=>!!e),(0,R.b)(e=>{this.config.scroll&&this.startScroll(this.element,e)}))}createDragStopObservable(e){return e.pipe((0,$.w)(()=>this.mouseup.pipe((0,G.q)(1))),(0,U.U)(e=>new te(e)),(0,R.b)(e=>{e.target&&this.removeTouchActionNone(e.target),this.autoScrollingInterval.forEach(e=>this.cancelAnimationFrame(e))}))}startScroll(e,t){const n=this.getScrollContainer(e);this.autoScrollingInterval.forEach(e=>this.cancelAnimationFrame(e)),n?this.startScrollForContainer(t,n):this.startScrollForWindow(t)}startScrollForContainer(e,t){this.config.scrollDirection&&"vertical"!==this.config.scrollDirection||this.startScrollVerticallyForContainer(e,t),this.config.scrollDirection&&"horizontal"!==this.config.scrollDirection||this.startScrollHorizontallyForContainer(e,t)}startScrollVerticallyForContainer(t,n){t.pageY-this.getOffset(n).top<this.config.scrollEdge?this.startAutoScrolling(n,-e.SCROLL_SPEED,"scrollTop"):this.getOffset(n).top+n.getBoundingClientRect().height-t.pageY<this.config.scrollEdge&&this.startAutoScrolling(n,e.SCROLL_SPEED,"scrollTop")}startScrollHorizontallyForContainer(t,n){t.pageX-n.getBoundingClientRect().left<this.config.scrollEdge?this.startAutoScrolling(n,-e.SCROLL_SPEED,"scrollLeft"):this.getOffset(n).left+n.getBoundingClientRect().width-t.pageX<this.config.scrollEdge&&this.startAutoScrolling(n,e.SCROLL_SPEED,"scrollLeft")}startScrollForWindow(e){this.config.scrollDirection&&"vertical"!==this.config.scrollDirection||this.startScrollVerticallyForWindow(e),this.config.scrollDirection&&"horizontal"!==this.config.scrollDirection||this.startScrollHorizontallyForWindow(e)}startScrollVerticallyForWindow(t){const n=document.scrollingElement||document.documentElement||document.body;t.pageY-window.pageYOffset<this.config.scrollEdge?this.startAutoScrolling(n,-e.SCROLL_SPEED,"scrollTop"):window.innerHeight-(t.pageY-window.pageYOffset)<this.config.scrollEdge&&this.startAutoScrolling(n,e.SCROLL_SPEED,"scrollTop")}startScrollHorizontallyForWindow(t){const n=document.scrollingElement||document.documentElement||document.body;t.pageX-window.pageXOffset<this.config.scrollEdge?this.startAutoScrolling(n,-e.SCROLL_SPEED,"scrollLeft"):window.innerWidth-(t.pageX-window.pageXOffset)<this.config.scrollEdge&&this.startAutoScrolling(n,e.SCROLL_SPEED,"scrollLeft")}getScrollContainer(e){const t=J.getElementOuterHeight(e);return e.scrollHeight>Math.ceil(t)?e:new RegExp("(body|html)","i").test(e.parentNode.tagName)?null:this.getScrollContainer(e.parentNode)}startAutoScrolling(e,t,n){return this.autoScrollingInterval.push(this.requestAnimationFrame((function(){this.startAutoScrolling(e,t,n)}).bind(this))),e[n]+=.25*t}getOffset(e){const t=e.getBoundingClientRect();return{left:t.left+this.getScroll("scrollLeft","pageXOffset"),top:t.top+this.getScroll("scrollTop","pageYOffset")}}getScroll(e,t){return void 0!==window[t]?window[t]:document.documentElement.clientHeight?document.documentElement[e]:document.body[e]}isDragingByHandler(e){return!!this.isValidDragHandler(e.target)&&(!this.config.handlerClass||this.config.handlerClass&&this.hasElementWithClass(this.config.handlerClass,e.target))}isValidDragHandler(e){return-1===["input","textarea"].indexOf(e.tagName.toLowerCase())}inRange(e,t,n){return Math.abs(t.clientX-e.clientX)>n||Math.abs(t.clientY-e.clientY)>n}hasElementWithClass(e,t){for(;t!==this.element;){if(t.classList.contains(e))return!0;t=t.parentElement}return!1}pauseEvent(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1}fixProblemWithDnDForIE(e){this.isTouchDevice()&&this.isIEorEdge()&&e.style&&(e.style["touch-action"]="none")}removeTouchActionNone(e){e.style&&(e.style["touch-action"]="")}addTouchActionNone(e){e.style&&(e.style["touch-action"]="none")}isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints}isIEorEdge(){const e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){const t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}const n=e.indexOf("Edge/");return n>0&&parseInt(e.substring(n+5,e.indexOf(".",n)),10)}}return e.SCROLL_SPEED=20,e})(),ie=(()=>{class e{constructor(e,t,n,i){this.zone=e,this.gridsterPrototypeService=t,this.xChange=new E.vpe(!0),this.yChange=new E.vpe(!0),this.xSmChange=new E.vpe(!0),this.ySmChange=new E.vpe(!0),this.xMdChange=new E.vpe(!0),this.yMdChange=new E.vpe(!0),this.xLgChange=new E.vpe(!0),this.yLgChange=new E.vpe(!0),this.xXlChange=new E.vpe(!0),this.yXlChange=new E.vpe(!0),this.wChange=new E.vpe(!0),this.hChange=new E.vpe(!0),this.wSmChange=new E.vpe(!0),this.hSmChange=new E.vpe(!0),this.wMdChange=new E.vpe(!0),this.hMdChange=new E.vpe(!0),this.wLgChange=new E.vpe(!0),this.hLgChange=new E.vpe(!0),this.wXlChange=new E.vpe(!0),this.hXlChange=new E.vpe(!0),this.change=new E.vpe(!0),this.start=new E.vpe(!0),this.end=new E.vpe(!0),this.dragAndDrop=!0,this.resizable=!0,this.options={},this.isDragging=!1,this.isResizing=!1,this.defaultOptions={minWidth:1,minHeight:1,maxWidth:1/0,maxHeight:1/0,defaultWidth:1,defaultHeight:1},this.subscriptions=[],this.dragSubscriptions=[],this.resizeSubscriptions=[],this.gridster=i,this.elementRef=n,this.$element=n.nativeElement,this.item=(new ee).setFromGridsterItem(this),this.gridster.isInitialized()&&this.preventAnimation()}set positionX(e){this._positionX=e}get positionX(){return this._positionX}set positionY(e){this._positionY=e}get positionY(){return this._positionY}ngOnInit(){this.options=Object.assign(this.defaultOptions,this.options),this.w=this.w||this.options.defaultWidth,this.h=this.h||this.options.defaultHeight,this.wSm=this.wSm||this.w,this.hSm=this.hSm||this.h,this.wMd=this.wMd||this.w,this.hMd=this.hMd||this.h,this.wLg=this.wLg||this.w,this.hLg=this.hLg||this.h,this.wXl=this.wXl||this.w,this.hXl=this.hXl||this.h,this.gridster.isInitialized()&&this.setPositionsOnItem(),this.gridster.registerItem(this.item),this.gridster.calculateCellSize(),this.item.applySize(),this.item.applyPosition(),this.gridster.options.dragAndDrop&&this.dragAndDrop&&this.enableDragDrop(),this.gridster.isInitialized()&&(this.gridster.render(),this.gridster.updateCachedItems())}ngAfterViewInit(){this.gridster.options.resizable&&this.item.resizable&&this.enableResizable()}ngOnChanges(e){if(!this.gridster.gridList)return;let t=!1;["w",...Object.keys(ee.W_PROPERTY_MAP).map(e=>ee.W_PROPERTY_MAP[e])].filter(t=>e[t]&&!e[t].isFirstChange()).forEach(n=>{e[n].currentValue>this.options.maxWidth&&(this[n]=this.options.maxWidth,setTimeout(()=>this[n+"Change"].emit(this[n]))),t=!0}),["h",...Object.keys(ee.H_PROPERTY_MAP).map(e=>ee.H_PROPERTY_MAP[e])].filter(t=>e[t]&&!e[t].isFirstChange()).forEach(n=>{e[n].currentValue>this.options.maxHeight&&(this[n]=this.options.maxHeight,setTimeout(()=>this[n+"Change"].emit(this[n]))),t=!0}),["x","y",...Object.keys(ee.X_PROPERTY_MAP).map(e=>ee.X_PROPERTY_MAP[e]),...Object.keys(ee.Y_PROPERTY_MAP).map(e=>ee.Y_PROPERTY_MAP[e])].filter(t=>e[t]&&!e[t].isFirstChange()).forEach(e=>t=!0),e.dragAndDrop&&!e.dragAndDrop.isFirstChange()&&(e.dragAndDrop.currentValue&&this.gridster.options.dragAndDrop?this.enableDragDrop():this.disableDraggable()),e.resizable&&!e.resizable.isFirstChange()&&(e.resizable.currentValue&&this.gridster.options.resizable?this.enableResizable():this.disableResizable()),t&&this.gridster.gridsterComponent.isReady&&this.gridster.debounceRenderSubject.next()}ngOnDestroy(){this.gridster.removeItem(this.item),this.gridster.itemRemoveSubject.next(this.item),this.subscriptions.forEach(e=>{e.unsubscribe()}),this.disableDraggable(),this.disableResizable()}updateElemenetPosition(){this.gridster.options.useCSSTransforms?J.setTransform(this.$element,{x:this._positionX,y:this._positionY}):J.setCssElementPosition(this.$element,{x:this._positionX,y:this._positionY})}setPositionsOnItem(){this.item.hasPositions(this.gridster.options.breakpoint)||this.setPositionsForGrid(this.gridster.options),this.gridster.gridsterOptions.responsiveOptions.filter(e=>!this.item.hasPositions(e.breakpoint)).forEach(e=>this.setPositionsForGrid(e))}enableResizable(){this.resizeSubscriptions.length||this.zone.runOutsideAngular(()=>{this.getResizeHandlers().forEach(e=>{const t=this.getResizeDirection(e);this.hasResizableHandle(t)&&(e.style.display="block");const n=new ne(e,this.getResizableOptions());let i,o,s;const a=n.dragStart.subscribe(e=>{this.zone.run(()=>{this.isResizing=!0,i=e,o=this.createResizeStartObject(t),s=e.getRelativeCoordinates(this.$element),this.gridster.onResizeStart(this.item),this.onStart("resize")})}),r=n.dragMove.subscribe(e=>{const n=this.gridster.gridsterScrollData;this.resizeElement({direction:t,startData:o,position:{x:e.clientX-s.x-this.gridster.gridsterRect.left,y:e.clientY-s.y-this.gridster.gridsterRect.top},startEvent:i,moveEvent:e,scrollDiffX:n.scrollLeft-o.scrollLeft,scrollDiffY:n.scrollTop-o.scrollTop}),this.gridster.onResizeDrag(this.item)}),l=n.dragStop.subscribe(()=>{this.zone.run(()=>{this.isResizing=!1,this.gridster.onResizeStop(this.item),this.onEnd("resize")})});this.resizeSubscriptions=this.resizeSubscriptions.concat([a,r,l])})})}disableResizable(){this.resizeSubscriptions.forEach(e=>{e.unsubscribe()}),this.resizeSubscriptions=[],[].forEach.call(this.$element.querySelectorAll(".gridster-item-resizable-handler"),e=>{e.style.display=""})}enableDragDrop(){this.dragSubscriptions.length||this.zone.runOutsideAngular(()=>{let e;const t=new ne(this.$element,this.getDraggableOptions()),n=t.dragStart.subscribe(t=>{this.zone.run(()=>{this.gridster.onStart(this.item),this.isDragging=!0,this.onStart("drag"),e=t.getRelativeCoordinates(this.$element)})}),i=t.dragMove.subscribe(t=>{this.positionY=t.clientY-e.y-this.gridster.gridsterRect.top,this.positionX=t.clientX-e.x-this.gridster.gridsterRect.left,this.updateElemenetPosition(),this.gridster.onDrag(this.item)}),o=t.dragStop.subscribe(()=>{this.zone.run(()=>{this.gridster.onStop(this.item),this.gridster.debounceRenderSubject.next(),this.isDragging=!1,this.onEnd("drag")})});this.dragSubscriptions=this.dragSubscriptions.concat([n,i,o])})}disableDraggable(){this.dragSubscriptions.forEach(e=>{e.unsubscribe()}),this.dragSubscriptions=[]}getResizeHandlers(){return[].filter.call(this.$element.children[0].children,e=>e.classList.contains("gridster-item-resizable-handler"))}getDraggableOptions(){return Object.assign({scrollDirection:this.gridster.options.direction},this.gridster.draggableOptions)}getResizableOptions(){const e={};return(this.gridster.draggableOptions.scroll||!1===this.gridster.draggableOptions.scroll)&&(e.scroll=this.gridster.draggableOptions.scroll),this.gridster.draggableOptions.scrollEdge&&(e.scrollEdge=this.gridster.draggableOptions.scrollEdge),e.scrollDirection=this.gridster.options.direction,e}hasResizableHandle(e){const t=this.gridster.options.resizeHandles;return this.gridster.options.resizable&&this.item.resizable&&(!t||t&&!!t[e])}setPositionsForGrid(e){let t,n;const i=this.findPosition(e);t="horizontal"===e.direction?i[0]:i[1],n="horizontal"===e.direction?i[1]:i[0],this.item.setValueX(t,e.breakpoint),this.item.setValueY(n,e.breakpoint),setTimeout(()=>{this.item.triggerChangeX(e.breakpoint),this.item.triggerChangeY(e.breakpoint)})}findPosition(e){return new W(this.gridster.items.map(t=>t.copyForBreakpoint(e.breakpoint)),e).findPositionForItem(this.item,{x:0,y:0})}createResizeStartObject(e){const t=this.gridster.gridsterScrollData;return{top:this.positionY,left:this.positionX,height:parseInt(this.$element.style.height,10),width:parseInt(this.$element.style.width,10),minX:Math.max(this.item.x+this.item.w-this.options.maxWidth,0),maxX:this.item.x+this.item.w-this.options.minWidth,minY:Math.max(this.item.y+this.item.h-this.options.maxHeight,0),maxY:this.item.y+this.item.h-this.options.minHeight,minW:this.options.minWidth,maxW:Math.min(this.options.maxWidth,"vertical"===this.gridster.options.direction&&e.indexOf("w")<0?this.gridster.options.lanes-this.item.x:this.options.maxWidth,e.indexOf("w")>=0?this.item.x+this.item.w:this.options.maxWidth),minH:this.options.minHeight,maxH:Math.min(this.options.maxHeight,"horizontal"===this.gridster.options.direction&&e.indexOf("n")<0?this.gridster.options.lanes-this.item.y:this.options.maxHeight,e.indexOf("n")>=0?this.item.y+this.item.h:this.options.maxHeight),scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}onEnd(e){this.end.emit({action:e,item:this.item})}onStart(e){this.start.emit({action:e,item:this.item})}preventAnimation(){return this.$element.classList.add("no-transition"),setTimeout(()=>{this.$element.classList.remove("no-transition")},500),this}getResizeDirection(e){for(let t=e.classList.length-1;t>=0;t--)if(e.classList[t].match("handle-"))return e.classList[t].split("-")[1]}resizeElement(e){e.direction.indexOf("n")>=0&&this.resizeToNorth(e),e.direction.indexOf("w")>=0&&this.resizeToWest(e),e.direction.indexOf("e")>=0&&this.resizeToEast(e),e.direction.indexOf("s")>=0&&this.resizeToSouth(e)}resizeToNorth(e){const t=e.startData.height+e.startEvent.clientY-e.moveEvent.clientY-e.scrollDiffY;t<e.startData.minH*this.gridster.cellHeight?this.setMinHeight("n",e):t>e.startData.maxH*this.gridster.cellHeight?this.setMaxHeight("n",e):(this.positionY=e.position.y,this.$element.style.height=t+"px")}resizeToWest(e){const t=e.startData.width+e.startEvent.clientX-e.moveEvent.clientX-e.scrollDiffX;t<e.startData.minW*this.gridster.cellWidth?this.setMinWidth("w",e):t>e.startData.maxW*this.gridster.cellWidth?this.setMaxWidth("w",e):(this.positionX=e.position.x,this.updateElemenetPosition(),this.$element.style.width=t+"px")}resizeToEast(e){const t=e.startData.width+e.moveEvent.clientX-e.startEvent.clientX+e.scrollDiffX;t>e.startData.maxW*this.gridster.cellWidth?this.setMaxWidth("e",e):t<e.startData.minW*this.gridster.cellWidth?this.setMinWidth("e",e):this.$element.style.width=t+"px"}resizeToSouth(e){const t=e.startData.height+e.moveEvent.clientY-e.startEvent.clientY+e.scrollDiffY;t>e.startData.maxH*this.gridster.cellHeight?this.setMaxHeight("s",e):t<e.startData.minH*this.gridster.cellHeight?this.setMinHeight("s",e):this.$element.style.height=t+"px"}setMinHeight(e,t){"n"===e?(this.$element.style.height=t.startData.minH*this.gridster.cellHeight+"px",this.positionY=t.startData.maxY*this.gridster.cellHeight):this.$element.style.height=t.startData.minH*this.gridster.cellHeight+"px"}setMinWidth(e,t){"w"===e?(this.$element.style.width=t.startData.minW*this.gridster.cellWidth+"px",this.positionX=t.startData.maxX*this.gridster.cellWidth,this.updateElemenetPosition()):this.$element.style.width=t.startData.minW*this.gridster.cellWidth+"px"}setMaxHeight(e,t){"n"===e?(this.$element.style.height=t.startData.maxH*this.gridster.cellHeight+"px",this.positionY=t.startData.minY*this.gridster.cellHeight):this.$element.style.height=t.startData.maxH*this.gridster.cellHeight+"px"}setMaxWidth(e,t){"w"===e?(this.$element.style.width=t.startData.maxW*this.gridster.cellWidth+"px",this.positionX=t.startData.minX*this.gridster.cellWidth,this.updateElemenetPosition()):this.$element.style.width=t.startData.maxW*this.gridster.cellWidth+"px"}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(E.R0b),E.Y36(z),E.Y36(E.SBq),E.Y36(Q))},e.\u0275cmp=E.Xpm({type:e,selectors:[["ngx-gridster-item"]],hostVars:4,hostBindings:function(e,t){2&e&&E.ekj("is-dragging",t.isDragging)("is-resizing",t.isResizing)},inputs:{dragAndDrop:"dragAndDrop",resizable:"resizable",options:"options",w:"w",h:"h",wSm:"wSm",hSm:"hSm",wMd:"wMd",hMd:"hMd",wLg:"wLg",hLg:"hLg",wXl:"wXl",hXl:"hXl",x:"x",y:"y",xSm:"xSm",ySm:"ySm",xMd:"xMd",yMd:"yMd",xLg:"xLg",yLg:"yLg",xXl:"xXl",yXl:"yXl"},outputs:{xChange:"xChange",yChange:"yChange",xSmChange:"xSmChange",ySmChange:"ySmChange",xMdChange:"xMdChange",yMdChange:"yMdChange",xLgChange:"xLgChange",yLgChange:"yLgChange",xXlChange:"xXlChange",yXlChange:"yXlChange",wChange:"wChange",hChange:"hChange",wSmChange:"wSmChange",hSmChange:"hSmChange",wMdChange:"wMdChange",hMdChange:"hMdChange",wLgChange:"wLgChange",hLgChange:"hLgChange",wXlChange:"wXlChange",hXlChange:"hXlChange",change:"change",start:"start",end:"end"},features:[E.TTD],ngContentSelectors:Y,decls:10,vars:0,consts:[[1,"gridster-item-inner"],[1,"gridster-item-resizable-handler","handle-s"],[1,"gridster-item-resizable-handler","handle-e"],[1,"gridster-item-resizable-handler","handle-n"],[1,"gridster-item-resizable-handler","handle-w"],[1,"gridster-item-resizable-handler","handle-se"],[1,"gridster-item-resizable-handler","handle-ne"],[1,"gridster-item-resizable-handler","handle-sw"],[1,"gridster-item-resizable-handler","handle-nw"]],template:function(e,t){1&e&&(E.F$t(),E.TgZ(0,"div",0),E.Hsn(1),E._UZ(2,"div",1),E._UZ(3,"div",2),E._UZ(4,"div",3),E._UZ(5,"div",4),E._UZ(6,"div",5),E._UZ(7,"div",6),E._UZ(8,"div",7),E._UZ(9,"div",8),E.qZA())},styles:["\n    ngx-gridster-item {\n        display: block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 1;\n        -webkit-transition: none;\n        transition: none;\n    }\n\n    .gridster--ready ngx-gridster-item {\n        transition: all 200ms ease;\n        transition-property: left, top;\n    }\n\n    .gridster--ready.css-transform ngx-gridster-item  {\n        transition-property: transform;\n    }\n\n    .gridster--ready ngx-gridster-item.is-dragging,\n    .gridster--ready ngx-gridster-item.is-resizing {\n        -webkit-transition: none;\n        transition: none;\n        z-index: 9999;\n    }\n\n    ngx-gridster-item.no-transition {\n        -webkit-transition: none;\n        transition: none;\n    }\n    ngx-gridster-item .gridster-item-resizable-handler {\n        position: absolute;\n        z-index: 2;\n        display: none;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-n {\n      cursor: n-resize;\n      height: 10px;\n      right: 0;\n      top: 0;\n      left: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-e {\n      cursor: e-resize;\n      width: 10px;\n      bottom: 0;\n      right: 0;\n      top: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-s {\n      cursor: s-resize;\n      height: 10px;\n      right: 0;\n      bottom: 0;\n      left: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-w {\n      cursor: w-resize;\n      width: 10px;\n      left: 0;\n      top: 0;\n      bottom: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-ne {\n      cursor: ne-resize;\n      width: 10px;\n      height: 10px;\n      right: 0;\n      top: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-nw {\n      cursor: nw-resize;\n      width: 10px;\n      height: 10px;\n      left: 0;\n      top: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-se {\n      cursor: se-resize;\n      width: 0;\n      height: 0;\n      right: 0;\n      bottom: 0;\n      border-style: solid;\n      border-width: 0 0 10px 10px;\n      border-color: transparent;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-sw {\n      cursor: sw-resize;\n      width: 10px;\n      height: 10px;\n      left: 0;\n      bottom: 0;\n    }\n\n    ngx-gridster-item:hover .gridster-item-resizable-handler.handle-se {\n      border-color: transparent transparent #ccc\n    }\n    "],encapsulation:2,changeDetection:0}),e})(),oe=(()=>{class e{static forRoot(){return{ngModule:e,providers:[z]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E.oAB({type:e}),e.\u0275inj=E.cJS({imports:[[i.ez]]}),e})();var se=n(83473);function ae(e,t){1&e&&E.GkF(0)}const re=function(e){return{$implicit:e}};function le(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"ngx-gridster-item",4),E.NdJ("xChange",function(t){return E.CHM(e).$implicit.x=t})("yChange",function(t){return E.CHM(e).$implicit.y=t})("wChange",function(t){return E.CHM(e).$implicit.w=t})("hChange",function(t){return E.CHM(e).$implicit.h=t})("xXlChange",function(t){return E.CHM(e).$implicit.xXl=t})("yXlChange",function(t){return E.CHM(e).$implicit.yXl=t})("wXlChange",function(t){return E.CHM(e).$implicit.wXl=t})("hXlChange",function(t){return E.CHM(e).$implicit.hXl=t})("change",function(t){const n=E.CHM(e).$implicit;return E.oxw().onItemChange(n,t)}),E.YNc(1,ae,1,0,"ng-container",5),E.qZA()}if(2&e){const e=t.$implicit,n=E.oxw();E.Q6J("options",n.itemOptions)("x",e.x)("y",e.y)("w",e.w)("h",e.h)("xXl",e.xXl)("yXl",e.yXl)("wXl",e.wXl)("hXl",e.hXl),E.xp6(1),E.Q6J("ngTemplateOutlet",n.widgetTemplate)("ngTemplateOutletContext",E.VKq(11,re,e))}}const ce=function(){return{handlerClass:"panel-header"}};let de=(()=>{class e{constructor(){this.gridInitialize=new E.vpe,this.itemChange=new E.vpe,this.options={lanes:16,direction:"vertical",useCSSTransforms:!0,cellHeight:88,responsiveDebounce:50,shrink:!0,responsiveSizes:!0,responsiveView:!1,resizable:!1,responsiveOptions:[{breakpoint:"xl",minWidth:1370}]},this.itemOptions={}}onItemChange(e,t){this.itemChange.emit({item:e,event:t})}onGridInitialize(){this.gridInitialize.emit(this.gridster)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-container"]],viewQuery:function(e,t){if(1&e&&E.Gf(X,7),2&e){let e;E.iGM(e=E.CRH())&&(t.gridster=e.first)}},inputs:{widgetTemplate:"widgetTemplate",dashboard:"dashboard"},outputs:{gridInitialize:"gridInitialize",itemChange:"itemChange"},decls:4,vars:4,consts:[["styleClass","dashboard-confirmation-dialog","key","dashboard confirmation dialog"],[1,"grid-container"],[3,"options","draggableOptions","ready"],[3,"options","x","y","w","h","xXl","yXl","wXl","hXl","xChange","yChange","wChange","hChange","xXlChange","yXlChange","wXlChange","hXlChange","change",4,"ngFor","ngForOf"],[3,"options","x","y","w","h","xXl","yXl","wXl","hXl","xChange","yChange","wChange","hChange","xXlChange","yXlChange","wXlChange","hXlChange","change"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(E._UZ(0,"p-confirmDialog",0),E.TgZ(1,"div",1),E.TgZ(2,"ngx-gridster",2),E.NdJ("ready",function(){return t.onGridInitialize()}),E.YNc(3,le,2,13,"ngx-gridster-item",3),E.qZA(),E.qZA()),2&e&&(E.xp6(2),E.Q6J("options",t.options)("draggableOptions",E.DdM(3,ce)),E.xp6(1),E.Q6J("ngForOf",t.dashboard))},directives:[se.Q,X,i.sg,ie,i.tP],styles:[".dashboard-confirmation-dialog .p-dialog-titlebar-close{display:none}.grid-container[_ngcontent-%COMP%]{display:block;padding-left:5px;padding-top:5px}[_nghost-%COMP%]{background-color:#edf2f5;display:block;height:100%}[_nghost-%COMP%]     .gridster-item-inner{height:100%}[_nghost-%COMP%]   .is-dragging[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]{box-shadow:0 6px 8px 0 rgba(0,0,0,.24)}[_nghost-%COMP%]     .panel-header{cursor:move}"]}),e})();var ue=(()=>(function(e){e.ADMINISTRATIVE_STATE="ADMINISTRATIVE_STATE",e.F1_LINK_STATUS="F1_LINK_STATUS"}(ue||(ue={})),ue))();const pe=[{id:"du_f1link_chart",title:"F1 Link status",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE"],barThickness:20},labels:["Available","Unavailable"],propertyPaths:[["dusSummary","f1LinkStatus","available"],["dusSummary","f1LinkStatus","unavailable"]],chartType:ue.F1_LINK_STATUS},{id:"du_administrative_chart",title:"Administrative state",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE"],barThickness:20},labels:["Unlocked","Locked"],propertyPaths:[["dusSummary","administrativeState","unlocked"],["dusSummary","administrativeState","locked"]],chartType:ue.ADMINISTRATIVE_STATE}];var ge=n(13742),he=(()=>(function(e){e.SubscribeWatch="[Dus Summary] Subscribe to dus status summary watch",e.UnsubscribeWatch="[Dus Summary] Unsubscribe from dus status summary watch",e.SubscribeError="[Dus Summary] Dus status summary watch error",e.Request="[Dus Summary] Dus status summary request",e.Set="[Dus Summary] Set dus status summary"}(he||(he={})),he))();const me=(0,c.PH)(he.SubscribeWatch),fe=(0,c.PH)(he.UnsubscribeWatch),be=(0,c.PH)(he.SubscribeError,(0,c.Ky)()),Ce=(0,c.PH)(he.Request),ve=(0,c.PH)(he.Set,(0,c.Ky)()),ye="dusSummary",Se=(0,c.Lq)({dusSummary:{dusTotal:-1,administrativeState:{locked:-1,unlocked:-1},f1LinkStatus:{available:-1,unavailable:-1}}},(0,c.on)(ve,(e,{payload:t})=>{const n=Object.values(t.administrativeState).reduce((e,t)=>e+t);return Object.assign(Object.assign({},e),{dusSummary:Object.assign(Object.assign({},t),{dusTotal:n})})}));function Pe(e,t){return Se(e,t)}const Oe=(0,c.ZF)(ye);var xe=n(16661),we=n(84362),Ae=n(81189);let _e=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["ui-webem-titled-counter"]],inputs:{value:"value",title:"title"},decls:4,vars:2,consts:[[1,"counter"],[1,"title"]],template:function(e,t){1&e&&(E.TgZ(0,"div",0),E._uU(1),E.qZA(),E.TgZ(2,"div",1),E._uU(3),E.qZA()),2&e&&(E.xp6(1),E.Oqu(t.value),E.xp6(2),E.Oqu(t.title))},styles:[".counter[_ngcontent-%COMP%]{text-shadow:0 2px 4px rgba(0,0,0,.16);font-size:42px;line-height:36px;margin-bottom:3px}.title[_ngcontent-%COMP%]{font-size:11px}[_nghost-%COMP%]{display:inline-block;color:#124191;font-weight:700;text-align:center}"]}),e})();var Te=n(99057);let Ie=(()=>{class e{transform(e,t){return e&&t?t.map(t=>Object.assign(Object.assign({},t),{data:[{data:t.propertyPaths.map(t=>(0,a.get)(e,t))}]})):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=E.Yjl({name:"summaryStateMapper",type:e,pure:!0}),e})();function Ee(e,t){1&e&&E._uU(0,"DUs Status Summary")}const Me=function(e){return[e]};function ke(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"ui-webem-chart-bar-status-panel",8),E.NdJ("click",function(){E.CHM(e);const t=E.oxw().$implicit;return E.oxw(3).redirect(t.chartType)}),E.qZA()}if(2&e){const e=E.oxw().$implicit;E.Q6J("id",e.id)("title",e.title)("data",e.data)("labels",e.labels)("dataSetConfigs",E.VKq(5,Me,e.dataSetConfig))}}function Ne(e,t){if(1&e&&(E.ynx(0),E.YNc(1,ke,1,7,"ui-webem-chart-bar-status-panel",7),E.BQk()),2&e){const e=t.$implicit;E.xp6(1),E.Q6J("ngIf",e.data)}}function Le(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"span",4),E.TgZ(1,"ui-webem-titled-counter",5),E.NdJ("click",function(){return E.CHM(e),E.oxw(2).redirect()}),E.qZA(),E.YNc(2,Ne,2,1,"ng-container",6),E.ALo(3,"summaryStateMapper"),E.qZA()}if(2&e){const e=t.ngIf,n=E.oxw(2);E.xp6(1),E.Q6J("value",e.dusSummary.dusTotal),E.xp6(1),E.Q6J("ngForOf",E.xi3(3,3,e,n.DUS_STATUS_CHART_BAR_SETTINGS))("ngForTrackBy",n.trackByFn)}}function De(e,t){if(1&e&&(E.YNc(0,Le,4,6,"span",3),E.ALo(1,"async")),2&e){const e=E.oxw();E.Q6J("ngIf",E.lcZ(1,1,e.dusSummaryState$))}}let Ze=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.dataLoaded=!1,this.ROUTER_LINK=xe.r.dusStatus,this.DUS_STATUS_CHART_BAR_SETTINGS=pe}ngOnInit(){this.dusSummaryState$=this.store.pipe((0,c.Ys)(Oe),(0,u.T)(1),(0,R.b)(()=>this.dataLoaded=!0)),this.store.dispatch(me())}ngOnDestroy(){this.store.dispatch(fe())}trackByFn(e){return e}redirect(e){this.store.dispatch((0,ge.uX)({routerLink:this.ROUTER_LINK,activatedRoute:this.activatedRoute,data:new we.A(e?e===ue.ADMINISTRATIVE_STATE?we.D.ADMINISTRATIVE_STATE:we.D.F1_LINK_STATUS:we.D.INITIAL)}))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-du-status-summary"]],inputs:{dusSummaryState$:"dusSummaryState$",dataLoaded:"dataLoaded"},decls:5,vars:2,consts:[[3,"loading","redirectLink"],["title",""],["content",""],["class","du-status-content",4,"ngIf"],[1,"du-status-content"],["title","Total DUs",3,"value","click"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","chart-bar",3,"id","title","data","labels","dataSetConfigs","click",4,"ngIf"],[1,"chart-bar",3,"id","title","data","labels","dataSetConfigs","click"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-rich-panel",0),E.YNc(1,Ee,1,0,"ng-template",null,1,E.W1O),E.YNc(3,De,2,3,"ng-template",null,2,E.W1O),E.qZA()),2&e&&E.Q6J("loading",!t.dataLoaded)("redirectLink",t.ROUTER_LINK)},directives:[Ae.d,i.O5,_e,i.sg,Te.n],pipes:[i.Ov,Ie],styles:[".du-status-content[_ngcontent-%COMP%]{display:grid;height:100%;grid-auto-flow:column;grid-template-columns:minmax(min-content,1fr) minmax(116px,1fr) minmax(98px,1fr);grid-template-rows:minmax(0,1fr);grid-column-gap:10px;justify-items:center;align-items:center}.chart-bar[_ngcontent-%COMP%], ui-webem-titled-counter[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var Re=(()=>(function(e){e.SubscribeWatch="[Cells Summary] Subscribe to cells status summary watch",e.UnsubscribeWatch="[Cells Summary] Unsubscribe from cells status summary watch",e.SubscribeError="[Cells Summary] Cells status summary watch error",e.Request="[Cells Summary] Cells status summary request",e.Set="[Cells Summary] Set cells status summary"}(Re||(Re={})),Re))();const Ue=(0,c.PH)(Re.SubscribeWatch),Fe=(0,c.PH)(Re.UnsubscribeWatch),je=(0,c.PH)(Re.SubscribeError,(0,c.Ky)()),$e=(0,c.PH)(Re.Request),qe=(0,c.PH)(Re.Set,(0,c.Ky)()),Be="cellsSummary",Ge=(0,c.Lq)({cellsSummary:{cellsTotal:0,basicCellsSummary:{operationalState:{enabled:0,disabled:0},administrativeState:{locked:0,unlocked:0,"shutting down":0}}}},(0,c.on)(qe,(e,{payload:t})=>{const n=Object.values(t.basicCellsSummary.operationalState).reduce((e,t)=>e+t);return Object.assign(Object.assign({},e),{cellsSummary:Object.assign(Object.assign({},t),{cellsTotal:n})})}));function Ve(e,t){return Ge(e,t)}const Ye=(0,c.ZF)(Be);var Je=(()=>(function(e){e.ADMINISTRATIVE_STATE="ADMINISTRATIVE_STATE",e.OPERATIONAL_STATE="OPERATIONAL_STATE"}(Je||(Je={})),Je))();const He=[{id:"cell_operational_chart",title:"Operational state",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE"],barThickness:20},labels:["Enabled","Disabled"],propertyPaths:[["cellsSummary","basicCellsSummary","operationalState","enabled"],["cellsSummary","basicCellsSummary","operationalState","disabled"]],chartType:Je.OPERATIONAL_STATE},{id:"cell_administrative_chart",title:"Administrative state",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE"],barThickness:20},labels:["Unlocked","Locked"],propertyPaths:[["cellsSummary","basicCellsSummary","administrativeState","unlocked"],["cellsSummary","basicCellsSummary","administrativeState","locked"]],chartType:Je.ADMINISTRATIVE_STATE}];var We=n(91441);function Qe(e,t){1&e&&E._uU(0,"Cells Status Summary")}const ze=function(e){return[e]};function Ke(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"ui-webem-chart-bar-status-panel",8),E.NdJ("click",function(){E.CHM(e);const t=E.oxw().$implicit;return E.oxw(3).redirect(t.chartType)}),E.qZA()}if(2&e){const e=E.oxw().$implicit;E.Q6J("id",e.id)("title",e.title)("data",e.data)("labels",e.labels)("dataSetConfigs",E.VKq(5,ze,e.dataSetConfig))}}function Xe(e,t){if(1&e&&(E.ynx(0),E.YNc(1,Ke,1,7,"ui-webem-chart-bar-status-panel",7),E.BQk()),2&e){const e=t.$implicit;E.xp6(1),E.Q6J("ngIf",e.data)}}function et(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"span",4),E.TgZ(1,"ui-webem-titled-counter",5),E.NdJ("click",function(){return E.CHM(e),E.oxw(2).redirect()}),E.qZA(),E.YNc(2,Xe,2,1,"ng-container",6),E.ALo(3,"summaryStateMapper"),E.qZA()}if(2&e){const e=t.ngIf,n=E.oxw(2);E.xp6(1),E.Q6J("value",e.cellsSummary.cellsTotal),E.xp6(1),E.Q6J("ngForOf",E.xi3(3,3,e,n.CELLS_STATUS_CHART_BAR_SETTINGS))("ngForTrackBy",n.trackByFn)}}function tt(e,t){if(1&e&&(E.YNc(0,et,4,6,"span",3),E.ALo(1,"async")),2&e){const e=E.oxw();E.Q6J("ngIf",E.lcZ(1,1,e.cellsSummaryState$))}}let nt=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.dataLoaded=!1,this.ROUTER_LINK=xe.r.cellsStatus,this.CELLS_STATUS_CHART_BAR_SETTINGS=He}ngOnInit(){this.cellsSummaryState$=this.store.pipe((0,c.Ys)(Ye),(0,u.T)(1),(0,R.b)(()=>this.dataLoaded=!0)),this.store.dispatch(Ue())}ngOnDestroy(){this.store.dispatch(Fe())}trackByFn(e){return e}redirect(e){this.store.dispatch((0,ge.uX)({routerLink:this.ROUTER_LINK,activatedRoute:this.activatedRoute,data:new We.r(e?e===Je.ADMINISTRATIVE_STATE?We.j.ADMINISTRATIVE_STATE:We.j.OPERATIONAL_STATE:We.j.INITIAL)}))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-cells-status-summary"]],inputs:{cellsSummaryState$:"cellsSummaryState$",dataLoaded:"dataLoaded"},decls:5,vars:2,consts:[[3,"loading","redirectLink"],["title",""],["content",""],["class","cell-status-content",4,"ngIf"],[1,"cell-status-content"],["title","Total Cells",3,"value","click"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","chart-bar",3,"id","title","data","labels","dataSetConfigs","click",4,"ngIf"],[1,"chart-bar",3,"id","title","data","labels","dataSetConfigs","click"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-rich-panel",0),E.YNc(1,Qe,1,0,"ng-template",null,1,E.W1O),E.YNc(3,tt,2,3,"ng-template",null,2,E.W1O),E.qZA()),2&e&&E.Q6J("loading",!t.dataLoaded)("redirectLink",t.ROUTER_LINK)},directives:[Ae.d,i.O5,_e,i.sg,Te.n],pipes:[i.Ov,Ie],styles:[".cell-status-content[_ngcontent-%COMP%]{display:grid;height:100%;grid-auto-flow:column;grid-template-columns:minmax(min-content,1fr) minmax(93px,1fr) minmax(98px,1fr);grid-template-rows:minmax(0,1fr);grid-column-gap:10px;justify-items:center;align-items:center}.chart-bar[_ngcontent-%COMP%], ui-webem-titled-counter[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var it=(()=>(function(e){e.SubscribeWatch="[X2Links Summary] Subscribe to x2Links status summary watch",e.UnsubscribeWatch="[X2Links Summary] Unsubscribe from x2Links status summary watch",e.SubscribeError="[X2Links Summary] x2Links status summary watch error",e.Request="[X2Links Summary] X2Links status summary request",e.Set="[X2Links Summary] Set x2Links status summary"}(it||(it={})),it))();const ot=(0,c.PH)(it.SubscribeWatch),st=(0,c.PH)(it.UnsubscribeWatch),at=(0,c.PH)(it.SubscribeError,(0,c.Ky)()),rt=(0,c.PH)(it.Request),lt=(0,c.PH)(it.Set,(0,c.Ky)()),ct="x2Summary",dt=(0,c.Lq)({x2LinksSummary:{x2LinksTotal:0,x2LinkLock:{unlocked:0,locked:0},x2LinkStatus:{available:0,unavailable:0}}},(0,c.on)(lt,(e,{payload:t})=>{const n=Object.values(t.x2LinkLock).reduce((e,t)=>e+t);return Object.assign(Object.assign({},e),{x2LinksSummary:Object.assign(Object.assign({},t),{x2LinksTotal:n})})}));function ut(e,t){return dt(e,t)}const pt=(0,c.ZF)(ct);var gt=n(55585);const ht=[{id:"x2_availability_state_chart",title:"Link status",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE"],barThickness:20},labels:["Available","Unavailable"],propertyPaths:[["x2LinksSummary","x2LinkStatus","available"],["x2LinksSummary","x2LinkStatus","unavailable"]],chartType:gt.U.LINK_STATUS},{id:"x2_unlocked_vs_locked_chart",title:"Locking state",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE"],barThickness:20},labels:["Unlocked","Locked"],propertyPaths:[["x2LinksSummary","x2LinkLock","unlocked"],["x2LinksSummary","x2LinkLock","locked"]],chartType:gt.U.LOCK_STATE}];function mt(e,t){1&e&&E._uU(0,"X2 Links Summary")}const ft=function(e){return[e]};function bt(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"ui-webem-chart-bar-status-panel",8),E.NdJ("click",function(){E.CHM(e);const t=E.oxw().$implicit;return E.oxw(3).redirect(t.chartType)}),E.qZA()}if(2&e){const e=E.oxw().$implicit;E.Q6J("id",e.id)("title",e.title)("data",e.data)("labels",e.labels)("dataSetConfigs",E.VKq(5,ft,e.dataSetConfig))}}function Ct(e,t){if(1&e&&(E.ynx(0),E.YNc(1,bt,1,7,"ui-webem-chart-bar-status-panel",7),E.BQk()),2&e){const e=t.$implicit;E.xp6(1),E.Q6J("ngIf",e.data)}}function vt(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"span",4),E.TgZ(1,"ui-webem-titled-counter",5),E.NdJ("click",function(){return E.CHM(e),E.oxw(2).redirect()}),E.qZA(),E.YNc(2,Ct,2,1,"ng-container",6),E.ALo(3,"summaryStateMapper"),E.qZA()}if(2&e){const e=t.ngIf,n=E.oxw(2);E.xp6(1),E.Q6J("value",e.x2LinksSummary.x2LinksTotal),E.xp6(1),E.Q6J("ngForOf",E.xi3(3,3,e,n.X2_STATUS_CHART_BAR_SETTINGS))("ngForTrackBy",n.trackByFn)}}function yt(e,t){if(1&e&&(E.YNc(0,vt,4,6,"span",3),E.ALo(1,"async")),2&e){const e=E.oxw();E.Q6J("ngIf",E.lcZ(1,1,e.x2SummaryState$))}}let St=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.dataLoaded=!1,this.ROUTER_LINK=xe.r.x2LinksStatus,this.X2_STATUS_CHART_BAR_SETTINGS=ht}ngOnInit(){this.x2SummaryState$=this.store.pipe((0,c.Ys)(pt),(0,u.T)(1),(0,R.b)(()=>this.dataLoaded=!0)),this.store.dispatch(ot())}ngOnDestroy(){this.store.dispatch(st())}trackByFn(e){return e}redirect(e=gt.U.LTEENB_ID){this.store.dispatch((0,ge.uX)({routerLink:this.ROUTER_LINK,activatedRoute:this.activatedRoute,data:new gt.k(e)}))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-x2-status-summary"]],inputs:{x2SummaryState$:"x2SummaryState$",dataLoaded:"dataLoaded"},decls:5,vars:2,consts:[[3,"loading","redirectLink"],["title",""],["content",""],["class","x2-status-content",4,"ngIf"],[1,"x2-status-content"],["title","Total X2 Links",3,"value","click"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","chart-bar",3,"id","title","data","labels","dataSetConfigs","click",4,"ngIf"],[1,"chart-bar",3,"id","title","data","labels","dataSetConfigs","click"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-rich-panel",0),E.YNc(1,mt,1,0,"ng-template",null,1,E.W1O),E.YNc(3,yt,2,3,"ng-template",null,2,E.W1O),E.qZA()),2&e&&E.Q6J("loading",!t.dataLoaded)("redirectLink",t.ROUTER_LINK)},directives:[Ae.d,i.O5,_e,i.sg,Te.n],pipes:[i.Ov,Ie],styles:[".x2-status-content[_ngcontent-%COMP%]{display:grid;height:100%;grid-auto-flow:column;grid-template-columns:minmax(min-content,1fr) minmax(116px,1fr) minmax(98px,1fr);grid-template-rows:minmax(0,1fr);grid-column-gap:10px;justify-items:center;align-items:center}.chart-bar[_ngcontent-%COMP%], ui-webem-titled-counter[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var Pt=(()=>(function(e){e.SubscribeWatch="[XnLinks Summary] Subscribe to xnLinks status summary watch",e.UnsubscribeWatch="[XnLinks Summary] Unsubscribe from xnLinks status summary watch",e.SubscribeError="[XnLinks Summary] xnLinks status summary watch error",e.Request="[XnLinks Summary] XnLinks status summary request",e.Set="[XnLinks Summary] Set XnLinks status summary"}(Pt||(Pt={})),Pt))();const Ot=(0,c.PH)(Pt.SubscribeWatch),xt=(0,c.PH)(Pt.UnsubscribeWatch),wt=(0,c.PH)(Pt.SubscribeError,(0,c.Ky)()),At=(0,c.PH)(Pt.Request),_t=(0,c.PH)(Pt.Set,(0,c.Ky)()),Tt="xnSummary",It=(0,c.Lq)({xnLinksSummary:{xnLinksTotal:0,administrativeState:{Unlocked:0,Locked:0,Unknown:0},xnLinkStatus:{available:0,unavailable:0,conflicting:0}}},(0,c.on)(_t,(e,{payload:t})=>{const n=Object.values(t.administrativeState).reduce((e,t)=>e+t);return Object.assign(Object.assign({},e),{xnLinksSummary:Object.assign(Object.assign({},t),{xnLinksTotal:n})})}));function Et(e,t){return It(e,t)}const Mt=(0,c.ZF)(Tt);var kt=n(11101);const Nt=[{id:"xn_availability_state_chart",title:"Link status",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE","#DA1914"],barThickness:20},labels:["Available","Unavailable","Conflicting"],propertyPaths:[["xnLinksSummary","xnLinkStatus","available"],["xnLinksSummary","xnLinkStatus","unavailable"],["xnLinksSummary","xnLinkStatus","conflicting"]],chartType:kt.P.ByXnLinkStatus},{id:"xn_unlocked_vs_locked_chart",title:"Administrative state",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE","#4D5766"],barThickness:20},labels:["Unlocked","Locked","Unknown"],propertyPaths:[["xnLinksSummary","administrativeState","Unlocked"],["xnLinksSummary","administrativeState","Locked"],["xnLinksSummary","administrativeState","Unknown"]],chartType:kt.P.ByAdministrativeState}];function Lt(e,t){1&e&&E._uU(0,"Xn Links Summary")}const Dt=function(e){return[e]};function Zt(e,t){if(1&e){const e=E.EpF();E.ynx(0),E.TgZ(1,"ui-webem-chart-bar-status-panel",7),E.NdJ("click",function(){const t=E.CHM(e).$implicit;return E.oxw(3).redirect(t.chartType)}),E.qZA(),E.BQk()}if(2&e){const e=t.$implicit;E.xp6(1),E.Q6J("id",e.id)("title",e.title)("data",e.data)("labels",e.labels)("dataSetConfigs",E.VKq(5,Dt,e.dataSetConfig))}}function Rt(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"span",4),E.TgZ(1,"ui-webem-titled-counter",5),E.NdJ("click",function(){return E.CHM(e),E.oxw(2).redirect()}),E.qZA(),E.YNc(2,Zt,2,7,"ng-container",6),E.ALo(3,"summaryStateMapper"),E.qZA()}if(2&e){const e=t.ngIf,n=E.oxw(2);E.xp6(1),E.Q6J("value",e.xnLinksSummary.xnLinksTotal),E.xp6(1),E.Q6J("ngForOf",E.xi3(3,3,e,n.XN_STATUS_CHART_BAR_SETTINGS))("ngForTrackBy",n.trackByFn)}}function Ut(e,t){if(1&e&&(E.YNc(0,Rt,4,6,"span",3),E.ALo(1,"async")),2&e){const e=E.oxw();E.Q6J("ngIf",E.lcZ(1,1,e.xnSummaryState$))}}let Ft=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.dataLoaded=!1,this.ROUTER_LINK=xe.r.xnLinksStatus,this.XN_STATUS_CHART_BAR_SETTINGS=Nt}ngOnInit(){this.xnSummaryState$=this.store.pipe((0,c.Ys)(Mt),(0,u.T)(1),(0,R.b)(()=>this.dataLoaded=!0)),this.store.dispatch(Ot())}ngOnDestroy(){this.store.dispatch(xt())}trackByFn(e){return e}redirect(e=kt.P.ByXnLinkId){this.store.dispatch((0,ge.uX)({routerLink:this.ROUTER_LINK,activatedRoute:this.activatedRoute,data:new kt.V(e)}))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-xn-status-summary"]],inputs:{xnSummaryState$:"xnSummaryState$",dataLoaded:"dataLoaded"},decls:5,vars:2,consts:[[3,"loading","redirectLink"],["title",""],["content",""],["class","xn-status-content",4,"ngIf"],[1,"xn-status-content"],["title","Total Xn Links",3,"value","click"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"chart-bar",3,"id","title","data","labels","dataSetConfigs","click"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-rich-panel",0),E.YNc(1,Lt,1,0,"ng-template",null,1,E.W1O),E.YNc(3,Ut,2,3,"ng-template",null,2,E.W1O),E.qZA()),2&e&&E.Q6J("loading",!t.dataLoaded)("redirectLink",t.ROUTER_LINK)},directives:[Ae.d,i.O5,_e,i.sg,Te.n],pipes:[i.Ov,Ie],styles:[".xn-status-content[_ngcontent-%COMP%]{display:grid;height:100%;grid-auto-flow:column;grid-template-columns:minmax(min-content,1fr) minmax(160px,2fr) minmax(160px,2fr);grid-template-rows:minmax(0,1fr);grid-column-gap:10px;justify-items:center;align-items:center}.chart-bar[_ngcontent-%COMP%], ui-webem-titled-counter[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var jt=(()=>(function(e){e.SubscribeWatch="[NgLinks Summary] Subscribe to ngLinks status summary watch",e.UnsubscribeWatch="[NgLinks Summary] Unsubscribe from ngLinks status summary watch",e.SubscribeError="[NgLinks Summary] ngLinks status summary watch error",e.Request="[NgLinks Summary] ngLinks status summary request",e.Set="[NgLinks Summary] Set ngLinks status summary"}(jt||(jt={})),jt))();const $t=(0,c.PH)(jt.SubscribeWatch),qt=(0,c.PH)(jt.UnsubscribeWatch),Bt=(0,c.PH)(jt.SubscribeError,(0,c.Ky)()),Gt=(0,c.PH)(jt.Request),Vt=(0,c.PH)(jt.Set,(0,c.Ky)()),Yt="ngSummary",Jt=(0,c.Lq)({ngLinksSummary:{ngLinksTotal:0,administrativeState:{Unlocked:0,Locked:0},ngLinkStatus:{Inactive:0,Active:0}}},(0,c.on)(Vt,(e,{payload:t})=>{const n=Object.values(t.administrativeState).reduce((e,t)=>e+t);return Object.assign(Object.assign({},e),{ngLinksSummary:Object.assign(Object.assign({},t),{ngLinksTotal:n})})}));function Ht(e,t){return Jt(e,t)}const Wt=(0,c.ZF)(Yt);var Qt=n(63881);const zt=[{id:"ng_availability_state_chart",title:"Link status",dataSetConfig:{backgroundColor:["#3DAA00","#DA1914"],barThickness:20},labels:["Active","Inactive"],propertyPaths:[["ngLinksSummary","ngLinkStatus","Active"],["ngLinksSummary","ngLinkStatus","Inactive"]],chartType:Qt.C.LINK_STATUS},{id:"ng_unlocked_vs_locked_chart",title:"Administrative state",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE"],barThickness:20},labels:["Unlocked","Locked"],propertyPaths:[["ngLinksSummary","administrativeState","Unlocked"],["ngLinksSummary","administrativeState","Locked"]],chartType:Qt.C.LOCK_STATE}];function Kt(e,t){1&e&&E._uU(0,"NG Links Summary")}const Xt=function(e){return[e]};function en(e,t){if(1&e){const e=E.EpF();E.ynx(0),E.TgZ(1,"ui-webem-chart-bar-status-panel",7),E.NdJ("click",function(){const t=E.CHM(e).$implicit;return E.oxw(3).redirect(t.chartType)}),E.qZA(),E.BQk()}if(2&e){const e=t.$implicit;E.xp6(1),E.Q6J("id",e.id)("title",e.title)("data",e.data)("labels",e.labels)("dataSetConfigs",E.VKq(5,Xt,e.dataSetConfig))}}function tn(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"span",4),E.TgZ(1,"ui-webem-titled-counter",5),E.NdJ("click",function(){return E.CHM(e),E.oxw(2).redirect()}),E.qZA(),E.YNc(2,en,2,7,"ng-container",6),E.ALo(3,"summaryStateMapper"),E.qZA()}if(2&e){const e=t.ngIf,n=E.oxw(2);E.xp6(1),E.Q6J("value",e.ngLinksSummary.ngLinksTotal),E.xp6(1),E.Q6J("ngForOf",E.xi3(3,3,e,n.NG_STATUS_CHART_BAR_SETTINGS))("ngForTrackBy",n.trackByFn)}}function nn(e,t){if(1&e&&(E.YNc(0,tn,4,6,"span",3),E.ALo(1,"async")),2&e){const e=E.oxw();E.Q6J("ngIf",E.lcZ(1,1,e.ngSummaryState$))}}let on=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.dataLoaded=!1,this.ROUTER_LINK=xe.r.ngLinksStatus,this.NG_STATUS_CHART_BAR_SETTINGS=zt}ngOnInit(){this.ngSummaryState$=this.store.pipe((0,c.Ys)(Wt),(0,u.T)(1),(0,R.b)(()=>this.dataLoaded=!0)),this.store.dispatch($t())}ngOnDestroy(){this.store.dispatch(qt())}trackByFn(e){return e}redirect(e=Qt.C.SERVEDAMF_ID){this.store.dispatch((0,ge.uX)({routerLink:this.ROUTER_LINK,activatedRoute:this.activatedRoute,data:new Qt.v(e)}))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-ng-status-summary"]],inputs:{ngSummaryState$:"ngSummaryState$",dataLoaded:"dataLoaded"},decls:5,vars:2,consts:[[3,"loading","redirectLink"],["title",""],["content",""],["class","ng-status-content",4,"ngIf"],[1,"ng-status-content"],["title","Total NG Links",3,"value","click"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"chart-bar",3,"id","title","data","labels","dataSetConfigs","click"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-rich-panel",0),E.YNc(1,Kt,1,0,"ng-template",null,1,E.W1O),E.YNc(3,nn,2,3,"ng-template",null,2,E.W1O),E.qZA()),2&e&&E.Q6J("loading",!t.dataLoaded)("redirectLink",t.ROUTER_LINK)},directives:[Ae.d,i.O5,_e,i.sg,Te.n],pipes:[i.Ov,Ie],styles:[".ng-status-content[_ngcontent-%COMP%]{display:grid;height:100%;grid-auto-flow:column;grid-template-columns:minmax(min-content,1fr) minmax(116px,1fr) minmax(98px,1fr);grid-template-rows:minmax(0,1fr);grid-column-gap:10px;justify-items:center;align-items:center}.chart-bar[_ngcontent-%COMP%], ui-webem-titled-counter[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var sn=(()=>(function(e){e.SubscribeWatch="[Network Slicing] Subscribe to network slicing status watch",e.UnsubscribeWatch="[Network Slicing] Unsubscribe from network slicing status watch",e.SubscribeError="[Network Slicing] network slicing status watch error",e.Request="[Network Slicing] network slicing status request",e.Set="[Network Slicing] Set network slicing status"}(sn||(sn={})),sn))();const an=(0,c.PH)(sn.SubscribeWatch),rn=(0,c.PH)(sn.UnsubscribeWatch),ln=(0,c.PH)(sn.SubscribeError,(0,c.Ky)()),cn=(0,c.PH)(sn.Request),dn=(0,c.PH)(sn.Set,(0,c.Ky)()),un="networkSlicing",pn=(0,c.Lq)({networkSlicing:{networkSlicingTotal:0,administrativeState:{Unlocked:0,Locked:0},operationalState:{disabled:0,enabled:0}}},(0,c.on)(dn,(e,{payload:t})=>{const n=Object.values(t.administrativeState).reduce((e,t)=>e+t);return Object.assign(Object.assign({},e),{networkSlicing:Object.assign(Object.assign({},t),{networkSlicingTotal:n})})}));function gn(e,t){return pn(e,t)}const hn=(0,c.ZF)(un);var mn=n(18952);const fn=[{id:"network_slicing_operational_state_chart",title:"Operational state",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE"],barThickness:20},labels:["Enabled","Disabled"],propertyPaths:[["networkSlicing","operationalState","enabled"],["networkSlicing","operationalState","disabled"]],chartType:mn.m.LINK_STATUS},{id:"network_slicing_unlocked_vs_locked_chart",title:"Administrative state",dataSetConfig:{backgroundColor:["#3DAA00","#98A2AE"],barThickness:20},labels:["Unlocked","Locked"],propertyPaths:[["networkSlicing","administrativeState","Unlocked"],["networkSlicing","administrativeState","Locked"]],chartType:mn.m.LOCK_STATE}];function bn(e,t){1&e&&E._uU(0,"Network Slicing Summary")}const Cn=function(e){return[e]};function vn(e,t){if(1&e){const e=E.EpF();E.ynx(0),E.TgZ(1,"ui-webem-chart-bar-status-panel",6),E.NdJ("click",function(){const t=E.CHM(e).$implicit;return E.oxw(3).redirect(t.chartType)}),E.qZA(),E.BQk()}if(2&e){const e=t.$implicit;E.xp6(1),E.Q6J("id",e.id)("title",e.title)("data",e.data)("labels",e.labels)("dataSetConfigs",E.VKq(5,Cn,e.dataSetConfig))}}function yn(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"span"),E.TgZ(1,"ui-webem-titled-counter",4),E.NdJ("click",function(){return E.CHM(e),E.oxw(2).redirect()}),E.qZA(),E.YNc(2,vn,2,7,"ng-container",5),E.ALo(3,"summaryStateMapper"),E.qZA()}if(2&e){const e=t.ngIf,n=E.oxw(2);E.Tol(n.CHART_CLASS),E.xp6(1),E.Q6J("value",e.networkSlicing.networkSlicingTotal),E.xp6(1),E.Q6J("ngForOf",E.xi3(3,6,e,n.NETWORK_SLICING_STATUS_CHART_BAR_SETTINGS))("ngForTrackBy",n.trackByFn)}}function Sn(e,t){if(1&e&&(E.YNc(0,yn,4,9,"span",3),E.ALo(1,"async")),2&e){const e=E.oxw();E.Q6J("ngIf",E.lcZ(1,1,e.networkSlicingState$))}}let Pn=(()=>{class e{constructor(e,t,n){this.store=e,this.vnfcSharedService=t,this.activatedRoute=n,this.dataLoaded=!1,this.ROUTER_LINK=xe.r.networkSlicingStatus,this.NETWORK_SLICING_STATUS_CHART_BAR_SETTINGS=this.getChartBarSetting(),this.CHART_CLASS=this.getChartBarClass()}ngOnInit(){this.networkSlicingState$=this.store.pipe((0,c.Ys)(hn),(0,u.T)(1),(0,R.b)(()=>this.dataLoaded=!0)),this.store.dispatch(an())}ngOnDestroy(){this.store.dispatch(rn())}trackByFn(e){return e}redirect(e=mn.m.SNSSAI_ID){this.store.dispatch((0,ge.uX)({routerLink:this.ROUTER_LINK,activatedRoute:this.activatedRoute,data:new mn.Q(e)}))}getChartBarSetting(){return this.vnfcSharedService.isVcu()?fn:this.vnfcSharedService.isVdu()?fn.filter(e=>"network_slicing_unlocked_vs_locked_chart"===e.id):void 0}getChartBarClass(){return this.vnfcSharedService.isVcu()?"network-slicing-status-content-vcu":this.vnfcSharedService.isVdu()?"network-slicing-status-content-vdu":""}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(I.Z9),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-network-slicing-summary"]],inputs:{networkSlicingState$:"networkSlicingState$",dataLoaded:"dataLoaded"},decls:5,vars:2,consts:[[3,"loading","redirectLink"],["title",""],["content",""],[3,"class",4,"ngIf"],["title","Total Network Slicing",3,"value","click"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"chart-bar",3,"id","title","data","labels","dataSetConfigs","click"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-rich-panel",0),E.YNc(1,bn,1,0,"ng-template",null,1,E.W1O),E.YNc(3,Sn,2,3,"ng-template",null,2,E.W1O),E.qZA()),2&e&&E.Q6J("loading",!t.dataLoaded)("redirectLink",t.ROUTER_LINK)},directives:[Ae.d,i.O5,_e,i.sg,Te.n],pipes:[i.Ov,Ie],styles:[".network-slicing-status-content-vcu[_ngcontent-%COMP%]{grid-template-columns:minmax(min-content,1fr) minmax(116px,1fr) minmax(98px,1fr)}.network-slicing-status-content-vcu[_ngcontent-%COMP%], .network-slicing-status-content-vdu[_ngcontent-%COMP%]{display:grid;height:100%;grid-auto-flow:column;grid-template-rows:minmax(0,1fr);grid-column-gap:10px;justify-items:center;align-items:center}.network-slicing-status-content-vdu[_ngcontent-%COMP%]{grid-template-columns:minmax(min-content,1fr) minmax(116px,1fr)}.chart-bar[_ngcontent-%COMP%], ui-webem-titled-counter[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var On=n(60697),xn=(()=>(function(e){e.StartPolling="[Statistics] Start polling statistics",e.StopPolling="[Statistics] Stop polling statistics",e.Request="[Statistics] Request statistics",e.Set="[Statistics] Set statistics",e.RequestError="[Statistics] Request statistics error",e.FetchStatisticsObject="[Statistics] Fetch statistics object",e.SetStatisticsDistname="[Statistics] Set statistics distname"}(xn||(xn={})),xn))();const wn=(0,c.PH)(xn.StartPolling),An=(0,c.PH)(xn.StopPolling),_n=(0,c.PH)(xn.Request),Tn=(0,c.PH)(xn.Set,(0,c.Ky)()),In=(0,c.PH)(xn.RequestError),En=((0,c.PH)(xn.Set,(0,c.Ky)()),(0,c.PH)(xn.FetchStatisticsObject)),Mn=(0,c.PH)(xn.SetStatisticsDistname,(0,c.Ky)()),kn="statistics",Nn=(0,c.Lq)({latestEtag:void 0,values:[],latestRequestFailed:!1},(0,c.on)(Tn,(e,{values:t,etag:n})=>Object.assign(Object.assign({},e),{latestRequestFailed:!1,latestEtag:n,values:t})),(0,c.on)(In,e=>Object.assign(Object.assign({},e),{latestRequestFailed:!0})),(0,c.on)(Mn,(e,{statisticsDimensionDistname:t})=>Object.assign(Object.assign({},e),{statisticsDimensionDistname:t})));function Ln(e,t){return Nn(e,t)}var Dn=n(51734),Zn=n(34022);const Rn=(0,c.ZF)(kn),Un=(0,c.P1)(Rn,e=>e.latestEtag),Fn=(0,c.P1)(Rn,e=>e.statisticsDimensionDistname),jn=(0,c.P1)(Rn,e=>e.latestRequestFailed),$n=(0,c.P1)(Rn,e=>{if(0!==e.values.length)return e.values.reduce((e,t)=>(0,Dn.compareAsc)(e.startTime,t.startTime)>=0?e:t).value}),qn=(0,Zn.z)((0,c.Ys)($n),(0,Z.h)(e=>void 0!==e));var Bn=n(9112),Gn=n(8678);class Vn{constructor(){this.type=Gn.b.PERFORMANCE_MANAGEMENT}}var Yn=n(12844),Jn=n(85904),Hn=n(88361),Wn=n(16886),Qn=n(11495);const zn=["infoOverlayPanel"];function Kn(e,t){1&e&&E._uU(0,"Statistics")}function Xn(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"ui-webem-button",7),E.NdJ("action",function(t){return E.CHM(e),E.oxw(2).infoOverlayPanel.toggle(t.event)}),E.qZA()}if(2&e){const e=E.oxw(2);E.Q6J("model",e.INFO_BUTTON_MODEL)}}function ei(e,t){1&e&&E.GkF(0)}function ti(e,t){1&e&&E.GkF(0)}const ni=function(e){return{$implicit:e}};function ii(e,t){if(1&e&&(E.TgZ(0,"div",8),E.YNc(1,ei,1,0,"ng-container",9),E.YNc(2,ti,1,0,"ng-container",10),E.qZA()),2&e){const e=E.oxw().ngIf;E.oxw();const t=E.MAs(4),n=E.MAs(6);E.xp6(1),E.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",E.VKq(3,ni,e.counterValue)),E.xp6(1),E.Q6J("ngTemplateOutlet",n)}}function oi(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"ui-webem-rich-panel",3),E.NdJ("beforeRedirect",function(){return E.CHM(e),E.oxw().prepareStatisticCounterInfoForPerformanceView()}),E.YNc(1,Kn,1,0,"ng-template",null,4,E.W1O),E.YNc(3,Xn,1,1,"ng-template",null,5,E.W1O),E.YNc(5,ii,3,5,"ng-template",null,6,E.W1O),E.qZA()}if(2&e){const e=t.ngIf,n=E.oxw();E.Q6J("loading",!e.counterValue&&!e.latestRequestFailed)("redirectLink",n.REDIRECT_LINK)}}function si(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"div",11),E.NdJ("click",function(){return E.CHM(e),E.oxw().redirectToPerformanceView()}),E._UZ(1,"ui-webem-titled-counter",12),E.qZA()}if(2&e){const e=t.$implicit;E.xp6(1),E.Q6J("value",e||"-")}}function ai(e,t){1&e&&(E.TgZ(0,"p-overlayPanel",13,14),E._uU(2," Displayed value represents latest collected value of the M55131C00001 (PEAK_NUMBER_OF_NSA_USERS_CU) counter. This counter is collected with interval as configured for NTRAF (Central unit (CU) traffic measurement) measurement. Related measurement collection interval value can be checked in NRBTS/NRPMRNL.miNrNTRAF parameter "),E.qZA()),2&e&&E.Q6J("dismissable",!0)}const ri=function(e,t){return{counterValue:e,latestRequestFailed:t}};let li=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.INFO_BUTTON_MODEL={icon:"mdi mdi-information-outline",title:"Show additional info",theme:On.bnJ.Secondary,thickness:On.NOb.Thin},this.REDIRECT_LINK=xe.r.performance,this.ngUnsubscribe=new l.xQ}ngOnInit(){this.counterValue$=this.store.pipe(qn),this.latestRequestFailed$=this.store.pipe((0,c.Ys)(jn)),this.store.dispatch(wn()),this.store.dispatch(En())}ngOnDestroy(){this.store.dispatch(An()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}redirectToPerformanceView(){this.prepareStatisticCounterInfoForPerformanceView(),this.store.dispatch((0,ge.uX)({routerLink:this.REDIRECT_LINK,activatedRoute:this.activatedRoute,data:new Vn}))}prepareStatisticCounterInfoForPerformanceView(){(0,Bn.aj)([this.counterValue$,this.store.select(Fn)]).pipe((0,Z.h)(([e,t])=>!!e&&!!t),(0,U.U)(([e,t])=>({counterValue:e,distName:t})),(0,d.R)(this.ngUnsubscribe)).subscribe(e=>{this.store.dispatch((0,Yn.zb)()),this.store.dispatch((0,Yn.w0)({nodes:[{cellName:void 0,counterAbbreviation:"PEAK_NUMBER_OF_NSA_USERS_CU",counterId:"M55131C00001",dimensionDistName:e.distName,gnbDuName:void 0,measurementAbbreviation:"NTRAF",measurementId:"55131",parentDuObject:void 0}],counterStartTime:(0,Jn.U)(6),timeFrame:6}))})}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-statistics"]],viewQuery:function(e,t){if(1&e&&E.Gf(zn,5),2&e){let e;E.iGM(e=E.CRH())&&(t.infoOverlayPanel=e.first)}},decls:7,vars:8,consts:[[3,"loading","redirectLink","beforeRedirect",4,"ngIf"],["tile",""],["info",""],[3,"loading","redirectLink","beforeRedirect"],["title",""],["operations",""],["content",""],["uiWebemStopPropagation","",3,"model","action"],[1,"statistics-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"statistic-container","rounded-block",3,"click"],["title","Peak NSA users in CU",3,"value"],["styleClass","statistics-info-overlay-panel","appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms",3,"dismissable"],["infoOverlayPanel",""]],template:function(e,t){1&e&&(E.YNc(0,oi,7,2,"ui-webem-rich-panel",0),E.ALo(1,"async"),E.ALo(2,"async"),E.YNc(3,si,2,1,"ng-template",null,1,E.W1O),E.YNc(5,ai,3,1,"ng-template",null,2,E.W1O)),2&e&&E.Q6J("ngIf",E.WLB(5,ri,E.lcZ(1,1,t.counterValue$),E.lcZ(2,3,t.latestRequestFailed$)))},directives:[i.O5,Ae.d,Hn.r,Wn._,i.tP,_e,Qn.T],pipes:[i.Ov],styles:[".statistics-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center}.statistic-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:-moz-fit-content;width:fit-content;height:100%;padding:15px;cursor:pointer}  body .statistics-info-overlay-panel .p-overlaypanel-content{max-width:310px;font-size:10px}"],changeDetection:0}),e})();var ci=n(26215),di=n(23607),ui=(()=>(function(e){e.SetAlarms="[dashboard-alarms-page] SetAlarms",e.SetCurrentPage="[dashboard-alarms-page] SetCurrentPage",e.UnsubscribeAlarmsWatch="[dashboard-alarms-page] UnsubscribeAlarmsWatch",e.SubscribeAlarmsWatch="[dashboard-alarms-page] SubscribeAlarmsWatch",e.AlarmsRequest="[dashboard-alarms-page] AlarmsRequest",e.SubscribeAlarmsError="[dashboard-alarms-page] SubscribeAlarmsError",e.DashboardSubscribeAlarmsSummaryWatch="[dashboard-alarms-page] DashboardSubscribeAlarmsSummaryWatch",e.DashboardUnubscribeAlarmsSummaryWatch="[dashboard-alarms-page] DashboardUnubscribeAlarmsSummaryWatch",e.AlarmsSummaryRequest="[dashboard-alarms-page] AlarmsSummaryRequest",e.DashboardSetAlarmsSummary="[dashboard-alarms-page] DashboardSetAlarmsSummary",e.DashboardAlarmsSummaryRequestError="[dashboard-alarms-page] DashboardAlarmsSummaryRequestError"}(ui||(ui={})),ui))();class pi{constructor(e){this.payload=e,this.type=ui.SetAlarms}}class gi{constructor(e){this.payload=e,this.type=ui.SetCurrentPage}}class hi{constructor(){this.type=ui.UnsubscribeAlarmsWatch}}class mi{constructor(){this.type=ui.SubscribeAlarmsWatch}}class fi{constructor(){this.type=ui.AlarmsRequest}}class bi{constructor(e){this.error=e,this.type=ui.SubscribeAlarmsError}}class Ci{constructor(){this.type=ui.DashboardSubscribeAlarmsSummaryWatch}}class vi{constructor(){this.type=ui.DashboardUnubscribeAlarmsSummaryWatch}}class yi{constructor(){this.type=ui.AlarmsSummaryRequest}}class Si{constructor(e){this.payload=e,this.type=ui.DashboardSetAlarmsSummary}}class Pi{constructor(e){this.error=e,this.type=ui.DashboardAlarmsSummaryRequestError}}const Oi=(0,di.H)({selectId:e=>e.uuid}),xi="Undefined value",wi=Oi.getInitialState({criticalAlarmsNumber:xi,majorAlarmsNumber:xi,minorAlarmsNumber:xi,warningAlarmsNumber:xi,total:0,pageSettings:{sortOrder:1,sortField:"appearTime",first:1},itemsPerPage:6});function Ai(e=wi,t){switch(t.type){case ui.SetAlarms:{const{payload:{total:n,alarms:i}}=t;return Oi.setAll(i,Object.assign(Object.assign({},e),{total:n}))}case ui.SetCurrentPage:return Object.assign(Object.assign({},e),{pageSettings:t.payload});case ui.DashboardSetAlarmsSummary:{const{payload:{severity:{critical:n,major:i,minor:o,warning:s}}}=t;return Object.assign(Object.assign({},e),{criticalAlarmsNumber:n,majorAlarmsNumber:i,minorAlarmsNumber:o,warningAlarmsNumber:s})}default:return e}}const{selectAll:_i}=Oi.getSelectors(),Ti=(0,c.ZF)("DashboardAlarms"),Ii=(0,c.P1)(Ti,e=>e.total),Ei=(0,c.P1)(Ti,_i),Mi=(0,c.P1)(Ti,e=>({criticalAlarmsNumber:e.criticalAlarmsNumber,majorAlarmsNumber:e.majorAlarmsNumber,minorAlarmsNumber:e.minorAlarmsNumber,warningAlarmsNumber:e.warningAlarmsNumber})),ki=(0,c.P1)(Ti,e=>e.itemsPerPage);var Ni=n(93487),Li=n(92587),Di=n(19230);function Zi(e,t){1&e&&E._uU(0,"Alarms")}function Ri(e,t){if(1&e){const e=E.EpF();E.ynx(0),E.TgZ(1,"ui-webem-alarms-dashboard-panel",5),E.NdJ("PageChanged",function(t){return E.CHM(e),E.oxw(2).onPageChange(t)})("criticalClick",function(){return E.CHM(e),E.oxw(2).onCriticalClick()})("majorClick",function(){return E.CHM(e),E.oxw(2).onMajorClick()})("minorClick",function(){return E.CHM(e),E.oxw(2).onMinorClick()})("warningClick",function(){return E.CHM(e),E.oxw(2).onWarningClick()}),E.ALo(2,"async"),E.qZA(),E.BQk()}if(2&e){const e=E.oxw(2);E.xp6(1),E.Q6J("criticalAlarmsNumber",e.alarmsState.criticalAlarmsNumber)("majorAlarmsNumber",e.alarmsState.majorAlarmsNumber)("minorAlarmsNumber",e.alarmsState.minorAlarmsNumber)("warningAlarmsNumber",e.alarmsState.warningAlarmsNumber)("alarms",e.alarms)("totalNumberOfAlarms",e.totalNumberOfAlarms$)("loading",e.isAlarmsLoading)("itemsPerPage",E.lcZ(2,8,e.itemsPerPage$))}}function Ui(e,t){if(1&e&&E.YNc(0,Ri,3,10,"ng-container",4),2&e){const e=E.oxw(),t=E.MAs(7);E.Q6J("ngIf",e.alarms&&0!==e.alarms.length)("ngIfElse",t)}}function Fi(e,t){1&e&&E._UZ(0,"ui-webem-no-selected-message",6)}let ji=(()=>{class e{constructor(e,t,n){this.store=e,this.cdRef=t,this.activatedRoute=n,this.isAlarmsLoading=!1,this.isDataLoading$=new ci.X(!0),this.ngUnsubscribe=new l.xQ,this.ROUTER_LINK=xe.r.activeAlarms}ngAfterContentInit(){this.cdRef.detectChanges()}ngOnInit(){this.itemsPerPage$=this.store.pipe((0,c.Ys)(ki)),this.store.pipe((0,c.Ys)(Mi),(0,d.R)(this.ngUnsubscribe),(0,R.b)(e=>{this.alarmsState=e})).subscribe(),this.store.pipe((0,c.Ys)(Ei),(0,d.R)(this.ngUnsubscribe)).subscribe(e=>{this.alarms=e,this.isAlarmsLoading=!1,this.isDataLoading$.next(!1)}),this.totalNumberOfAlarms$=this.store.select(Ii),this.store.dispatch(new mi),this.store.dispatch(new Ci)}ngOnDestroy(){this.store.dispatch(new hi),this.store.dispatch(new vi),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onPageChange(e){setTimeout(()=>{this.isAlarmsLoading=!0,this.store.dispatch(new gi(e)),this.store.dispatch(new fi)})}onCriticalClick(){this.redirectWithFilter(Ni.d.CRITICAL)}onMajorClick(){this.redirectWithFilter(Ni.d.MAJOR)}onMinorClick(){this.redirectWithFilter(Ni.d.MINOR)}onWarningClick(){this.redirectWithFilter(Ni.d.WARNING)}redirectWithFilter(e){this.store.dispatch((0,ge.uX)({routerLink:this.ROUTER_LINK,activatedRoute:this.activatedRoute,data:new Ni.p(e)}))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(E.sBO),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-alarms"]],decls:8,vars:4,consts:[[3,"loading","redirectLink"],["title",""],["content",""],["noAlarms",""],[4,"ngIf","ngIfElse"],[3,"criticalAlarmsNumber","majorAlarmsNumber","minorAlarmsNumber","warningAlarmsNumber","alarms","totalNumberOfAlarms","loading","itemsPerPage","PageChanged","criticalClick","majorClick","minorClick","warningClick"],["message","No Alarms to display",1,"dashboard-tables"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-rich-panel",0),E.ALo(1,"async"),E.YNc(2,Zi,1,0,"ng-template",null,1,E.W1O),E.YNc(4,Ui,1,2,"ng-template",null,2,E.W1O),E.qZA(),E.YNc(6,Fi,1,0,"ng-template",null,3,E.W1O)),2&e&&E.Q6J("loading",E.lcZ(1,2,t.isDataLoading$))("redirectLink",t.ROUTER_LINK)},directives:[Ae.d,i.O5,Li.H,Di.G],pipes:[i.Ov],styles:[""]}),e})();var $i=n(81948),qi=n(4225),Bi=n(8408),Gi=n(67223),Vi=n(13994),Yi=n(56177),Ji=n(99451);const Hi=["*"];let Wi=(()=>{class e{constructor(e){this.ref=e,this.submitButtonModel={label:"OK",theme:On.bnJ.Accent},this.cancelButtonModel={label:"Cancel"},this.options={forceWidth:"70px"}}ngOnInit(){}ok(){this.SubmitDisabled||this.ref.close(this.dialogResult)}cancel(){this.ref.close()}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(Ji.E7))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-operation-dialog"]],inputs:{header:"header",dialogResult:"dialogResult",SubmitDisabled:"SubmitDisabled",description:"description"},ngContentSelectors:Hi,decls:13,vars:8,consts:[[1,"dialog-form"],[1,"dialog-content"],[1,"panel-title"],[3,"title"],[1,"panel-input"],[1,"operation-description"],[1,"panel-footer"],[3,"disabled","model","options","action"],[3,"model","options","action"]],template:function(e,t){1&e&&(E.F$t(),E.TgZ(0,"div",0),E.TgZ(1,"div",1),E.TgZ(2,"div",2),E.TgZ(3,"span",3),E._uU(4),E.qZA(),E.qZA(),E.TgZ(5,"div",4),E.TgZ(6,"div",5),E.TgZ(7,"span"),E._uU(8),E.qZA(),E.qZA(),E.Hsn(9),E.qZA(),E.qZA(),E.TgZ(10,"div",6),E.TgZ(11,"ui-webem-button",7),E.NdJ("action",function(){return t.ok()}),E.qZA(),E.TgZ(12,"ui-webem-button",8),E.NdJ("action",function(){return t.cancel()}),E.qZA(),E.qZA(),E.qZA()),2&e&&(E.xp6(3),E.s9C("title",t.header),E.xp6(1),E.Oqu(t.header),E.xp6(4),E.Oqu(t.description),E.xp6(3),E.Q6J("disabled",t.SubmitDisabled)("model",t.submitButtonModel)("options",t.options),E.xp6(1),E.Q6J("model",t.cancelButtonModel)("options",t.options))},directives:[Hn.r],styles:[".dialog-form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.dialog-form[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:20px}.dialog-form[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{line-height:16px;font-size:16px;font-weight:700;margin-bottom:20px}.dialog-form[_ngcontent-%COMP%]   .panel-input[_ngcontent-%COMP%]   .operation-description[_ngcontent-%COMP%]{padding-bottom:10px}.dialog-form[_ngcontent-%COMP%]   .panel-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px}.dialog-form[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;height:100%;padding:20px;border-color:#0b6daf;border-top:1px solid #bec8d2}.dialog-form[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]{display:block;height:100%;width:100%}"]}),e})();var Qi=n(40339),zi=n(65792),Ki=n(7067),Xi=n(38421),eo=n(24751),to=n(33013),no=n(12332),io=n(43286);function oo(e,t){1&e&&(E.TgZ(0,"span",17),E._uU(1,"Shared"),E.qZA())}const so=function(e,t){return{indeterminate:e,"text-bold":t}};function ao(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"div",13),E.TgZ(1,"div",14),E.TgZ(2,"p-checkbox",15),E.NdJ("onChange",function(t){return E.CHM(e).$implicit.mouseAction("checkboxClick",t)}),E.qZA(),E.YNc(3,oo,2,0,"span",16),E.qZA(),E.qZA()}if(2&e){const e=t.$implicit;E.Udp("padding-left",e.getNodePadding()),E.xp6(2),E.Q6J("ngModel",e.isSelected)("ngClass",E.WLB(10,so,e.isPartiallySelected,e.hasChildren))("label",e.data.name)("disabled",e.data.disabled)("binary",!0),E.uIk("id",e.data.id)("title",e.data.title||e.data.name),E.xp6(1),E.Q6J("ngIf",!!e.data.smodExtRId)}}function ro(e,t){if(1&e&&(E.TgZ(0,"span",18),E._uU(1),E.qZA()),2&e){const e=t.$implicit;E.xp6(1),E.Oqu(e.data.name)}}function lo(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"div",8),E.TgZ(1,"tree-root",9,10),E.NdJ("select",function(t){return E.CHM(e),E.oxw().selectNode(t)})("deselect",function(t){return E.CHM(e),E.oxw().deselectNode(t)})("updateData",function(t){return E.CHM(e),E.oxw().treeModelChanged(t)}),E.YNc(3,ao,4,13,"ng-template",null,11,E.W1O),E.YNc(5,ro,2,1,"ng-template",null,12,E.W1O),E.qZA(),E.qZA()}if(2&e){const e=E.oxw();E.xp6(1),E.Q6J("nodes",e.nodes)("options",e.options)}}function co(e,t){if(1&e&&(E.TgZ(0,"span",19),E._uU(1),E.qZA()),2&e){const e=t.$implicit;E.xp6(1),E.Oqu(e.fullName)}}function uo(e,t){1&e&&(E.TgZ(0,"div",20),E._UZ(1,"ui-webem-spinner"),E.qZA())}function po(e,t){1&e&&(E.TgZ(0,"div",22),E._UZ(1,"ui-webem-no-selected-message",23),E.qZA())}function go(e,t){if(1&e&&(E.YNc(0,po,2,0,"div",21),E.ALo(1,"async")),2&e){const e=E.oxw(),t=E.MAs(7);E.Q6J("ngIf",E.lcZ(1,2,e.messageDelay$))("ngIfElse",t)}}let ho=(()=>{class e{constructor(){this.selected=[],this.selectedChange=new E.vpe,this.filterValue="",this.options={isExpandedField:"isExpanded",useCheckbox:!1,useVirtualScroll:!0,allowDragoverStyling:!1,animateExpand:!1,scrollOnActivate:!1,levelPadding:24,scrollContainer:document.body,nodeHeight:22},this.filterNodes=e=>e.data.name.toLowerCase().includes(this.filterValue)||e.isLeaf&&e.parent.data.name&&e.parent.data.name.toLowerCase().includes(this.filterValue)}ngOnInit(){this.messageDelay$=(0,k.of)(!0).pipe((0,zi.g)(1e3))}selectNode(e){this.cellGroupNodeGuard(e.node.data)&&(this.selected=[...this.selected,e.node.data],this.selectedChange.emit(this.selected))}cellGroupNodeGuard(e){return e.type===this.operationNodeType}removeChip({value:e}){this.tree.treeModel.setSelectedNode(e,!1)}deselectNode(e){this.selected=this.selected.filter(t=>t.id!==e.node.id),this.selectedChange.emit(this.selected)}treeModelChanged({treeModel:e}){this.selected=[...this.selected].reduce((t,n)=>(e.getNodeById(n.id)||(e.getState().selectedLeafNodeIds[n.id]=!1,t.splice(t.findIndex(e=>e.id===n.id),1)),t),this.selected),e.expandAll(),e.filterNodes(this.filterNodes,!0),this.selectedChange.emit(this.selected)}filterTree(e){this.filterValue=e.toLowerCase(),this.tree.treeModel.filterNodes(this.filterNodes,!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-tree-chips-panel"]],viewQuery:function(e,t){if(1&e&&E.Gf(Qi.qr,5),2&e){let e;E.iGM(e=E.CRH())&&(t.tree=e.first)}},inputs:{nodes:"nodes",operationNodeType:"operationNodeType",selected:"selected"},outputs:{selectedChange:"selectedChange"},decls:10,vars:5,consts:[[1,"cells-groups-dialog-content"],[1,"tree-container"],["value","","id","tree-chips",3,"disabled","valueChange"],["class","view-port",4,"ngIf","ngIfElse"],["styleClass","expandable-chips-box dashboard-chip","inputStyleClass","input-hidden",3,"ngModel","ngClass","onRemove"],["pTemplate","item"],["loading",""],["zeroNodes",""],[1,"view-port"],[3,"nodes","options","select","deselect","updateData"],["tree",""],["treeNodeWrapperTemplate",""],["treeNodeTemplate",""],[1,"node-content-wrap"],[1,"node-content-flex"],[3,"ngModel","ngClass","label","disabled","binary","onChange"],["class","node-shared",4,"ngIf"],[1,"node-shared"],[1,"ui-treenode-label"],[1,"chip-label"],[1,"loading-message"],["class","no-elements-message",4,"ngIf","ngIfElse"],[1,"no-elements-message"],["message","None of elements match the operation"]],template:function(e,t){if(1&e&&(E.TgZ(0,"div",0),E.TgZ(1,"div",1),E.TgZ(2,"ui-webem-filter-input",2),E.NdJ("valueChange",function(e){return t.filterTree(e)}),E.qZA(),E.YNc(3,lo,7,2,"div",3),E.qZA(),E.TgZ(4,"p-chips",4),E.NdJ("onRemove",function(e){return t.removeChip(e)}),E.YNc(5,co,2,1,"ng-template",5),E.qZA(),E.qZA(),E.YNc(6,uo,2,0,"ng-template",null,6,E.W1O),E.YNc(8,go,2,4,"ng-template",null,7,E.W1O)),2&e){const e=E.MAs(7),n=E.MAs(9);E.xp6(2),E.Q6J("disabled",!t.nodes||0===t.nodes.length),E.xp6(1),E.Q6J("ngIf",t.nodes&&t.nodes.length)("ngIfElse",t.nodes?n:e),E.xp6(1),E.Q6J("ngModel",t.selected)("ngClass",0===t.selected.length?"show-placeholder":"")}},directives:[Ki.T,i.O5,Xi.cL,eo.JJ,eo.On,i.mk,to.jx,Qi.qr,no.XZ,io.O,Di.G],pipes:[i.Ov],styles:['@charset "UTF-8";.cells-groups-dialog-content[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;grid-template-columns:298px 360px;grid-template-rows:277px;grid-gap:25px}.ui-treenode-label[_ngcontent-%COMP%]{white-space:nowrap;margin-right:10px}.chip-label[_ngcontent-%COMP%]{font-size:11px}.tree-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.view-port[_ngcontent-%COMP%]{padding-top:10px;width:100%;height:100%;min-height:0}.node-wrapper[_ngcontent-%COMP%]{margin-right:22px}.node-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]     .indeterminate .pi-check:before{content:"\ue90f"}[_nghost-%COMP%]    .text-bold{font-weight:700}[_nghost-%COMP%]     p-checkbox label{padding:0 0 0 8px;font-size:11px;color:#1b1b1b}  .dashboard-chip .p-chips-input-token{margin:0}[_nghost-%COMP%]     .show-placeholder .p-inputtext{position:relative}[_nghost-%COMP%]     .show-placeholder .p-inputtext:after{position:absolute;top:10px;left:10px}.loading-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;--spinner-icon-font-size:24px}.node-content-wrap[_ngcontent-%COMP%]{transition:none}.node-content-wrap[_ngcontent-%COMP%]:hover{background:#ccf4ff 0 0 no-repeat padding-box}.node-content-wrap[_ngcontent-%COMP%] > .node-content-flex[_ngcontent-%COMP%]{height:22px;display:flex;align-items:center;overflow:hidden;margin-right:5px}.node-content-wrap[_ngcontent-%COMP%] > .node-content-flex[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%]{display:contents}.no-elements-message[_ngcontent-%COMP%]{margin-top:5px}.node-shared[_ngcontent-%COMP%]{margin-left:8px;background-color:#4d5766;display:flex;align-items:center;justify-content:center;color:#fff;font-size:8px;border-radius:3px;height:14px;padding:0 5px}']}),e})(),mo=(()=>{class e{constructor(e,t){this.store=e,this.nullableValuePipe=t,this.selected=[]}ngOnInit(){this.dus$=this.store.pipe((0,c.Ys)(Gi.cD),(0,U.U)(e=>e.filter(e=>e.administrativeState===this.filteredByState)),(0,U.U)(e=>e.map(this.toDuNode.bind(this)))),this.store.dispatch((0,Vi.VB)())}ngOnDestroy(){this.store.dispatch((0,Vi.zy)())}toDuNode(e){return{fullName:`${e.name} / ${this.nullableValuePipe.transform(e.gnbDuName)}`,type:"DU",hasChildren:!1,name:`${e.name} / ${this.nullableValuePipe.transform(e.gnbDuName)}`,isExpanded:!1,id:e.id,children:[]}}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(Yi.cP))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-dus-operation-dialog"]],inputs:{header:"header",filteredByState:"filteredByState",description:"description"},decls:3,vars:8,consts:[[3,"dialogResult","header","SubmitDisabled","description"],["operationNodeType","DU",3,"nodes","selected","selectedChange"]],template:function(e,t){1&e&&(E.TgZ(0,"dashboard-operation-dialog",0),E.TgZ(1,"dashboard-tree-chips-panel",1),E.NdJ("selectedChange",function(e){return t.selected=e}),E.ALo(2,"async"),E.qZA(),E.qZA()),2&e&&(E.Q6J("dialogResult",t.selected)("header",t.header)("SubmitDisabled",0===t.selected.length)("description",t.description),E.xp6(1),E.Q6J("nodes",E.lcZ(2,6,t.dus$))("selected",t.selected))},directives:[Wi,ho],pipes:[i.Ov],styles:['[_nghost-%COMP%]     .show-placeholder .p-inputtext:after{color:#98a2ae;font-size:11px;content:"The choosen DU(s) will appear here after selection"}']}),e})(),fo=(()=>{class e{constructor(){this.administrativeState=Bi.k}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-du-lock"]],decls:1,vars:1,consts:[["header","Lock DU(s)","description","DU(s) to be locked:",3,"filteredByState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-dus-operation-dialog",0),2&e&&E.Q6J("filteredByState",t.administrativeState.Unlocked)},directives:[mo],styles:["p-chips[_ngcontent-%COMP%]{display:block;height:226px;margin-top:9px}.du-operations[_ngcontent-%COMP%]{height:100%}.du-operations[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:20px}.du-operations[_ngcontent-%COMP%]   .panel-input[_ngcontent-%COMP%]{margin-bottom:30px}.du-operations[_ngcontent-%COMP%]   .panel-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px}.du-operations[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.du-operations[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{padding-left:10px}"]}),e})(),bo=(()=>{class e{constructor(){this.administrativeState=Bi.k}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-du-unlock"]],decls:1,vars:1,consts:[["header","Unlock DU(s)","description","DU(s) to be unlocked:",3,"filteredByState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-dus-operation-dialog",0),2&e&&E.Q6J("filteredByState",t.administrativeState.Locked)},directives:[mo],styles:["p-chips[_ngcontent-%COMP%]{display:block;height:226px;margin-top:9px}.du-operations[_ngcontent-%COMP%]{height:100%}.du-operations[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:20px}.du-operations[_ngcontent-%COMP%]   .panel-input[_ngcontent-%COMP%]{margin-bottom:30px}.du-operations[_ngcontent-%COMP%]   .panel-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px}.du-operations[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.du-operations[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{padding-left:10px}"]}),e})();var Co=n(76563),vo=n(54260),yo=n(38523);let So=(()=>{class e{constructor(e,t){this.store=e,this.nullableValuePipe=t,this.selected=[],this.filterAdministrativeState=e=>e.basicCell.administrativeState===this.filterByAdministrativeState}ngOnInit(){this.store.dispatch((0,vo.M5)()),this.dus$=this.store.pipe((0,c.Ys)(yo.nZ),(0,U.U)(e=>e.filter(this.filterAdministrativeState)),(0,U.U)(this.toCellsNodes.bind(this)))}ngOnDestroy(){this.store.dispatch((0,vo.vi)())}toCellsNodes(e){return Object.values(e.reduce((e,t)=>{const n=e[t.nrDuId]||{children:[],hasChildren:!0,id:t.nrDuId,isExpanded:!0,name:t.duName,type:"DU",fullName:t.duName};return n.children.push({type:"CELL",id:`${t.basicCell.id}-${t.nrDuId}`,cellId:t.basicCell.id,name:`${t.basicCell.name} / ${this.nullableValuePipe.transform(t.basicCell.cellName)}`,fullName:`${t.duName} / ${this.nullableValuePipe.transform(t.basicCell.name)}`}),e[t.nrDuId]=n,e},{}))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(Yi.cP))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-cells-operation-dialog"]],inputs:{dialogTitle:"dialogTitle",filterByAdministrativeState:"filterByAdministrativeState",description:"description"},decls:3,vars:8,consts:[[3,"dialogResult","header","SubmitDisabled","description"],["operationNodeType","CELL",3,"nodes","selected","selectedChange"]],template:function(e,t){1&e&&(E.TgZ(0,"dashboard-operation-dialog",0),E.TgZ(1,"dashboard-tree-chips-panel",1),E.NdJ("selectedChange",function(e){return t.selected=e}),E.ALo(2,"async"),E.qZA(),E.qZA()),2&e&&(E.Q6J("dialogResult",t.selected)("header",t.dialogTitle)("SubmitDisabled",0===t.selected.length)("description",t.description),E.xp6(1),E.Q6J("nodes",E.lcZ(2,6,t.dus$))("selected",t.selected))},directives:[Wi,ho],pipes:[i.Ov],styles:['[_nghost-%COMP%]     .show-placeholder .p-inputtext:after{color:#98a2ae;font-size:11px;content:"The choosen Cell(s) will appear here after selection"}']}),e})(),Po=(()=>{class e{constructor(){this.administrativeState=Co.I}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-cells-lock"]],decls:1,vars:1,consts:[["dialogTitle","Lock cell(s)","description","Cell(s) to be locked:",3,"filterByAdministrativeState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-cells-operation-dialog",0),2&e&&E.Q6J("filterByAdministrativeState",t.administrativeState.Unlocked)},directives:[So],styles:[""]}),e})(),Oo=(()=>{class e{constructor(){this.administrativeState=Co.I}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-cells-unlock"]],decls:1,vars:1,consts:[["dialogTitle","Unlock cell(s)","description","Cell(s) to be unlocked:",3,"filterByAdministrativeState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-cells-operation-dialog",0),2&e&&E.Q6J("filterByAdministrativeState",t.administrativeState.Locked)},directives:[So],styles:["p-chips[_ngcontent-%COMP%]{display:block;height:226px;margin-top:9px}.cells-operation[_ngcontent-%COMP%]{height:100%}.cells-operation[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:20px}.cells-operation[_ngcontent-%COMP%]   .panel-input[_ngcontent-%COMP%]{margin-bottom:30px}.cells-operation[_ngcontent-%COMP%]   .panel-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px}.cells-operation[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.cells-operation[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{padding-left:10px}.choose-cells-input[_ngcontent-%COMP%]{width:100%}  body .ui-overlaypanel .ui-overlaypanel-content{padding:0}  body .ui-inputgroup .ui-inputgroup-addon{background-color:#fff;border-right:none;line-height:26px;padding:0}  body .ui-listbox .ui-listbox-list .ui-listbox-item.p-highlight{background-color:#fff;color:#000}  .cells-operation-overlay-panel{width:500px;max-height:266px;margin-top:0}  .cells-operation-overlay-panel:before{display:none;content:none}  .cells-operation-overlay-panel:after{display:none;content:none}  .cells-operation-overlay-panel .overlay-input{width:100%;height:26px;line-height:26px;padding-left:5px}  .cells-operation-overlay-panel .listbox-container{max-height:240px;overflow:auto}  .cells-operation-overlay-panel .listbox-container .listbox{position:relative}  .cells-operation-overlay-panel .listbox-container .listbox   .listbox-header{position:absolute;z-index:1;top:6px;left:40px;font-weight:700}  .cells-operation-overlay-panel .listbox-container .listbox   .overlay-listbox{width:100%;height:100%}  .cells-operation-overlay-panel .listbox-container .listbox   .overlay-listbox .ui-listbox-item{padding-left:20px}"]}),e})(),xo=(()=>{class e{constructor(e){this.store=e,this.selected=[]}ngOnInit(){this.store.dispatch((0,Vi.VB)()),this.dus$=this.store.pipe((0,c.Ys)(Gi.cD),(0,U.U)(e=>e.map(e=>({children:e.cellGroups?e.cellGroups.map(({id:t})=>({name:`CG-${t}`,hasChildren:!1,cellGroupId:t,id:`${e.id}-${t}`,type:"CELL_GROUP",fullName:`${e.name} / CG-${t}`})):[],hasChildren:!!e.cellGroups&&0!==e.cellGroups.length,name:e.name,id:e.id,type:"DU",isExpanded:!0,fullName:e.name}))))}ngOnDestroy(){this.store.dispatch((0,Vi.zy)())}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-cell-groups-operation-dialog"]],inputs:{dialogTitle:"dialogTitle",description:"description"},decls:3,vars:8,consts:[[3,"dialogResult","header","SubmitDisabled","description"],["operationNodeType","CELL_GROUP",3,"nodes","selected","selectedChange"]],template:function(e,t){1&e&&(E.TgZ(0,"dashboard-operation-dialog",0),E.TgZ(1,"dashboard-tree-chips-panel",1),E.NdJ("selectedChange",function(e){return t.selected=e}),E.ALo(2,"async"),E.qZA(),E.qZA()),2&e&&(E.Q6J("dialogResult",t.selected)("header",t.dialogTitle)("SubmitDisabled",0===t.selected.length)("description",t.description),E.xp6(1),E.Q6J("nodes",E.lcZ(2,6,t.dus$))("selected",t.selected))},directives:[Wi,ho],pipes:[i.Ov],styles:['[_nghost-%COMP%]     .show-placeholder .p-inputtext:after{color:#98a2ae;font-size:11px;content:"The choosen Cells group(s) will appear here after selection"}']}),e})(),wo=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-cells-groups-lock"]],decls:1,vars:0,consts:[["dialogTitle","Lock cells group(s)","description","Cells Group(s) to be locked:"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-cell-groups-operation-dialog",0)},directives:[xo],styles:[""]}),e})(),Ao=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-cell-groups-unlock"]],decls:1,vars:0,consts:[["dialogTitle","Unlock cells group(s)","description","Cells Group(s) to be unlocked:"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-cell-groups-operation-dialog",0)},directives:[xo],styles:[""]}),e})();var _o=n(37005),To=n(38870),Io=n(47702),Eo=n(88195),Mo=n(58016),ko=n(61656),No=n(29920),Lo=n(9894),Do=n(49201);let Zo=(()=>{class e{constructor(e,t){this.store=e,this.nullableValuePipe=t,this.selected=[]}ngOnInit(){this.x2Links$=this.store.pipe((0,c.Ys)(ko.WF),(0,U.U)(e=>e.filter(e=>e.x2LinkLock===this.filteredByState)),(0,U.U)(e=>(0,No.h)(e,Lo.U.BY_LTEENB_ID).map(this.toX2Link.bind(this)))),this.store.dispatch((0,Eo.Ir)())}ngOnDestroy(){this.store.dispatch((0,Eo.$s)())}toX2Link(e){const t=e.eNodebId?`eNodeB-${e.eNodebId}`:Do.v;return{fullName:`LTEENB-${e.id} / ${t}`,type:"X2_LINK",hasChildren:!1,name:`LTEENB-${e.id} / ${t}`,isExpanded:!1,id:e.id}}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(Yi.cP))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-x2-links-operation-dialog"]],inputs:{header:"header",filteredByState:"filteredByState",description:"description"},decls:3,vars:8,consts:[[3,"dialogResult","header","SubmitDisabled","description"],["operationNodeType","X2_LINK",3,"nodes","selected","selectedChange"]],template:function(e,t){1&e&&(E.TgZ(0,"dashboard-operation-dialog",0),E.TgZ(1,"dashboard-tree-chips-panel",1),E.NdJ("selectedChange",function(e){return t.selected=e}),E.ALo(2,"async"),E.qZA(),E.qZA()),2&e&&(E.Q6J("dialogResult",t.selected)("header",t.header)("SubmitDisabled",0===t.selected.length)("description",t.description),E.xp6(1),E.Q6J("nodes",E.lcZ(2,6,t.x2Links$))("selected",t.selected))},directives:[Wi,ho],pipes:[i.Ov],styles:['[_nghost-%COMP%]     .show-placeholder .p-inputtext:after{color:#98a2ae;font-size:11px;content:"The choosen X2 link(s) will appear here after selection"}']}),e})(),Ro=(()=>{class e{constructor(){this.FILTERED_BY_STATE=Mo.j.Locked}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-x2-link-unlock"]],decls:1,vars:1,consts:[["header","Unlock X2 Link(s)","description","X2 link(s) to be unlocked:",3,"filteredByState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-x2-links-operation-dialog",0),2&e&&E.Q6J("filteredByState",t.FILTERED_BY_STATE)},directives:[Zo],encapsulation:2}),e})(),Uo=(()=>{class e{constructor(){this.FILTERED_BY_STATE=Mo.j.Unlocked}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-x2-link-lock"]],decls:1,vars:1,consts:[["header","Lock X2 Link(s)","description","X2 link(s) to be locked:",3,"filteredByState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-x2-links-operation-dialog",0),2&e&&E.Q6J("filteredByState",t.FILTERED_BY_STATE)},directives:[Zo],encapsulation:2}),e})();var Fo=n(6049),jo=n(51001),$o=n(63815),qo=n(61445),Bo=n(86394);let Go=(()=>{class e{constructor(e,t){this.store=e,this.nullableValuePipe=t,this.selected=[]}ngOnInit(){this.xnLinks$=this.store.pipe((0,c.Ys)($o.Ph),(0,U.U)(e=>e.filter(e=>e.administrativeState===this.filteredByState)),(0,U.U)(e=>{const t=(0,a.groupBy)(e,"nrAdjGnbId"),n=Object.keys(t).map(e=>this.toXnLink((0,qo.H)(t[e],Bo.p.ByXnLinkId)));return(0,a.sortBy)(n,e=>parseInt(e.id,10))})),this.store.dispatch((0,Fo.v)())}ngOnDestroy(){this.store.dispatch((0,Fo.D2)())}toXnLink(e){const t=e[0],n=this.nullableValuePipe.transform(t.nrAdjGnbId)===Do.v?Do.v:"NRADJGNB-"+t.nrAdjGnbId,i=`XNLINK-${1===e.length?t.xnLinkId:`${t.xnLinkId}, ${e[1].xnLinkId}`} / ${n}`;return{fullName:i,type:"XN_LINK",hasChildren:!1,name:i,isExpanded:!1,id:t.xnLinkId}}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(Yi.cP))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-xn-links-operation-dialog"]],inputs:{header:"header",filteredByState:"filteredByState",description:"description"},decls:3,vars:8,consts:[[3,"dialogResult","header","SubmitDisabled","description"],["operationNodeType","XN_LINK",3,"nodes","selected","selectedChange"]],template:function(e,t){1&e&&(E.TgZ(0,"dashboard-operation-dialog",0),E.TgZ(1,"dashboard-tree-chips-panel",1),E.NdJ("selectedChange",function(e){return t.selected=e}),E.ALo(2,"async"),E.qZA(),E.qZA()),2&e&&(E.Q6J("dialogResult",t.selected)("header",t.header)("SubmitDisabled",0===t.selected.length)("description",t.description),E.xp6(1),E.Q6J("nodes",E.lcZ(2,6,t.xnLinks$))("selected",t.selected))},directives:[Wi,ho],pipes:[i.Ov],styles:['[_nghost-%COMP%]     .show-placeholder .p-inputtext:after{color:#98a2ae;font-size:11px;content:"The choosen Xn link(s) will appear here after selection"}']}),e})(),Vo=(()=>{class e{constructor(){this.FILTERED_BY_STATE=jo.G.Locked}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-xn-link-unlock"]],decls:1,vars:1,consts:[["header","Unlock Xn Link(s)","description","Xn link(s) to be unlocked:",3,"filteredByState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-xn-links-operation-dialog",0),2&e&&E.Q6J("filteredByState",t.FILTERED_BY_STATE)},directives:[Go],encapsulation:2}),e})(),Yo=(()=>{class e{constructor(){this.FILTERED_BY_STATE=jo.G.Unlocked}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-xn-link-lock"]],decls:1,vars:1,consts:[["header","Lock Xn Link(s)","description","Xn link(s) to be locked:",3,"filteredByState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-xn-links-operation-dialog",0),2&e&&E.Q6J("filteredByState",t.FILTERED_BY_STATE)},directives:[Go],encapsulation:2}),e})();var Jo=n(70743),Ho=n(75323),Wo=n(28235),Qo=n(78359);let zo=(()=>{class e{constructor(e){this.store=e,this.selected=[]}ngOnInit(){this.ngLinks$=this.store.pipe((0,c.Ys)(Ho.WJ),(0,U.U)(e=>e.filter(e=>e.administrativeState===this.filteredByState)),(0,U.U)(e=>(0,Wo.p)(e,Qo.m.BY_SERVED_AMF_ID).map(this.toNgLink.bind(this)))),this.store.dispatch((0,Jo.Gz)())}ngOnDestroy(){this.store.dispatch((0,Jo.mU)())}toNgLink(e){return{fullName:`SERVEDAMF-${e.servedAmfId}`,type:"NG_LINK",hasChildren:!1,name:`SERVEDAMF-${e.servedAmfId}`,isExpanded:!1,id:e.servedAmfId}}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-ng-links-operation-dialog"]],inputs:{header:"header",filteredByState:"filteredByState",description:"description"},decls:3,vars:8,consts:[[3,"dialogResult","header","SubmitDisabled","description"],["operationNodeType","NG_LINK",3,"nodes","selected","selectedChange"]],template:function(e,t){1&e&&(E.TgZ(0,"dashboard-operation-dialog",0),E.TgZ(1,"dashboard-tree-chips-panel",1),E.NdJ("selectedChange",function(e){return t.selected=e}),E.ALo(2,"async"),E.qZA(),E.qZA()),2&e&&(E.Q6J("dialogResult",t.selected)("header",t.header)("SubmitDisabled",0===t.selected.length)("description",t.description),E.xp6(1),E.Q6J("nodes",E.lcZ(2,6,t.ngLinks$))("selected",t.selected))},directives:[Wi,ho],pipes:[i.Ov],styles:['[_nghost-%COMP%]     .show-placeholder .p-inputtext:after{color:#98a2ae;font-size:11px;content:"The choosen NG link(s) will appear here after selection"}']}),e})(),Ko=(()=>{class e{constructor(){this.FILTERED_BY_STATE=Bi.k.Locked}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-ng-link-unlock"]],decls:1,vars:1,consts:[["header","Unlock NG Link(s)","description","NG link(s) to be unlocked:",3,"filteredByState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-ng-links-operation-dialog",0),2&e&&E.Q6J("filteredByState",t.FILTERED_BY_STATE)},directives:[zo],encapsulation:2}),e})(),Xo=(()=>{class e{constructor(){this.FILTERED_BY_STATE=Bi.k.Unlocked}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-ng-link-lock"]],decls:1,vars:1,consts:[["header","Lock NG Link(s)","description","NG link(s) to be locked:",3,"filteredByState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-ng-links-operation-dialog",0),2&e&&E.Q6J("filteredByState",t.FILTERED_BY_STATE)},directives:[zo],encapsulation:2}),e})();var es=n(60456),ts=n(70428),ns=n(21040),is=n(94766);let os=(()=>{class e{constructor(e){this.store=e,this.selected=[]}ngOnInit(){this.networkSlicings$=this.store.pipe((0,c.Ys)(ts.We),(0,U.U)(e=>e.filter(e=>e.administrativeState===this.filteredByState)),(0,U.U)(e=>(0,ns.f)(e,is.C.BY_SNSSAI_ID).map(this.toNetworkSlicing.bind(this)))),this.store.dispatch((0,es.UO)())}ngOnDestroy(){this.store.dispatch((0,es.Ke)())}toNetworkSlicing(e){return{fullName:`SNSSAI-${e.snssaiId}`,type:"NETWORK_SLICING",hasChildren:!1,name:`SNSSAI-${e.snssaiId}`,isExpanded:!1,id:e.snssaiId}}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-network-slicing-operation-dialog"]],inputs:{header:"header",filteredByState:"filteredByState",description:"description"},decls:3,vars:8,consts:[[3,"dialogResult","header","SubmitDisabled","description"],["operationNodeType","NETWORK_SLICING",3,"nodes","selected","selectedChange"]],template:function(e,t){1&e&&(E.TgZ(0,"dashboard-operation-dialog",0),E.TgZ(1,"dashboard-tree-chips-panel",1),E.NdJ("selectedChange",function(e){return t.selected=e}),E.ALo(2,"async"),E.qZA(),E.qZA()),2&e&&(E.Q6J("dialogResult",t.selected)("header",t.header)("SubmitDisabled",0===t.selected.length)("description",t.description),E.xp6(1),E.Q6J("nodes",E.lcZ(2,6,t.networkSlicings$))("selected",t.selected))},directives:[Wi,ho],pipes:[i.Ov],styles:['[_nghost-%COMP%]     .show-placeholder .p-inputtext:after{color:#98a2ae;font-size:11px;content:"The choosen network slicing will appear here after selection"}']}),e})(),ss=(()=>{class e{constructor(){this.FILTERED_BY_STATE=Bi.k.Locked}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-network-slicing-unlock"]],decls:1,vars:1,consts:[["header","Unlock network slicing","description","Network slicing to be unlocked:",3,"filteredByState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-network-slicing-operation-dialog",0),2&e&&E.Q6J("filteredByState",t.FILTERED_BY_STATE)},directives:[os],encapsulation:2}),e})(),as=(()=>{class e{constructor(){this.FILTERED_BY_STATE=Bi.k.Unlocked}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-network-slicing-lock"]],decls:1,vars:1,consts:[["header","Lock network slicing","description","Network slicing to be locked:",3,"filteredByState"]],template:function(e,t){1&e&&E._UZ(0,"dashboard-network-slicing-operation-dialog",0),2&e&&E.Q6J("filteredByState",t.FILTERED_BY_STATE)},directives:[os],encapsulation:2}),e})();var rs=n(91757);let ls=(()=>{class e{transform(e){return e?e.saveOngoing?On.Wwb.ONGOING:!1===e.currentPlanAvailability?On.Wwb.DISABLED:On.Wwb.ENABLED:On.Wwb.DISABLED}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=E.Yjl({name:"saveConfigurationStateMapper",type:e,pure:!0}),e})();function cs(e,t){1&e&&E._uU(0,"Operations")}function ds(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"ui-webem-operations-control-panel",2),E.NdJ("resetCuClicked",function(){return E.CHM(e),E.oxw().onResetCuClicked()})("saveConfigurationClicked",function(){return E.CHM(e),E.oxw().onSaveConfigurationClicked()})("duLockClicked",function(){return E.CHM(e),E.oxw().onDuLockClicked()})("duLockOpenClicked",function(){return E.CHM(e),E.oxw().onDuLockOpenClicked()})("cellsLockClicked",function(){return E.CHM(e),E.oxw().onCellsLockClicked()})("cellsLockOpenClicked",function(){return E.CHM(e),E.oxw().onCellsLockOpenClicked()})("cellGroupsLockClicked",function(){return E.CHM(e),E.oxw().onCellsGroupsLock()})("cellGroupsLockOpenClicked",function(){return E.CHM(e),E.oxw().onCellsGroupsUnlock()})("x2LinksLockClicked",function(){return E.CHM(e),E.oxw().onX2LinksLock()})("x2LinksLockOpenClicked",function(){return E.CHM(e),E.oxw().onX2LinksUnlock()})("xnLinksLockClicked",function(){return E.CHM(e),E.oxw().onXnLinksLock()})("xnLinksLockOpenClicked",function(){return E.CHM(e),E.oxw().onXnLinksUnlock()})("ngLinksLockClicked",function(){return E.CHM(e),E.oxw().onNgLinksLock()})("ngLinksLockOpenClicked",function(){return E.CHM(e),E.oxw().onNgLinksUnlock()})("networkSlicingLockClicked",function(){return E.CHM(e),E.oxw().onNetworkSlicingLock()})("networkSlicingLockOpenClicked",function(){return E.CHM(e),E.oxw().onNetworkSlicingUnlock()}),E.ALo(1,"async"),E.ALo(2,"saveConfigurationStateMapper"),E.ALo(3,"async"),E.qZA()}if(2&e){const e=E.oxw();E.Q6J("cuResetState",E.lcZ(1,2,e.cuResetState$))("saveConfigurationState",E.lcZ(2,4,E.lcZ(3,6,e.saveConfigurationState$)))}}const us={width:"723px",height:"449px",contentStyle:{margin:0,padding:0},closable:!1,showHeader:!1,styleClass:"du-operations-panel"};let ps=(()=>{class e{constructor(e,t,n){this.store=e,this.dialogService=t,this.confirmationService=n}ngOnInit(){this.cuResetState$=this.store.pipe((0,c.Ys)($i.t2)),this.saveConfigurationState$=this.store.pipe((0,c.Ys)(To.UW)),this.store.dispatch((0,_o.Nu)())}ngOnDestroy(){this.store.dispatch((0,_o.zC)()),this.ref&&this.ref.close&&this.ref.close()}onResetCuClicked(){this.confirmationService.confirm({header:"Reset CU",message:"You are about to reset CU gNB\n\n Do you want to proceed?",key:"dashboard confirmation dialog",acceptLabel:"OK",rejectLabel:"Cancel",icon:Io.Wf,accept:()=>{this.store.dispatch((0,qi.XE)())}})}onSaveConfigurationClicked(){this.store.dispatch((0,_o.h3)())}openDialog(e,t){this.ref=this.dialogService.open(e,us),this.ref.onClose.pipe((0,G.q)(1)).subscribe((...e)=>{t(...e)})}onDuLockClicked(){this.openDialog(fo,e=>{e&&e.length&&this.store.dispatch((0,Vi.OI)({duIds:e.map(e=>e.id)}))})}onDuLockOpenClicked(){this.openDialog(bo,e=>{e&&e.length&&this.store.dispatch((0,Vi._E)({duIds:e.map(e=>e.id)}))})}onCellsLockClicked(){this.openDialog(Po,e=>{e&&e.length&&this.store.dispatch((0,vo.H4)({cellIds:e.map(e=>e.cellId)}))})}onCellsLockOpenClicked(){this.openDialog(Oo,e=>{e&&e.length&&this.store.dispatch((0,vo.iH)({cellIds:e.map(e=>e.cellId)}))})}onCellsGroupsLock(){this.openDialog(wo,e=>{this.dispatchCellsGroupsOperation(vo.bW,e)})}onCellsGroupsUnlock(){this.openDialog(Ao,e=>{this.dispatchCellsGroupsOperation(vo.Qi,e)})}dispatchCellsGroupsOperation(e,t){t&&this.store.dispatch(e({cellGroupIds:t.map(({cellGroupId:e})=>e)}))}onX2LinksLock(){this.openDialog(Uo,e=>{e&&e.length&&this.store.dispatch((0,Eo.Wq)({x2LinkIds:e.map(e=>e.id)}))})}onX2LinksUnlock(){this.openDialog(Ro,e=>{e&&e.length&&this.store.dispatch((0,Eo._x)({x2LinkIds:e.map(e=>e.id)}))})}onXnLinksLock(){this.openDialog(Yo,e=>{e&&e.length&&this.store.dispatch((0,Fo.X8)({xnLinkIds:e.map(e=>e.id)}))})}onXnLinksUnlock(){this.openDialog(Vo,e=>{e&&e.length&&this.store.dispatch((0,Fo.Yl)({xnLinkIds:e.map(e=>e.id)}))})}onNgLinksLock(){this.openDialog(Xo,e=>{e&&e.length&&this.store.dispatch((0,Jo.yG)({servedAmfIds:e.map(e=>e.id)}))})}onNgLinksUnlock(){this.openDialog(Ko,e=>{e&&e.length&&this.store.dispatch((0,Jo.eG)({servedAmfIds:e.map(e=>e.id)}))})}onNetworkSlicingLock(){this.openDialog(as,e=>{e&&e.length&&this.store.dispatch((0,es.kN)({snssaiIds:e.map(e=>e.id)}))})}onNetworkSlicingUnlock(){this.openDialog(ss,e=>{e&&e.length&&this.store.dispatch((0,es.CZ)({snssaiIds:e.map(e=>e.id)}))})}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh),E.Y36(Ji.xA),E.Y36(to.YP))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-operations"]],decls:5,vars:0,consts:[["title",""],["content",""],[3,"cuResetState","saveConfigurationState","resetCuClicked","saveConfigurationClicked","duLockClicked","duLockOpenClicked","cellsLockClicked","cellsLockOpenClicked","cellGroupsLockClicked","cellGroupsLockOpenClicked","x2LinksLockClicked","x2LinksLockOpenClicked","xnLinksLockClicked","xnLinksLockOpenClicked","ngLinksLockClicked","ngLinksLockOpenClicked","networkSlicingLockClicked","networkSlicingLockOpenClicked"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-rich-panel"),E.YNc(1,cs,1,0,"ng-template",null,0,E.W1O),E.YNc(3,ds,4,8,"ng-template",null,1,E.W1O),E.qZA())},directives:[Ae.d,rs.W],pipes:[i.Ov,ls],styles:[""]}),e})();var gs=n(90818),hs=n(33405),ms=n(44364),fs=n(88767);let bs=(()=>{class e{constructor(e){this.store=e,this.pmMeasurements=[],this.selectedTreeNodes=[],this.selectionChange=new E.vpe,this.filterChange=new E.vpe}ngOnInit(){}onSelectionChange(e){this.selectionChange.emit(e)}onFilterChange(e){this.filterChange.emit(e)}onImportSelectionToaster(e){this.store.dispatch((0,ms.wN)(e))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-counter-selection-tree"]],viewQuery:function(e,t){if(1&e&&E.Gf(On.Djn,7),2&e){let e;E.iGM(e=E.CRH())&&(t.uiWebemPmTree=e.first)}},inputs:{pmMeasurements:"pmMeasurements",selectedTreeNodes:"selectedTreeNodes",filter:"filter"},outputs:{selectionChange:"selectionChange",filterChange:"filterChange"},decls:1,vars:4,consts:[[3,"selectedCounters","pmMeasurements","hideTreePanel","filter","filterChange","selectionChange","importSelectionToaster"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-pm-tree",0),E.NdJ("filterChange",function(e){return t.onFilterChange(e)})("selectionChange",function(e){return t.onSelectionChange(e)})("importSelectionToaster",function(e){return t.onImportSelectionToaster(e)}),E.qZA()),2&e&&E.Q6J("selectedCounters",t.selectedTreeNodes)("pmMeasurements",t.pmMeasurements)("hideTreePanel",!1)("filter",t.filter)},directives:[fs.D],styles:[""]}),e})();var Cs=n(95522),vs=n(87376);function ys(e,t){return e.filter(e=>t.find(t=>t.counterId===e.id))}function Ss(e,t,n){return(0,a.isEmpty)(e)||!n?Object.assign(Object.assign({},e),t):(Object.keys(t).forEach(n=>{let i=t[n]||[];e.hasOwnProperty(n)&&(i=(0,vs.Sc)(e[n],t[n])),e=Object.assign(Object.assign({},e),{[`${n}`]:i})}),e)}function Ps(e,t){return t&&new Cs.ou(e).getTime()>new Cs.ou(t).getTime()?1:-1}const Os="countersDashboardPmV2",xs=(0,di.H)({selectId:e=>e.key}),ws=(0,di.H)(),As=xs.getInitialState({latestEtag:void 0,values:{},countersInfo:ws.getInitialState()}),_s={key:"",selectedCounterNodes:[],timeFrame:6,counterStartTime:""},Ts=(0,c.Lq)(As,(0,c.on)(g,(e,{key:t})=>xs.addOne(Object.assign(Object.assign({},_s),{key:t}),e)),(0,c.on)(h,(e,{key:t,counterNodes:n,timeFrame:i,counterStartTime:o})=>xs.updateOne({id:t,changes:{selectedCounterNodes:n,timeFrame:i,counterStartTime:o}},e)),(0,c.on)(v,(e,{values:t,etag:n,isOldRequest:i})=>Object.assign(Object.assign({},e),{latestEtag:n,values:Ss(e.values,t,i)})),(0,c.on)(S,(e,{countersInfo:t})=>Object.assign(Object.assign({},e),{countersInfo:ws.upsertMany(t,e.countersInfo)})),(0,c.on)(w,(e,{etag:t})=>Object.assign(Object.assign({},e),{latestEtag:t})));function Is(e,t){return Ts(e,t)}const Es=(0,c.ZF)(Os),Ms=(0,c.P1)(Es,xs.getSelectors().selectAll),ks=()=>(0,c.P1)(Es,xs.getSelectors().selectEntities),Ns=()=>(0,c.P1)(ks(),(e,{key:t})=>e[t]),Ls=(0,c.P1)(Es,e=>e.values),Ds=(0,c.P1)(Es,e=>e.countersInfo),Zs=(0,c.P1)(Es,e=>e.latestEtag),Rs=(0,c.P1)(ks(),(e,{key:t})=>e[t]&&e[t].selectedCounterNodes||[]),Us=(0,c.P1)(ks(),(e,{key:t})=>e[t]&&e[t].counterStartTime||""),Fs=((0,c.P1)(ks(),(e,{key:t})=>e[t]&&e[t].timeFrame),(0,c.P1)(Ms,e=>{const t=(0,a.flatten)(e.map(e=>e.selectedCounterNodes));return(0,a.uniqBy)(t,e=>`${e.counterId}:${e.dimensionDistName}`)||[]})),js=(0,c.P1)(Ms,e=>e.map(e=>e.counterStartTime).sort(Ps)[0]),$s=(e=1)=>[`rgba(18, 65, 145, ${e})`,`rgba(0, 201, 255, ${e})`,`rgba(255, 204, 0, ${e})`,`rgba(152, 162, 174, ${e})`,`rgba(61, 170, 0, ${e})`,`rgba(255, 139, 16, ${e})`,`rgba(39, 49, 66, ${e})`,`rgba(0, 132, 169, ${e})`,`rgba(255, 49, 84, ${e})`,`rgba(0, 240, 77, ${e})`,`rgba(255, 173, 187, ${e})`,`rgba(158, 72, 14, ${e})`,`rgba(190, 200, 210, ${e})`,`rgba(6, 191, 169, ${e})`,`rgba(190, 0, 6, ${e})`,`rgba(192, 192, 0, ${e})`,`rgba(64, 126, 231, ${e})`,`rgba(152, 77, 255, ${e})`];var qs=n(27713);const Bs="#1B1B1B",Gs="Nokia Pure",Vs={elements:{line:{borderWidth:1,fill:!1},point:{radius:1}},plugins:{datalabels:{display:!1}},maintainAspectRatio:!1,responsive:!0,hover:{mode:"nearest"},tooltips:{enabled:!0,backgroundColor:"#FFFFFF",titleFontFamily:Gs,titleFontColor:"#4D5766",titleFontSize:12,bodyFontColor:Bs,bodyFontFamily:Gs,bodyFontSize:11},animation:{duration:0},legend:{display:!1},scales:{xAxes:[{type:"time",time:{unit:"minute",displayFormats:{minute:qs.E.ChartDateTime},tooltipFormat:qs.E.ChartDateTime},ticks:{autoSkip:!0,fontSize:9,maxRotation:0,fontColor:Bs,padding:0,fontFamily:Gs,maxTicksLimit:4}}],yAxes:[{display:!0,ticks:{padding:0,autoSkip:!0,fontColor:Bs,fontSize:9,fontFamily:Gs,maxTicksLimit:5}}]}};var Ys=n(82653);let Js=(()=>{class e{constructor(){this.PALETTE_LENGTH=$s().length,this.PALETTE_OPACITY_DECREASE_STEP=.4,this.data=[],this.legendLabels=[],this.dataSetConfig=[],this.chartOptions=Vs}ngOnInit(){}ngOnChanges(e){e.legendLabels&&(this.dataSetConfig=this.legendLabels.map((e,t)=>({label:e,borderColor:this.getDataSetColor(t),backgroundColor:this.getDataSetColor(t),pointHitRadius:20,lineTension:.2})))}getDataSetColor(e){const t=e%this.PALETTE_LENGTH,n=Math.floor(e/(this.PALETTE_LENGTH||1));return $s(1-n*this.PALETTE_OPACITY_DECREASE_STEP)[t]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-counter-chart"]],inputs:{data:"data",legendLabels:"legendLabels"},features:[E.TTD],decls:1,vars:4,consts:[[3,"dataSetConfigs","data","options","maxItems"]],template:function(e,t){1&e&&E._UZ(0,"ui-webem-line-chart",0),2&e&&E.Q6J("dataSetConfigs",t.dataSetConfig)("data",t.data)("options",t.chartOptions)("maxItems",2)},directives:[Ys.D],styles:["[_nghost-%COMP%]{display:grid;grid-auto-flow:row;grid-template-rows:minmax(0,1fr);grid-template-columns:minmax(0,1fr);height:100%}"],changeDetection:0}),e})();var Hs=n(96080);let Ws=(()=>{class e{transform(e){return!e||(0,a.isEmpty)(e.values)?{data:[],legendLabels:[]}:{data:this.mapToWebemChartData(e),legendLabels:this.mapLegendLabels(e)}}mapToWebemChartData(e){return e.selectedCounterNodes.map(t=>{var n;const i=null===(n=e.values[(0,On.iZG)(t)])||void 0===n?void 0:n.filter(t=>this.isValueYoungerThanRequested(t,e));return i?{data:i.map(e=>({t:(0,Hs.Q)(e.startTime),y:e.value})).sort((e,t)=>(0,Dn.compareAsc)(e.t,t.t))}:{data:[]}})}mapLegendLabels(e){return e.selectedCounterNodes.map(t=>{const n=this.getObjectIdFromDimensionDN(t.dimensionDistName),i=e.countersInfo&&e.countersInfo.find(e=>e.id===t.counterId);return`${n}/${t.measurementAbbreviation}/${t.counterId} (${i?i.abbreviation:"-"})`})}getObjectIdFromDimensionDN(e){return e.split("/")[0]}isValueYoungerThanRequested(e,t){return new Cs.ou((0,Hs.K)(e.startTime)).getTime()>=new Cs.ou(t.counterStartTime).getTime()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=E.Yjl({name:"counterValuesMapperPmV2",type:e,pure:!0}),e})();const Qs=["overlayPanel"];function zs(e,t){1&e&&E._uU(0,"Counters - PM")}function Ks(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"ui-webem-button",6),E.NdJ("action",function(){E.CHM(e);const t=E.oxw().ngIf;return E.oxw().openCountersDialog(t.selectedCounterNodes,t.timeFrame)}),E.qZA()}if(2&e){const e=E.oxw(2);E.Q6J("model",e.openSelectionButtonModel)}}function Xs(e,t){if(1&e&&E._UZ(0,"dashboard-counter-chart",9),2&e){const e=t.ngIf;E.Q6J("data",e.data)("legendLabels",e.legendLabels)}}function ea(e,t){if(1&e&&(E.ynx(0),E.YNc(1,Xs,1,2,"dashboard-counter-chart",8),E.ALo(2,"counterValuesMapperPmV2"),E.BQk()),2&e){const e=E.oxw(2).ngIf;E.xp6(1),E.Q6J("ngIf",E.lcZ(2,1,e))}}function ta(e,t){if(1&e&&E.YNc(0,ea,3,3,"ng-container",7),2&e){const e=E.oxw().ngIf;E.oxw();const t=E.MAs(3);E.Q6J("ngIf",e.selectedCounterNodes&&e.selectedCounterNodes.length>0)("ngIfElse",t)}}function na(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"ui-webem-rich-panel",2),E.NdJ("beforeRedirect",function(){return E.CHM(e),E.oxw().redirectPmCounter()}),E.YNc(1,zs,1,0,"ng-template",null,3,E.W1O),E.YNc(3,Ks,1,1,"ng-template",null,4,E.W1O),E.YNc(5,ta,1,2,"ng-template",null,5,E.W1O),E.qZA()}if(2&e){const e=E.oxw();E.Q6J("redirectLink",e.REDIRECT_LINK)}}function ia(e,t){if(1&e&&(E.TgZ(0,"div",10),E.TgZ(1,"span",11),E._UZ(2,"i",12),E.qZA(),E.TgZ(3,"span"),E._uU(4,' No counters selected. Choose counters via "Select counters" button above\xa0('),E._UZ(5,"i",13),E._uU(6,") "),E.qZA(),E.qZA()),2&e){const e=E.oxw();E.xp6(5),E.Q6J("ngClass",e.openSelectionButtonModel.icon?e.openSelectionButtonModel.icon:"")}}let oa=(()=>{class e{constructor(e){this.store=e,this.openSelectionButtonModel={icon:"mdi mdi-format-list-checks",title:"Select counters",theme:On.bnJ.Secondary,thickness:On.NOb.Thin},this.REDIRECT_LINK=xe.r.performance,this.ngUnsubscribe=new l.xQ}ngOnInit(){this.store.dispatch(g({key:this.key})),this.countersPanel$=(0,Bn.aj)([this.store.pipe((0,c.Ys)((0,c.P1)(Ns(),Ls,(0,c.P1)(Ds,ws.getSelectors().selectAll),(e,t,n)=>{if(e)return Object.assign(Object.assign({},e),{values:t,countersInfo:ys(n,e.selectedCounterNodes)})}),{key:this.key}),(0,Z.h)(e=>!!e))]).pipe((0,U.U)(([e])=>Object.assign({},e)))}openCountersDialog(e,t){this.store.dispatch((0,gs.U)({counters:e,timeFrame:t,onSubmit:this.onCountersDialogClose.bind(this),maxCountersLimit:hs.K}))}onCountersDialogClose(e,t,n){this.setStore(e,t,n)}setStore(e,t,n){this.store.dispatch(h({counterNodes:e,key:this.key,timeFrame:n,counterStartTime:t})),this.store.dispatch(w({etag:void 0})),this.store.dispatch(C({key:this.key})),this.store.dispatch(y({key:this.key}))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}redirectPmCounter(){this.store.pipe((0,c.Ys)(Ns(),{key:this.key}),(0,Z.h)(e=>!!e),(0,d.R)(this.ngUnsubscribe)).subscribe(e=>{e&&!r().isEmpty(e.selectedCounterNodes)&&(this.store.dispatch((0,Yn.zb)()),this.store.dispatch((0,Yn.w0)({nodes:e.selectedCounterNodes,counterStartTime:e.counterStartTime,timeFrame:e.timeFrame})))})}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-counters"]],viewQuery:function(e,t){if(1&e&&(E.Gf(Qs,5),E.Gf(bs,5)),2&e){let e;E.iGM(e=E.CRH())&&(t.overlayPanel=e.first),E.iGM(e=E.CRH())&&(t.counterSelectionTree=e.first)}},inputs:{key:"key"},decls:4,vars:3,consts:[[3,"redirectLink","beforeRedirect",4,"ngIf"],["noCounters",""],[3,"redirectLink","beforeRedirect"],["title",""],["operations",""],["content",""],["uiWebemStopPropagation","",1,"open-selection-button",3,"model","action"],[4,"ngIf","ngIfElse"],[3,"data","legendLabels",4,"ngIf"],[3,"data","legendLabels"],[1,"no-counters-selected-wrapper"],[1,"validation-icon"],[1,"no-counters-icon","mdi","mdi-information"],[3,"ngClass"]],template:function(e,t){1&e&&(E.YNc(0,na,7,1,"ui-webem-rich-panel",0),E.ALo(1,"async"),E.YNc(2,ia,7,1,"ng-template",null,1,E.W1O)),2&e&&E.Q6J("ngIf",E.lcZ(1,1,t.countersPanel$))},directives:[i.O5,Ae.d,Hn.r,Wn._,Js,i.mk],pipes:[i.Ov,Ws],styles:[".no-counters-selected-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;place-content:center;grid-template-columns:min-content 70%;align-items:start;grid-column-gap:5px;column-gap:5px}.no-counters-selected-wrapper[_ngcontent-%COMP%]   .no-counters-icon[_ngcontent-%COMP%]{font-size:26px;color:#98a2ae}.no-counters-selected-wrapper[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:#98a2ae}  body .counter-selection-overlay-panel .ui-overlaypanel-content{height:50vh;min-height:450px;min-width:365px;overflow:auto}"]}),e})();var sa=n(39950),aa=n(53898),ra=n(17113),la=n(1429);function ca(e,t,n){function i(){return this.dep=ra.d.Dependency,this.inTest=ra.d.InTest,this.powerOff=ra.d.PowerOff,this.offLine=ra.d.OffLine,this.offDuty=ra.d.OffDuty,this.notInstalled=ra.d.NotInstalled,this.onLine=ra.d.OnLine,this.degraded=ra.d.Degraded,this.logFull=ra.d.LogFull,this.failed=ra.d.Failed,{dep:"1",inTest:"1",powerOff:"2",offLine:"2",offDuty:"2",notInstalled:"2",onLine:"2",degraded:"3",logFull:"3",failed:"4"}}return e.sort((e,o)=>{let s=e[t],a=o[t],r=null;return"severity"===t?(s=(0,la.PJ)(e.alarms||[]),a=(0,la.PJ)(o.alarms||[]),r=function(e,t){const n={warning:"1",minor:"2",major:"3",critical:"4"};return n[e]?n[t]?n[e].localeCompare(n[t]):1:-1}(s,a),n*r):"availabilityStatus"===t?(r=function(e,t){const n=new i;return n[e]?n[t]?n[e].localeCompare(n[t]):1:-1}(s,a),n*r):(r=s?s.localeCompare(a):0,n*r)})}var da=n(33431),ua=n(52504),pa=n(62039),ga=n(58220);let ha=(()=>{class e{transform(e,t,n){return!e||t<0||n<0?[]:0===n?e:e.slice(t*n,(t+1)*n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=E.Yjl({name:"filterByPage",type:e,pure:!0}),e})(),ma=(()=>{class e{transform(e){let t="",n=1;if(!e||!e.length)return[];const i=function(e){const t=sessionStorage.getItem("vmsTableState");return t?JSON.parse(t):null}();return t=i?i.sortField:t,n=i?i.sortOrder:n,ca(e,t,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=E.Yjl({name:"sortByFieldAndOrder",type:e,pure:!0}),e})();var fa=n(55644),ba=n(58373),Ca=n(96393);function va(e,t){1&e&&(E.TgZ(0,"th",12),E._uU(1," Hostname"),E._UZ(2,"p-sortIcon",7),E.qZA()),2&e&&(E.xp6(2),E.Q6J("field","hostname"))}function ya(e,t){1&e&&(E.TgZ(0,"th",13),E._uU(1," ID "),E._UZ(2,"p-sortIcon",7),E.qZA()),2&e&&(E.xp6(2),E.Q6J("field","instance"))}function Sa(e,t){if(1&e&&(E.TgZ(0,"tr"),E.TgZ(1,"th",6),E._uU(2),E._UZ(3,"p-sortIcon",7),E.qZA(),E.YNc(4,va,3,1,"th",8),E.YNc(5,ya,3,1,"th",9),E.TgZ(6,"th",10),E._uU(7,"State"),E._UZ(8,"p-sortIcon",7),E.qZA(),E.TgZ(9,"th",11),E._uU(10,"Alarms"),E._UZ(11,"p-sortIcon",7),E.qZA(),E.qZA()),2&e){const e=E.oxw(2);E.xp6(2),E.Oqu("vmCu"===e.vnfcType?"VNFC":"POD"),E.xp6(1),E.Q6J("field","name"),E.xp6(1),E.Q6J("ngIf","vmCu"===e.vnfcType),E.xp6(1),E.Q6J("ngIf","vmCu"!==e.vnfcType),E.xp6(3),E.Q6J("field","availabilityStatus"),E.xp6(3),E.Q6J("field","severity")}}function Pa(e,t){if(1&e&&(E.TgZ(0,"td"),E._uU(1),E.ALo(2,"nullableValue"),E.qZA()),2&e){const e=E.oxw().$implicit;E.xp6(1),E.Oqu(E.lcZ(2,1,e.hostname))}}function Oa(e,t){if(1&e&&(E.TgZ(0,"td"),E._uU(1),E.qZA()),2&e){const e=E.oxw().$implicit;E.xp6(1),E.Oqu(e.instance)}}function xa(e,t){if(1&e&&E._UZ(0,"ui-webem-status-icon",22),2&e){const e=t.ngIf;E.Q6J("type",e.type)("title",e.title)}}function wa(e,t){if(1&e&&(E.TgZ(0,"span"),E._uU(1),E.qZA()),2&e){const e=E.oxw(3);E.xp6(1),E.Oqu(e.NO_DATA_TEXT)}}function Aa(e,t){if(1&e&&(E._UZ(0,"ui-webem-raised-alarms",24),E.ALo(1,"toActiveAlarms")),2&e){const e=E.oxw().ngIf,t=E.oxw().$implicit;E.Q6J("alarms",E.lcZ(1,2,t.alarms))("alarmSeverityType",e)}}function _a(e,t){if(1&e&&(E.ynx(0),E.TgZ(1,"span"),E.YNc(2,Aa,2,4,"ui-webem-raised-alarms",23),E.qZA(),E.BQk()),2&e){const e=t.ngIf;E.xp6(2),E.Q6J("ngIf",e)}}function Ta(e,t){1&e&&E._UZ(0,"span",25)}const Ia=function(){return[]};function Ea(e,t){if(1&e&&(E.TgZ(0,"tr",14),E.TgZ(1,"td"),E._uU(2),E.ALo(3,"nullableValue"),E.qZA(),E.YNc(4,Pa,3,3,"td",15),E.YNc(5,Oa,2,1,"td",15),E.TgZ(6,"td",16),E.YNc(7,xa,1,2,"ui-webem-status-icon",17),E.ALo(8,"mapAvailabilityStatus"),E.YNc(9,wa,2,1,"ng-template",null,18,E.W1O),E.qZA(),E.TgZ(11,"td",19),E.YNc(12,_a,3,1,"ng-container",20),E.ALo(13,"findSeverity"),E.YNc(14,Ta,1,0,"ng-template",null,21,E.W1O),E.qZA(),E.qZA()),2&e){const e=t.$implicit,n=E.MAs(10),i=E.MAs(15),o=E.oxw(2);E.Q6J("pSelectableRow",e),E.xp6(2),E.Oqu(E.lcZ(3,8,e.name)),E.xp6(2),E.Q6J("ngIf","vmCu"===o.vnfcType),E.xp6(1),E.Q6J("ngIf","vmCu"!==o.vnfcType),E.xp6(2),E.Q6J("ngIf",E.lcZ(8,10,e.availabilityStatus))("ngIfElse",n),E.xp6(5),E.Q6J("ngIf",E.lcZ(13,12,e.alarms||E.DdM(14,Ia)))("ngIfElse",i)}}function Ma(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"ui-webem-table-pagination",26),E.NdJ("PageChange",function(t){return E.CHM(e),E.oxw(2).onPageChange(t)}),E.ALo(1,"async"),E.qZA()}if(2&e){const e=E.oxw().ngIf,t=E.oxw();E.Q6J("itemsPerPage",t.itemsPerPage)("totalNumberOfItems",E.lcZ(1,3,t.totalNumberOfVMs$))("pageNumber",e.activePage)}}function ka(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"div",1),E.TgZ(1,"p-table",2),E.NdJ("sortFunction",function(t){return E.CHM(e),E.oxw().customSort(t)}),E.ALo(2,"filterByPage"),E.ALo(3,"sortByFieldAndOrder"),E.YNc(4,Sa,12,6,"ng-template",3),E.YNc(5,Ea,16,15,"ng-template",4),E.qZA(),E.YNc(6,Ma,2,5,"ui-webem-table-pagination",5),E.qZA()}if(2&e){const e=t.ngIf,n=E.oxw();E.xp6(1),E.Q6J("resizableColumns",!0)("customSort",!0)("rows",n.itemsPerPage)("value",E.Dn7(2,6,E.lcZ(3,10,n.vms),e.activePage-1,n.itemsPerPage))("rowTrackBy",n.rowTrackBy),E.xp6(5),E.Q6J("ngIf",n.vms)}}const Na=function(e){return{activePage:e}};let La=(()=>{class e{constructor(e){this.store=e,this.NO_DATA_TEXT=Do.v,this.rowTrackBy=(e,t)=>t.id}onPageChange(e){this.store.dispatch((0,aa.oO)({payload:e}))}ngOnInit(){this.activePage$=this.store.pipe((0,c.Ys)(sa.UR))}customSort(e){e.data=this.vms,ca(e.data,e.field,e.order),this.vms=[...e.data]}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-vm-summary-table"]],inputs:{vms:"vms",itemsPerPage:"itemsPerPage",totalNumberOfVMs$:"totalNumberOfVMs$",vnfcType:"vnfcType"},decls:2,vars:5,consts:[["class","table-with-pagination-shadow-wrapper",4,"ngIf"],[1,"table-with-pagination-shadow-wrapper"],["dataKey","id","stateStorage","session","stateKey","vmsTableState",1,"vm-summary-table",3,"resizableColumns","customSort","rows","value","rowTrackBy","sortFunction"],["pTemplate","header"],["pTemplate","body"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange",4,"ngIf"],["pResizableColumn","","pSortableColumn","name",1,"vm-name-column"],[3,"field"],["class","vm-hostname-column","pResizableColumn","","pSortableColumn","hostname",4,"ngIf"],["class","pod-id","pResizableColumn","","pSortableColumn","instance",4,"ngIf"],["pResizableColumnDisabled","","pSortableColumn","availabilityStatus",1,"vm-state-column"],["pResizableColumnDisabled","","pSortableColumn","severity",1,"vm-alarms-column"],["pResizableColumn","","pSortableColumn","hostname",1,"vm-hostname-column"],["pResizableColumn","","pSortableColumn","instance",1,"pod-id"],[3,"pSelectableRow"],[4,"ngIf"],[1,"state"],[3,"type","title",4,"ngIf","ngIfElse"],["noStatusAvailable",""],[1,"alarms"],[4,"ngIf","ngIfElse"],["noAlarmsAvailable",""],[3,"type","title"],[3,"alarms","alarmSeverityType",4,"ngIf"],[3,"alarms","alarmSeverityType"],[1,"no-alarms"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange"]],template:function(e,t){1&e&&(E.YNc(0,ka,7,12,"div",0),E.ALo(1,"async")),2&e&&E.Q6J("ngIf",E.VKq(3,Na,E.lcZ(1,1,t.activePage$)))},directives:[i.O5,da.iA,to.jx,da.Q7,da.lQ,da.fz,da.Ei,ua.m,pa.V,ga.Q],pipes:[i.Ov,ha,ma,Do.c,fa.I,ba.P,Ca.G],styles:["[_nghost-%COMP%]     .vm-summary-table .p-datatable{height:189px;background:#fff}[_nghost-%COMP%]     .vm-summary-table .p-datatable .p-datatable-wrapper{border-bottom:1px solid #bec8d2}[_nghost-%COMP%]     .vm-summary-table .p-datatable .p-datatable-wrapper>table{table-layout:auto}[_nghost-%COMP%]     .vm-summary-table .p-datatable .p-datatable-tbody>tr:focus{outline:none}[_nghost-%COMP%]     .vm-summary-table .p-datatable .p-datatable-tbody>tr>td.state{--status-icon-font-size:13px;text-align:center;padding-top:2px;border-bottom:none;border-left:none;border-right:none}[_nghost-%COMP%]     .vm-summary-table .p-datatable .p-datatable-tbody>tr>td.state>*{vertical-align:middle}[_nghost-%COMP%]     .vm-summary-table .p-datatable .p-datatable-tbody>tr>td.state .availability-state{padding-right:3px}[_nghost-%COMP%]     .vm-summary-table .p-datatable .p-datatable-tbody>tr>td{line-height:18px;text-overflow:ellipsis;overflow:hidden;padding-left:8px;padding-right:8px;font-size:11px}[_nghost-%COMP%]     .vm-summary-table{white-space:nowrap}[_nghost-%COMP%]     .vm-summary-table .vm-name-column{width:160px}[_nghost-%COMP%]     .vm-summary-table .vm-hostname-column{width:calc(100% - 280px)}[_nghost-%COMP%]     .vm-summary-table .vm-state-column{width:55px}[_nghost-%COMP%]     .vm-summary-table .vm-alarms-column{width:65px}[_nghost-%COMP%]     .vm-summary-table .p-datatable .p-datatable-tbody>tr>td.alarms{padding-top:5px;text-align:center}"]}),e})();function Da(e,t){if(1&e&&E._uU(0),2&e){const e=E.oxw();E.hij(" ","vDu"===e.vnfcType?"Infrastructure Status":"VNFC Status","")}}function Za(e,t){if(1&e&&(E.ynx(0),E._UZ(1,"dashboard-vm-summary-table",5),E.ALo(2,"async"),E.BQk()),2&e){const e=E.oxw(2);E.xp6(1),E.Q6J("itemsPerPage",E.lcZ(2,4,e.itemsPerPage$))("totalNumberOfVMs$",e.totalNumberOfVMs$)("vnfcType",e.vnfcType)("vms",e.vms)}}function Ra(e,t){if(1&e&&E.YNc(0,Za,3,6,"ng-container",4),2&e){const e=E.oxw(),t=E.MAs(6);E.Q6J("ngIf",e.vms&&0!==e.vms.length)("ngIfElse",t)}}function Ua(e,t){1&e&&E._UZ(0,"ui-webem-no-selected-message",6)}let Fa=(()=>{class e{constructor(e){this.store=e,this.dataLoaded=!1,this.ngUnsubscribe=new l.xQ}ngOnInit(){this.store.dispatch((0,aa.Co)()),this.itemsPerPage$=this.store.pipe((0,c.Ys)(sa.p9)),this.totalNumberOfVMs$=this.store.pipe((0,c.Ys)(sa.j8)),this.store.select(sa.q9).subscribe(e=>{this.vnfcType=e,this.routerLink="vDu"===this.vnfcType?xe.r.infrastructureStatus:xe.r.vnfcStatus}),this.store.pipe((0,c.Ys)(sa.UN),(0,d.R)(this.ngUnsubscribe)).subscribe(e=>{this.dataLoaded=!0,this.vms=e})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch((0,aa.NT)())}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(c.yh))},e.\u0275cmp=E.Xpm({type:e,selectors:[["dashboard-vnfc-status"]],decls:7,vars:2,consts:[[3,"loading","redirectLink"],["title",""],["content",""],["noVms",""],[4,"ngIf","ngIfElse"],[3,"itemsPerPage","totalNumberOfVMs$","vnfcType","vms"],["message","No VMs to display",1,"dashboard-tables"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-rich-panel",0),E.YNc(1,Da,1,1,"ng-template",null,1,E.W1O),E.YNc(3,Ra,1,2,"ng-template",null,2,E.W1O),E.qZA(),E.YNc(5,Ua,1,0,"ng-template",null,3,E.W1O)),2&e&&E.Q6J("loading",!t.dataLoaded)("redirectLink",t.routerLink)},directives:[Ae.d,i.O5,La,Di.G],pipes:[i.Ov],styles:[""]}),e})();function ja(e,t){1&e&&E._UZ(0,"dashboard-du-status-summary")}function $a(e,t){1&e&&E._UZ(0,"dashboard-cells-status-summary")}function qa(e,t){1&e&&E._UZ(0,"dashboard-x2-status-summary")}function Ba(e,t){1&e&&E._UZ(0,"dashboard-xn-status-summary")}function Ga(e,t){1&e&&E._UZ(0,"dashboard-ng-status-summary")}function Va(e,t){1&e&&E._UZ(0,"dashboard-network-slicing-summary")}function Ya(e,t){1&e&&E._UZ(0,"dashboard-statistics")}function Ja(e,t){1&e&&E._UZ(0,"dashboard-alarms")}function Ha(e,t){1&e&&E._UZ(0,"dashboard-operations")}function Wa(e,t){1&e&&E._UZ(0,"dashboard-counters",9),2&e&&E.uIk("data-counter-id","counter-pm-0")}function Qa(e,t){1&e&&E._UZ(0,"dashboard-counters",10),2&e&&E.uIk("data-counter-id","counter-pm-1")}function za(e,t){1&e&&E._UZ(0,"dashboard-counters",11),2&e&&E.uIk("data-counter-id","counter-pm-2")}function Ka(e,t){1&e&&E._UZ(0,"dashboard-counters",12),2&e&&E.uIk("data-counter-id","counter-pm-3")}function Xa(e,t){1&e&&E._UZ(0,"dashboard-vnfc-status")}function er(e,t){if(1&e&&(E.TgZ(0,"div",3),E.YNc(1,ja,1,0,"dashboard-du-status-summary",4),E.YNc(2,$a,1,0,"dashboard-cells-status-summary",4),E.YNc(3,qa,1,0,"dashboard-x2-status-summary",4),E.YNc(4,Ba,1,0,"dashboard-xn-status-summary",4),E.YNc(5,Ga,1,0,"dashboard-ng-status-summary",4),E.YNc(6,Va,1,0,"dashboard-network-slicing-summary",4),E.YNc(7,Ya,1,0,"dashboard-statistics",4),E.YNc(8,Ja,1,0,"dashboard-alarms",4),E.YNc(9,Ha,1,0,"dashboard-operations",4),E.YNc(10,Wa,1,1,"dashboard-counters",5),E.YNc(11,Qa,1,1,"dashboard-counters",6),E.YNc(12,za,1,1,"dashboard-counters",7),E.YNc(13,Ka,1,1,"dashboard-counters",8),E.YNc(14,Xa,1,0,"dashboard-vnfc-status",4),E.qZA()),2&e){const e=E.oxw().$implicit;E.Q6J("ngSwitch",e.type),E.xp6(1),E.Q6J("ngSwitchCase","dus-status-summary"),E.xp6(1),E.Q6J("ngSwitchCase","cells-status-summary"),E.xp6(1),E.Q6J("ngSwitchCase","x2-status-summary"),E.xp6(1),E.Q6J("ngSwitchCase","xn-status-summary"),E.xp6(1),E.Q6J("ngSwitchCase","ng-status-summary"),E.xp6(1),E.Q6J("ngSwitchCase","network-slicing"),E.xp6(1),E.Q6J("ngSwitchCase","statistics"),E.xp6(1),E.Q6J("ngSwitchCase","alarms"),E.xp6(1),E.Q6J("ngSwitchCase","operations"),E.xp6(1),E.Q6J("ngSwitchCase","counters1"),E.xp6(1),E.Q6J("ngSwitchCase","counters2"),E.xp6(1),E.Q6J("ngSwitchCase","counters3"),E.xp6(1),E.Q6J("ngSwitchCase","counters4"),E.xp6(1),E.Q6J("ngSwitchCase","vnfc-status")}}function tr(e,t){if(1&e&&E.YNc(0,er,15,15,"div",2),2&e){const e=E.oxw();E.Q6J("ngIf",e.gridster)}}let nr=class{constructor(e,t){this.store=e,this.vnfcSharedService=t,this.ngUnsubscribe=new l.xQ}refreshDashboard(){const e=this.getLayoutSettingsItem(this.getDashboardUiSettings());this.dashboard=(0,a.cloneDeep)(e)}ngOnInit(){this.store.dispatch(m())}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(f())}onGridInitialize(e){this.gridster=e,this.store.pipe((0,d.R)(this.ngUnsubscribe),(0,c.Ys)(_.P5),(0,u.T)(1)).subscribe(()=>{this.refreshDashboard(),this.gridster.reload()}),this.refreshDashboard()}onItemChange({item:e,event:t}){const n=this.dashboard.find(t=>t.type===e.type);n&&t.item&&(n.x=t.item.getValueX(),n.y=t.item.getValueY(),n.xXl=e.xXl,n.yXl=e.yXl),this.saveLayoutSettingsItem(this.dashboard)}getDashboardUiSettings(){return(this.vnfcSharedService.isVcu()?T.Te:T.CQ).layoutConfig}};nr.\u0275fac=function(e){return new(e||nr)(E.Y36(c.yh),E.Y36(I.Z9))},nr.\u0275cmp=E.Xpm({type:nr,selectors:[["cu-dashboard"]],decls:3,vars:2,consts:[[3,"widgetTemplate","dashboard","gridInitialize","itemChange"],["widgetTemplate",""],["class","dashboard-container",3,"ngSwitch",4,"ngIf"],[1,"dashboard-container",3,"ngSwitch"],[4,"ngSwitchCase"],["key","counters1",4,"ngSwitchCase"],["key","counters2",4,"ngSwitchCase"],["key","counters3",4,"ngSwitchCase"],["key","counters4",4,"ngSwitchCase"],["key","counters1"],["key","counters2"],["key","counters3"],["key","counters4"]],template:function(e,t){if(1&e&&(E.TgZ(0,"dashboard-container",0),E.NdJ("gridInitialize",function(e){return t.onGridInitialize(e)})("itemChange",function(e){return t.onItemChange(e)}),E.qZA(),E.YNc(1,tr,1,1,"ng-template",null,1,E.W1O)),2&e){const e=E.MAs(2);E.Q6J("widgetTemplate",e)("dashboard",t.dashboard)}},directives:[de,i.O5,i.RF,i.n9,Ze,nt,St,Ft,on,Pn,li,ji,ps,oa,Fa],styles:["[_nghost-%COMP%]{background-color:#edf2f5;display:block;height:100%}.dashboard-container[_ngcontent-%COMP%]{background-color:#edf2f5;display:block;height:100%;padding:10px;transition:opacity .1s ease-in}"]}),nr=(0,s.gn)([(0,A.W)({name:"dashboard"}),(0,s.w6)("design:paramtypes",[c.yh,I.Z9])],nr);const ir=[{path:"",component:nr,outlet:"content_center"}];let or=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E.oAB({type:e}),e.\u0275inj=E.cJS({imports:[[o.Bz.forChild(ir)],o.Bz]}),e})();var sr=n(17513),ar=n(33637),rr=n(87479),lr=n(5304),cr=n(19773),dr=n(94612),ur=n(2413),pr=n(89651),gr=n(73835);let hr=(()=>{class e{constructor(e,t,n){this.pollingService=e,this.actions$=t,this.statusService=n,this.unsubscribeCellsSummaryWatch$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fe)),{dispatch:!1}),this.cellsSummaryRequest$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)($e),(0,rr.z)(()=>this.statusService.getCuCellsSummary().pipe((0,U.U)(e=>qe({payload:e})),(0,lr.K)(e=>gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(je(e))))))),this.subscribeCellsSummaryWatch$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)(Ue),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.unsubscribeCellsSummaryWatch$),(0,U.U)(()=>$e()))))),this.cellsSummaryError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(je),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Cells Status Summary",detail:"Failed to retrieve new data"}})])))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(pr.x),E.LFG(sr.eX),E.LFG(ur.Bj))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})();var mr=n(57057),fr=n(21907);let br=(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.actions$=t,this.fmService=n,this.statusService=i,this.pollingService=o,this.FIRST_PAGE=1,this.DashboardUnsubscribeAlarmsWatch$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(ui.UnsubscribeAlarmsWatch)),{dispatch:!1}),this.DashboardUnubscribeAlarmsSummaryWatch$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(ui.DashboardUnubscribeAlarmsSummaryWatch)),{dispatch:!1}),this.AlarmsSummaryRequest$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(ui.AlarmsSummaryRequest),(0,rr.z)(()=>this.statusService.getActiveAlarmsSummary().pipe((0,U.U)(e=>new Si(e)),(0,lr.K)(e=>gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(new Pi(e))))))),this.AlarmsSummaryError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(ui.DashboardAlarmsSummaryRequestError),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Alarms Summary",detail:"Failed to retrieve new data"}})]))),this.AlarmsError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(ui.SubscribeAlarmsError),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Alarms",detail:"Failed to retrieve new data"}})]))),this.DashboardSubscribeAlarmsSummaryWatch$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)(ui.DashboardSubscribeAlarmsSummaryWatch),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.DashboardUnubscribeAlarmsSummaryWatch$),(0,U.U)(()=>new yi))))),this.DashboardAlarmsRequest$=(0,sr.GW)(()=>({scheduler:e=ar.P,debounce:t=100}={})=>this.actions$.pipe((0,sr.l4)(ui.AlarmsRequest),(0,D.b)(t,e),(0,mr.M)(this.store.pipe((0,c.Ys)(Ti))),(0,U.U)(([,{pageSettings:e,itemsPerPage:t}])=>({pageSettings:e,itemsPerPage:t})),(0,rr.z)(({pageSettings:e,itemsPerPage:t})=>this.fmService.getActiveAlarms(this.mapLazyLoadEventToApiInput(e,t)).pipe((0,U.U)(e=>new pi(e)),(0,lr.K)(e=>gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(new bi(e))))))),this.DashboardSubscribeAlarmsWatch$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)(ui.SubscribeAlarmsWatch),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.DashboardUnsubscribeAlarmsWatch$),(0,U.U)(()=>new fi)))))}mapLazyLoadEventToApiInput(e,t){return{sortedBy:e.sortField,sortOrder:1===e.sortOrder?"asc":"desc",pageNumber:e.first||this.FIRST_PAGE,itemsPerPage:t,filterByText:""}}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(c.yh),E.LFG(sr.eX),E.LFG(fr.SH),E.LFG(fr.Bj),E.LFG(pr.x))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})();var Cr=(()=>(function(e){e.SubscribeWatch="[vDU Cells Summary] Subscribe to vDU cells status summary watch",e.UnsubscribeWatch="[vDU Cells Summary] Unsubscribe from vDU cells status summary watch",e.SubscribeError="[vDU Cells Summary] vDU Cells status summary watch error",e.Request="[vDU Cells Summary] vDU Cells status summary request",e.Set="[vDU Cells Summary] Set vDU cells status summary"}(Cr||(Cr={})),Cr))();const vr=(0,c.PH)(Cr.SubscribeWatch),yr=(0,c.PH)(Cr.UnsubscribeWatch),Sr=(0,c.PH)(Cr.SubscribeError,(0,c.Ky)()),Pr=(0,c.PH)(Cr.Request),Or=(0,c.PH)(Cr.Set,(0,c.Ky)()),xr=(0,c.Lq)({vduCellsSummary:{availabilityOther:0,vduCellsTotal:0,availabilityStatus:{[ra.d.InTest]:0,[ra.d.Failed]:0,[ra.d.PowerOff]:0,[ra.d.OffLine]:0,[ra.d.OffDuty]:0,[ra.d.Dependency]:0,[ra.d.Degraded]:0,[ra.d.NotInstalled]:0,[ra.d.LogFull]:0,[ra.d.OnLine]:0},basicCellsSummary:{administrativeState:{locked:0,unlocked:0,"shutting down":0},operationalState:{enabled:0,disabled:0}}}},(0,c.on)(Or,(e,{payload:t})=>{const n=Object.values(t.basicCellsSummary.administrativeState).reduce((e,t)=>e+t),i=t.availabilityStatus[ra.d.InTest]+t.availabilityStatus[ra.d.PowerOff]+t.availabilityStatus[ra.d.OffDuty]+t.availabilityStatus[ra.d.NotInstalled]+t.availabilityStatus[ra.d.LogFull];return Object.assign(Object.assign({},e),{vduCellsSummary:Object.assign(Object.assign({},t),{vduCellsTotal:n,availabilityOther:i})})}));function wr(e,t){return xr(e,t)}var Ar=(()=>(function(e){e.SubscribeWatch="[Rmods Summary] Subscribe to vDU rmods summary watch",e.UnsubscribeWatch="[Rmods Summary] Unsubscribe from rmods status summary watch",e.SubscribeError="[Rmods Summary] Rmods status summary watch error",e.Request="[Rmods Summary] Rmods status summary request",e.Set="[Rmods Summary] Set rmods status summary"}(Ar||(Ar={})),Ar))();const _r=(0,c.PH)(Ar.SubscribeWatch),Tr=(0,c.PH)(Ar.UnsubscribeWatch),Ir=(0,c.PH)(Ar.SubscribeError,(0,c.Ky)()),Er=(0,c.PH)(Ar.Request),Mr=(0,c.PH)(Ar.Set,(0,c.Ky)()),kr=(0,c.Lq)({rmodsSummary:{availabilityOther:0,rmodsTotal:0,availabilityStatus:{[ra.d.InTest]:0,[ra.d.Failed]:0,[ra.d.PowerOff]:0,[ra.d.OffLine]:0,[ra.d.OffDuty]:0,[ra.d.Dependency]:0,[ra.d.Degraded]:0,[ra.d.NotInstalled]:0,[ra.d.LogFull]:0,[ra.d.OnLine]:0},administrativeState:{locked:0,unlocked:0},operationalState:{enabled:0,disabled:0}}},(0,c.on)(Mr,(e,{payload:t})=>{const n=Object.values(t.operationalState).reduce((e,t)=>e+t),i=t.availabilityStatus[ra.d.InTest]+t.availabilityStatus[ra.d.PowerOff]+t.availabilityStatus[ra.d.OffDuty]+t.availabilityStatus[ra.d.Dependency]+t.availabilityStatus[ra.d.LogFull];return Object.assign(Object.assign({},e),{rmodsSummary:Object.assign(Object.assign({},t),{rmodsTotal:n,availabilityOther:i})})}));function Nr(e,t){return kr(e,t)}var Lr=n(28061),Dr=n(69484),Zr=n(46763),Rr=n(72634);let Ur=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E.oAB({type:e}),e.\u0275inj=E.cJS({imports:[[i.ez,da.U$,On._Qj,On.Xn,Lr.L,Dr.p,Zr.U,On.hZC,Yi.oS,Rr.z]]}),e})(),Fr=(()=>{class e{constructor(e,t,n){this.pollingService=e,this.actions$=t,this.statusService=n,this.unsubscribeDusSummaryWatch$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(fe)),{dispatch:!1}),this.dusSummaryRequest$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Ce),(0,rr.z)(()=>this.statusService.getDusSummary().pipe((0,U.U)(e=>ve({payload:e})),(0,lr.K)(e=>gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(be(e))))))),this.dusSummaryError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(be),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"DUs Status Summary",detail:"Failed to retrieve new data"}})]))),this.subscribeDusSummaryWatch$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)(me),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.unsubscribeDusSummaryWatch$),(0,U.U)(()=>Ce())))))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(pr.x),E.LFG(sr.eX),E.LFG(ur.Bj))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})();var jr=n(19846),$r=n(35758),qr=n(41838),Br=n(3402),Gr=n(72389),Vr=n(63388);let Yr=(()=>{class e{constructor(e,t,n,i){this.pollingService=e,this.actions$=t,this.store=n,this.pmV2Api=i,this.stopPollingCountersValues$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(f)),{dispatch:!1}),this.startPollingCountersValues$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(m),(0,cr.zg)(()=>this.pollingService.getTimer(ar.P).pipe((0,d.R)(this.stopPollingCountersValues$),(0,U.U)(b))))),this.requestCountersValues$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(b),(0,mr.M)(this.store.select(Fs),this.store.select(Zs),this.store.select(js)),this.getDataFromPmService())),this.requestCountersValuesForInstance$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(C),(0,cr.zg)(({key:e})=>(0,k.of)(e).pipe((0,mr.M)(this.store.select(Rs,{key:e}),this.store.select(Zs),this.store.select(Us,{key:e})))),this.getDataFromPmService())),this.requestCountersInfoForInstance$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(y),(0,cr.zg)(({key:e})=>(0,k.of)(e).pipe((0,mr.M)(this.store.pipe((0,c.Ys)(Rs,{key:e}))),(0,dr.b)(([,e])=>{const t=(0,a.chain)(e).map(e=>e.counterId).uniq().value().map(e=>this.pmV2Api.getCounterInfo({counterId:e}));return(0,$r.D)(t).pipe((0,U.U)(e=>S({countersInfo:e})),(0,lr.K)(()=>(0,k.of)(x())))}))))),this.countersInfoError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(x),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Counters info",detail:"Failed to retrieve new data"}})]))),this.countersValuesError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(P),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Counters values",detail:"Failed to retrieve new data"}})])))}getDataFromPmService(){return e=>e.pipe((0,rr.z)(([,e,t,n])=>{if(!e.length)return(0,k.of)(v({values:{},etag:void 0}));const i=e.map(On.iZG);return this.pmV2Api.getCounterMultipleValues$Response({counter:i,startTimeLowerLimit:n,"If-None-Match":t}).pipe((0,cr.zg)(e=>{const n=(0,vs.WX)(e.body),i=(0,Gr.z)(e);return[v({values:n,etag:i,isOldRequest:!!t}),(0,Vr.qo)()]}),(0,lr.K)(e=>304===e.status?(0,k.of)(O()):gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(P())))}))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(qr.xj),E.LFG(sr.eX),E.LFG(c.yh),E.LFG(Br.m))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})();var Jr=n(60203);let Hr=(()=>{class e{constructor(e,t,n){this.pollingService=e,this.actions$=t,this.statusService=n,this.unsubscribeX2LinksSummaryWatch$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(st)),{dispatch:!1}),this.X2LinksSummaryRequest$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(rt),(0,rr.z)(()=>this.statusService.getX2LinksSummary().pipe((0,U.U)(e=>lt({payload:e})),(0,lr.K)(e=>gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(at(e))))))),this.X2LinksSummaryError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(at),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"X2 Links Status Summary",detail:"Failed to retrieve new data"}})]))),this.subscribeX2LinksSummaryWatch$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)(ot),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.unsubscribeX2LinksSummaryWatch$),(0,U.U)(()=>rt())))))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(pr.x),E.LFG(sr.eX),E.LFG(ur.Bj))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})(),Wr=(()=>{class e{constructor(e,t,n){this.pollingService=e,this.actions$=t,this.statusService=n,this.unsubscribeXnLinksSummaryWatch$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(xt)),{dispatch:!1}),this.xnLinksSummaryRequest$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(At),(0,rr.z)(()=>this.statusService.getXnLinksSummary().pipe((0,U.U)(e=>_t({payload:e})),(0,lr.K)(e=>gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(wt(e))))))),this.xnLinksSummaryError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(wt),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Xn Links Status Summary",detail:"Failed to retrieve new data"}})]))),this.subscribeXnLinksSummaryWatch$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)(Ot),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.unsubscribeXnLinksSummaryWatch$),(0,U.U)(()=>At())))))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(pr.x),E.LFG(sr.eX),E.LFG(ur.Bj))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})(),Qr=(()=>{class e{constructor(e,t,n){this.pollingService=e,this.actions$=t,this.statusService=n,this.unsubscribeNgLinksSummaryWatch$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(qt)),{dispatch:!1}),this.ngLinksSummaryRequest$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Gt),(0,rr.z)(()=>this.statusService.getNgLinksSummary().pipe((0,U.U)(e=>Vt({payload:e})),(0,lr.K)(e=>gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(Bt(e))))))),this.ngLinksSummaryError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Bt),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Ng Links Status Summary",detail:"Failed to retrieve new data"}})]))),this.subscribeNgLinksSummaryWatch$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)($t),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.unsubscribeNgLinksSummaryWatch$),(0,U.U)(()=>Gt())))))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(pr.x),E.LFG(sr.eX),E.LFG(ur.Bj))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})(),zr=(()=>{class e{constructor(e,t,n){this.pollingService=e,this.actions$=t,this.statusService=n,this.unsubscribeNetworkSlicingWatch$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(rn)),{dispatch:!1}),this.networkSlicingRequest$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(cn),(0,rr.z)(()=>this.statusService.getNetworkSlicingSummary().pipe((0,U.U)(e=>dn({payload:e})),(0,lr.K)(e=>gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(ln(e))))))),this.networkSlicingError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(ln),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Network Slicing Status",detail:"Failed to retrieve new data"}})]))),this.subscribeNetworkSlicingWatch$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)(an),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.unsubscribeNetworkSlicingWatch$),(0,U.U)(()=>cn())))))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(pr.x),E.LFG(sr.eX),E.LFG(ur.Bj))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})(),Kr=(()=>{class e{constructor(e,t,n){this.pollingService=e,this.actions$=t,this.statusService=n,this.unsubscribeVduCellsSummaryWatch$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(yr)),{dispatch:!1}),this.vduCellsSummaryRequest$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Pr),(0,rr.z)(()=>this.statusService.getVduCellsSummary().pipe((0,U.U)(e=>Or({payload:e})),(0,lr.K)(e=>gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(Sr(e))))))),this.vduCellsSummaryError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Sr),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Cells Status Summary",detail:"Failed to retrieve new data"}})]))),this.subscribeVduCellsSummaryWatch$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)(vr),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.unsubscribeVduCellsSummaryWatch$),(0,U.U)(()=>Pr())))))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(pr.x),E.LFG(sr.eX),E.LFG(ur.Bj))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})(),Xr=(()=>{class e{constructor(e,t,n){this.pollingService=e,this.actions$=t,this.statusService=n,this.unsubscribeRmodsSummaryWatch$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Tr)),{dispatch:!1}),this.rmodsSummaryRequest$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Er),(0,rr.z)(()=>this.statusService.getRmodsSummary().pipe((0,U.U)(e=>Mr({payload:e})),(0,lr.K)(e=>gr.a.isConnectionError(e)?(console.warn(e),(0,k.of)()):(0,k.of)(Ir(e))))))),this.rmodsSummaryError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Ir),(0,dr.b)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Radio Modules Status Summary",detail:"Failed to retrieve new data"}})]))),this.subscribeRmodsSummaryWatch$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)(_r),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.unsubscribeRmodsSummaryWatch$),(0,U.U)(()=>Er())))))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(pr.x),E.LFG(sr.eX),E.LFG(ur.Bj))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})();var el=n(79882),tl=n(17525),nl=n(39477),il=n(42347),ol=n(94537),sl=n(79495),al=n(96736),rl=n(2822);let ll=(()=>{class e{constructor(e,t,n,i,o){this.actions$=e,this.pollingService=t,this.statusService=n,this.logger=i,this.store=o,this.xnLinkRequestError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.gi),(0,cr.zg)(()=>[(0,ms.wN)({payload:{severity:"error",summary:"Updating Xn links list failed"}}),(0,Fo.Ad)()]))),this.stopXnLinksPolling$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.D2)),{dispatch:!1}),this.startXnLinksPolling$=(0,sr.GW)((e=ar.P)=>this.actions$.pipe((0,sr.l4)(Fo.v),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.stopXnLinksPolling$),(0,al.h)((0,Fo.d2)()))))),this.xnLinksRequest$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.d2),(0,mr.M)(this.store.select($o.Fx)),(0,rr.z)(([,e])=>(e!==ol.E3.updateVersion?this.statusService.getXnLinksDiff({oldRevision:e}):this.statusService.getXnLinksDiff()).pipe((0,U.U)(e=>(0,Fo.c)({payload:e})),(0,lr.K)(e=>(this.logger.warn(e),gr.a.isConnectionError(e)?(0,k.of)():(0,k.of)((0,Fo.gi)())))))))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(sr.eX),E.LFG(qr.xj),E.LFG(ur.Bj),E.LFG(rl.Kf),E.LFG(c.yh))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})();var cl=n(77267);const dl="Xn link lock",ul="XNLINK-",pl="Xn link unlock",gl=e=>({payload:{severity:"info",summary:dl,detail:(0,cl.R)(e,"lock operation started",ul)}}),hl=e=>({payload:{severity:"error",summary:dl,detail:(0,cl.R)(e,"lock operation failed",ul)}}),ml=e=>({payload:{severity:"info",summary:pl,detail:(0,cl.R)(e,"unlock operation started",ul)}}),fl=e=>({payload:{severity:"error",summary:pl,detail:(0,cl.R)(e,"unlock operation failed",ul)}});var bl=n(28649),Cl=n(6546);let vl=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.logger=t,this.pollingService=n,this.statusService=i,this.lockXnLinkHttpError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.mH),(0,dr.b)(({additionalData:{xnLinkIds:e}})=>[(0,ms.wN)(hl(e)),(0,Cl.R)()]))),this.lockXnLinkSuccess$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.$1),(0,dr.b)(({additionalData:{xnLinkIds:e}})=>{return[(0,ms.wN)((t=e,{payload:{severity:"success",summary:dl,detail:(0,cl.R)(t,"lock operation finished",ul)}})),(0,Cl.R)()];var t}))),this.lockXnLinkFailed$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.nY),(0,dr.b)(({additionalData:{xnLinkIds:e}})=>[(0,ms.wN)(hl(e)),(0,Cl.R)()]))),this.lockXnLinks$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.X8),(0,cr.zg)(({xnLinkIds:e})=>this.executeLock(e,!0).pipe((0,lr.K)(e=>(this.logger.warn(e),(0,k.of)((0,Fo.EK)({error:e})))))))),this.lockXnLinksStarted$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.X8),(0,dr.b)(({xnLinkIds:e})=>[(0,ms.wN)(gl(e)),(0,Cl.h)()]))),this.lockXnLinkStarted$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.VA),(0,dr.b)(({xnLinkId:e})=>[(0,ms.wN)(gl([e])),(0,Cl.h)()]))),this.lockXnLink$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.VA),(0,cr.zg)(({xnLinkId:e})=>this.executeLock([e],!0).pipe((0,lr.K)(e=>(this.logger.warn(e),(0,k.of)((0,Fo.EK)({error:e})))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.lockXnLinks({body:e}),this.executeLock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getOperationState({operationId:e,type:bl.C.LockUnlock}),additionalData:{xnLinkIds:e},onActionSuccess:t?Fo.$1:void 0,onActionFailure:Fo.nY,onActionError:Fo.mH,onActionOngoing:Fo.lo})}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(sr.eX),E.LFG(rl.Kf),E.LFG(pr.x),E.LFG(ur.Bj))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})(),yl=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.logger=t,this.pollingService=n,this.statusService=i,this.unlockXnLinkHttpError$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.Lw),(0,dr.b)(({additionalData:{xnLinkIds:e}})=>[(0,ms.wN)(fl(e)),(0,Cl.R)()]))),this.unlockXnLinkSuccess$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.Qw),(0,dr.b)(({additionalData:{xnLinkIds:e}})=>{return[(0,ms.wN)((t=e,{payload:{severity:"success",summary:pl,detail:(0,cl.R)(t,"unlock operation finished",ul)}})),(0,Cl.R)()];var t}))),this.unlockXnLinkFailed$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.W2),(0,dr.b)(({additionalData:{xnLinkIds:e}})=>[(0,ms.wN)(fl(e)),(0,Cl.R)()]))),this.unlockXnLinks$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.Yl),(0,cr.zg)(({xnLinkIds:e})=>this.executeUnlock(e,!0).pipe((0,lr.K)(e=>(this.logger.warn(e),(0,k.of)((0,Fo.EK)({error:e})))))))),this.unlockXnLinksStarted$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.Yl),(0,dr.b)(({xnLinkIds:e})=>[(0,ms.wN)(ml(e)),(0,Cl.h)()]))),this.unlockXnLinkStarted$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.t2),(0,dr.b)(({xnLinkId:e})=>[(0,ms.wN)(ml([e])),(0,Cl.h)()]))),this.unlockXnLink$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(Fo.t2),(0,cr.zg)(({xnLinkId:e})=>this.executeUnlock([e],!0).pipe((0,lr.K)(e=>(this.logger.warn(e),(0,k.of)((0,Fo.EK)({error:e})))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.unlockXnLinks({body:e}),this.executeUnlock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getOperationState({operationId:e,type:bl.C.LockUnlock}),additionalData:{xnLinkIds:e},onActionSuccess:t?Fo.Qw:void 0,onActionFailure:Fo.W2,onActionError:Fo.Lw,onActionOngoing:Fo.w3})}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(sr.eX),E.LFG(rl.Kf),E.LFG(pr.x),E.LFG(ur.Bj))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})();var Sl=n(98795);let Pl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E.oAB({type:e}),e.\u0275inj=E.cJS({imports:[[i.ez,Sl.d,c.Aw.forFeature(sl.v,{xnLinksState:ol.I6}),sr.sQ.forFeature([ll,vl,yl])]]}),e})();var Ol=n(20130),xl=n(64521),wl=n(20667),Al=n(46424),_l=n(50632),Tl=n(74940),Il=n(66198),El=n(4207),Ml=n(11818),kl=n(16988),Nl=n(19309);const Ll=["headerchkbox"];function Dl(e,t){1&e&&E.GkF(0)}function Zl(e,t){if(1&e&&(E.TgZ(0,"div",6),E.Hsn(1),E.YNc(2,Dl,1,0,"ng-container",7),E.qZA()),2&e){const e=E.oxw();E.xp6(2),E.Q6J("ngTemplateOutlet",e.headerTemplate)}}const Rl=function(e){return{"p-checkbox-disabled":e}},Ul=function(e,t,n){return{"p-highlight":e,"p-focus":t,"p-disabled":n}},Fl=function(e){return{"pi pi-check":e}};function jl(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"div",10),E.TgZ(1,"div",11),E.TgZ(2,"input",12),E.NdJ("focus",function(){return E.CHM(e),E.oxw(2).onHeaderCheckboxFocus()})("blur",function(){return E.CHM(e),E.oxw(2).onHeaderCheckboxBlur()})("keydown.space",function(t){return E.CHM(e),E.oxw(2).toggleAll(t)}),E.qZA(),E.qZA(),E.TgZ(3,"div",13,14),E.NdJ("click",function(t){return E.CHM(e),E.oxw(2).toggleAll(t)}),E._UZ(5,"span",15),E.qZA(),E.qZA()}if(2&e){const e=E.oxw(2);E.Q6J("ngClass",E.VKq(5,Rl,e.disabled||e.toggleAllDisabled)),E.xp6(2),E.Q6J("checked",e.allChecked),E.uIk("disabled",e.disabled||e.toggleAllDisabled),E.xp6(1),E.Q6J("ngClass",E.kEZ(7,Ul,e.allChecked,e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),E.xp6(2),E.Q6J("ngClass",E.VKq(11,Fl,e.allChecked))}}function $l(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"div",16),E.TgZ(1,"input",17),E.NdJ("input",function(t){return E.CHM(e),E.oxw(2).onFilter(t)}),E.qZA(),E._UZ(2,"span",18),E.qZA()}if(2&e){const e=E.oxw(2);E.xp6(1),E.Q6J("value",e.filterValue||"")("disabled",e.disabled),E.uIk("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)}}function ql(e,t){if(1&e&&(E.TgZ(0,"div",6),E.YNc(1,jl,6,13,"div",8),E.YNc(2,$l,3,4,"div",9),E.qZA()),2&e){const e=E.oxw();E.xp6(1),E.Q6J("ngIf",e.checkbox&&e.multiple&&e.showToggleAll),E.xp6(1),E.Q6J("ngIf",e.filter)}}function Bl(e,t){if(1&e&&(E.TgZ(0,"span"),E._uU(1),E.qZA()),2&e){const e=E.oxw().$implicit,t=E.oxw(2);E.xp6(1),E.Oqu(t.getOptionGroupLabel(e)||"empty")}}function Gl(e,t){1&e&&E.GkF(0)}function Vl(e,t){1&e&&E.GkF(0)}const Yl=function(e){return{$implicit:e}};function Jl(e,t){if(1&e&&(E.TgZ(0,"li",20),E.YNc(1,Bl,2,1,"span",3),E.YNc(2,Gl,1,0,"ng-container",21),E.qZA(),E.YNc(3,Vl,1,0,"ng-container",21)),2&e){const e=t.$implicit,n=E.oxw(2),i=E.MAs(8);E.xp6(1),E.Q6J("ngIf",!n.groupTemplate),E.xp6(1),E.Q6J("ngTemplateOutlet",n.groupTemplate)("ngTemplateOutletContext",E.VKq(5,Yl,e)),E.xp6(1),E.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",E.VKq(7,Yl,n.getOptionGroupChildren(e)))}}function Hl(e,t){if(1&e&&(E.ynx(0),E.YNc(1,Jl,4,9,"ng-template",19),E.BQk()),2&e){const e=E.oxw();E.xp6(1),E.Q6J("ngForOf",e.optionsToRender)}}function Wl(e,t){1&e&&E.GkF(0)}function Ql(e,t){if(1&e&&(E.ynx(0),E.YNc(1,Wl,1,0,"ng-container",21),E.BQk()),2&e){const e=E.oxw(),t=E.MAs(8);E.xp6(1),E.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",E.VKq(2,Yl,e.optionsToRender))}}const zl=function(e){return{"p-highlight":e}};function Kl(e,t){if(1&e&&(E.TgZ(0,"div",10),E.TgZ(1,"div",25),E._UZ(2,"span",15),E.qZA(),E.qZA()),2&e){const e=E.oxw().$implicit,t=E.oxw(2);E.Q6J("ngClass",E.VKq(3,Rl,t.disabled||t.isOptionDisabled(e))),E.xp6(1),E.Q6J("ngClass",E.VKq(5,zl,t.isSelected(e))),E.xp6(1),E.Q6J("ngClass",E.VKq(7,Fl,t.isSelected(e)))}}function Xl(e,t){if(1&e&&(E.TgZ(0,"span"),E._uU(1),E.qZA()),2&e){const e=E.oxw().$implicit,t=E.oxw(2);E.xp6(1),E.Oqu(t.getOptionLabel(e))}}function ec(e,t){1&e&&E.GkF(0)}const tc=function(e,t){return{"p-listbox-item":!0,"p-highlight":e,"p-disabled":t}},nc=function(e,t){return{$implicit:e,index:t}};function ic(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"li",24),E.NdJ("click",function(t){const n=E.CHM(e).$implicit;return E.oxw(2).onOptionClick(t,n)})("dblclick",function(t){const n=E.CHM(e).$implicit;return E.oxw(2).onOptionDoubleClick(t,n)})("touchend",function(){const t=E.CHM(e).$implicit;return E.oxw(2).onOptionTouchEnd(t)})("keydown",function(t){const n=E.CHM(e).$implicit;return E.oxw(2).onOptionKeyDown(t,n)}),E.YNc(1,Kl,3,9,"div",8),E.YNc(2,Xl,2,1,"span",3),E.YNc(3,ec,1,0,"ng-container",21),E.qZA()}if(2&e){const e=t.$implicit,n=t.index,i=E.oxw(2);E.Q6J("ngClass",E.WLB(8,tc,i.isSelected(e),i.isOptionDisabled(e))),E.uIk("tabindex",i.disabled||i.isOptionDisabled(e)?null:"0")("aria-label",i.getOptionLabel(e))("aria-selected",i.isSelected(e)),E.xp6(1),E.Q6J("ngIf",i.checkbox&&i.multiple),E.xp6(1),E.Q6J("ngIf",!i.itemTemplate),E.xp6(1),E.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",E.WLB(11,nc,e,n))}}function oc(e,t){if(1&e&&(E.ynx(0),E._uU(1),E.BQk()),2&e){const e=E.oxw(3);E.xp6(1),E.hij(" ",e.emptyFilterMessageLabel," ")}}function sc(e,t){1&e&&E.GkF(0,null,28)}function ac(e,t){if(1&e&&(E.TgZ(0,"li",26),E.YNc(1,oc,2,1,"ng-container",27),E.YNc(2,sc,2,0,"ng-container",7),E.qZA()),2&e){const e=E.oxw(2);E.xp6(1),E.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),E.xp6(1),E.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function rc(e,t){if(1&e&&(E.ynx(0),E._uU(1),E.BQk()),2&e){const e=E.oxw(3);E.xp6(1),E.hij(" ",e.emptyMessageLabel," ")}}function lc(e,t){1&e&&E.GkF(0,null,29)}function cc(e,t){if(1&e&&(E.TgZ(0,"li",26),E.YNc(1,rc,2,1,"ng-container",27),E.YNc(2,lc,2,0,"ng-container",7),E.qZA()),2&e){const e=E.oxw(2);E.xp6(1),E.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),E.xp6(1),E.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function dc(e,t){if(1&e&&(E.YNc(0,ic,4,14,"li",22),E.YNc(1,ac,3,3,"li",23),E.YNc(2,cc,3,3,"li",23)),2&e){const e=t.$implicit,n=E.oxw();E.Q6J("ngForOf",e),E.xp6(1),E.Q6J("ngIf",n.hasFilter()&&n.isEmpty(e)),E.xp6(1),E.Q6J("ngIf",!n.hasFilter()&&n.isEmpty(e))}}function uc(e,t){1&e&&E.GkF(0)}function pc(e,t){if(1&e&&(E.TgZ(0,"div",30),E.Hsn(1,1),E.YNc(2,uc,1,0,"ng-container",7),E.qZA()),2&e){const e=E.oxw();E.xp6(2),E.Q6J("ngTemplateOutlet",e.footerTemplate)}}const gc=[[["p-header"]],[["p-footer"]]],hc=function(e){return{"p-listbox p-component":!0,"p-disabled":e}},mc=["p-header","p-footer"],fc={provide:eo.JU,useExisting:(0,E.Gpc)(()=>bc),multi:!0};let bc=(()=>{class e{constructor(e,t,n,i){this.el=e,this.cd=t,this.filterService=n,this.config=i,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new E.vpe,this.onClick=new E.vpe,this.onDblClick=new E.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(e){this._options=e,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;default:this.itemTemplate=e.template}})}getOptionLabel(e){return this.optionLabel?kl.gb.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?kl.gb.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?kl.gb.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?kl.gb.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?kl.gb.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionClick(e,t){this.disabled||this.isOptionDisabled(t)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(e,t):this.onOptionClickMultiple(e,t):this.onOptionClickSingle(e,t),this.onClick.emit({originalEvent:e,option:t,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(e){this.disabled||this.isOptionDisabled(e)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(e,t){this.disabled||this.isOptionDisabled(t)||this.readonly||this.onDblClick.emit({originalEvent:e,option:t,value:this.value})}onOptionClickSingle(e,t){let n=this.isSelected(t),i=!1;if(!this.optionTouched&&this.metaKeySelection){let o=e.metaKey||e.ctrlKey;n?o&&(this.value=null,i=!0):(this.value=this.getOptionValue(t),i=!0)}else this.value=n?null:this.getOptionValue(t),i=!0;i&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onOptionClickMultiple(e,t){let n=this.isSelected(t),i=!1;if(!this.optionTouched&&this.metaKeySelection){let o=e.metaKey||e.ctrlKey;n?(o?this.removeOption(t):this.value=[this.getOptionValue(t)],i=!0):(this.value=o&&this.value||[],this.value=[...this.value,this.getOptionValue(t)],i=!0)}else n?this.removeOption(t):this.value=[...this.value||[],this.getOptionValue(t)],i=!0;i&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onOptionClickCheckbox(e,t){this.disabled||this.readonly||(this.isSelected(t)?this.removeOption(t):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(t)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}removeOption(e){this.value=this.value.filter(t=>!kl.gb.equals(t,this.getOptionValue(e),this.dataKey))}isSelected(e){let t=!1,n=this.getOptionValue(e);if(this.multiple){if(this.value)for(let i of this.value)if(kl.gb.equals(i,n,this.dataKey)){t=!0;break}}else t=kl.gb.equals(this.value,n,this.dataKey);return t}get allChecked(){let e=this.optionsToRender;if(e&&0!==e.length){let t=0,n=0,i=0,o=this.group?0:this.optionsToRender.length;for(let s of e)if(this.group)for(let e of this.getOptionGroupChildren(s)){let s=this.isOptionDisabled(e),a=this.isSelected(e);if(s)a?t++:n++;else{if(!a)return!1;i++}o++}else{let e=this.isOptionDisabled(s),o=this.isSelected(s);if(e)o?t++:n++;else{if(!o)return!1;i++}}return o===t||o===i||i&&o===i+n+t}return!1}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(to.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(to.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(e){return!e||e&&0===e.length}onFilter(e){this._filterValue=e.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let e=(this.optionLabel||"label").split(","),t=[];for(let n of this.options){let i=this.filterService.filter(this.getOptionGroupChildren(n),e,this.filterValue,this.filterMatchMode,this.filterLocale);i&&i.length&&t.push(Object.assign(Object.assign({},n),{[this.optionGroupChildren]:i}))}this._filteredOptions=t}else this._filteredOptions=this._options.filter(e=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(e),this._filterValue,this.filterLocale));else this._filteredOptions=null}get toggleAllDisabled(){let e=this.optionsToRender;if(e&&0!==e.length){for(let t of e)if(!this.isOptionDisabled(t))return!1;return!0}return!0}toggleAll(e){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),e.preventDefault())}checkAll(){let e=[];this.optionsToRender.forEach(t=>{if(this.group){let n=this.getOptionGroupChildren(t);n&&n.forEach(t=>{let n=this.isOptionDisabled(t);(!n||n&&this.isSelected(t))&&e.push(this.getOptionValue(t))})}else{let n=this.isOptionDisabled(t);(!n||n&&this.isSelected(t))&&e.push(this.getOptionValue(t))}}),this.value=e}uncheckAll(){let e=[];this.optionsToRender.forEach(t=>{this.group?t.items&&t.items.forEach(t=>{this.isOptionDisabled(t)&&this.isSelected(t)&&e.push(this.getOptionValue(t))}):this.isOptionDisabled(t)&&this.isSelected(t)&&e.push(this.getOptionValue(t))}),this.value=e}onOptionKeyDown(e,t){if(this.readonly)return;let n=e.currentTarget;switch(e.which){case 40:var i=this.findNextItem(n);i&&i.focus(),e.preventDefault();break;case 38:var o=this.findPrevItem(n);o&&o.focus(),e.preventDefault();break;case 13:this.onOptionClick(e,t),e.preventDefault()}}findNextItem(e){let t=e.nextElementSibling;return t?Ml.p.hasClass(t,"p-disabled")||Ml.p.isHidden(t)||Ml.p.hasClass(t,"p-listbox-item-group")?this.findNextItem(t):t:null}findPrevItem(e){let t=e.previousElementSibling;return t?Ml.p.hasClass(t,"p-disabled")||Ml.p.isHidden(t)||Ml.p.hasClass(t,"p-listbox-item-group")?this.findPrevItem(t):t:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(to.iZ),E.Y36(to.b4))},e.\u0275cmp=E.Xpm({type:e,selectors:[["p-listbox"]],contentQueries:function(e,t,n){if(1&e&&(E.Suo(n,to.h4,5),E.Suo(n,to.$_,5),E.Suo(n,to.jx,4)),2&e){let e;E.iGM(e=E.CRH())&&(t.headerFacet=e.first),E.iGM(e=E.CRH())&&(t.footerFacet=e.first),E.iGM(e=E.CRH())&&(t.templates=e)}},viewQuery:function(e,t){if(1&e&&E.Gf(Ll,5),2&e){let e;E.iGM(e=E.CRH())&&(t.headerCheckboxViewChild=e.first)}},inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[E._Bn([fc])],ngContentSelectors:mc,decls:10,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox","aria-multiselectable","multiple",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["class","p-listbox-empty-message",4,"ngIf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(e,t){1&e&&(E.F$t(gc),E.TgZ(0,"div",0),E.YNc(1,Zl,3,1,"div",1),E.YNc(2,ql,3,2,"div",1),E.TgZ(3,"div",0),E.TgZ(4,"ul",2),E.YNc(5,Hl,2,1,"ng-container",3),E.YNc(6,Ql,2,4,"ng-container",3),E.YNc(7,dc,3,3,"ng-template",null,4,E.W1O),E.qZA(),E.qZA(),E.YNc(9,pc,3,1,"div",5),E.qZA()),2&e&&(E.Tol(t.styleClass),E.Q6J("ngClass",E.VKq(13,hc,t.disabled))("ngStyle",t.style),E.xp6(1),E.Q6J("ngIf",t.headerFacet||t.headerTemplate),E.xp6(1),E.Q6J("ngIf",t.checkbox&&t.multiple&&t.showToggleAll||t.filter),E.xp6(1),E.Tol(t.listStyleClass),E.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",t.listStyle),E.xp6(2),E.Q6J("ngIf",t.group),E.xp6(1),E.Q6J("ngIf",!t.group),E.xp6(3),E.Q6J("ngIf",t.footerFacet||t.footerTemplate))},directives:[i.mk,i.PC,i.O5,i.tP,i.sg,Nl.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-listbox-header,.p-listbox-item{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}"],encapsulation:2,changeDetection:0}),e})(),Cc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E.oAB({type:e}),e.\u0275inj=E.cJS({imports:[[i.ez,to.m8,Nl.T],to.m8]}),e})();var vc=n(36949),yc=n(11550),Sc=n(4241),Pc=n(94877),Oc=n(87894),xc=n(14411),wc=n(84294),Ac=n(9598),_c=n(53883),Tc=n(56123),Ic=n(32765),Ec=n(54606),Mc=n(64530),kc=n(40147);let Nc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E.oAB({type:e}),e.\u0275inj=E.cJS({providers:[Ji.xA,to.YP,Ec.y],imports:[[Cc,Qn.y,i.ez,Mc.m,Qn.y,On.Zkf,se.D,On.EJq,On.q0O,Ji.DL,Qi.xc,oe.forRoot(),no.nD,El.hJ,vc.q4,Xi.Gg,Al.w,wl.H,da.U$,On.hZC,On.Xn,Rr.z,Lr.L,Yi.oS,Zr.U,Jr.x,Dr.p,il.i,Pl,xl.z,Ol.i,yc.O,On.cbC,eo.u5,On.QGW,Ur,On.Rz1,On.SDH,On.Fme,jr.n,On._Qj,On.F8l,Io.f_,Sl.d,On.gkd,Il.G,sr.sQ.forFeature([br,Yr,hr,Kr,Xr,Fr,Hr,Wr,Qr,zr,nl.U]),c.Aw.forFeature("DashboardAlarms",Ai),c.Aw.forFeature(ye,Pe),c.Aw.forFeature(kn,Ln),c.Aw.forFeature(Be,Ve),c.Aw.forFeature("vduCellsSummary",wr),c.Aw.forFeature("rmodsSummary",Nr),c.Aw.forFeature(ct,ut),c.Aw.forFeature(Tt,Et),c.Aw.forFeature(Yt,Ht),c.Aw.forFeature(un,gn),c.Aw.forFeature(Os,Is),c.Aw.forFeature(el._,{vDUCells:tl.I6}),c.Aw.forFeature("PerformanceManagementV2",{countersInfo:Sc.u,countersValues:Pc.y,countersPmService:kc.Q,countersSelection:Oc.Bd,countersToggleTree:xc.O,countersDetails:wc.l,countersExpansion:Ac.E,countersFilter:_c.a}),sr.sQ.forFeature([Tc.O,Ic.G]),Tl.U.withSaveConfigurationNotifications(_l.S.saveConfiguration)]]}),e})();var Lc=n(64699);let Dc=(()=>{class e{constructor(e,t,n,i,o){this.pollingService=e,this.actions$=t,this.pmV2Api=n,this.store=i,this.logger=o,this.stopPollingStatistics$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(An)),{dispatch:!1}),this.requestStatistics$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(_n),(0,mr.M)(this.store.pipe(Lc.pt),this.store.select(Un)),(0,Z.h)(([e,{mrbtsId:t,id:n}])=>!(0,a.isEqual)(t,Do.v)||!(0,a.isEqual)(n,Do.v)),(0,dr.b)(([e,t,n])=>this.pmV2Api.getCounterMultipleValues$Response({counter:[this.createPeakNsaUsersCounterId(t)],"If-None-Match":n}).pipe((0,cr.zg)(e=>{const n=(0,vs.WX)(e.body),i=(0,Gr.z)(e);return[Tn({values:n[this.createPeakNsaUsersCounterId(t)],etag:i}),(0,Vr.qo)()]}),(0,lr.K)(e=>(0,k.of)(In())))))),this.startPollingStatistics$=(0,sr.GW)(()=>({scheduler:e=ar.P}={})=>this.actions$.pipe((0,sr.l4)(wn),(0,cr.zg)(()=>this.pollingService.getTimer(e).pipe((0,d.R)(this.stopPollingStatistics$),(0,U.U)(()=>_n()))))),this.fetchStatisticsCounterObjects$=(0,sr.GW)(()=>this.actions$.pipe((0,sr.l4)(En),(0,cr.zg)(()=>this.pmV2Api.getCounterObjects({counterId:"M55131C00001"}).pipe((0,U.U)(e=>Mn({statisticsDimensionDistname:e[0]})),(0,lr.K)(e=>(this.logger.warn(e),(0,k.of)((0,ms.wN)({payload:{detail:"Failed to retrieve counter objects",severity:"error",summary:"PM counters modal"}}))))))))}createPeakNsaUsersCounterId(e){return`M55131C00001:MRBTS-${e.mrbtsId}/NRBTS-${e.id}`}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(qr.xj),E.LFG(sr.eX),E.LFG(Br.m),E.LFG(c.yh),E.LFG(rl.Kf))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})(),Zc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E.oAB({type:e}),e.\u0275inj=E.cJS({imports:[[i.ez,or,Nc,oe.forRoot(),se.D,sr.sQ.forFeature([Dc])]]}),e})()},16600:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CuStatusModule:()=>fn});var i=n(12057),o=n(12021),s=n(62800),a=n(79765),r=n(64699),l=n(13653),c=n(46782),d=(n(60070),n(91323)),u=(()=>(function(e){e.Correct="correct",e.Incorrect="incorrect"}(u||(u={})),u))(),p=(()=>(function(e){e.AMF_CONNECTOR="AMF_CONNECTOR",e.PEER_VNF_CONNECTOR="PEER_VNF_CONNECTOR",e.CU_CONNECTOR="CU_CONNECTOR"}(p||(p={})),p))(),g=(()=>(function(e){e.GREEN="#3DAA00",e.GREY="#BEC8D2",e.RED="#BE0006"}(g||(g={})),g))();const h={size:1,startPlug:"disc",startPlugSize:2,endPlug:"disc",endPlugSize:2,color:g.GREY};var m=n(54618),f=n(4225),b=n(37005);const C={export:e=>e.dispatch((0,b.h3)())};var v=(()=>(function(e){e.sendDeleteDeactivateActionSignal="[Effect] sendDeleteDeactivateActionSignal",e.setDeactivateButtonOngoing="[Effect] setDeactivateButtonOngoing",e.setDeactivateButtonNotOngoing="[Effect] setDeactivateButtonNotOngoing",e.activateVnfError="[Effect] activateVnfError",e.sendDeleteActivationActionSignal="[Effect] sendDeleteActivationActionSignal",e.deactivateVnfError="[Effect] deactivateVnfError",e.StartCuVnfPolling="[Effect] start CuVNF polling",e.setActivateButtonOngoing="[Effect] setActivateButtonOngoing",e.sendDeleteUnforceSwitchoverSignal="[Effect] sendDeleteUnforceSwitchoverSignal",e.unforceSwitchoverError="[Effect] unforceSwitchoverError",e.forceSwitchoverError="[Effect] forceSwitchoverError",e.sendDeleteForceSwitchoverSignal="[Effect] sendDeleteForceSwitchoverSignal",e.setActivateButtonNotOngoing="[Effect] setActivateButtonNotOngoing",e.StopCuVnfPolling="[Effect] stop CuVNF polling",e.CuVnfRequest="[Effect] Get CuVNF",e.CuVnfRequestError="[Effect] Get CuVNF http error",e.UpdateCuVnf="[Effect] update CuVNF",e.ForceSwitchover="[Cu Status] Force Switchover",e.ForceSwitchoverSuccess="[Cu Status] Force Switchover Success",e.ForceSwitchoverFailure="[Cu Status] Force Switchover Failure",e.UnforceSwitchover="[Cu Status] Unforce Switchover",e.UnforceSwitchoverSuccess="[Cu Status] Unforce Switchover Success",e.UnforceSwitchoverFailure="[Cu Status] Unforce Switchover Failure",e.ActivateVNF="[Cu Status] Activate VNF",e.ActivateVNFSuccess="[Cu Status] Activate VNF finished",e.ActivateVNFFailure="[Cu Status] Activate VNF failed",e.DeactivateVNF="[Cu Status] Deactivate VNF",e.DeactivateVNFSuccess="[Cu Status] Deactivate VNF finished",e.DeactivateVNFFailure="[Cu Status] Deactivate VNF failed"}(v||(v={})),v))();const y=(0,s.PH)(v.StartCuVnfPolling),S=(0,s.PH)(v.StopCuVnfPolling),P=(0,s.PH)(v.CuVnfRequest),O=(0,s.PH)(v.UpdateCuVnf,(0,s.Ky)()),x=(0,s.PH)(v.CuVnfRequestError,(0,s.Ky)()),w=(0,s.PH)(v.ForceSwitchover),A=(0,s.PH)(v.ForceSwitchoverSuccess,(0,s.Ky)()),_=(0,s.PH)(v.ForceSwitchoverFailure,(0,s.Ky)()),T=(0,s.PH)(v.forceSwitchoverError,(0,s.Ky)()),I=(0,s.PH)(v.sendDeleteForceSwitchoverSignal,(0,s.Ky)()),E=(0,s.PH)(v.UnforceSwitchover),M=(0,s.PH)(v.UnforceSwitchoverSuccess,(0,s.Ky)()),k=(0,s.PH)(v.UnforceSwitchoverFailure,(0,s.Ky)()),N=(0,s.PH)(v.unforceSwitchoverError,(0,s.Ky)()),L=(0,s.PH)(v.sendDeleteUnforceSwitchoverSignal,(0,s.Ky)()),D=(0,s.PH)(v.ActivateVNF),Z=(0,s.PH)(v.ActivateVNFSuccess,(0,s.Ky)()),R=(0,s.PH)(v.ActivateVNFFailure,(0,s.Ky)()),U=(0,s.PH)(v.activateVnfError,(0,s.Ky)()),F=(0,s.PH)(v.sendDeleteActivationActionSignal,(0,s.Ky)()),j=(0,s.PH)(v.setActivateButtonOngoing),$=(0,s.PH)(v.setActivateButtonNotOngoing),q=(0,s.PH)(v.setDeactivateButtonOngoing),B=(0,s.PH)(v.setDeactivateButtonNotOngoing),G=(0,s.PH)(v.DeactivateVNF),V=(0,s.PH)(v.DeactivateVNFSuccess,(0,s.Ky)()),Y=(0,s.PH)(v.DeactivateVNFFailure,(0,s.Ky)()),J=(0,s.PH)(v.deactivateVnfError,(0,s.Ky)()),H=(0,s.PH)(v.sendDeleteDeactivateActionSignal,(0,s.Ky)());var W=n(42482),Q=n(60697);const z="CuVnf";function K(e){return!("standalone"!==e.cuVnf.redundancyRole&&e.cuVnf.activityMode===W.E1.Active)}function X(e){const t=K(e);return e.deactivationState===Q.Wwb.ONGOING?Q.Wwb.ONGOING:t?Q.Wwb.DISABLED:Q.Wwb.ENABLED}function ee(e){return K(e)?Q.Wwb.DISABLED:Q.Wwb.ENABLED}function te(e){return!("standalone"===e.cuVnf.redundancyRole&&e.cuVnf.activityMode===W.E1.Standby)}function ne(e){const t=te(e);return e.activationState===Q.Wwb.ONGOING?Q.Wwb.ONGOING:t?Q.Wwb.DISABLED:Q.Wwb.ENABLED}function ie(e){return te(e)?Q.Wwb.DISABLED:Q.Wwb.ENABLED}const oe=(0,s.Lq)({cuVnf:{peerVnf:{status:null}},deactivationState:Q.Wwb.DISABLED,activationState:Q.Wwb.DISABLED},(0,s.on)(O,(e,{payload:t})=>({cuVnf:t,deactivationState:X(e),activationState:ne(e)})),(0,s.on)(B,e=>({cuVnf:e.cuVnf,deactivationState:ee(e),activationState:e.activationState})),(0,s.on)(q,e=>({cuVnf:e.cuVnf,deactivationState:Q.Wwb.ONGOING,activationState:e.activationState})),(0,s.on)($,e=>({cuVnf:e.cuVnf,deactivationState:e.deactivationState,activationState:ie(e)})),(0,s.on)(j,e=>({cuVnf:e.cuVnf,deactivationState:e.deactivationState,activationState:Q.Wwb.ONGOING})));function se(e,t){return oe(e,t)}const ae=(0,s.ZF)(z),re=(0,s.P1)(ae,e=>e.deactivationState),le=(0,s.P1)(ae,e=>e.activationState),ce=(0,s.P1)(ae,e=>e.cuVnf);var de=n(81948),ue=n(34306),pe=n(23815),ge=n.n(pe),he=n(74788),me=n(33013),fe=n(83473),be=n(71911),Ce=n(41956),ve=n(88361),ye=n(2069),Se=n(54152);function Pe(e,t){if(1&e){const e=he.EpF();he.TgZ(0,"ui-webem-button",1,2),he.NdJ("action",function(){return he.CHM(e),he.oxw().resetCu.emit()}),he.qZA()}if(2&e){const e=t.ngIf,n=he.MAs(1),i=he.oxw();he.Q6J("oamRoleAccessControl","VCU_RESET_SITE")("hostInstance",n)("model",e.model)("options",e.options)("disabled",i.cuResetState===i.cuResetButtonState.ONGOING)("title",i.cuResetState===i.cuResetButtonState.ONGOING?i.ONGOINGTOOLTIP:"")}}let Oe=(()=>{class e{constructor(){this.resetCu=new he.vpe,this.cuResetButtonState=Q.nD9,this.menuButton=Ce.SP,this.ONGOINGTOOLTIP="CU reset is ongoing"}ngOnInit(){}ngOnChanges(){this.menuButton=this.cuResetState===Q.nD9.ENABLED?Ce.SP:Ce.xe}onResetClick(){this.resetCu.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status-cu-reset"]],inputs:{displayNarrow:"displayNarrow",cuResetState:"cuResetState"},outputs:{resetCu:"resetCu"},features:[he.TTD],decls:2,vars:4,consts:[["id","cu-reset-button",3,"oamRoleAccessControl","hostInstance","model","options","disabled","title","action",4,"ngIf"],["id","cu-reset-button",3,"oamRoleAccessControl","hostInstance","model","options","disabled","title","action"],["VCU_RESET_SITE",""]],template:function(e,t){1&e&&(he.YNc(0,Pe,2,6,"ui-webem-button",0),he.ALo(1,"toResizableMenuButton")),2&e&&he.Q6J("ngIf",he.xi3(1,1,t.menuButton,t.displayNarrow))},directives:[i.O5,ve.r,ye.h],pipes:[Se.A],styles:[""]}),e})();var xe=n(36628),we=n(39088),Ae=(()=>(function(e){e.Forced="FORCED",e.Unforced="UNFORCED"}(Ae||(Ae={})),Ae))(),_e=n(24751),Te=n(66057),Ie=n(25498);let Ee=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.store=t,this.resizableMenuButtonPipe=n,this.menuButton=Ce.BN,this.okButtonModel={label:"OK",theme:Q.bnJ.Accent},this.cancelButtonModel={label:"Cancel"},this.switchOverType=Ae}ngOnInit(){this.form=this.formBuilder.group({switchOverType:this.switchOverType.Unforced}),this.menuButton=this.resizableMenuButtonPipe.transform(this.menuButton,this.displayNarrow);const e=this.form.controls.switchOverType;e.valueChanges.subscribe(t=>{e.setValue(t,{emitEvent:!1})})}onClose(){this.overlayPanelComponent.hide()}runSwitchover(){this.store.dispatch(this.form.value.switchOverType===this.switchOverType.Forced?w():E()),this.overlayPanelComponent.hide()}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(_e.qu),he.Y36(s.yh),he.Y36(Se.A))},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status-switchover"]],viewQuery:function(e,t){if(1&e&&he.Gf(Q.oh7,7),2&e){let e;he.iGM(e=he.CRH())&&(t.overlayPanelComponent=e.first)}},inputs:{displayNarrow:"displayNarrow"},decls:19,vars:8,consts:[["appendTo","body",3,"buttonId","options","model"],[1,"p-dialog"],[1,"p-dialog-content"],[1,"load-form",3,"formGroup"],[1,"switch-options"],[1,"switch-options-item"],["id","unforced-switchover","label","Unforced switchover","formControlName","switchOverType","name","switchOverType",3,"value"],[1,"description"],["id","forced-switchover","formControlName","switchOverType","label","Forced switchover","name","switchOverType",3,"value"],[1,"p-dialog-footer"],["id","ok",1,"action-button",3,"model","action"],["id","cancel",1,"action-button",3,"model","action"]],template:function(e,t){1&e&&(he.TgZ(0,"ui-webem-overlay-menu-bar",0),he.TgZ(1,"div",1),he.TgZ(2,"div",2),he.TgZ(3,"form",3),he.TgZ(4,"div",4),he.TgZ(5,"div",5),he._UZ(6,"p-radioButton",6),he.TgZ(7,"div"),he.TgZ(8,"span",7),he._uU(9,"This operation enables you to activate gNB CU VNF that is currently in standby mode and deactivate gNB CU VNF that is currently in active mode in a way that deactivation action of currently active gNB VNF precedes the activation action of currently standby gNB CU VNF"),he.qZA(),he.qZA(),he.qZA(),he.TgZ(10,"div",5),he._UZ(11,"p-radioButton",8),he.TgZ(12,"div"),he.TgZ(13,"span",7),he._uU(14,"This operation enables you to activate gNB CU VNF that is currently in standby mode despite active gNB CU VNF being deactivated or not"),he.qZA(),he.qZA(),he.qZA(),he.qZA(),he.qZA(),he.qZA(),he.TgZ(15,"div",9),he.TgZ(16,"p-footer"),he.TgZ(17,"ui-webem-button",10),he.NdJ("action",function(){return t.runSwitchover()}),he.qZA(),he.TgZ(18,"ui-webem-button",11),he.NdJ("action",function(){return t.onClose()}),he.qZA(),he.qZA(),he.qZA(),he.qZA(),he.qZA()),2&e&&(he.Q6J("buttonId","switchover-button")("options",t.menuButton.options)("model",t.menuButton.model),he.xp6(3),he.Q6J("formGroup",t.form),he.xp6(3),he.Q6J("value",t.switchOverType.Unforced),he.xp6(5),he.Q6J("value",t.switchOverType.Forced),he.xp6(6),he.Q6J("model",t.okButtonModel),he.xp6(1),he.Q6J("model",t.cancelButtonModel))},directives:[Te.o,_e._Y,_e.JL,_e.sg,Ie.EU,_e.JJ,_e.u,me.$_,ve.r],styles:[".load-form[_ngcontent-%COMP%]{width:350px}.load-form[_ngcontent-%COMP%]   .switch-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]     .ui-radiobutton-label{font-size:11px;font-family:Nokia Pure,sans-serif;font-weight:700;color:#1b1b1b;cursor:pointer;padding:5px}.load-form[_ngcontent-%COMP%]   .switch-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:block;font-size:11px;font-family:Nokia Pure,sans-serif;color:#98a2ae;padding:0 5px 0 27px}.load-form[_ngcontent-%COMP%]   .switch-options[_ngcontent-%COMP%]   .switch-options-item[_ngcontent-%COMP%]:first-child{padding-bottom:16px}"]}),e})();function Me(e,t){if(1&e){const e=he.EpF();he.TgZ(0,"ui-webem-button",1),he.NdJ("action",function(){return he.CHM(e),he.oxw().activateVnf()}),he.qZA()}if(2&e){const e=t.ngIf,n=he.oxw();he.Q6J("title",n.TOOLTIP)("model",e.model)("options",e.options)("disabled",n.activationState===n.saveConfigurationState.ONGOING||n.activationState===n.saveConfigurationState.DISABLED)}}let ke=(()=>{class e{constructor(e,t){this.store=e,this.confirmationService=t,this.menuButton=Ce.wD,this.saveConfigurationState=Q.Wwb,this.TOOLTIP="This operation enables you to change \n activity mode from standby to active, \n when redundancy role is set to \n standalone"}ngOnInit(){}activateVnf(){this.confirmationService.confirm({header:"Activate",message:"You are about to change gNB CU VNF activity mode from standby to active \n\n Do you want to proceed?",acceptLabel:"OK",rejectLabel:"Cancel",icon:m.Wf,accept:()=>{this.store.dispatch(D())}})}ngOnChanges(){this.menuButton=this.activationState===Q.Wwb.ONGOING?Ce.gT:Ce.wD}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(s.yh),he.Y36(me.YP))},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status-activate-button"]],inputs:{displayNarrow:"displayNarrow",cuVnf:"cuVnf",activationState:"activationState"},features:[he.TTD],decls:2,vars:4,consts:[["id","activate-button",3,"title","model","options","disabled","action",4,"ngIf"],["id","activate-button",3,"title","model","options","disabled","action"]],template:function(e,t){1&e&&(he.YNc(0,Me,1,4,"ui-webem-button",0),he.ALo(1,"toResizableMenuButton")),2&e&&he.Q6J("ngIf",he.xi3(1,1,t.menuButton,t.displayNarrow))},directives:[i.O5,ve.r],pipes:[Se.A],styles:[""]}),e})();function Ne(e,t){if(1&e){const e=he.EpF();he.TgZ(0,"ui-webem-button",1),he.NdJ("action",function(){return he.CHM(e),he.oxw().deactivateVnf()}),he.qZA()}if(2&e){const e=t.ngIf,n=he.oxw();he.Q6J("title",n.TOOLTIP)("model",e.model)("options",e.options)("disabled",n.deactivationState===n.saveConfigurationState.ONGOING||n.deactivationState===n.saveConfigurationState.DISABLED)}}let Le=(()=>{class e{constructor(e,t){this.store=e,this.confirmationService=t,this.menuButton=Ce.FP,this.saveConfigurationState=Q.Wwb,this.ACTIVITY_MODE=W.E1,this.STANDALONE="standalone",this.TOOLTIP="This operation enables you to change \n gNB CU VNF activity mode from active \n to standby"}ngOnInit(){}deactivateVnf(){this.confirmationService.confirm({header:"Deactivate",message:"You are about to change gNB CU VNF activity mode from active to standby \n\n Do you want to proceed?",acceptLabel:"OK",rejectLabel:"Cancel",icon:m.Wf,accept:()=>{this.store.dispatch(G())}})}ngOnChanges(){this.menuButton=this.deactivationState===Q.Wwb.ONGOING?Ce.XH:Ce.FP}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(s.yh),he.Y36(me.YP))},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status-deactivate-button"]],inputs:{displayNarrow:"displayNarrow",cuVnf:"cuVnf",deactivationState:"deactivationState"},features:[he.TTD],decls:2,vars:4,consts:[["id","deactivate-button",3,"title","model","options","disabled","action",4,"ngIf"],["id","deactivate-button",3,"title","model","options","disabled","action"]],template:function(e,t){1&e&&(he.YNc(0,Ne,1,4,"ui-webem-button",0),he.ALo(1,"toResizableMenuButton")),2&e&&he.Q6J("ngIf",he.xi3(1,1,t.menuButton,t.displayNarrow))},directives:[i.O5,ve.r],pipes:[Se.A],styles:[""]}),e})();var De=n(10692),Ze=n(48743),Re=n(62039),Ue=n(49201),Fe=n(20087),je=n(96393),$e=n(67866);const qe=["propertiesPanelContent"];function Be(e,t){if(1&e&&(he._UZ(0,"ui-webem-raised-alarms",7),he.ALo(1,"toActiveAlarms"),he.ALo(2,"getHighestAlarmSeverity")),2&e){const e=he.oxw();he.Q6J("alarms",he.lcZ(1,2,e.vnf.alarms))("alarmSeverityType",he.lcZ(2,4,e.vnf.alarms))}}function Ge(e,t){if(1&e&&(he.ynx(0),he.TgZ(1,"div",8),he.TgZ(2,"span"),he._uU(3),he.qZA(),he.qZA(),he.TgZ(4,"div",9),he.TgZ(5,"span"),he._uU(6),he.ALo(7,"nullableValue"),he.qZA(),he.qZA(),he.BQk()),2&e){const e=t.$implicit;he.xp6(3),he.hij("",e.title,":"),he.xp6(3),he.Oqu(he.lcZ(7,2,e.value))}}let Ve=(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){this.propertiesPanelContent.nativeElement.id=this.connectorElementId}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status-cu-properties-tile"]],viewQuery:function(e,t){if(1&e&&he.Gf(qe,5,he.SBq),2&e){let e;he.iGM(e=he.CRH())&&(t.propertiesPanelContent=e.first)}},inputs:{connectorElementId:"connectorElementId",name:"name",displayedParameters:"displayedParameters",status:"status",vnf:"vnf"},decls:10,vars:9,consts:[[1,"tile-frame",3,"ngClass"],["propertiesPanelContent",""],[1,"tile-header"],[1,"tile-title"],["class","alarms",3,"alarms","alarmSeverityType",4,"ngIf"],[1,"tile-content"],[4,"ngFor","ngForOf"],[1,"alarms",3,"alarms","alarmSeverityType"],[1,"section-row-key"],[1,"section-row-value"]],template:function(e,t){1&e&&(he.TgZ(0,"div",0,1),he.TgZ(2,"div",2),he.TgZ(3,"div",3),he._uU(4),he.ALo(5,"nullableValue"),he.qZA(),he.YNc(6,Be,3,6,"ui-webem-raised-alarms",4),he.ALo(7,"hasAlarms"),he.qZA(),he.TgZ(8,"div",5),he.YNc(9,Ge,8,4,"ng-container",6),he.qZA(),he.qZA()),2&e&&(he.Q6J("ngClass",t.status),he.xp6(3),he.uIk("data-name",t.name),he.xp6(1),he.Oqu(he.lcZ(5,5,t.name)),he.xp6(2),he.Q6J("ngIf",t.vnf&&he.lcZ(7,7,t.vnf)),he.xp6(3),he.Q6J("ngForOf",t.displayedParameters))},directives:[i.mk,Ze.oO,i.O5,i.sg,Re.V],pipes:[Ue.c,Fe.U,je.G,$e.W],styles:[".tile-frame[_ngcontent-%COMP%]{width:230px;border-radius:3px;border:1px solid;padding:8px}.tile-frame.status-green[_ngcontent-%COMP%]{background-color:#f1fee9;border-color:#3daa00}.tile-frame.status-red[_ngcontent-%COMP%]{background-color:#ffe1e2;border-color:#be0006}.tile-frame.status-grey[_ngcontent-%COMP%]{background-color:#939eaa;border-color:#bec8d2}.tile-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin-bottom:8px}.tile-title[_ngcontent-%COMP%]{font-weight:700;white-space:nowrap;line-height:16px;overflow:hidden;text-overflow:ellipsis}.tile-title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:4px}.tile-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;grid-column-gap:10px;font-size:10px}.tile-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:70px;word-wrap:break-word}"]}),e})();var Ye=n(56177);let Je=(()=>{class e{transform(e){return-1===e?Ue.v:e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=he.Yjl({name:"negativeValue",type:e,pure:!0}),e.\u0275prov=he.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),He=(()=>{class e{constructor(e,t,n){this.nullableValuePipe=e,this.negativeValuePipe=t,this.titleCasePipe=n}transform(e,t){return e&&t?[{title:"Name",value:e.btsName},{title:"Software version",value:this.nullableValuePipe.transform(e.softwareVersion)},{title:"Type",value:e.type},{title:"MCC / MNC",value:`${this.negativeValuePipe.transform(e.mcc)} /  ${this.negativeValuePipe.transform(e.mnc)}`},{title:"Operational state",value:this.titleCasePipe.transform(this.nullableValuePipe.transform(e.operationalState))},{title:"VNF IP address",value:this.nullableValuePipe.transform(e.ipAddresses.vnfIpAddress)},{title:"M-plane IP address",value:this.getMplaneIpAddress(e)},{title:"Activity mode",value:this.titleCasePipe.transform(this.nullableValuePipe.transform(t.activityMode))},{title:"Redundancy role",value:this.titleCasePipe.transform(this.nullableValuePipe.transform(t.redundancyRole))}]:[]}getMplaneIpAddress(e){return e.ipAddresses.mPlaneIpAddress?`${this.nullableValuePipe.transform(e.ipAddresses.mPlaneIpAddress.v4)} / ${this.nullableValuePipe.transform(e.ipAddresses.mPlaneIpAddress.v6)}`:`${Ue.v} / ${Ue.v}`}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(Ye.cP,16),he.Y36(Je,16),he.Y36(i.rS,16))},e.\u0275pipe=he.Yjl({name:"toCuDisplayedParameters",type:e,pure:!0}),e})();var We=n(20518),Qe=(()=>(function(e){e.green="status-green",e.grey="status-grey",e.red="status-red",e.white="status-white",e.orange="status-orange"}(Qe||(Qe={})),Qe))();let ze=(()=>{class e{transform(e){return e===We.g.Enabled?Qe.green:e===We.g.Disabled?Qe.red:Qe.grey}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=he.Yjl({name:"operationalStateToTileStatus",type:e,pure:!0}),e})();function Ke(e,t){1&e&&he._uU(0,"CU gNB properties")}function Xe(e,t){if(1&e&&(he._UZ(0,"cu-status-cu-properties-tile",2),he.ALo(1,"toCuDisplayedParameters"),he.ALo(2,"operationalStateToTileStatus")),2&e){const e=he.oxw();he.Q6J("displayedParameters",he.xi3(1,4,e.cu,e.cuVnf))("name","MRBTS-"+(null==e.cu?null:e.cu.mrbtsId))("connectorElementId",e.connectorElementId)("status",he.lcZ(2,7,null==e.cu?null:e.cu.operationalState))}}let et=(()=>{class e{constructor(){this.connectorElementId=p.CU_CONNECTOR}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status-properties-panel"]],inputs:{cu:"cu",cuVnf:"cuVnf"},decls:5,vars:0,consts:[["header",""],["content",""],[3,"displayedParameters","name","connectorElementId","status"]],template:function(e,t){1&e&&(he.TgZ(0,"ui-webem-panel"),he.YNc(1,Ke,1,0,"ng-template",null,0,he.W1O),he.YNc(3,Xe,3,9,"ng-template",null,1,he.W1O),he.qZA())},directives:[De.y,Ve],pipes:[He,ze],styles:[""],changeDetection:0}),e})();var tt=n(19230);let nt=(()=>{class e{constructor(){}transform(e){return e?[{title:"VNF IP address",value:e.ipAddress}]:[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=he.Yjl({name:"toPeerVnfDisplayedParameters",type:e,pure:!0}),e})(),it=(()=>{class e{transform(e){return e.status===u.Correct?Qe.green:e.status===u.Incorrect?Qe.red:Qe.grey}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=he.Yjl({name:"vnfConnectionToTileStatus",type:e,pure:!0}),e})();function ot(e,t){1&e&&he._uU(0,"Peer VNF (Georedundancy)")}function st(e,t){if(1&e&&(he.ynx(0),he._UZ(1,"cu-status-cu-properties-tile",4),he.ALo(2,"toPeerVnfDisplayedParameters"),he.ALo(3,"vnfConnectionToTileStatus"),he.BQk()),2&e){const e=he.oxw(2);he.xp6(1),he.Q6J("displayedParameters",he.lcZ(2,5,e.peerVnf))("name","MRBTS-"+e.peerVnf.peerVnf)("connectorElementId",e.connectorElementId)("status",he.lcZ(3,7,e.peerVnf))("vnf",e.vnf)}}function at(e,t){if(1&e&&he.YNc(0,st,4,9,"ng-container",3),2&e){const e=he.oxw(),t=he.MAs(6);he.Q6J("ngIf",!!e.peerVnf.peerVnf)("ngIfElse",t)}}function rt(e,t){1&e&&he._UZ(0,"ui-webem-no-selected-message",5)}let lt=(()=>{class e{constructor(){this.connectorElementId=p.PEER_VNF_CONNECTOR}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status-cu-status-peer-vnf-panel"]],inputs:{peerVnf:"peerVnf",vnf:"vnf"},decls:7,vars:0,consts:[["header",""],["content",""],["notConfigured",""],[4,"ngIf","ngIfElse"],[3,"displayedParameters","name","connectorElementId","status","vnf"],["message","Not configured",1,"peer-vnf-not-configured"]],template:function(e,t){1&e&&(he.TgZ(0,"ui-webem-panel"),he.YNc(1,ot,1,0,"ng-template",null,0,he.W1O),he.YNc(3,at,1,2,"ng-template",null,1,he.W1O),he.qZA(),he.YNc(5,rt,1,0,"ng-template",null,2,he.W1O))},directives:[De.y,i.O5,Ve,tt.G],pipes:[nt,it],styles:[""]}),e})(),ct=(()=>{class e{transform(e){switch(e){case d.z.Active:return"active";case d.z.Inactive:return"inactive";default:return Ue.v}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=he.Yjl({name:"ngLinkStatusMapper",type:e,pure:!0}),e})(),dt=(()=>{class e{constructor(e,t,n){this.nullableValuePipe=e,this.ngLinkStatusMapper=t,this.titleCasePipe=n}transform(e){return e?[{title:"IP address",value:this.nullableValuePipe.transform(e.ipAddress)},{title:"NG link status",value:this.titleCasePipe.transform(this.ngLinkStatusMapper.transform(e.ngLinkStatus))}]:[]}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(Ye.cP,16),he.Y36(ct,16),he.Y36(i.rS,16))},e.\u0275pipe=he.Yjl({name:"toAmfDisplayedParameters",type:e,pure:!0}),e})(),ut=(()=>{class e{transform(e){return e===d.z.Active?Qe.green:Qe.grey}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=he.Yjl({name:"ngLinkToTileStatus",type:e,pure:!0}),e})();function pt(e,t){1&e&&he._uU(0,"Served AMF information")}function gt(e,t){if(1&e&&(he._UZ(0,"cu-status-cu-properties-tile",2),he.ALo(1,"toAmfDisplayedParameters"),he.ALo(2,"ngLinkToTileStatus")),2&e){const e=he.oxw();he.Q6J("displayedParameters",he.lcZ(1,4,e.amf))("name",null==e.amf?null:e.amf.name)("connectorElementId",e.connectorElementId)("status",he.lcZ(2,6,null==e.amf?null:e.amf.ngLinkStatus))}}let ht=(()=>{class e{constructor(){this.connectorElementId=p.AMF_CONNECTOR}ngOnInit(){}ngOnChanges(){this.cu&&this.cu.amfs&&this.cu.amfs.length>0&&(this.amf=this.cu.amfs[0])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status-amf-panel"]],inputs:{cu:"cu"},features:[he.TTD],decls:5,vars:0,consts:[["header",""],["content",""],[3,"displayedParameters","name","connectorElementId","status"]],template:function(e,t){1&e&&(he.TgZ(0,"ui-webem-panel"),he.YNc(1,pt,1,0,"ng-template",null,0,he.W1O),he.YNc(3,gt,3,8,"ng-template",null,1,he.W1O),he.qZA())},directives:[De.y,Ve],pipes:[dt,ut],styles:[""],changeDetection:0}),e})();var mt=n(33431);function ft(e,t){1&e&&he._uU(0,"CU gNB IP Addresses")}function bt(e,t){1&e&&(he.TgZ(0,"tr"),he._UZ(1,"th"),he.TgZ(2,"th"),he._uU(3,"IP addresses"),he.qZA(),he.TgZ(4,"th"),he._uU(5,"IPv4"),he.qZA(),he.TgZ(6,"th"),he._uU(7,"IPv6"),he.qZA(),he.qZA())}function Ct(e,t){if(1&e&&(he.TgZ(0,"td",7),he._uU(1),he.qZA()),2&e){const e=he.oxw().$implicit,t=he.oxw(2);he.uIk("rowspan",t.rowGroupMetadata[e.interfaceType].size),he.xp6(1),he.Oqu(e.interfaceType)}}function vt(e,t){if(1&e&&(he.TgZ(0,"td"),he._uU(1),he.qZA()),2&e){const e=he.oxw().$implicit,t=he.oxw(2);he.uIk("rowspan",t.rowGroupMetadata[e.interfaceType][e.planeType].size),he.xp6(1),he.Oqu(e.planeType)}}function yt(e,t){if(1&e&&(he.TgZ(0,"tr"),he.YNc(1,Ct,2,2,"td",5),he.YNc(2,vt,2,2,"td",6),he.TgZ(3,"td"),he._uU(4),he.ALo(5,"nullableValue"),he.qZA(),he.TgZ(6,"td"),he._uU(7),he.ALo(8,"nullableValue"),he.qZA(),he.qZA()),2&e){const e=t.$implicit,n=t.rowIndex,i=he.oxw(2);he.xp6(1),he.Q6J("ngIf",i.rowGroupMetadata[e.interfaceType].index===n),he.xp6(1),he.Q6J("ngIf",i.rowGroupMetadata[e.interfaceType][e.planeType].index===n),he.xp6(2),he.Oqu(e?he.lcZ(5,4,null==e.ip?null:e.ip.v4):"-"),he.xp6(3),he.Oqu(e?he.lcZ(8,6,null==e.ip?null:e.ip.v6):"-")}}function St(e,t){if(1&e&&(he.TgZ(0,"p-table",2),he.YNc(1,bt,8,0,"ng-template",3),he.YNc(2,yt,9,8,"ng-template",4),he.qZA()),2&e){const e=he.oxw();he.Q6J("value",e.displayIPAddressArray)("scrollable",!0)}}let Pt=(()=>{class e{ngOnChanges(){this.cu&&this.cu.ipAddresses&&!(0,pe.isEqual)(this.displayIPAddressArray,this.displayedParameters.displayIPAddressArray)&&(this.displayIPAddressArray=this.displayedParameters.displayIPAddressArray,this.rowGroupMetadata=this.displayedParameters.rowGroupMetadata)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status-ip-addresses-panel"]],inputs:{cu:"cu",displayedParameters:"displayedParameters"},features:[he.TTD],decls:5,vars:0,consts:[["header",""],["content",""],["scrollHeight","250px",3,"value","scrollable"],["pTemplate","header"],["pTemplate","body"],["class","bold-name",4,"ngIf"],[4,"ngIf"],[1,"bold-name"]],template:function(e,t){1&e&&(he.TgZ(0,"ui-webem-panel"),he.YNc(1,ft,1,0,"ng-template",null,0,he.W1O),he.YNc(3,St,3,2,"ng-template",null,1,he.W1O),he.qZA())},directives:[De.y,mt.iA,me.jx,i.O5],pipes:[Ue.c],styles:["p-table[_ngcontent-%COMP%]:not(:last-child){display:block;margin-bottom:20px}.sub-header[_ngcontent-%COMP%]{display:inline-block;font-size:11px;font-weight:700;line-height:1;margin-bottom:10px}[_nghost-%COMP%]     p-table table td:nth-child(2), [_nghost-%COMP%]     p-table table th:nth-child(2){width:85px}[_nghost-%COMP%]     p-table table td:last-child{width:320px}[_nghost-%COMP%]     p-table table th:last-child{width:321px}[_nghost-%COMP%]     p-table table tr>td.no-bottom-border{border-bottom:none}[_nghost-%COMP%]     p-table table tr>td.bold-name{font-weight:700}"],changeDetection:0}),e})();function Ot(e,t){1&e&&he._uU(0,"Other IP Addresses")}function xt(e,t){1&e&&(he.TgZ(0,"tr"),he._UZ(1,"th"),he.TgZ(2,"th"),he._uU(3,"IP addresses"),he.qZA(),he.qZA())}function wt(e,t){if(1&e&&(he.TgZ(0,"tr"),he.TgZ(1,"td"),he._uU(2,"Primary DNS"),he.qZA(),he.TgZ(3,"td"),he._uU(4),he.ALo(5,"nullableValue"),he.qZA(),he.qZA(),he.TgZ(6,"tr"),he.TgZ(7,"td"),he._uU(8,"Secondary DNS"),he.qZA(),he.TgZ(9,"td"),he._uU(10),he.ALo(11,"nullableValue"),he.qZA(),he.qZA()),2&e){const e=he.oxw(2);he.xp6(4),he.Oqu(he.lcZ(5,2,null==e.cu?null:e.cu.serverIpAddressPrimary)),he.xp6(6),he.Oqu(he.lcZ(11,4,null==e.cu?null:e.cu.serverIpAddressSecondary))}}const At=function(){return{}},_t=function(e){return[e]};function Tt(e,t){1&e&&(he.TgZ(0,"p-table",2),he.YNc(1,xt,4,0,"ng-template",3),he.YNc(2,wt,12,6,"ng-template",4),he.qZA()),2&e&&he.Q6J("value",he.VKq(2,_t,he.DdM(1,At)))}let It=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status-other-ip-addresses-panel"]],inputs:{cu:"cu"},decls:5,vars:0,consts:[["header",""],["content",""],[3,"value"],["pTemplate","header"],["pTemplate","body"]],template:function(e,t){1&e&&(he.TgZ(0,"ui-webem-panel"),he.YNc(1,Ot,1,0,"ng-template",null,0,he.W1O),he.YNc(3,Tt,3,4,"ng-template",null,1,he.W1O),he.qZA())},directives:[De.y,mt.iA,me.jx],pipes:[Ue.c],styles:["p-table[_ngcontent-%COMP%]:not(:last-child){display:block;margin-bottom:20px}.sub-header[_ngcontent-%COMP%]{display:inline-block;font-size:11px;font-weight:700;line-height:1;margin-bottom:10px}[_nghost-%COMP%]     p-table table td:first-child, [_nghost-%COMP%]     p-table table th:first-child{width:106px}[_nghost-%COMP%]     p-table table td:last-child, [_nghost-%COMP%]     p-table table th:last-child{width:336px}"],changeDetection:0}),e})();const Et="default",Mt={f1Interface:{cPlaneIpAddress:{index:0,size:1},uPlaneIpAddress:{index:0,size:1},index:0,size:2},ngInterface:{cPlaneIpAddress:{index:0,size:1},uPlaneIpAddress:{index:0,size:1},index:0,size:2},x2Interface:{cPlaneIpAddress:{index:0,size:1},uPlaneIpAddress:{index:0,size:1},index:0,size:2},xnInterface:{cPlaneIpAddress:{index:0,size:1},uPlaneIpAddress:{index:0,size:1},index:0,size:2}},kt={f1Interface:"F1 interface",ngInterface:"NG interface",x2Interface:"X2 interface",xnInterface:"Xn interface"},Nt={cPlaneIpAddress:"Control Plane",uPlaneIpAddress:"User Plane"};let Lt=(()=>{class e{transform(e){if(!e||!e.ipAddresses)return[];let t=[];ge().forEach(Object.keys(kt),n=>{ge().forEach(Object.keys(Nt),i=>{const o=null==e?void 0:e.ipAddresses[n][i],s=o&&o.length>0?ge().map(o,e=>({ip:e,planeType:Nt[i],interfaceType:kt[n]})):[{planeType:Nt[i],interfaceType:kt[n]}];t=t.concat(s)})});let n=Mt;return t&&(n=this.updateRowData(t,n)),{displayIPAddressArray:t,rowGroupMetadata:n}}updateRowData(e,t){for(let n=0;n<e.length;n++){const i=e[n],o=i.planeType||Et,s=i.interfaceType||Et;if(0===n)t[s]={index:0,size:1},t[s][o]={index:0,size:1};else{const i=e[n-1],a=i.planeType;s===i.interfaceType?(t[s].size++,o===a?t[s][o].size++:t[s][o]={index:n,size:1}):(t[s]={index:n,size:1},t[s][o]={index:n,size:1})}}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=he.Yjl({name:"toIpAddressesPanelDisplayParameter",type:e,pure:!0}),e})();function Dt(e,t){1&e&&(he.TgZ(0,"div",2),he._UZ(1,"ui-webem-alarm-message",3),he.qZA()),2&e&&(he.xp6(1),he.Q6J("text","CU is not ready for commission. Please wait a few minutes."))}function Zt(e,t){if(1&e){const e=he.EpF();he.TgZ(0,"div",4),he.TgZ(1,"div"),he.TgZ(2,"div",5),he.TgZ(3,"cu-status-cu-reset",6),he.NdJ("resetCu",function(){return he.CHM(e),he.oxw().onResetCuClicked()}),he.ALo(4,"async"),he.qZA(),he._UZ(5,"status-shared-toolbar-export-button",7),he._UZ(6,"ui-webem-vertical-html-line",8),he._UZ(7,"cu-status-switchover"),he._UZ(8,"cu-status-activate-button",9),he.ALo(9,"async"),he._UZ(10,"cu-status-deactivate-button",10),he.ALo(11,"async"),he.qZA(),he._UZ(12,"cu-status-properties-panel",11),he._UZ(13,"cu-status-cu-status-peer-vnf-panel",12),he._UZ(14,"cu-status-amf-panel",13),he.qZA(),he.TgZ(15,"div",14),he._UZ(16,"cu-status-ip-addresses-panel",15),he.ALo(17,"toIpAddressesPanelDisplayParameter"),he._UZ(18,"cu-status-other-ip-addresses-panel",13),he.qZA(),he.qZA()}if(2&e){const e=t.ngIf,n=he.oxw();he.xp6(3),he.Q6J("cuResetState",he.lcZ(4,15,n.cuResetState$)),he.xp6(2),he.Q6J("model",n.EXPORT_BUTTON_MODEL)("alternativeButtonLabel","Save Configuration"),he.xp6(3),he.Q6J("cuVnf",n.cuVnf)("activationState",he.lcZ(9,17,n.activationState$)),he.xp6(2),he.Q6J("cuVnf",n.cuVnf)("deactivationState",he.lcZ(11,19,n.deactivationState$)),he.xp6(2),he.Q6J("cu",e.cu)("cuVnf",n.cuVnf),he.xp6(1),he.Q6J("peerVnf",n.cuVnf.peerVnf)("vnf",n.cuVnf),he.xp6(1),he.Q6J("cu",e.cu),he.xp6(2),he.Q6J("displayedParameters",he.lcZ(17,21,e.cu))("cu",e.cu),he.xp6(2),he.Q6J("cu",e.cu)}}const Rt=function(){return{width:"350px"}};let Ut=(()=>{class e{constructor(e,t,n,i){this.store=e,this.confirmationService=t,this.vnfcSharedService=n,this.zone=i,this.EXPORT_BUTTON_MODEL=C,this.ngUnsubscribeCuStatus=new a.xQ,this.ngUnsubscribeCuVnf=new a.xQ,this.amfNgLinkStatus=d.z.Inactive,this.scrollListener=(0,pe.debounce)(()=>{this.removeLinks(),this.drawLinks(),this.updateLinks()},500)}onResize(){this.removeLinks(),this.drawLinks(),this.updateLinks()}ngOnInit(){this.deactivationState$=this.store.pipe((0,s.Ys)(re)),this.activationState$=this.store.pipe((0,s.Ys)(le)),this.cuState$=this.store.pipe((0,s.Ys)(r.fv),(0,l.T)(1)),this.cuResetState$=this.store.pipe((0,s.Ys)(de.t2)),this.isReadyForCommission$=this.store.pipe((0,s.Ys)(r.Ph)),this.cuStatusSub=this.store.pipe((0,c.R)(this.ngUnsubscribeCuStatus),(0,s.Ys)(r.fv)).subscribe(e=>{e.cu.amfs&&(this.amfNgLinkStatus=e.cu.amfs[0].ngLinkStatus),this.updateLinks()}),this.cuVnfSub=this.store.pipe((0,c.R)(this.ngUnsubscribeCuVnf),(0,s.Ys)(ce)).subscribe(e=>{this.cuVnf=e,this.updateLinks()}),this.vnfcSharedService.isVdu()||this.store.dispatch(y()),document.addEventListener("scroll",this.scrollListener,!0)}ngAfterViewChecked(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.drawLinks(),this.updateLinks()},0)})}ngOnDestroy(){this.store.dispatch(S()),this.ngUnsubscribeCuStatus.next(),this.ngUnsubscribeCuStatus.complete(),this.removeLinks(),document.removeEventListener("scroll",this.scrollListener,!0)}removeLinks(){this.peerVnfLink&&(this.peerVnfLink.remove(),this.peerVnfLink=null),this.amfLink&&(this.amfLink.remove(),this.amfLink=null)}drawLinks(){const e=document.getElementById(p.CU_CONNECTOR),t=document.getElementById(p.AMF_CONNECTOR),n=document.getElementById(p.PEER_VNF_CONNECTOR);e&&(t&&!this.amfLink&&(this.amfLink=new LeaderLine(e,t,h)),n&&!this.peerVnfLink&&(this.peerVnfLink=new LeaderLine(e,n,h)))}updateLinks(){this.amfLink&&(document.getElementById(p.AMF_CONNECTOR)?this.amfLink.color=this.getColorByNgLinkStatus(this.amfNgLinkStatus):(this.amfLink.remove(),this.amfLink=null)),this.peerVnfLink&&(document.getElementById(p.PEER_VNF_CONNECTOR)?this.peerVnfLink.color=this.getColorByConnectionStatus(this.cuVnf.peerVnf.status):(this.peerVnfLink.remove(),this.peerVnfLink=null))}getColorByNgLinkStatus(e){return e===d.z.Active?g.GREEN:g.GREY}getColorByConnectionStatus(e){return e===u.Correct?g.GREEN:e===u.Incorrect?g.RED:g.GREY}onResetCuClicked(){this.confirmationService.confirm({header:"Reset CU",message:"You are about to reset CU gNB\n\n Do you want to proceed?",acceptLabel:"OK",rejectLabel:"Cancel",icon:m.Wf,accept:()=>this.store.dispatch((0,f.XE)())})}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(s.yh),he.Y36(me.YP),he.Y36(ue.Z9),he.Y36(he.R0b))},e.\u0275cmp=he.Xpm({type:e,selectors:[["cu-status"]],hostBindings:function(e,t){1&e&&he.NdJ("resize",function(){return t.onResize()},!1,he.Jf7)},decls:5,vars:9,consts:[["class","commission-status warning-bar",4,"ngIf"],["class","cu-status-container",4,"ngIf"],[1,"commission-status","warning-bar"],[3,"text"],[1,"cu-status-container"],[1,"toolbar"],[3,"cuResetState","resetCu"],[3,"model","alternativeButtonLabel"],[1,"vertical-line"],[3,"cuVnf","activationState"],[3,"cuVnf","deactivationState"],[1,"panel",3,"cu","cuVnf"],[1,"panel",3,"peerVnf","vnf"],[1,"panel",3,"cu"],[1,"ip-addresses-tables"],[1,"panel",3,"displayedParameters","cu"]],template:function(e,t){1&e&&(he.YNc(0,Dt,2,1,"div",0),he.ALo(1,"async"),he.YNc(2,Zt,19,23,"div",1),he.ALo(3,"async"),he._UZ(4,"p-confirmDialog")),2&e&&(he.Q6J("ngIf",!1===he.lcZ(1,4,t.isReadyForCommission$)&&t.vnfcSharedService.isVcu()),he.xp6(2),he.Q6J("ngIf",he.lcZ(3,6,t.cuState$)),he.xp6(2),he.Akn(he.DdM(8,Rt)))},directives:[i.O5,fe.Q,be.B,Oe,xe.H,we.y,Ee,ke,Le,et,lt,ht,Pt,It],pipes:[i.Ov,Lt],styles:["[_nghost-%COMP%]{display:block;height:100%;background-color:#edf2f5;padding:15px 23px 0 15px} .commission-status.warning-bar .warning-message-container{margin:0} .commission-status.warning-bar .warning-message-container .p-message-info .p-message-wrapper{margin:0 0 15px;padding:0}.cu-status-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:663px 1fr;grid-column-gap:24px;column-gap:24px;margin-bottom:10px}.cu-status-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:24px;column-gap:24px;grid-row-gap:24px;row-gap:24px;align-self:start}.cu-status-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > [_ngcontent-%COMP%]:first-child{grid-column:1/3}.cu-status-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > [_ngcontent-%COMP%]:nth-child(2){grid-row:span 2}.cu-status-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child > *[_ngcontent-%COMP%]{align-self:start}.cu-status-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){padding-top:13px}.cu-status-container[_ngcontent-%COMP%]   .ip-addresses-tables[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-bottom:24px}.panel[_ngcontent-%COMP%]{display:block}.toolbar[_ngcontent-%COMP%]{display:flex;flex-flow:row;height:35px;align-items:center;border-bottom:1px solid #98a2ae;padding-bottom:10px;padding-top:1px;width:100%}.toolbar[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]{height:36px;padding-left:7px;padding-right:7px}.toolbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:5px}"]}),e})();const Ft=[{path:"",component:n(47712).O,outlet:"content_menu"},{path:"",component:Ut,outlet:"content_center"}];let jt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=he.oAB({type:e}),e.\u0275inj=he.cJS({imports:[[i.ez,o.Bz.forChild(Ft)],o.Bz]}),e})();var $t=n(17513),qt=n(374),Bt=n(94518),Gt=n(2413),Vt=n(41838),Yt=n(19773),Jt=n(88002),Ht=n(5304),Wt=n(33637),Qt=n(25917);let zt=(()=>{class e{constructor(e,t,n,i,o){this.pollingService=e,this.actions$=t,this.vnfcSharedService=n,this.statusService=i,this.oamStatusService=o,this.startCuVnfPolling$=(0,$t.GW)(()=>({scheduler:e=Wt.P}={})=>this.actions$.pipe((0,$t.l4)(y),(0,Yt.zg)(()=>this.pollingService.getTimer(e).pipe((0,c.R)(this.stopCuVnfPolling$),(0,Jt.U)(()=>P()))))),this.stopCuVnfPolling$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(S)),{dispatch:!1}),this.cuVnfRequest$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(P),(0,Yt.zg)(()=>(this.vnfcSharedService.isVmcu()?this.oamStatusService.getCuVnf():this.statusService.getVnf()).pipe((0,Yt.zg)(e=>[O({payload:e})]),(0,Ht.K)(e=>(0,Qt.of)(x(e)))))))}}return e.\u0275fac=function(t){return new(t||e)(he.LFG(Vt.xj),he.LFG($t.eX),he.LFG(ue.Z9),he.LFG(Gt.Bj),he.LFG(W.Bj))},e.\u0275prov=he.Yz7({token:e,factory:e.\u0275fac}),e})();var Kt=n(97759),Xt=n(94612),en=n(44364);const tn="Activation",nn="Deactivation",on="Deactivation",sn={activateCuVnf:{started:{payload:{severity:"info",summary:tn,detail:"gNB CU VNF activity mode change started"}},finished:{payload:{severity:"success",summary:tn,detail:"gNB CU VNF activity mode change finished"}},failed:{payload:{severity:"error",summary:tn,detail:"gNB CU VNF activity mode change failed"}}},deactivateCuVnf:{started:{payload:{severity:"info",summary:nn,detail:"gNB CU VNF activity mode change started"}},finished:{payload:{severity:"success",summary:nn,detail:"gNB CU VNF activity mode change finished"}},failed:{payload:{severity:"error",summary:nn,detail:"gNB CU VNF activity mode change failed"}}},switchoverCuVnf:{started:{payload:{severity:"info",summary:on,detail:"gNB CU VNF switchover started"}},finished:{payload:{severity:"success",summary:on,detail:"gNB CU VNF switchover finished"}},failed:{payload:{severity:"error",summary:on,detail:"gNB CU VNF switchover failed"}}}};let an=(()=>{class e{constructor(e,t,n){this.actions$=e,this.statusService=t,this.pollingService=n,this.notifyActivateVnfStart$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(D),(0,Xt.b)(()=>[(0,en.wN)(sn.activateCuVnf.started)]))),this.setActivationOngoing$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(D),(0,Xt.b)(()=>[j()]))),this.activateVnfStart$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(D),(0,Yt.zg)(()=>this.executeActivate().pipe((0,Ht.K)(e=>(0,Qt.of)((0,en.wN)(sn.activateCuVnf.failed),$())))))),this.activateVnfFinish$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(Z),(0,Xt.b)(e=>[(0,en.wN)(sn.activateCuVnf.finished),F({actionId:e.response.id}),$()]))),this.activateVnfFail$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(R),(0,Xt.b)(e=>[(0,en.wN)(sn.activateCuVnf.failed),F({actionId:e.response.id}),$()]))),this.activateVnfError$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(U),(0,Xt.b)(()=>[(0,en.wN)(sn.activateCuVnf.failed),$()]))),this.sendDeleteActivationActionSignal$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(F),(0,Yt.zg)(e=>this.statusService.deleteCuVnfActivation({operationId:e.actionId}))),{dispatch:!1}),this.executeActivate=()=>this.pollingService.executeAction({endpointResponseSerializer:({id:e,errorMessage:t,status:n})=>({actionId:e,status:n,errorMessage:t}),requestEndpoint:()=>this.statusService.activateCuVnf(),requestParams:{body:{}},pollingEndpoint:({actionId:e})=>this.statusService.getCuVnfActivation({operationId:e}),onActionSuccess:Z,onActionFailure:R,onActionError:U})}}return e.\u0275fac=function(t){return new(t||e)(he.LFG($t.eX),he.LFG(W.Bj),he.LFG(Vt.xj))},e.\u0275prov=he.Yz7({token:e,factory:e.\u0275fac}),e})(),rn=(()=>{class e{constructor(e,t,n){this.actions$=e,this.statusService=t,this.pollingService=n,this.notifyDeactivateVnfStart$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(G),(0,Xt.b)(()=>[(0,en.wN)(sn.deactivateCuVnf.started)]))),this.setDeactivationOngoing$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(G),(0,Xt.b)(()=>[q()]))),this.deactivateVnfStart$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(G),(0,Yt.zg)(()=>this.executeDeactivate().pipe((0,Ht.K)(e=>(0,Qt.of)((0,en.wN)(sn.deactivateCuVnf.failed),B())))))),this.deactivateVnfFinish$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(V),(0,Xt.b)(e=>[(0,en.wN)(sn.deactivateCuVnf.finished),H({actionId:e.response.id}),B()]))),this.deactivateVnfFail$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(Y),(0,Xt.b)(e=>[(0,en.wN)(sn.deactivateCuVnf.failed),B(),H({actionId:e.response.id})]))),this.deactivateVnfError$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(J),(0,Xt.b)(()=>[(0,en.wN)(sn.deactivateCuVnf.failed),B()]))),this.sendDeleteDeactivateActionSignal$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(H),(0,Yt.zg)(e=>this.statusService.deleteCuVnfDeactivation({operationId:e.actionId}))),{dispatch:!1}),this.executeDeactivate=()=>this.pollingService.executeAction({endpointResponseSerializer:({id:e,errorMessage:t,status:n})=>({actionId:e,status:n,errorMessage:t}),requestEndpoint:()=>this.statusService.deactivateCuVnf(),requestParams:{body:{}},pollingEndpoint:({actionId:e})=>this.statusService.getCuVnfDeactivation({operationId:e}),onActionSuccess:V,onActionFailure:Y,onActionError:J})}}return e.\u0275fac=function(t){return new(t||e)(he.LFG($t.eX),he.LFG(W.Bj),he.LFG(Vt.xj))},e.\u0275prov=he.Yz7({token:e,factory:e.\u0275fac}),e})(),ln=(()=>{class e{constructor(e,t,n){this.actions$=e,this.statusService=t,this.pollingService=n,this.notifyUnforceSwitchoverStart$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(E),(0,Xt.b)(()=>[(0,en.wN)(sn.switchoverCuVnf.started)]))),this.unforceSwitchoverStart$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(E),(0,Yt.zg)(()=>this.executeUnforceSwitchover().pipe((0,Ht.K)(e=>(0,Qt.of)((0,en.wN)(sn.switchoverCuVnf.failed))))))),this.unforceSwitchoverFinish$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(M),(0,Xt.b)(e=>[(0,en.wN)(sn.switchoverCuVnf.finished),L({actionId:e.response.id})]))),this.unforceSwitchoverFail$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(k),(0,Xt.b)(e=>[(0,en.wN)(sn.switchoverCuVnf.failed),L({actionId:e.response.id})]))),this.unforceSwitchoverError$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(N),(0,Xt.b)(()=>[(0,en.wN)(sn.switchoverCuVnf.failed)]))),this.sendDeleteUnforceSwitchoverSignal$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(L),(0,Yt.zg)(e=>this.statusService.deleteCuVnfActivation({operationId:e.actionId}))),{dispatch:!1}),this.notifyForceSwitchoverStart$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(w),(0,Xt.b)(()=>[(0,en.wN)(sn.switchoverCuVnf.started)]))),this.forceSwitchoverStart$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(w),(0,Yt.zg)(()=>this.executeForceSwitchover().pipe((0,Ht.K)(e=>(0,Qt.of)((0,en.wN)(sn.switchoverCuVnf.failed))))))),this.forceSwitchoverFinish$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(A),(0,Xt.b)(e=>[(0,en.wN)(sn.switchoverCuVnf.finished),I({actionId:e.response.id})]))),this.forceSwitchoverFail$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(_),(0,Xt.b)(e=>[(0,en.wN)(sn.switchoverCuVnf.failed),I({actionId:e.response.id})]))),this.forceSwitchoverError$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(T),(0,Xt.b)(()=>[(0,en.wN)(sn.switchoverCuVnf.failed)]))),this.sendDeleteForceSwitchoverSignal$=(0,$t.GW)(()=>this.actions$.pipe((0,$t.l4)(I),(0,Yt.zg)(e=>this.statusService.deleteCuVnfForcedActivation({operationId:e.actionId}))),{dispatch:!1}),this.executeUnforceSwitchover=()=>this.pollingService.executeAction({endpointResponseSerializer:({id:e,errorMessage:t,status:n})=>({actionId:e,status:n,errorMessage:t}),requestEndpoint:()=>this.statusService.activateCuVnf(),requestParams:{body:{}},pollingEndpoint:({actionId:e})=>this.statusService.getCuVnfActivation({operationId:e}),onActionSuccess:M,onActionFailure:k,onActionError:N}),this.executeForceSwitchover=()=>this.pollingService.executeAction({endpointResponseSerializer:({id:e,errorMessage:t,status:n})=>({actionId:e,status:n,errorMessage:t}),requestEndpoint:()=>this.statusService.forcefullyActivateCuVnf(),requestParams:{body:{}},pollingEndpoint:({actionId:e})=>this.statusService.getCuVnfForcedActivation({operationId:e}),onActionSuccess:A,onActionFailure:_,onActionError:T})}}return e.\u0275fac=function(t){return new(t||e)(he.LFG($t.eX),he.LFG(W.Bj),he.LFG(Vt.xj))},e.\u0275prov=he.Yz7({token:e,factory:e.\u0275fac}),e})();var cn=n(74940),dn=n(50632),un=n(11550),pn=n(25616),gn=n(12205),hn=n(47702),mn=n(28061);let fn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=he.oAB({type:e}),e.\u0275inj=he.cJS({providers:[i.rS,ct],imports:[[Q.y$Z,jt,i.ez,Q.QGW,mt.U$,qt.o9,Ye.oS,s.Aw.forFeature(de.UN,de.I6),s.Aw.forFeature(z,se),$t.sQ.forFeature([zt,an,rn,ln]),cn.U.withSaveConfigurationNotifications(dn.S.saveConfiguration),Bt.V,un.O,fe.D,Q.q_q,Q.gkd,Q.EJq,Q.lEK,gn.s,_e.u5,me.m8,_e.UX,Q.YI8,Ie.cc,Kt.Us,pn.FZ,Q.Xn,hn.R7,mn.L,Q.hXG]]}),e})()},4225:(e,t,n)=>{"use strict";n.d(t,{FR:()=>o,XE:()=>s,i$:()=>a,FE:()=>r,KI:()=>l,Bo:()=>c,Qp:()=>d,u3:()=>u,np:()=>p});var i=n(62800),o=(()=>(function(e){e.triggerResetCuAction="[User] trigger reset cu action",e.sendCuResetRequest="[Effect] sendCuResetRequest",e.watchResetOperationStatus="[Effect] watchResetOperationStatus",e.watchConnectionRestored="[Effect] watchConnectionRestored",e.setCuResetStatus="[Effect] setCuResetStatus",e.sendCuResetRequestError="[Effect] sendCuResetRequestError",e.watchResetOperationStatusError="[Effect] watchResetOperationStatusError",e.cuResetOperationFinished="[Effect] cuResetOperationFinished",e.deleteCuResetOperationSucceeded="[Effect] deleteCuResetOperationSucceeded",e.deleteCuResetOperationFailed="[Effect] deleteCuResetOperationFailed"}(o||(o={})),o))();const s=(0,i.PH)(o.triggerResetCuAction),a=(0,i.PH)(o.sendCuResetRequest),r=(0,i.PH)(o.watchResetOperationStatus,(0,i.Ky)()),l=(0,i.PH)(o.watchConnectionRestored,(0,i.Ky)()),c=(0,i.PH)(o.setCuResetStatus,(0,i.Ky)()),d=(0,i.PH)(o.sendCuResetRequestError,(0,i.Ky)()),u=(0,i.PH)(o.watchResetOperationStatusError,(0,i.Ky)()),p=(0,i.PH)(o.cuResetOperationFinished,(0,i.Ky)())},37005:(e,t,n)=>{"use strict";n.d(t,{Nu:()=>s,zC:()=>a,sY:()=>r,Ly:()=>l,h3:()=>c,Bc:()=>d,Cn:()=>u,S6:()=>p,cw:()=>g});var i=n(62800),o=(()=>(function(e){e.StartPolling="[Operations dashboard] Start polling current plan availability",e.StopPolling="[Operations dashboard] Stop polling current plan availability",e.Check="[Operations dashboard] Check current plan availability",e.Set="[Operations dashboard] Set current plan availability",e.RequestFile="[User] [Operations dashboard] Request configuration file",e.SaveFile="[Operations dashboard] Save configuration file",e.DeleteFile="[Operations dashboard] Delete configuration file",e.RequestFail="[Operations dashboard] Request configuration file fail",e.RequestError="[Operations dashboard] Request configuration file error"}(o||(o={})),o))();const s=(0,i.PH)(o.StartPolling),a=(0,i.PH)(o.StopPolling),r=(0,i.PH)(o.Check),l=(0,i.PH)(o.Set,(0,i.Ky)()),c=(0,i.PH)(o.RequestFile),d=(0,i.PH)(o.SaveFile,(0,i.Ky)()),u=(0,i.PH)(o.DeleteFile,(0,i.Ky)()),p=(0,i.PH)(o.RequestFail,(0,i.Ky)()),g=(0,i.PH)(o.RequestError,(0,i.Ky)())},7576:(e,t,n)=>{"use strict";n.d(t,{s:()=>T});var i=n(17513),o=n(25917),s=n(9112),a=n(33637),r=n(19773),l=n(88002),c=n(5304),d=n(57057),u=n(45435),p=n(15257),g=n(94612),h=n(63282),m=n(4225),f=n(44364),b=n(88565),C=n(89651),v=n(50632),y=n(62800),S=n(40365),P=n(74788),O=n(65792),x=n(59746),w=n(89898),A=n(56554);let _=(()=>{class e{constructor(e){this.ngZone=e}getDelayedObservable(e,t,n){return e.pipe((0,O.g)(n,(0,w.i)(this.ngZone,t)),(0,x.QV)((0,A.Q)(this.ngZone,t)))}}return e.\u0275fac=function(t){return new(t||e)(P.LFG(P.R0b))},e.\u0275prov=P.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),T=(()=>{class e{constructor(e,t,n,b,C){this.actions$=e,this.statusService=t,this.delayedPipeService=n,this.pollingService=b,this.store=C,this.TriggerResetCuAction$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(m.FR.triggerResetCuAction),(0,r.zg)(()=>[(0,f.wN)(v.S.cuReset.started),(0,m.Bo)({payload:"ongoing"}),(0,m.i$)()]))),this.SendCuResetRequest$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(m.FR.sendCuResetRequest),(0,r.zg)(()=>this.statusService.resetCu().pipe((0,l.U)(e=>(0,m.FE)({payload:e})),(0,c.K)(e=>(0,o.of)((0,m.Qp)({payload:e}))))))),this.SendCuResetRequestError$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(m.FR.sendCuResetRequestError),(0,r.zg)(e=>[(0,f.wN)(v.S.cuReset.failed),(0,m.Bo)({payload:"failure"})]))),this.WatchResetOperationStatusError$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(m.FR.watchResetOperationStatusError),(0,d.M)(this.store.select(S.ei)),(0,u.h)(([,e])=>!!e),(0,r.zg)(()=>[(0,f.wN)(v.S.cuReset.failed),(0,m.Bo)({payload:"failure"})]))),this.WatchConnectionRestored$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(m.KI),(0,r.zg)(e=>(0,s.aj)([(0,o.of)(e),this.store.pipe((0,y.Ys)(S.ei),(0,u.h)(e=>!!e),(0,p.q)(1))])),(0,r.zg)(([{operationId:e},t])=>[(0,m.Bo)({payload:"success"}),(0,f.wN)(v.S.cuReset.finished),(0,m.np)({operationId:e})]))),this.WatchResetOperationStatus$=(0,i.GW)(()=>(e=a.P)=>this.actions$.pipe((0,i.l4)(m.FR.watchResetOperationStatus),(0,d.M)(this.store.select(S.ei)),(0,r.zg)(([{payload:{id:t}},n])=>n?this.statusService.getCuReset({operationId:t}).pipe((0,g.b)(t=>{const n=t.status;return"ongoing"===n?this.delayedPipeService.getDelayedObservable((0,o.of)([(0,m.Bo)({payload:"ongoing"}),(0,m.FE)({payload:t})]),e,this.pollingService.POLLING_PERIOD_MS):(0,o.of)("success"===n?[(0,m.Bo)({payload:"success"}),(0,f.wN)(v.S.cuReset.finished),(0,m.np)({operationId:t.id})]:[(0,m.Bo)({payload:"failure"}),(0,f.wN)(v.S.cuReset.failed),(0,m.np)({operationId:t.id})])}),(0,h.J)(),(0,c.K)(e=>this.store.select(S.EP).pipe((0,g.b)(n=>(0,o.of)(n?(0,m.KI)({operationId:t}):(0,m.u3)({payload:e}))),(0,p.q)(1)))):(0,o.of)((0,m.KI)({operationId:t})))))}}return e.\u0275fac=function(t){return new(t||e)(P.LFG(i.eX),P.LFG(b.Bj),P.LFG(_),P.LFG(C.x),P.LFG(y.yh))},e.\u0275prov=P.Yz7({token:e,factory:e.\u0275fac}),e})()},50632:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});const i="CU Reset",o="Save CU Configuration",s={cuReset:{started:{payload:{severity:"info",summary:i,detail:"CU reset operation started"}},finished:{payload:{severity:"success",summary:i,detail:"CU reset operation finished"}},failed:{payload:{severity:"error",summary:i,detail:"CU reset operation failed"}}},saveConfiguration:{started:{payload:{severity:"info",summary:o,detail:"Save CU configuration started"}},finished:{payload:{severity:"success",summary:o,detail:"Save CU configuration finished"}},failed:{payload:{severity:"error",summary:o,detail:"Save CU configuration failed"}}}}},81948:(e,t,n)=>{"use strict";n.d(t,{UN:()=>a,I6:()=>l,t2:()=>d});var i=n(62800),o=n(60697),s=n(4225);const a="dashboard-operations",r=(0,i.Lq)({cuResetState:o.nD9.ENABLED},(0,i.on)(s.Bo,(e,{payload:t})=>Object.assign(Object.assign({},e),"ongoing"===t?{cuResetState:o.nD9.ONGOING}:{cuResetState:o.nD9.ENABLED})));function l(e,t){return r(e,t)}const c=(0,i.ZF)(a),d=(0,i.P1)(c,e=>e.cuResetState)},38870:(e,t,n)=>{"use strict";n.d(t,{UN:()=>s,I6:()=>r,UW:()=>l});var i=n(37005),o=n(62800);const s="saveConfigurationDashboard",a=(0,o.Lq)({currentPlanAvailability:!1,saveOngoing:!1},(0,o.on)(i.h3,e=>Object.assign(Object.assign({},e),{saveOngoing:!0})),(0,o.on)(i.Ly,(e,{payload:t})=>Object.assign(Object.assign({},e),{currentPlanAvailability:t})),(0,o.on)(i.cw,i.S6,i.Cn,e=>Object.assign(Object.assign({},e),{saveOngoing:!1})));function r(e,t){return a(e,t)}const l=(0,o.ZF)(s)},74940:(e,t,n)=>{"use strict";n.d(t,{U:()=>L});var i=n(12057),o=n(17513),s=n(62800),a=n(81948),r=n(95522),l=n(80222),c=n(37005),d=n(33637),u=n(25917),p=n(19773),g=n(46782),h=n(88002),m=n(87479),f=n(5304),b=n(94612),C=n(57057),v=n(68307),y=n(71566),S=n(21561),P=n(44364),O=n(2413),x=n(74788);const w=new x.OlP("OPERATION_NOTIFICATION_TOKEN");var A=n(1429),_=n(15469),T=n(55893),I=n(62959);let E=(()=>{class e{constructor(e,t,n,i,a,r,l,O){this.actions$=e,this.pollingService=t,this.peService=n,this.cmService=i,this.fileSaverService=a,this.layoutsConfigService=r,this.store=l,this.operationNotifications=O,this.stopPollingCurrentPlanAvailability$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(c.zC)),{dispatch:!1}),this.startPollingCurrentPlanAvailability$=(0,o.GW)(()=>({scheduler:e=d.P}={})=>this.actions$.pipe((0,o.l4)(c.Nu),(0,p.zg)(()=>this.pollingService.getTimer(e).pipe((0,g.R)(this.stopPollingCurrentPlanAvailability$),(0,h.U)(c.sY))))),this.checkCurrentPlanAvailability$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(c.sY),(0,m.z)(()=>this.peService.checkCurrentPlan().pipe((0,h.U)(()=>(0,c.Ly)({payload:!0})),(0,f.K)(()=>(0,u.of)((0,c.Ly)({payload:!1}))))))),this.requestCurrentConfigurationFileNotification$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(c.h3),(0,h.U)(()=>(0,P.wN)(this.operationNotifications.started)))),this.requestCurrentConfigurationFile$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(c.h3),(0,b.b)(()=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:null},pollingEndpoint:this.pollingEndpoint,onActionSuccess:c.Bc,onActionFailure:c.S6,onActionError:c.cw}).pipe((0,f.K)(e=>(0,u.of)((0,c.cw)({error:e}))))))),this.saveCurrentConfigurationFile$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(c.Bc),(0,C.M)(this.store.pipe((0,s.Ys)(this.layoutsConfigService.getStatusBarModel.selectModelState))),(0,p.zg)(([{response:e},t])=>this.cmService.getUploadFile({operationId:e.actionId}).pipe((0,v.b)(this.saveFile(t)),(0,b.b)(()=>[(0,P.wN)(this.operationNotifications.finished),(0,c.Cn)({response:e})]),(0,f.K)(e=>(0,u.of)((0,c.cw)({error:e}))))))),this.requestCurrentConfigurationFileFailNotification$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(c.S6),(0,h.U)(()=>(0,P.wN)(this.operationNotifications.failed)))),this.requestCurrentConfigurationFileFail$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(c.S6),(0,b.b)(({response:e})=>this.cmService.deleteUpload({operationId:e.actionId}).pipe((0,f.K)(e=>(0,u.of)(e))))),{dispatch:!1}),this.deleteCurrentConfigurationFile$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(c.Cn),(0,b.b)(({response:e})=>this.cmService.deleteUpload({operationId:e.actionId}).pipe((0,f.K)(e=>(0,u.of)(e))))),{dispatch:!1}),this.requestCurrentConfigurationFileError$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(c.cw),(0,h.U)(()=>(0,P.wN)(this.operationNotifications.failed)))),this.saveFile=e=>t=>{this.fileSaverService.save(t,(0,A.p$)(_.y.FullRuntimeConfiguration,"dashboard","",e)+".xml")},this.requestEndpoint=()=>this.cmService.startUpload({xOamClientType:y.B.Em}).pipe((0,h.U)(S.qO)),this.pollingEndpoint=({actionId:e})=>this.cmService.getUpload({operationId:e}).pipe((0,h.U)(S.qO))}}return e.\u0275fac=function(t){return new(t||e)(x.LFG(o.eX),x.LFG(r.xj),x.LFG(O.qb),x.LFG(l.i),x.LFG(T.m9),x.LFG(I.p),x.LFG(s.yh),x.LFG(w))},e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac}),e})();var M=n(7576),k=n(38870),N=n(62315);let L=(()=>{class e{static withSaveConfigurationNotifications(t){return{ngModule:e,providers:[{provide:w,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({imports:[[i.ez,o.sQ.forFeature([E,M.s]),s.Aw.forFeature(k.UN,k.I6),s.Aw.forFeature(a.UN,a.I6),N.K]]}),e})()},33346:(e,t,n)=>{"use strict";n.d(t,{V:()=>d});var i=n(74788),o=n(62800),s=n(12021),a=n(12057);function r(e,t){1&e&&(i.ynx(0),i.TgZ(1,"div",6),i.Hsn(2,1),i.qZA(),i._UZ(3,"div",3),i.BQk())}const l=["*",[["","actions",""]]],c=["*","[actions]"];let d=(()=>{class e{constructor(e,t){this.store=e,this.router=t}ngOnInit(){this.currentRoute=this.router.url}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.yh),i.Y36(s.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["webem-details-panel"]],inputs:{icon:"icon",header:"header",showActions:"showActions"},ngContentSelectors:c,decls:8,vars:1,consts:[[1,"details-panel"],[1,"details-panel-header-section"],[1,"details-panel-header-title"],[1,"divider-line"],[4,"ngIf"],[1,"details-panel-body-section"],[1,"details-panel-actions-section"]],template:function(e,t){1&e&&(i.F$t(l),i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._uU(3," Details "),i.qZA(),i.qZA(),i._UZ(4,"div",3),i.YNc(5,r,4,0,"ng-container",4),i.TgZ(6,"div",5),i.Hsn(7),i.qZA(),i.qZA()),2&e&&(i.xp6(5),i.Q6J("ngIf",t.showActions))},directives:[a.O5],styles:[".details-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;margin-left:10px;margin-right:10px;overflow-x:hidden}.details-panel[_ngcontent-%COMP%]   .details-panel-actions-section[_ngcontent-%COMP%]{width:100%;padding:10px;height:44px;min-height:44px;display:flex;align-items:center}.details-panel[_ngcontent-%COMP%]   .details-panel-body-section[_ngcontent-%COMP%]{overflow:auto;padding-top:10px;height:calc(100% - 35px)}.details-panel[_ngcontent-%COMP%]   .details-panel-body-section[_ngcontent-%COMP%]     .no-selection{color:#98a2ae;font-size:14px;line-height:33px}.details-panel[_ngcontent-%COMP%]   .details-panel-body-section[_ngcontent-%COMP%]     .no-selection img{width:24px;margin-right:6px}.details-panel[_ngcontent-%COMP%]   .details-panel-body-section[_ngcontent-%COMP%]     .no-counters-retrieve{color:#98a2ae;font-size:14px;line-height:30px}.details-panel[_ngcontent-%COMP%]   .details-panel-body-section[_ngcontent-%COMP%]     .no-counters-retrieve img{width:24px;margin-right:6px}.details-panel[_ngcontent-%COMP%]   .details-panel-body-section[_ngcontent-%COMP%]     .no-counters-retrieve span{padding-bottom:6px}.divider-line[_ngcontent-%COMP%]{background:#98a2ae;padding-bottom:1px}.details-panel-header-section[_ngcontent-%COMP%]{width:100%;display:flex;margin-top:10px}.details-panel-header-section[_ngcontent-%COMP%]   .details-panel-header-title[_ngcontent-%COMP%]{color:#4d5766;flex-grow:1;font-size:16px}[_nghost-%COMP%]     .details-panel-body-section>*{display:block}[_nghost-%COMP%]     .details-panel-body-section>:not(:last-child){padding-bottom:30px}"],changeDetection:0}),e})()},36900:(e,t,n)=>{"use strict";n.d(t,{Y:()=>O});var i=n(74788),o=n(41146),s=n(44501);let a=(()=>{class e{constructor(e){this.tpl=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","webemSeparateContent",""]]}),e})(),r=(()=>{class e{constructor(e){this.tpl=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","weightFactorDetailTabContent",""]]}),e})();var l=n(44748),c=n(12057),d=n(33013),u=n(87906);function p(e,t){1&e&&i.GkF(0)}function g(e,t){1&e&&i.GkF(0)}const h=function(){return{}};function m(e,t){if(1&e&&i.YNc(0,g,1,0,"ng-container",2),2&e){const e=i.oxw();i.Q6J("ngTemplateOutlet",e.parametersContentComponent)("ngTemplateOutletContext",i.DdM(2,h))}}function f(e,t){1&e&&i.GkF(0)}function b(e,t){if(1&e&&i.YNc(0,f,1,0,"ng-container",2),2&e){const e=i.oxw(2);i.Q6J("ngTemplateOutlet",e.separateContentComponent)("ngTemplateOutletContext",i.DdM(2,h))}}function C(e,t){1&e&&(i.TgZ(0,"p-tabPanel",7),i.YNc(1,b,1,3,"ng-template",4),i.qZA())}function v(e,t){1&e&&i.GkF(0)}function y(e,t){if(1&e&&i.YNc(0,v,1,0,"ng-container",2),2&e){const e=i.oxw(3);i.Q6J("ngTemplateOutlet",e.weightFactorDetailTabContentDirective)("ngTemplateOutletContext",i.DdM(2,h))}}function S(e,t){1&e&&(i.ynx(0),i.TgZ(1,"p-tabPanel",9),i.YNc(2,y,1,3,"ng-template",4),i.qZA(),i.BQk())}function P(e,t){if(1&e&&(i.ynx(0),i.YNc(1,S,3,0,"ng-container",8),i.BQk()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",e.weightFactorDetailTabContentDirective)}}let O=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["webem-status-tabbed-panel"]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,s.r,7,i.Rgc),i.Suo(n,o.w,7,i.Rgc),i.Suo(n,a,7,i.Rgc),i.Suo(n,r,7,i.Rgc)),2&e){let e;i.iGM(e=i.CRH())&&(t.overviewContentComponent=e.first),i.iGM(e=i.CRH())&&(t.parametersContentComponent=e.first),i.iGM(e=i.CRH())&&(t.separateContentComponent=e.first),i.iGM(e=i.CRH())&&(t.weightFactorDetailTabContentDirective=e.first)}},inputs:{isShowEacTab:"isShowEacTab"},decls:8,vars:6,consts:[[1,"tabbed-panel"],["header","Overview",3,"selected"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","Parameters"],["pTemplate","content"],["header","EAC",4,"ngIf"],[4,"oamFeatureFlag"],["header","EAC"],[4,"ngIf"],["header","Weight Factor"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"p-tabView"),i.TgZ(2,"p-tabPanel",1),i.YNc(3,p,1,0,"ng-container",2),i.qZA(),i.TgZ(4,"p-tabPanel",3),i.YNc(5,m,1,3,"ng-template",4),i.qZA(),i.YNc(6,C,2,0,"p-tabPanel",5),i.YNc(7,P,2,1,"ng-container",6),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("selected",!0),i.xp6(1),i.Q6J("ngTemplateOutlet",t.overviewContentComponent)("ngTemplateOutletContext",i.DdM(5,h)),i.xp6(3),i.Q6J("ngIf",t.isShowEacTab),i.xp6(1),i.Q6J("oamFeatureFlag","WIP_CB007433_WEIGHT_FACTOR_TAB"))},directives:[l.xf,l.x4,c.tP,d.jx,c.O5,u.H],styles:["[_nghost-%COMP%]{display:block;height:100%}.tabbed-panel[_ngcontent-%COMP%]{margin-top:-19px;height:calc(100% - 25px)}.tabbed-panel[_ngcontent-%COMP%]     p-tabview{height:100%;display:block}.tabbed-panel[_ngcontent-%COMP%]     p-tabview ui-webem-details-section{margin-top:30px;display:block}.tabbed-panel[_ngcontent-%COMP%]     p-tabview ui-webem-details-section-text{margin-top:30px;display:block}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview{height:100%}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-panel{height:100%;display:flex;align-items:stretch;flex-direction:column}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-panels{background-color:#fff;height:100%;padding:10px 0 0;overflow-y:hidden;overflow-x:hidden}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-nav{margin-left:0;margin-right:0;border-radius:0}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-nav li:not(.p-highlight):not(.p-disabled):hover{border:none;border-bottom:2px solid #ccf4ff}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-nav li.p-highlight:hover{border:none;border-bottom:3px solid #124191}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-nav li{border:none}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-nav li:focus{box-shadow:none}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-nav li a span{font-size:12px;color:#1b1b1b}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-nav .p-highlight{background-color:#fff;border:none;border-bottom:3px solid #124191}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-nav .p-highlight .p-tabview-title{color:#124191;font-weight:700}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-nav .p-highlight:hover{background-color:#ccf4ff}.tabbed-panel[_ngcontent-%COMP%]     .p-tabview .p-tabview-nav .p-tabview-title{line-height:18px}"]}),e})()},44501:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var i=n(74788);let o=(()=>{class e{constructor(e){this.tpl=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","webemOverviewContent",""]]}),e})()},41146:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var i=n(74788);let o=(()=>{class e{constructor(e){this.tpl=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","webemParametersContent",""]]}),e})()},13994:(e,t,n)=>{"use strict";n.d(t,{ps:()=>s,DC:()=>a,VB:()=>r,zy:()=>l,H_:()=>c,Nv:()=>d,wM:()=>u,eB:()=>p,T6:()=>g,It:()=>h,g0:()=>m,OF:()=>f,i9:()=>b,ls:()=>C,vZ:()=>v,_E:()=>y,rg:()=>S,OI:()=>P,X3:()=>O,fW:()=>x,o1:()=>w,IJ:()=>A,iY:()=>_,WP:()=>T,CD:()=>I,J7:()=>E,t4:()=>M});var i=n(62800),o=(()=>(function(e){e.unlockDuFailure="[Effect] Unlock DU operation failure",e.unlockDuHttpError="[Effect] Unlock DU operation http error",e.unlockDuActionOngoing="[Effect] Unlock DU operation ongoing",e.unlockDuActionSuccess="[Effect] Unlock DU operation success",e.duStoreError="[Effect] DU store error",e.lockDuFailure="[Effect] Lock du failure",e.lockDuHttpError="[Effect] Lock DU http error",e.lockDuActionOngoing="[Effect] Lock DU action ongoing",e.lockDuActionSuccess="[Effect] Lock DU operation success",e.updateDUs="[Effect] update DUs",e.startDUsPolling="[User] start DUs polling",e.stopDUsPolling="[User] stop DUs polling",e.dUsRequest="[Effect] DUs request",e.dUsPollingError="[Effect] DUs polling error",e.lockDus="[User] lockDus",e.lockDu="[Effect] lockDu",e.unlockDus="[User] unlockDus",e.unlockDu="[Effect] unlockDu",e.unlockDusFinished="[Effect] Unlock DUs finished",e.lockDusFinished="[Effect] Lock DUs finished",e.resetDusAction="[Effect] resetDusAction",e.selectDu="[User] Select du tile",e.deleteDuOperationSucceeded="[Effect] Cell operation delete succeeded",e.deleteDuOperationFailed="[Effect] Cell operation delete failed",e.startInitialDusPolling="[Effect] Start initial DUs polling",e.stopInitialDusPolling="[Effect] Stop initial DUs polling",e.addDusSubscriber="[Effect] Add DUs subscriber",e.removeDusSubscriber="[Effect] Remove DUs subscriber",e.updateDusRevision="[Effect] Update DUs revision"}(o||(o={})),o))();const s=(0,i.PH)(o.resetDusAction),a=(0,i.PH)(o.updateDUs,(0,i.Ky)()),r=(0,i.PH)(o.startDUsPolling),l=(0,i.PH)(o.stopDUsPolling),c=(0,i.PH)(o.dUsRequest),d=(0,i.PH)(o.dUsPollingError,(0,i.Ky)()),u=(0,i.PH)(o.duStoreError,(0,i.Ky)()),p=(0,i.PH)(o.lockDuActionSuccess,(0,i.Ky)()),g=(0,i.PH)(o.lockDuActionOngoing,(0,i.Ky)()),h=(0,i.PH)(o.lockDuHttpError,(0,i.Ky)()),m=(0,i.PH)(o.lockDuFailure,(0,i.Ky)()),f=(0,i.PH)(o.unlockDuActionSuccess,(0,i.Ky)()),b=(0,i.PH)(o.unlockDuActionOngoing,(0,i.Ky)()),C=(0,i.PH)(o.unlockDuHttpError,(0,i.Ky)()),v=(0,i.PH)(o.unlockDuFailure,(0,i.Ky)()),y=(0,i.PH)(o.unlockDus,(0,i.Ky)()),S=(0,i.PH)(o.unlockDu,(0,i.Ky)()),P=(0,i.PH)(o.lockDus,(0,i.Ky)()),O=(0,i.PH)(o.lockDu,(0,i.Ky)()),x=(0,i.PH)(o.selectDu,(0,i.Ky)()),w=(0,i.PH)(o.deleteDuOperationSucceeded),A=(0,i.PH)(o.deleteDuOperationFailed,(0,i.Ky)()),_=(0,i.PH)(o.startInitialDusPolling),T=(0,i.PH)(o.stopInitialDusPolling),I=(0,i.PH)(o.addDusSubscriber),E=(0,i.PH)(o.removeDusSubscriber),M=(0,i.PH)(o.updateDusRevision,(0,i.Ky)())},58111:(e,t,n)=>{"use strict";n.d(t,{yN:()=>a,VL:()=>r,E3:()=>l,I6:()=>C});var i=n(23607),o=n(62800),s=n(13994);const a="duStore",r=(0,i.H)({selectId:e=>e.id,sortComparer:(e,t)=>Number.parseInt(e.id,10)-Number.parseInt(t.id,10)}),l={subscribers:0,updateVersion:"",selectedDuId:"-1",dus:r.getInitialState()},c=(0,o.on)(s.DC,(e,{payload:{created:t,removed:n,updated:i,revision:o}})=>{let s=r.removeMany(n,e.dus);return s=r.addMany(t,s),s=r.upsertMany(i,s),Object.assign(Object.assign({},e),{updateVersion:o,dus:s})}),d=(0,o.on)(s.ps,()=>Object.assign({},l)),u=(0,o.on)(s.iY,()=>Object.assign(Object.assign({},l),{subscribers:1})),p=(0,o.on)(s.WP,()=>Object.assign({},l)),g=(0,o.on)(s.CD,e=>Object.assign(Object.assign({},e),{subscribers:e.subscribers+1})),h=(0,o.on)(s.J7,e=>Object.assign(Object.assign({},e),{subscribers:e.subscribers-1})),m=(0,o.on)(s.t4,(e,{revision:t})=>Object.assign(Object.assign({},e),{updateVersion:t})),f=(0,o.on)(s.fW,(e,{selectedDuId:t})=>Object.assign(Object.assign({},e),{selectedDuId:t})),b=(0,o.Lq)(l,c,u,p,d,g,h,f,m);function C(e,t){return b(e,t)}},67223:(e,t,n)=>{"use strict";n.d(t,{cD:()=>a,sM:()=>r,Pm:()=>l,ue:()=>c,ZL:()=>d});var i=n(62800),o=n(58111);const s=(0,i.ZF)(o.yN),a=(0,i.P1)(s,e=>o.VL.getSelectors().selectAll(e.dus)),r=(0,i.P1)(s,(e,{id:t})=>o.VL.getSelectors().selectEntities(e.dus)[t]),l=(0,i.P1)(s,e=>e.updateVersion),c=(0,i.P1)(s,e=>e.subscribers),d=(0,i.P1)(s,e=>e.selectedDuId)},46424:(e,t,n)=>{"use strict";n.d(t,{w:()=>j});var i=n(12057),o=n(62800),s=n(58111),a=n(17513),r=n(89651),l=n(2413),c=n(79765),d=n(25917),u=n(33637),p=n(57057),g=n(88002),h=n(94612),m=n(87479),f=n(5304),b=n(11627),C=n(46782),v=n(96736),y=n(13994),S=n(44364),P=n(67223),O=n(74788);let x=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.pollingService=t,this.statusService=n,this.store=i,this.updateDusRevisionProgressEffect$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.t4),(0,p.M)(this.store.select(P.Pm)),(0,g.U)(([{revision:e},t])=>{e===t&&this.dusRequestInProgress$.complete()})),{dispatch:!1}),this.updateDusProgressEffect$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.DC),(0,p.M)(this.store.select(P.Pm)),(0,g.U)(([{payload:e},t])=>{e.revision===t&&this.dusRequestInProgress$.complete()})),{dispatch:!1}),this.dusPollingError$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.Nv),(0,h.b)(()=>[(0,S.wN)({payload:{severity:"error",summary:"Updating DU list failed"}}),(0,y.ps)()]))),this.dusRequest$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.H_),(0,g.U)(e=>(this.dusRequestInProgress$=new c.xQ,e)),(0,p.M)(this.store.pipe((0,o.Ys)(P.Pm))),(0,m.z)(([,e])=>(e!==s.E3.updateVersion?this.statusService.getDusDiff({oldRevision:e}):this.statusService.getDusDiff()).pipe((0,g.U)(e=>e.created.length||e.updated.length||e.removed.length?(0,y.DC)({payload:e}):(0,y.t4)({revision:e.revision})),(0,f.K)(e=>(0,d.of)((0,y.Nv)({payload:e}))))))),this.stopPolling$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.zy),(0,p.M)(this.store.select(P.ue)),(0,g.U)(([,e])=>e<=1?(0,y.WP)():(0,y.J7)()))),this.stopInitialDusPolling$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.WP)),{dispatch:!1}),this.dusPolling$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.VB),(0,b.j)(e=>(this.dusRequestInProgress$||(this.dusRequestInProgress$=new c.xQ,this.dusRequestInProgress$.complete()),this.dusRequestInProgress$)),(0,p.M)(this.store.select(P.ue)),(0,g.U)(([,e])=>0===e?(0,y.iY)():(0,y.CD)()))),this.startInitialDusPolling$=(0,a.GW)((e=u.P)=>this.actions$.pipe((0,a.l4)(y.iY),(0,h.b)(()=>this.pollingService.getTimer(e).pipe((0,C.R)(this.stopInitialDusPolling$),(0,v.h)((0,y.H_)())))))}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(a.eX),O.LFG(r.x),O.LFG(l.Bj),O.LFG(o.yh))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var w=n(19773),A=n(77267);const _="NRDU-",T="DU Lock",I="DU Unlock",E=e=>({payload:{severity:"info",summary:T,detail:(0,A.R)(e,"lock operation started",_)}}),M=e=>({payload:{severity:"error",summary:T,detail:(0,A.R)(e,"lock operation failed",_)}}),k=e=>({payload:{severity:"info",summary:I,detail:(0,A.R)(e,"unlock operation started",_)}}),N=e=>({payload:{severity:"error",summary:I,detail:(0,A.R)(e,"unlock operation failed",_)}});var L=n(6546);let D=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.lockDuHttpError$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.It),(0,h.b)(({additionalData:{duIds:e}})=>[(0,S.wN)(M(e)),(0,L.R)()]))),this.lockDuSuccess$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.eB),(0,h.b)(({additionalData:{duIds:e}})=>{return[(0,S.wN)((t=e,{payload:{severity:"success",summary:T,detail:(0,A.R)(t,"lock operation finished",_)}})),(0,L.R)()];var t}))),this.lockDuFailed$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.g0),(0,h.b)(({additionalData:{duIds:e}})=>[(0,S.wN)(M(e)),(0,L.R)()]))),this.lockDusStarted$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.OI),(0,h.b)(({duIds:e})=>[(0,S.wN)(E(e)),(0,L.h)()]))),this.lockDuStarted$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.X3),(0,h.b)(({duId:e})=>[(0,S.wN)(E([e])),(0,L.h)()]))),this.lockDu$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.X3),(0,w.zg)(({duId:e})=>this.executeLock([e],!0).pipe((0,f.K)(e=>(0,d.of)((0,y.wM)({error:e}))))))),this.lockDus$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.OI),(0,w.zg)(({duIds:e})=>this.executeLock(e,!0).pipe((0,f.K)(e=>(0,d.of)((0,y.wM)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,errorMessage:t,status:i,detailedStatuses:n}),this.requestEndpoint=({body:e})=>this.statusService.lockDus({body:e}),this.executeLock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getDusLock({operationId:e}),additionalData:{duIds:e},onActionSuccess:t?y.eB:void 0,onActionFailure:y.g0,onActionError:y.It,onActionOngoing:y.T6})}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(a.eX),O.LFG(r.x),O.LFG(l.Bj))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})(),Z=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.unlockDuHttpError$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.ls),(0,h.b)(({additionalData:{duIds:e}})=>[(0,S.wN)(N(e)),(0,L.R)()]))),this.unlockDuSuccess$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.OF),(0,h.b)(({additionalData:{duIds:e}})=>{return[(0,S.wN)((t=e,{payload:{severity:"success",summary:I,detail:(0,A.R)(t,"unlock operation finished",_)}})),(0,L.R)()];var t}))),this.unlockDuFailed$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.vZ),(0,h.b)(({additionalData:{duIds:e}})=>[(0,S.wN)(N(e)),(0,L.R)()]))),this.unlockDusStarted$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y._E),(0,h.b)(({duIds:e})=>[(0,S.wN)(k(e)),(0,L.h)()]))),this.unlockDuStarted$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.rg),(0,h.b)(({duId:e})=>[(0,S.wN)(k([e])),(0,L.h)()]))),this.unlockDu$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.rg),(0,w.zg)(({duId:e})=>this.executeUnlock([e],!0).pipe((0,f.K)(e=>(0,d.of)((0,y.wM)({error:e}))))))),this.unlockDus$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y._E),(0,w.zg)(({duIds:e})=>this.executeUnlock(e,!0).pipe((0,f.K)(e=>(0,d.of)((0,y.wM)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,errorMessage:t,status:i,detailedStatuses:n}),this.requestEndpoint=({body:e})=>this.statusService.unlockDus({body:e}),this.executeUnlock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getDusUnlock({operationId:e}),additionalData:{duIds:e},onActionSuccess:t?y.OF:void 0,onActionFailure:y.vZ,onActionError:y.ls,onActionOngoing:y.i9})}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(a.eX),O.LFG(r.x),O.LFG(l.Bj))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var R=n(74298);let U=(()=>{class e{constructor(e,t){this.actions$=e,this.statusService=t,this.duLockOperationFinished$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.eB,y.g0),(0,w.zg)(({response:{id:e}})=>this.statusService.deleteDusLock({operationId:e}).pipe((0,g.U)(()=>(0,y.o1)()),(0,f.K)(e=>(0,d.of)((0,y.IJ)({error:e}))))))),this.duUnlockOperationFinished$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(y.OF,y.vZ),(0,w.zg)(({response:{id:e}})=>this.statusService.deleteDusUnlock({operationId:e}).pipe((0,g.U)(()=>(0,y.o1)()),(0,f.K)(e=>(0,d.of)((0,y.IJ)({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(a.eX),O.LFG(R.B))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var F=n(98795);let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=O.oAB({type:e}),e.\u0275inj=O.cJS({imports:[[i.ez,F.d,o.Aw.forFeature(s.yN,s.I6),a.sQ.forFeature([x,D,Z,U])]]}),e})()},5234:(e,t,n)=>{"use strict";n.d(t,{Ti:()=>d,wX:()=>l,xW:()=>c});var i=n(12057),o=n(60697),s=n(46239),a=n(25616),r=n(74788);let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,o.EJq,s.E,o.F8l,a.FZ]]}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez]]}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,o.EJq,o.g3K,l,c,s.E]]}),e})()},3507:(e,t,n)=>{"use strict";n.d(t,{l:()=>P});var i=n(38523),o=n(23815),s=n(87519),a=n(74788),r=n(62800),l=n(17393),c=n(75107),d=n(12057),u=n(56177);let p=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){return e?[{key:"NRDU ID",value:e.name},{key:"gNB DU ID",value:e.gnbDuId},{key:"DU name",value:this.nullableValuePipe.transform(e.gnbDuName)}]:[]}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(u.cP,16))},e.\u0275pipe=a.Yjl({name:"formatToDuDetailsProperties",type:e,pure:!0}),e})();var g=n(48015);let h=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){return e?[{key:"F1 link status",value:(0,g.f)(this.nullableValuePipe.transform(e.f1LinkStatus))},{key:"Administrative state",value:(0,g.f)(e.administrativeState)}]:[]}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(u.cP,16))},e.\u0275pipe=a.Yjl({name:"formatToDuDetailsStates",type:e,pure:!0}),e})(),m=(()=>{class e{transform(e){return e?[{key:"Total cells",value:`${e.cellsSummary.basicCellsSummary.administrativeState.locked+e.cellsSummary.basicCellsSummary.administrativeState.unlocked}`},{key:"Cells enabled / disabled",value:`${e.cellsSummary.basicCellsSummary.operationalState.enabled} / ${e.cellsSummary.basicCellsSummary.operationalState.disabled}`},{key:"Cells unlocked / locked",value:`${e.cellsSummary.basicCellsSummary.administrativeState.unlocked} / ${e.cellsSummary.basicCellsSummary.administrativeState.locked}`}]:[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Yjl({name:"formatToDuDetailsStatistics",type:e,pure:!0}),e})(),f=(()=>{class e{transform(e,t){return t?t.filter(({nrDuId:t})=>e.id===t):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Yjl({name:"findCellsByDu",type:e,pure:!0}),e})(),b=(()=>{class e{transform(e){return e.map(e=>e.basicCell.cellName?`${e.basicCell.name} / ${e.basicCell.cellName}`:e.basicCell.name)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Yjl({name:"formatToDuCellsList",type:e,pure:!0}),e})();function C(e,t){if(1&e&&(a._UZ(0,"ui-webem-details-section",8),a.ALo(1,"formatToDuCellsList")),2&e){const e=a.oxw().ngIf;a.Q6J("list",a.lcZ(1,1,e))}}function v(e,t){if(1&e&&(a.TgZ(0,"div"),a.YNc(1,C,2,3,"ui-webem-details-section",7),a.qZA()),2&e){const e=t.ngIf;a.oxw();const n=a.MAs(12);a.xp6(1),a.Q6J("ngIf",e.length)("ngIfElse",n)}}const y=function(){return[""]};function S(e,t){1&e&&a._UZ(0,"ui-webem-details-section",9),2&e&&a.Q6J("list",a.DdM(1,y))}let P=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.allCells$=this.store.select(i.nZ).pipe((0,s.x)(o.isEqual))}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.yh))},e.\u0275cmp=a.Xpm({type:e,selectors:[["webem-du-details"]],inputs:{du:"du",showCellsButtonVisible:"showCellsButtonVisible"},decls:13,vars:18,consts:[["id","du-details-buttons",3,"showCellsButtonVisible","du"],[1,"du-details-section"],["id","du-properties","title","DU properties",3,"data"],["id","du-states","title","DU states",3,"data"],["id","du-statistics","title","DU cells statistics",3,"data"],[4,"ngIf","ngIfElse"],["noCells",""],["id","du-cells","title","DU cells",3,"list",4,"ngIf","ngIfElse"],["id","du-cells","title","DU cells",3,"list"],["id","du-no-cells","title","DU cells not available",3,"list"]],template:function(e,t){if(1&e&&(a._UZ(0,"webem-du-operations-buttons",0),a.TgZ(1,"div",1),a._UZ(2,"ui-webem-details-section",2),a.ALo(3,"formatToDuDetailsProperties"),a._UZ(4,"ui-webem-details-section",3),a.ALo(5,"formatToDuDetailsStates"),a._UZ(6,"ui-webem-details-section",4),a.ALo(7,"formatToDuDetailsStatistics"),a.YNc(8,v,2,2,"div",5),a.ALo(9,"findCellsByDu"),a.ALo(10,"async"),a.qZA(),a.YNc(11,S,1,2,"ng-template",null,6,a.W1O)),2&e){const e=a.MAs(12);a.Q6J("showCellsButtonVisible",t.showCellsButtonVisible)("du",t.du),a.xp6(2),a.Q6J("data",a.lcZ(3,7,t.du)),a.xp6(2),a.Q6J("data",a.lcZ(5,9,t.du)),a.xp6(2),a.Q6J("data",a.lcZ(7,11,t.du)),a.xp6(2),a.Q6J("ngIf",a.xi3(9,13,t.du,a.lcZ(10,16,t.allCells$)))("ngIfElse",e)}},directives:[l.E,c.h,d.O5],pipes:[p,h,m,f,d.Ov,b],styles:[".du-details-section[_ngcontent-%COMP%]{overflow-y:auto;height:100%}#du-properties[_ngcontent-%COMP%]{margin-top:0}#du-cells[_ngcontent-%COMP%]     #du-cells-list ul:not(:last-child){margin-bottom:6px}"],changeDetection:0}),e})()},17393:(e,t,n)=>{"use strict";n.d(t,{E:()=>N});var i=n(49438),o=n(13994),s=n(23815),a=n(95522),r=n(79765),l=n(33637),c=n(46782),d=n(42488),u=n(60697),p=n(22730);const g="Show Cells",h="lock",m="unlock",f="showCells",b="goToPE",C={minWidth:"32px"},v=[{name:"lock-button",model:{icon:"mdi mdi-lock",theme:u.bnJ.Default,iconPosition:"left",label:"Lock DU",length:u.Wmq.Short},action:h,roleAccessFlag:p.M.LOCK_UNLOCK},{name:"unlock-button",model:{icon:"mdi mdi-lock-open-variant-outline",theme:u.bnJ.Default,iconPosition:"left",label:"Unlock DU",length:u.Wmq.Short},action:m,roleAccessFlag:p.M.LOCK_UNLOCK},{name:"show-cells-button",model:{icon:"mdi mdi-hexagon-multiple-outline",theme:u.bnJ.Default,iconPosition:"left",label:g,length:u.Wmq.Short},action:f},{name:"go-to-pe-button",model:{icon:"mdi mdi-exit-to-app",theme:u.bnJ.Default,iconPosition:"left",label:"Go to PE",title:"Go to Parameter Editor",length:u.Wmq.Short},action:b}],y=[{name:"lock-button",model:{title:"Lock DU",icon:"mdi mdi-lock",theme:u.bnJ.Default,iconPosition:"left",length:u.Wmq.Short},action:h,options:C,roleAccessFlag:p.M.LOCK_UNLOCK},{name:"unlock-button",model:{title:"Unlock DU",icon:"mdi mdi-lock-open-variant-outline",theme:u.bnJ.Default,iconPosition:"left",length:u.Wmq.Short},action:m,options:C,roleAccessFlag:p.M.LOCK_UNLOCK},{name:"show-cells-button",model:{title:g,icon:"mdi mdi-hexagon-multiple-outline",theme:u.bnJ.Default,iconPosition:"left",length:u.Wmq.Short},action:f,options:C},{name:"go-to-pe-button",model:{icon:"mdi mdi-login-variant",theme:u.bnJ.Default,iconPosition:"left",title:"Go to Parameter Editor",length:u.Wmq.Short},action:b,options:C}];var S=n(74788),P=n(62800),O=n(33013),x=n(12021),w=n(12057),A=n(88361),_=n(2069),T=n(8408);let I=(()=>{class e{transform(e,t,n){switch(t){case h:return e===T.k.Unlocked;case m:return e===T.k.Locked;case f:return n;default:return!0}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=S.Yjl({name:"isButtonVisibleByDuState",type:e,pure:!0}),e})();const E=["buttonsMenu"];function M(e,t){if(1&e){const e=S.EpF();S.TgZ(0,"ui-webem-button",4,5),S.NdJ("action",function(){S.CHM(e);const t=S.oxw().$implicit,n=S.oxw();return n.clickButton(t.action,n.du)}),S.ALo(2,"async"),S.qZA()}if(2&e){const e=S.MAs(1),t=S.oxw().$implicit,n=S.oxw();S.Q6J("oamRoleAccessControl",t.roleAccessFlag)("hostInstance",e)("titleOnHost",!0)("id",t.name)("model",t.model)("options",t.options)("disabled",(t.name===n.buttonNames.lockButton||t.name===n.buttonNames.unlockButton)&&S.lcZ(2,7,n.selectCommissioningFlagStatus$))}}function k(e,t){if(1&e&&(S.ynx(0),S.YNc(1,M,3,9,"ui-webem-button",3),S.ALo(2,"isButtonVisibleByDuState"),S.BQk()),2&e){const e=t.$implicit,n=S.oxw();S.xp6(1),S.Q6J("ngIf",S.Dn7(2,1,n.du.administrativeState,e.action,n.showCellsButtonVisible))}}let N=(()=>{class e{constructor(e,t,n,s,a){this.store=e,this.pollingService=t,this.confirmationService=n,this.changeDetectorRef=s,this.activatedRoute=a,this.operations=(0,i.Y)(this.store,this.confirmationService,this.activatedRoute),this.ngUnsubscribe=new r.xQ,this.commissioningSubject=new r.xQ,this.buttonNames={lockButton:"lock-button",unlockButton:"unlock-button"},this.acceptDuLock=e=>()=>{this.store.dispatch((0,o.X3)({duId:e.id}))},this.acceptDuUnlock=e=>()=>{this.store.dispatch((0,o.rg)({duId:e.id}))}}ngOnInit(){this.updateButtonsModelByPanelWidth(),this.pollingService.getTimer(l.P,0,200).pipe((0,c.R)(this.ngUnsubscribe)).subscribe(()=>{this.showCellsButtonVisible&&this.updateButtonsModelByPanelWidth()}),this.selectCommissioningFlagStatus$=this.store.select(d.f)}clickButton(e,t){switch(e){case h:this.operations.lockDu(t.id);break;case m:this.operations.unlockDu(t.id);break;case f:this.operations.showCells(t.id);break;case b:this.operations.goToPe(t.name)}}updateButtonsModelByPanelWidth(){const e=this.calculatePanelWidth()<290;e!==this.lastIsNarrowerThanThreshold&&(this.lastIsNarrowerThanThreshold=e,this.switchButtonsModel(e))}calculatePanelWidth(){const e=(0,s.get)(this.buttonsMenu,"nativeElement.offsetLeft");return document.body.offsetWidth-e}switchButtonsModel(e){this.buttons=(0,s.cloneDeep)(e?y:v),this.changeDetectorRef.detectChanges()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(S.Y36(P.yh),S.Y36(a.xj),S.Y36(O.YP),S.Y36(S.sBO),S.Y36(x.gz))},e.\u0275cmp=S.Xpm({type:e,selectors:[["webem-du-operations-buttons"]],viewQuery:function(e,t){if(1&e&&S.Gf(E,5),2&e){let e;S.iGM(e=S.CRH())&&(t.buttonsMenu=e.first)}},inputs:{du:"du",showCellsButtonVisible:"showCellsButtonVisible"},decls:3,vars:1,consts:[["actions","","id","du-details-buttons",1,"details-buttons"],["buttonsMenu",""],[4,"ngFor","ngForOf"],["class","details-button",3,"oamRoleAccessControl","hostInstance","titleOnHost","id","model","options","disabled","action",4,"ngIf"],[1,"details-button",3,"oamRoleAccessControl","hostInstance","titleOnHost","id","model","options","disabled","action"],["btn",""]],template:function(e,t){1&e&&(S.TgZ(0,"div",0,1),S.YNc(2,k,3,5,"ng-container",2),S.qZA()),2&e&&(S.xp6(2),S.Q6J("ngForOf",t.buttons))},directives:[w.sg,w.O5,A.r,_.h],pipes:[I,w.Ov],styles:[".details-button[_ngcontent-%COMP%]{display:inline-block}.details-buttons[_ngcontent-%COMP%]{border-bottom:1px solid #98a2ae;padding-bottom:10px;margin-bottom:15px}.details-buttons[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:4px}"]}),e})()},49438:(e,t,n)=>{"use strict";n.d(t,{Y:()=>h});var i=n(54618),o=n(13994),s=n(13742),a=n(16661),r=n(61437),l=n(96141),c=n(20455);const d=(e,t)=>n=>t.confirm({message:"You are about to lock selected DU\n\nDo you want to proceed?",header:"Lock DU",acceptLabel:"OK",rejectLabel:"Cancel",icon:i.Wf,accept:()=>e.dispatch(o.X3({duId:n}))}),u=(e,t)=>n=>t.confirm({message:"You are about to unlock selected DU\n\nDo you want to proceed?",header:"Unlock DU",acceptLabel:"OK",rejectLabel:"Cancel",icon:i.Wf,accept:()=>e.dispatch(o.rg({duId:n}))}),p=(e,t)=>n=>{e.dispatch((0,s.uX)({routerLink:a.r.parameterEditor,activatedRoute:t,data:new l.q(n)}))},g=(e,t)=>n=>{e.dispatch((0,r.ks)()),e.dispatch((0,r.P4)({payload:n})),e.dispatch((0,s.uX)({routerLink:a.r.cellsStatus,activatedRoute:t})),e.dispatch(c.n5({payload:null}))};function h(e,t,n){return{lockDu:d(e,t),unlockDu:u(e,t),goToPe:p(e,n),showCells:g(e,n)}}},78008:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});const i={f1LinkStatus:({f1LinkStatus:e},t)=>e&&e.toLowerCase().includes(t),name:({name:e},t)=>e.toLowerCase().includes(t),cellsSummary:({cellsSummary:e},t)=>`${e.basicCellsSummary.administrativeState.locked}`===t||`${e.basicCellsSummary.administrativeState.unlocked}`===t||`${e.basicCellsSummary.operationalState.disabled}`===t||`${e.basicCellsSummary.operationalState.enabled}`===t,totalCells:({cellsSummary:e},t)=>(e.basicCellsSummary.administrativeState.locked+e.basicCellsSummary.administrativeState.unlocked).toString()===t,administrativeState:({administrativeState:e},t)=>e.toLowerCase()===t,gnbDuId:({gnbDuId:e},t)=>e.toLowerCase().includes(t),gnbDuName:({gnbDuName:e},t)=>!!e&&e.toLowerCase().includes(t)};var o=n(70593),s=n(29168);const a=["f1LinkStatus","name","cellsSummary","totalCells","administrativeState","gnbDuId","gnbDuName"];function r(e,t,n){const r=(l=n.trim(),c=a,e=>c.some(t=>i[t]&&i[t](e,l.toLowerCase())));var l,c;return e.filter(e=>(!t.nrDuId||function(e,t){return(0,o.q)("nrdu",/nrdu-/,t,e.name)}(e,t.nrDuId))&&(!t.nrDuName||function(e,t){return!!e.gnbDuName&&e.gnbDuName.toLowerCase().includes(t.toLowerCase())}(e,t.nrDuName))&&function(e,t){return!t.length||t.some(t=>e.administrativeState===t)}(e,t[s.s.BY_ADMINISTRATIVE_STATE])&&function(e,t){return!t.length||t.some(t=>e.f1LinkStatus===t)}(e,t[s.s.BY_F1_LINK_STATUS])&&(!n||r&&r(e)))}},29168:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var i=(()=>(function(e){e.BY_NRDU_ID="nrDuId",e.BY_NRDU_NAME="nrDuName",e.BY_ADMINISTRATIVE_STATE="administrativeStateFilter",e.BY_F1_LINK_STATUS="f1LinkStatusStateFilter"}(i||(i={})),i))()},9064:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var i=(()=>(function(e){e.BY_NRDU_ID="BY_NRDU_ID",e.BY_ADMINISTRATIVE_STATE="BY_ADMINISTRATIVE_STATE",e.BY_F1_LINK_STATUS="BY_F1_LINK_STATUS"}(i||(i={})),i))()},39284:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var i=n(8408),o=n(34191),s=n(9064),a=n(74788);const r={[i.k.Locked]:0,[i.k.Unlocked]:1},l={[o.y.Unavailable]:0,[o.y.Available]:1,null:2},c={[s.V.BY_NRDU_ID]:(e,t)=>u(e.id)-u(t.id),[s.V.BY_ADMINISTRATIVE_STATE]:(e,t)=>r[e.administrativeState]-r[t.administrativeState],[s.V.BY_F1_LINK_STATUS]:(e,t)=>l[e.f1LinkStatus]-l[t.f1LinkStatus]};let d=(()=>{class e{transform(e,t){return e.sort(c[t])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Yjl({name:"sortDus",type:e,pure:!0}),e})();function u(e){return Number.parseInt(e,10)}},79428:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DusStatusModule:()=>Mt});var i=n(12057),o=n(12021),s=n(62800),a=n(23815),r=n(87519),l=(()=>(function(e){e.SetView="[User] [Dus Status] Set view",e.SelectDu="[User] [Dus Status] Select du",e.setDisplayConfiguration="[User] [Dus Status] Set visible du parameters",e.ChangeSortType="[User] [Dus Status] Change sort type",e.ChangeFilter="[User] [Dus Status] Change filter",e.RestoreView="[User] [Dus Status] Restore view",e.ExportToCsv="[User] [Dus Status] Export to csv",e.SetFreeSearchText="[User] [Dus Status] Set free search text"}(l||(l={})),l))();const c=(0,s.PH)(l.SetView,(0,s.Ky)()),d=(0,s.PH)(l.SelectDu,(0,s.Ky)()),u=(0,s.PH)(l.setDisplayConfiguration,(0,s.Ky)()),p=(0,s.PH)(l.ChangeSortType,(0,s.Ky)()),g=(0,s.PH)(l.ChangeFilter,(0,s.Ky)()),h=(0,s.PH)(l.RestoreView),m=(0,s.PH)(l.ExportToCsv),f=(0,s.PH)(l.SetFreeSearchText,(0,s.Ky)());var b=n(91849),C=n(29168),v=n(9064);const y="dusStatus",S={viewType:b.b.TILE,freeSearchText:"",selectedId:-1,sortType:v.V.BY_NRDU_ID,filterState:{[C.s.BY_NRDU_ID]:"",[C.s.BY_NRDU_NAME]:"",[C.s.BY_ADMINISTRATIVE_STATE]:[],[C.s.BY_F1_LINK_STATUS]:[]},displayConfiguration:{Actions:!0,cellsSummary:!0,gnbDuName:!0,id:!0}},P=(0,s.Lq)(S,(0,s.on)(c,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),(0,s.on)(d,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedId:(0,a.isNil)(t)?-1:t})),(0,s.on)(u,(e,{payload:t})=>Object.assign(Object.assign({},e),{displayConfiguration:t})),(0,s.on)(p,(e,{payload:t})=>Object.assign(Object.assign({},e),{sortType:t})),(0,s.on)(f,(e,{payload:t})=>Object.assign(Object.assign({},e),{freeSearchText:t})),(0,s.on)(g,(e,{payload:t})=>Object.assign(Object.assign({},e),{filterState:Object.assign(Object.assign({},e.filterState),t)})),(0,s.on)(h,e=>Object.assign(Object.assign({},S),{viewType:e.viewType,selectedId:e.selectedId})));function O(e,t){return P(e,t)}const x=(0,s.ZF)(y),w=(0,s.P1)(x,e=>e.viewType),A=(0,s.P1)(x,e=>e.selectedId),_=(0,s.P1)(x,e=>e.displayConfiguration),T=(0,s.P1)(x,e=>e.sortType),I=(0,s.P1)(x,e=>e.freeSearchText),E=(0,s.P1)(x,e=>e.filterState),M=(0,s.P1)(T,I,_,E,(e,t,n,i)=>e===S.sortType&&t===S.freeSearchText&&(0,a.isEqual)(S.displayConfiguration,n)&&(0,a.isEqual)(i,S.filterState)),k=(0,s.P1)(x,e=>Object.keys(e.displayConfiguration).every(t=>e.displayConfiguration[t]));var N=n(88002);const L=e=>(0,a.mapValues)(S.displayConfiguration,()=>e),D=[{localStorageKey:"dus-on-dus-status",initialConfig:["id","gnbDuName","cellsSummary","Actions"],description:"Present the following data on DU widget:",options:[{label:"DU ID",value:"id"},{label:"DU name",value:"gnbDuName"},{label:"Cell statistics",value:"cellsSummary"},{label:"Actions",value:"Actions"}],getDataSource:e=>e.select(_).pipe((0,N.U)(e=>Object.keys(e).filter(t=>e[t]))),onFilterChange:(e,t)=>{t.dispatch(u({payload:e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),L(!1))}))},selectAllInput:{selectAll:e=>e.dispatch(u({payload:L(!0)})),deselectAll:e=>e.dispatch(u({payload:L(!1)})),isAllSelected:e=>e.select(k)}}],Z={export:e=>e.dispatch(m())},R={areFiltersDefault:e=>e.select(M),resetFilters:e=>e.dispatch(h())},U=(e,t)=>{t.dispatch(p({payload:e}))},F={description:"Sort DUs by:",defaultSort:v.V.BY_NRDU_ID,options:[{label:"NRDU ID",hint:"Ascending order",value:v.V.BY_NRDU_ID,onChange:U},{label:"Administrative state",hint:"Locked DU(s) will be displayed as first",value:v.V.BY_ADMINISTRATIVE_STATE,onChange:U},{label:"F1 link status",hint:"Unavailable DU(s) will be displayed as first",value:v.V.BY_F1_LINK_STATUS,onChange:U}],groupName:"",getDataSource:e=>e.select(T)},j={getDataSource:e=>e.select(I),filterChange:(e,t)=>t.dispatch(f({payload:e}))};var $=n(8408),q=n(34191);const B=(e,t,n)=>{n.dispatch(g({payload:{[e]:t}}))},G=(e,t,n)=>{n.dispatch(g({payload:{[e]:t}}))},V=[{description:"Filter DUs by:",inputs:[{id:C.s.BY_NRDU_ID,label:"NRDU ID:",setInputFilter:B},{id:C.s.BY_NRDU_NAME,label:"NRDU name:",setInputFilter:B}],checkboxes:[{id:C.s.BY_ADMINISTRATIVE_STATE,label:"Administrative state:",options:[{label:"Locked",value:$.k.Locked},{label:"Unlocked",value:$.k.Unlocked}],setCheckboxFilter:G},{id:C.s.BY_F1_LINK_STATUS,label:"F1 link status:",options:[{label:"Available",value:q.y.Available},{label:"Unavailable",value:q.y.Unavailable}],setCheckboxFilter:G}],getDataSource:e=>e.select(E)}],Y={getDataSource:e=>e.select(w),toggleView:(e,t)=>t.dispatch(c({payload:e}))};var J=n(9112),H=n(78008),W=n(13994),Q=n(67223),z=n(39284);const K={configure:D,filter:V,sort:F,freeSearch:j,reset:R,toggle:Y,export:Z,startPolling:e=>e.dispatch((0,W.VB)()),stopPolling:e=>e.dispatch((0,W.zy)()),getDataSource:e=>(0,J.aj)([e.select(Q.cD),e.select(E),e.select(T),e.select(I)]).pipe((0,N.U)(([e,t,n,i])=>(new z.N).transform((0,H.e)(e,t,i),n))),getSelected:e=>e.select(A).pipe((0,N.U)(e=>e.toString())),getConfiguration:e=>e.select(_),getElementId:e=>e.id,isFetchingData:e=>e.select(Q.Pm).pipe((0,N.U)(e=>!e))};var X=n(49438),ee=n(84362),te=n(8678),ne=n(74788),ie=n(33013),oe=n(74952),se=n(44761),ae=n(8701),re=n(65044),le=n(83473),ce=n(65159),de=n(63788),ue=n(22395);const pe=[{name:"Status",width:"64px",class:"col-status",fixed:!0},{name:"NRDU ID",width:"20%",minWidth:"70px"},{name:"gNB DU ID",width:"20%",minWidth:"70px",parameterGroup:"id"},{name:"DU name",width:"60%",minWidth:"70px",parameterGroup:"gnbDuName"},{name:"Total cells",width:"20%",minWidth:"70px",parameterGroup:"cellsSummary"},{name:"Cells enabled / disabled",width:"40%",minWidth:"140px",parameterGroup:"cellsSummary"},{name:"Cells unlocked / locked",width:"40%",minWidth:"140px",parameterGroup:"cellsSummary",fixed:!0},{name:"Actions",width:"102px",fixed:!0,parameterGroup:"Actions"}];var ge=n(60697);const he={lockButtonModel:{title:"Lock DU",icon:"mdi mdi-lock",thickness:ge.NOb.Thin},unlockButtonModel:{title:"Unlock DU",icon:"mdi mdi-lock-open-variant-outline",thickness:ge.NOb.Thin},showCellsButtonModel:{title:"Show Cells",icon:"mdi mdi-hexagon-multiple-outline",thickness:ge.NOb.Thin}};var me=n(47702),fe=n(49201),be=n(42488),Ce=n(40954),ve=n(52504),ye=n(62039),Se=n(88361),Pe=n(2069),Oe=n(92798),xe=n(20087),we=n(67866);function Ae(e,t){if(1&e&&ne._UZ(0,"ui-webem-status-icon",14),2&e){const e=ne.oxw().ngIf,t=ne.oxw(2);ne.Q6J("type",e.available?t.STATUS_ICON_TYPE.Success:t.STATUS_ICON_TYPE.Off)("title",e.available?"Available":"Unavailable")}}function _e(e,t){1&e&&ne._UZ(0,"i",15)}function Te(e,t){if(1&e&&(ne._UZ(0,"ui-webem-raised-alarms",16),ne.ALo(1,"getHighestAlarmSeverity")),2&e){const e=ne.oxw(2).$implicit;ne.Q6J("alarms",e.alarms)("alarmSeverityType",ne.lcZ(1,2,e.alarms))}}function Ie(e,t){if(1&e&&(ne.TgZ(0,"td"),ne._uU(1),ne.qZA()),2&e){const e=ne.oxw(2).$implicit;ne.xp6(1),ne.Oqu(e.gnbDuId)}}function Ee(e,t){if(1&e&&(ne.TgZ(0,"td"),ne.ALo(1,"nullableValue"),ne._uU(2),ne.ALo(3,"nullableValue"),ne.qZA()),2&e){const e=ne.oxw(2).$implicit;ne.uIk("title",ne.lcZ(1,2,e.gnbDuName)),ne.xp6(2),ne.Oqu(ne.lcZ(3,4,e.gnbDuName))}}function Me(e,t){if(1&e&&(ne.TgZ(0,"td"),ne._uU(1),ne.qZA()),2&e){const e=ne.oxw(2).$implicit;ne.xp6(1),ne.hij(" ",e.cellsSummary.basicCellsSummary.administrativeState.locked+e.cellsSummary.basicCellsSummary.administrativeState.unlocked," ")}}function ke(e,t){if(1&e&&(ne.TgZ(0,"td"),ne._uU(1),ne.qZA()),2&e){const e=ne.oxw(2).$implicit;ne.xp6(1),ne.AsE("",e.cellsSummary.basicCellsSummary.operationalState.enabled," / ",e.cellsSummary.basicCellsSummary.operationalState.disabled," ")}}function Ne(e,t){if(1&e&&(ne.TgZ(0,"td"),ne._uU(1),ne.qZA()),2&e){const e=ne.oxw(2).$implicit;ne.xp6(1),ne.AsE("",e.cellsSummary.basicCellsSummary.administrativeState.unlocked," / ",e.cellsSummary.basicCellsSummary.administrativeState.locked," ")}}function Le(e,t){if(1&e){const e=ne.EpF();ne.TgZ(0,"td",17),ne.TgZ(1,"ui-webem-button",18,19),ne.NdJ("action",function(){ne.CHM(e);const t=ne.oxw().ngIf,n=ne.oxw().$implicit,i=ne.oxw();return t.locked?i.unlockDu.emit(n):i.lockDu.emit(n)}),ne.ALo(3,"async"),ne.qZA(),ne.TgZ(4,"ui-webem-button",20),ne.NdJ("action",function(){ne.CHM(e),ne.oxw();const t=ne.oxw().$implicit;return ne.oxw().showCells.emit(t)}),ne.qZA(),ne.TgZ(5,"ui-webem-go-to-pe-table-button",21),ne.NdJ("action",function(){ne.CHM(e);const t=ne.oxw(2).$implicit;return ne.oxw().goToPe.emit(t)}),ne.qZA(),ne.qZA()}if(2&e){const e=ne.MAs(2),t=ne.oxw().ngIf,n=ne.oxw(2);ne.xp6(1),ne.Q6J("oamRoleAccessControl","LOCK_UNLOCK")("hostInstance",e)("model",t.locked?n.UNLOCK_BUTTON_MODEL:n.LOCK_BUTTON_MODEL)("disabled",ne.lcZ(3,5,n.selectCommissioningFlagStatus$)),ne.xp6(3),ne.Q6J("model",n.SHOW_CELLS_BUTTON_MODEL)}}function De(e,t){if(1&e&&(ne.ynx(0),ne.TgZ(1,"td",6),ne.TgZ(2,"div",7),ne.TgZ(3,"div",8),ne.YNc(4,Ae,1,2,"ui-webem-status-icon",9),ne.qZA(),ne.TgZ(5,"div",8),ne.YNc(6,_e,1,0,"i",10),ne.qZA(),ne.TgZ(7,"div",8),ne.YNc(8,Te,2,4,"ui-webem-raised-alarms",11),ne.ALo(9,"hasAlarms"),ne.qZA(),ne.qZA(),ne.qZA(),ne.TgZ(10,"td",12),ne.ALo(11,"nullableValue"),ne._uU(12),ne.qZA(),ne.YNc(13,Ie,2,1,"td",5),ne.YNc(14,Ee,4,6,"td",5),ne.YNc(15,Me,2,1,"td",5),ne.YNc(16,ke,2,2,"td",5),ne.YNc(17,Ne,2,2,"td",5),ne.YNc(18,Le,6,7,"td",13),ne.BQk()),2&e){const e=t.ngIf,n=ne.oxw().$implicit,i=ne.oxw(),o=ne.MAs(8),s=ne.MAs(4),a=ne.MAs(6);ne.xp6(4),ne.Q6J("ngIf",n.f1LinkStatus)("ngIfElse",o),ne.xp6(2),ne.Q6J("ngIf",e.locked)("ngIfElse",s),ne.xp6(2),ne.Q6J("ngIf",ne.lcZ(9,14,n))("ngIfElse",a),ne.xp6(2),ne.s9C("title",ne.lcZ(11,16,n.name)),ne.xp6(2),ne.Oqu(n.name),ne.xp6(1),ne.Q6J("ngIf",i.visibleParameters.id),ne.xp6(1),ne.Q6J("ngIf",i.visibleParameters.gnbDuName),ne.xp6(1),ne.Q6J("ngIf",i.visibleParameters.cellsSummary),ne.xp6(1),ne.Q6J("ngIf",i.visibleParameters.cellsSummary),ne.xp6(1),ne.Q6J("ngIf",i.visibleParameters.cellsSummary),ne.xp6(1),ne.Q6J("ngIf",i.visibleParameters.Actions)}}const Ze=function(e,t){return{locked:e,available:t}};function Re(e,t){if(1&e&&ne.YNc(0,De,19,18,"ng-container",5),2&e){const e=t.$implicit,n=ne.oxw();ne.Q6J("ngIf",ne.WLB(1,Ze,e.administrativeState===n.ADMINISTRATIVE_STATE.Locked,e.f1LinkStatus===n.F1_LINK_STATUS.Available))}}function Ue(e,t){1&e&&ne._UZ(0,"i",22)}function Fe(e,t){1&e&&ne._UZ(0,"span",23)}function je(e,t){if(1&e&&(ne.TgZ(0,"span",24),ne._uU(1),ne.qZA()),2&e){const e=ne.oxw();ne.xp6(1),ne.Oqu(e.NO_STATUS_TEXT)}}let $e=(()=>{class e{constructor(e){this.store=e,this.selectDu=new ne.vpe,this.lockDu=new ne.vpe,this.unlockDu=new ne.vpe,this.showCells=new ne.vpe,this.goToPe=new ne.vpe,this.ROWS_BUFFER=40,this.ADMINISTRATIVE_STATE=$.k,this.F1_LINK_STATUS=q.y,this.STATUS_ICON_TYPE=me.Zm,this.LOCK_BUTTON_MODEL=(0,a.cloneDeep)(he.lockButtonModel),this.UNLOCK_BUTTON_MODEL=(0,a.cloneDeep)(he.unlockButtonModel),this.SHOW_CELLS_BUTTON_MODEL=he.showCellsButtonModel,this.DUS_TABLE_VIEW_COLUMNS=pe,this.NO_STATUS_TEXT=fe.v}get selectedDu(){return this._selectedDu||null}set selectedDu(e){this.selectDu.emit(e)}ngOnInit(){this.selectCommissioningFlagStatus$=this.store.select(be.f)}ngOnChanges(e){(e.dus||e.selectedId)&&(this._selectedDu=this.findDu(this.selectedId,this.dus))}findDu(e,t){return e?(t||[]).find(t=>t.id===e):void 0}}return e.\u0275fac=function(t){return new(t||e)(ne.Y36(s.yh))},e.\u0275cmp=ne.Xpm({type:e,selectors:[["dus-status-dus-table-view"]],inputs:{dus:"dus",selectedId:"selectedId",visibleParameters:"visibleParameters",isLoading:"isLoading"},outputs:{selectDu:"selectDu",lockDu:"lockDu",unlockDu:"unlockDu",showCells:"showCells",goToPe:"goToPe"},features:[ne.TTD],decls:9,vars:7,consts:[["dataKey","id",1,"du-table",3,"items","columns","visibleParameterGroupColumns","selected","loading","virtual","minBuffer","selectedChange"],["row",""],["unlocked",""],["noAlarms",""],["noF1LinkStatus",""],[4,"ngIf"],[1,"status-icons"],[1,"fake-cell-group"],[1,"fake-cell"],[3,"type","title",4,"ngIf","ngIfElse"],["class","mdi mdi-lock locked mdi-16px","title","Locked",4,"ngIf","ngIfElse"],[3,"alarms","alarmSeverityType",4,"ngIf","ngIfElse"],[3,"title"],["class","col-actions",4,"ngIf"],[3,"type","title"],["title","Locked",1,"mdi","mdi-lock","locked","mdi-16px"],[3,"alarms","alarmSeverityType"],[1,"col-actions"],[3,"oamRoleAccessControl","hostInstance","model","disabled","action"],["LOCK_UNLOCK",""],[3,"model","action"],[3,"action"],["title","Unlocked",1,"unlocked"],[1,"no-alarms"],["title","No status"]],template:function(e,t){1&e&&(ne.TgZ(0,"ui-webem-table-view",0),ne.NdJ("selectedChange",function(e){return t.selectedDu=e}),ne.YNc(1,Re,1,4,"ng-template",null,1,ne.W1O),ne.qZA(),ne.YNc(3,Ue,1,0,"ng-template",null,2,ne.W1O),ne.YNc(5,Fe,1,0,"ng-template",null,3,ne.W1O),ne.YNc(7,je,2,1,"ng-template",null,4,ne.W1O)),2&e&&ne.Q6J("items",t.dus)("columns",t.DUS_TABLE_VIEW_COLUMNS)("visibleParameterGroupColumns",t.visibleParameters)("selected",t.selectedDu)("loading",!t.dus)("virtual",!0)("minBuffer",t.ROWS_BUFFER)},directives:[Ce.x,i.O5,ve.m,ye.V,Se.r,Pe.h,Oe.C],pipes:[xe.U,fe.c,we.W,i.Ov],styles:["[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]    {--status-icon-font-size:13px}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     th.col-status{text-align:center}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.status-icons{padding:0}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group{display:grid;grid-template-columns:1fr 1fr 1fr;width:100%;height:100%}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group>.fake-cell{display:flex;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group>*+*{border-left:1px solid #bec8d2}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.col-actions{overflow:visible}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.col-actions>*{vertical-align:middle}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.col-actions>*+*{margin-left:4px}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     button .mdi-hexagon-multiple-outline{--button-icon-only-size:16px}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     button .mdi-lock, [_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     button .mdi-lock-open-variant-outline{--button-icon-only-size:15px}"],changeDetection:0}),e})();var qe=n(19230);function Be(e,t){if(1&e){const e=ne.EpF();ne.TgZ(0,"ui-webem-du",7),ne.NdJ("lockDu",function(){const t=ne.CHM(e).$implicit;return ne.oxw(2).operations.lockDu(t.data.id)})("unlockDu",function(){const t=ne.CHM(e).$implicit;return ne.oxw(2).operations.unlockDu(t.data.id)})("showCells",function(){const t=ne.CHM(e).$implicit;return ne.oxw(2).operations.showCells(t.data.id)})("goToPe",function(){const t=ne.CHM(e).$implicit;return ne.oxw(2).operations.goToPe(t.data.name)})("click",function(){const t=ne.CHM(e).$implicit;return ne.oxw(2).selectDu(t.data.id)}),ne.qZA()}if(2&e){const e=t.$implicit;ne.oxw();const n=ne.MAs(1);ne.Q6J("du",e.data)("isRedirectionToCellViewAvailable",!0)("visibleDuParameters",e.configuration)("isDuSelected",e.selected)("container",null==n?null:n.virtualScrollerRef),ne.uIk("data-id",e.data.id)("data-name",e.data.name)}}function Ge(e,t){1&e&&(ne.TgZ(0,"status-shared-virtual-tile-grid",4,5),ne.YNc(2,Be,1,7,"ui-webem-du",6),ne.qZA()),2&e&&ne.Q6J("model",t.$implicit.model)}function Ve(e,t){if(1&e){const e=ne.EpF();ne.TgZ(0,"dus-status-dus-table-view",8),ne.NdJ("lockDu",function(t){return ne.CHM(e),ne.oxw().operations.lockDu(t.id)})("unlockDu",function(t){return ne.CHM(e),ne.oxw().operations.unlockDu(t.id)})("showCells",function(t){return ne.CHM(e),ne.oxw().operations.showCells(t.id)})("selectDu",function(t){return ne.CHM(e),ne.oxw().selectDu(t)})("goToPe",function(t){return ne.CHM(e),ne.oxw().operations.goToPe(t.name)}),ne.ALo(1,"async"),ne.qZA()}if(2&e){const e=t.$implicit;ne.Q6J("dus",ne.lcZ(1,3,e.model.data))("selectedId",e.model.selected+"")("visibleParameters",e.model.configuration)}}function Ye(e,t){1&e&&ne._UZ(0,"ui-webem-no-selected-message",9)}const Je=function(){return{width:"350px"}};let He=(()=>{class e{constructor(e,t,n){this.store=e,this.confirmationService=t,this.activatedRoute=n,this.VIEW_MODEL=K,this.operations=(0,X.Y)(this.store,this.confirmationService,this.activatedRoute)}ngOnInit(){this.loadStateFromRedirect(),this.store.pipe((0,s.Ys)(Q.ZL),(0,r.x)()).subscribe(e=>this.store.dispatch(d({payload:e?parseInt(e,10):null})))}selectDu(e){const t=(0,a.isObject)(e)?e.id:(0,a.isString)(e)?e:null;this.store.dispatch(d({payload:t?parseInt(t,10):null}))}loadStateFromRedirect(){var e;if((null===(e=history.state)||void 0===e?void 0:e.data)&&history.state.data.type===te.b.DU_STATUS){this.store.dispatch(h());const e={[ee.D.ADMINISTRATIVE_STATE]:v.V.BY_ADMINISTRATIVE_STATE,[ee.D.F1_LINK_STATUS]:v.V.BY_F1_LINK_STATUS,[ee.D.INITIAL]:S.sortType}[history.state.data.sortType];this.store.dispatch(p({payload:e}))}}}return e.\u0275fac=function(t){return new(t||e)(ne.Y36(s.yh),ne.Y36(ie.YP),ne.Y36(o.gz))},e.\u0275cmp=ne.Xpm({type:e,selectors:[["dus-status"]],decls:5,vars:4,consts:[[3,"model"],["trackByPath","id",3,"model",4,"statusSharedTileGridComponent"],[3,"dus","selectedId","visibleParameters","lockDu","unlockDu","showCells","selectDu","goToPe",4,"statusSharedTableComponent"],["class","status-empty-data","message","No DUs to display",4,"statusSharedEmptyData"],["trackByPath","id",3,"model"],["virtualTileGrid",""],[3,"du","isRedirectionToCellViewAvailable","visibleDuParameters","isDuSelected","container","lockDu","unlockDu","showCells","goToPe","click",4,"statusSharedTileComponent"],[3,"du","isRedirectionToCellViewAvailable","visibleDuParameters","isDuSelected","container","lockDu","unlockDu","showCells","goToPe","click"],[3,"dus","selectedId","visibleParameters","lockDu","unlockDu","showCells","selectDu","goToPe"],["message","No DUs to display",1,"status-empty-data"]],template:function(e,t){1&e&&(ne.TgZ(0,"status-shared-operations-view",0),ne.YNc(1,Ge,3,1,"status-shared-virtual-tile-grid",1),ne.YNc(2,Ve,2,5,"dus-status-dus-table-view",2),ne.YNc(3,Ye,1,0,"ui-webem-no-selected-message",3),ne.qZA(),ne._UZ(4,"p-confirmDialog")),2&e&&(ne.Q6J("model",t.VIEW_MODEL),ne.xp6(4),ne.Akn(ne.DdM(3,Je)))},directives:[oe.E,se.j,ae.a,re.Z,le.Q,ce.h,de.E,ue.H,$e,qe.G],pipes:[i.Ov],styles:["[_nghost-%COMP%]{padding:10px 15px 15px;display:block;height:100%}[_nghost-%COMP%]     ui-webem-du{width:180px;display:inline-block}status-shared-virtual-tile-grid[_ngcontent-%COMP%]{padding-top:5px}dus-status-dus-table-view[_ngcontent-%COMP%]{padding-top:10px}"]}),e})();var We=n(43190),Qe=n(54260),ze=n(33346),Ke=n(36900),Xe=n(44501),et=n(41146),tt=n(3507),nt=n(17393),it=n(60698);function ot(e,t){if(1&e&&ne._UZ(0,"webem-du-details",4),2&e){const e=ne.oxw().ngIf;ne.Q6J("showCellsButtonVisible",!0)("du",e)}}function st(e,t){if(1&e&&(ne.ynx(0),ne._UZ(1,"webem-du-operations-buttons",4),ne._UZ(2,"status-shared-details-panel-parameters",5),ne.BQk()),2&e){const e=ne.oxw().ngIf;ne.xp6(1),ne.Q6J("showCellsButtonVisible",!0)("du",e),ne.xp6(1),ne.Q6J("distNames",e.distNames)}}function at(e,t){1&e&&(ne.TgZ(0,"webem-status-tabbed-panel"),ne.YNc(1,ot,1,2,"webem-du-details",2),ne.YNc(2,st,3,3,"ng-container",3),ne.qZA())}function rt(e,t){1&e&&ne._UZ(0,"ui-webem-no-selected-message",6)}let lt=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.store.dispatch((0,Qe.M5)()),this.selectedDu$=this.store.pipe((0,s.Ys)(A),(0,We.w)(e=>this.store.pipe((0,s.Ys)(Q.sM,{id:e}),(0,r.x)())))}ngOnDestroy(){this.store.dispatch((0,Qe.vi)())}}return e.\u0275fac=function(t){return new(t||e)(ne.Y36(s.yh))},e.\u0275cmp=ne.Xpm({type:e,selectors:[["dus-status-du-details-panel"]],decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["noSelectedDu",""],[3,"showCellsButtonVisible","du",4,"webemOverviewContent"],[4,"webemParametersContent"],[3,"showCellsButtonVisible","du"],[3,"distNames"],["message","Select DU from the list to see details"]],template:function(e,t){if(1&e&&(ne.TgZ(0,"webem-details-panel"),ne.YNc(1,at,3,0,"webem-status-tabbed-panel",0),ne.ALo(2,"async"),ne.YNc(3,rt,1,0,"ng-template",null,1,ne.W1O),ne.qZA()),2&e){const e=ne.MAs(4);ne.xp6(1),ne.Q6J("ngIf",ne.lcZ(2,2,t.selectedDu$))("ngIfElse",e)}},directives:[ze.V,i.O5,Ke.Y,Xe.r,et.w,tt.l,nt.E,it.h,qe.G],pipes:[i.Ov],styles:["[_nghost-%COMP%]{display:block;height:100%}webem-du-details[_ngcontent-%COMP%]{overflow-y:hidden;height:100%;padding-bottom:70px}status-shared-details-panel-parameters[_ngcontent-%COMP%]{overflow-y:auto}"]}),e})();const ct=[{path:"",component:n(47712).O,outlet:"content_menu"},{path:"",component:He,outlet:"content_center"},{path:"",component:lt,outlet:"content_right"}];let dt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ne.oAB({type:e}),e.\u0275inj=ne.cJS({imports:[[i.ez,o.Bz.forChild(ct)],o.Bz]}),e})();var ut=n(5234),pt=n(30845),gt=n(24751),ht=n(94437),mt=n(17513),ft=n(94612),bt=n(57057),Ct=n(68307),vt=n(25917),yt=n(64699),St=n(1429);let Pt=(()=>{class e{constructor(e,t){this.store=e,this.actions$=t,this.PREFIX="DUs_status",this.LABELS=["NRDU ID","gNB DU ID","DU name","Cells total","Cells enabled","Cells disabled","Cells locked","Cells unlocked","Status","Locked","Alarms"],this.exportDusToCsv$=(0,mt.GW)(()=>this.actions$.pipe((0,mt.l4)(m),(0,ft.b)(e=>(0,vt.of)(e).pipe((0,bt.M)(this.store.pipe((0,s.Ys)(Q.cD)),this.store.pipe((0,s.Ys)(yt.K1))))),(0,N.U)(([e,t,n])=>[t.map(e=>this.mapDu(e)),this.getFilename(n)]),(0,Ct.b)(([e,t])=>(0,St.m1)(e,t,this.LABELS))),{dispatch:!1})}mapDu(e){return[e.name,e.gnbDuId,e.gnbDuName||"",(e.cellsSummary.basicCellsSummary.administrativeState.locked+e.cellsSummary.basicCellsSummary.administrativeState.unlocked).toString(),e.cellsSummary.basicCellsSummary.operationalState.enabled.toString(),e.cellsSummary.basicCellsSummary.operationalState.disabled.toString(),e.cellsSummary.basicCellsSummary.administrativeState.locked.toString().toLowerCase(),e.cellsSummary.basicCellsSummary.administrativeState.unlocked.toString().toLowerCase(),e.f1LinkStatus||"",e.administrativeState.toLowerCase(),(0,St.C1)(e.alarms)]}getFilename(e){return`${this.PREFIX}${(0,St.cs)(e)}`}}return e.\u0275fac=function(t){return new(t||e)(ne.LFG(s.yh),ne.LFG(mt.eX))},e.\u0275prov=ne.Yz7({token:e,factory:e.\u0275fac}),e})();var Ot=n(44748),xt=n(46239),wt=n(56177),At=n(20667),_t=n(46424),Tt=n(97759),It=n(25616),Et=n(21499);let Mt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ne.oAB({type:e}),e.\u0275inj=ne.cJS({providers:[ie.YP],imports:[[i.ez,gt.u5,ge.Jaz,ht.J,le.D,ge.hZC,xt.E,ge.Xn,Ot.LU,dt,_t.w,ge.UkB,pt.R,ge.gkd,ge.g3K,ge.t8k,ge.EJq,ut.wX,At.H,ut.xW,ge.upY,Et.F,s.Aw.forFeature(y,O),mt.sQ.forFeature([Pt]),ut.Ti,ge.hXG,me.f_,wt.oS,Tt.Us,ge.Fme,It.FZ]]}),e})()},87138:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FaultTogglingModule:()=>me});var i=n(12021),o=n(62800),s=(()=>(function(e){e.SetFaultToggling="[fault-toggling] Set Fault Toggling",e.FaultTogglingError="[fault-toggling] Fault Toggling Error",e.UnsubscribeFaultTogglingWatch="[fault-toggling] Unsubscribe Fault Toggling Watch",e.SubscribeFaultTogglingWatch="[fault-toggling] Subscribe FaultToggling Watch",e.SetFaultTogglingItemsPerPageAction="[fault-toggling] Set Fault Toggling Items Per Page"}(s||(s={})),s))();const a=(0,o.PH)(s.SetFaultToggling,(0,o.Ky)()),r=(0,o.PH)(s.FaultTogglingError,(0,o.Ky)()),l=(0,o.PH)(s.UnsubscribeFaultTogglingWatch),c=(0,o.PH)(s.SubscribeFaultTogglingWatch),d=(0,o.PH)(s.SetFaultTogglingItemsPerPageAction,(0,o.Ky)()),u=(0,o.Lq)({activeFaults:[],inactiveFaults:[],numberOfActiveFaults:0,numberOfInactiveFaults:0,itemsPerPage:15},(0,o.on)(a,(e,t)=>Object.assign(Object.assign({},t.payload),{itemsPerPage:e.itemsPerPage})),(0,o.on)(d,(e,t)=>Object.assign(Object.assign({},e),{itemsPerPage:t.payload})));function p(e,t){return u(e,t)}const g=(0,o.ZF)("faultToggling"),h=(0,o.P1)(g,e=>e);var m=(()=>(function(e){e.setTableFilters="[User] Set filters from fault-togling table"}(m||(m={})),m))();const f=(0,o.PH)(m.setTableFilters,(0,o.Ky)()),b=(0,o.Lq)({state:[],faultId:"",faultName:"",faultSource:"",nodeId:""},(0,o.on)(f,(e,t)=>Object.assign({},t.payload)));function C(e,t){return b(e,t)}const v=(0,o.ZF)("faultTogglingFilters");var y=n(41838),S=n(60697),P=n(74788),O=n(62959),x=n(88361),w=n(10692),A=n(23815),_=n(27537),T=n(90100),I=n(49201),E=n(33431),M=n(33013),k=n(12057),N=n(17741),L=n(7067),D=n(58220);const Z=["table"];function R(e,t){if(1&e&&(P.TgZ(0,"th",12),P.TgZ(1,"span",13),P._uU(2),P.qZA(),P.qZA()),2&e){const e=t.$implicit;P.s9C("title",e.title),P.Q6J("pResizableColumnDisabled",!e.isResizable)("ngStyle",e.style)("ngClass",e.class),P.uIk("data-header",e.header),P.xp6(1),P.Q6J("ngStyle",e.headerStyle),P.xp6(1),P.Oqu(e.header)}}function U(e,t){1&e&&(P.TgZ(0,"tr"),P.TgZ(1,"td",14),P._uU(2,"No data"),P.qZA(),P.qZA())}function F(e,t){if(1&e){const e=P.EpF();P.TgZ(0,"tr"),P.YNc(1,R,3,7,"th",5),P.qZA(),P.TgZ(2,"tr"),P.TgZ(3,"th"),P.TgZ(4,"ui-webem-check-box-table-row-filter",6),P.NdJ("filterChanged",function(t){return P.CHM(e),P.oxw().onFilterSet(t.value,t.column)}),P.qZA(),P.qZA(),P._UZ(5,"th"),P.TgZ(6,"th"),P.TgZ(7,"ui-webem-filter-input",7),P.NdJ("valueChange",function(t){return P.CHM(e),P.oxw().onFilterSet(t,"faultId")}),P.qZA(),P.qZA(),P.TgZ(8,"th"),P.TgZ(9,"ui-webem-filter-input",8),P.NdJ("valueChange",function(t){return P.CHM(e),P.oxw().onFilterSet(t,"faultName")}),P.qZA(),P.qZA(),P.TgZ(10,"th"),P.TgZ(11,"ui-webem-filter-input",9),P.NdJ("valueChange",function(t){return P.CHM(e),P.oxw().onFilterSet(t,"faultSource")}),P.qZA(),P.qZA(),P.TgZ(12,"th"),P.TgZ(13,"ui-webem-filter-input",10),P.NdJ("valueChange",function(t){return P.CHM(e),P.oxw().onFilterSet(t,"nodeId")}),P.qZA(),P.qZA(),P._UZ(14,"th"),P._UZ(15,"th"),P._UZ(16,"th"),P._UZ(17,"th"),P._UZ(18,"th"),P.qZA(),P.YNc(19,U,3,0,"tr",11)}if(2&e){const e=t.$implicit,n=P.oxw();P.xp6(1),P.Q6J("ngForOf",e),P.xp6(3),P.Q6J("options",n.stateOptions)("selection",n.filters.state),P.xp6(3),P.Q6J("value",n.filters.faultId),P.xp6(2),P.Q6J("value",n.filters.faultName),P.xp6(2),P.Q6J("value",n.filters.faultSource),P.xp6(2),P.Q6J("value",n.filters.nodeId),P.xp6(6),P.Q6J("ngIf",n.isTableEmpty())}}function j(e,t){if(1&e&&(P.TgZ(0,"tr"),P.TgZ(1,"td",15),P._uU(2),P.qZA(),P.TgZ(3,"td",16),P._uU(4),P.ALo(5,"nullableValue"),P.qZA(),P.TgZ(6,"td",17),P._uU(7),P.ALo(8,"nullableValue"),P.qZA(),P.TgZ(9,"td",18),P.ALo(10,"nullableValue"),P._uU(11),P.ALo(12,"nullableValue"),P.qZA(),P.TgZ(13,"td",19),P.ALo(14,"nullableValue"),P._uU(15),P.ALo(16,"nullableValue"),P.qZA(),P.TgZ(17,"td",17),P._uU(18),P.ALo(19,"nullableValue"),P.qZA(),P.TgZ(20,"td",17),P._uU(21),P.ALo(22,"nullableValue"),P.qZA(),P.TgZ(23,"td",17),P._uU(24),P.ALo(25,"nullableValue"),P.qZA(),P.TgZ(26,"td",17),P._uU(27),P.ALo(28,"nullableValue"),P.qZA(),P.TgZ(29,"td",17),P._uU(30),P.ALo(31,"nullableValue"),P.qZA(),P.TgZ(32,"td",17),P._uU(33),P.ALo(34,"nullableValue"),P.qZA(),P.qZA()),2&e){const e=t.$implicit;P.xp6(2),P.Oqu(e.state),P.xp6(2),P.Oqu(P.lcZ(5,13,e.togglingAlarmRaiseTime)),P.xp6(3),P.Oqu(P.lcZ(8,15,e.faultId)),P.xp6(2),P.s9C("title",P.lcZ(10,17,e.faultName)),P.xp6(2),P.hij(" ",P.lcZ(12,19,e.faultName)," "),P.xp6(2),P.s9C("title",P.lcZ(14,21,e.faultSource)),P.xp6(2),P.hij(" ",P.lcZ(16,23,e.faultSource)," "),P.xp6(3),P.Oqu(P.lcZ(19,25,e.nodeId)),P.xp6(3),P.Oqu(P.lcZ(22,27,e.togglingAlarmsLast10seconds)),P.xp6(3),P.Oqu(P.lcZ(25,29,e.togglingAlarmsLastMinute)),P.xp6(3),P.Oqu(P.lcZ(28,31,e.togglingAlarmsLastHour)),P.xp6(3),P.Oqu(P.lcZ(31,33,e.togglingAlarmsLastDay)),P.xp6(3),P.Oqu(P.lcZ(34,35,e.togglingAlarmsSinceStartup))}}function $(e,t){if(1&e){const e=P.EpF();P.TgZ(0,"ui-webem-table-pagination",20),P.NdJ("PageChange",function(t){return P.CHM(e),P.oxw().onPageChange(t)}),P.qZA()}if(2&e){const e=P.oxw();P.Q6J("itemsPerPage",e.itemsPerPage)("totalNumberOfItems",e.faultTogglingDataOutput.length)("pageNumber",e.pageNumber)}}let q=(()=>{class e{constructor(e){this.datetimeService=e,this.faultTogglingDataOutput=[],this.stateOptions=[{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"}],this.filters={state:[],faultId:"",faultName:"",faultSource:"",nodeId:""},this.SetFilters=new P.vpe,this.filterChanged=new P.vpe,this.cols=this.getTableColumnsDefinition(),this.pageNumber=1}set faultTogglingTableData(e){this.faultTogglingData=[],e&&(Object.entries(e).forEach(([e,t])=>{Array.from(t).forEach(t=>{this.faultTogglingData.push(Object.assign(Object.assign({},t),{state:"activeFaults"===e?"Active":"Inactive",togglingAlarmRaiseTime:this.datetimeService.formatFromISO8601(t.togglingAlarmRaiseTime,!0)}))})}),this.onFilterChange(),this.itemsPerPage=e.itemsPerPage,this.onPageChange(this.pageNumber))}set setFilters(e){this.filters=Object.assign({},e),this.onFilterChange()}ngOnInit(){(0,_.T)(this.table)}ngOnChanges(e){e.filtersReceived&&this.onFilterChange()}isTableEmpty(){return!this.faultTogglingDataOutput||!this.faultTogglingDataOutput.length}onFilterSet(e,t){this.SetFilters.emit(Object.assign(Object.assign({},this.filters),{[t]:e}))}onFilterChange(){const e=(0,A.pickBy)(this.filters,e=>!!e);this.faultTogglingDataOutput=(0,A.isEmpty)(e)?[...this.faultTogglingData]:this.faultTogglingData.filter(t=>Object.keys(e).every(n=>{var i,o,s;return"state"===n&&1===(null===(i=e[n])||void 0===i?void 0:i.length)?!(null===(o=e.state)||void 0===o?void 0:o.length)||t[n]===(null===(s=e[n])||void 0===s?void 0:s.toString()):t[n]?(0,A.includes)(e[n].toString().toLowerCase(),t[n].toString().toLowerCase())||(0,A.includes)(t[n].toString().toLowerCase(),e[n].toString().toLowerCase()):e[n]===I.v||"-"===e[n]})),this.onPageChange(this.pageNumber),this.filterChanged.emit(this.faultTogglingDataOutput)}getTableColumnsDefinition(){return[{field:"state",header:"State",class:"state-column dropdown-columns",isResizable:!0,isFilterable:!1,title:"State of the toggling alarm"},{field:"appeared",header:"Appeared",isResizable:!0,class:"appeared-column",isFilterable:!1,title:"Last timestamp when the toggling alarm was raised for the original fault"},{field:"faultId",header:"Fault ID",isResizable:!1,class:"faultId-column",isFilterable:!0},{field:"faultName",header:"Fault Name",class:"faultName-column",isResizable:!1,isFilterable:!0},{field:"faultSource",header:"Fault Source",isResizable:!0,class:"faultSource-column",isFilterable:!0},{field:"nodeId",header:"Node ID",isResizable:!0,class:"nodeId-column",isFilterable:!0},{field:"last10s",header:"Last 10 s",isResizable:!1,class:"serial-number",isFilterable:!1,title:"Number of times a toggling alarm was\nraised for the original fault in last 10 seconds"},{field:"lastMinute",header:"Last minute",isResizable:!1,class:"delete-column",isFilterable:!1,title:"Number of times a toggling alarm was\nraised for the original fault in last minute"},{field:"lastHour",header:"Last hour",isResizable:!1,class:"delete-column",isFilterable:!1,title:"Number of times a toggling alarm was\nraised for the original fault in last hour"},{field:"lastDay",header:"Last day",isResizable:!1,class:"delete-column",isFilterable:!1,title:"Number of times a toggling alarm was\nraised for the original fault in last day"},{field:"all",header:"All",isResizable:!1,class:"all-column",isFilterable:!1,title:"Number of times a toggling alarm was\nraised"}]}onPageChange(e){const t=Math.ceil(this.faultTogglingDataOutput.length/this.itemsPerPage);t>0&&e>t&&(e=t);const n=(e-1)*this.itemsPerPage;this.pageNumber=e,this.currentPageFaultToggling=[...this.faultTogglingDataOutput].splice(n,this.itemsPerPage)}}return e.\u0275fac=function(t){return new(t||e)(P.Y36(T.d))},e.\u0275cmp=P.Xpm({type:e,selectors:[["ui-webem-fault-toggling-table"]],viewQuery:function(e,t){if(1&e&&P.Gf(Z,7),2&e){let e;P.iGM(e=P.CRH())&&(t.table=e.first)}},inputs:{faultTogglingTableData:"faultTogglingTableData",setFilters:["filtersReceived","setFilters"],itemsPerPage$:"itemsPerPage$"},outputs:{SetFilters:"SetFilters",filterChanged:"filterChanged"},features:[P.TTD],decls:5,vars:6,consts:[["selectionMode","single","dataKey","id",1,"fault-toggling-table",3,"customSort","resizableColumns","value","columns","autoLayout"],["table",""],["pTemplate","header"],["pTemplate","body"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange",4,"ngIf"],["pResizableColumn","",3,"pResizableColumnDisabled","ngStyle","ngClass","title",4,"ngFor","ngForOf"],["column","state","appendTo","body",1,"filter-row","state-input",3,"options","selection","filterChanged"],["id","fault-toggling-fault-id",1,"faultId-input",3,"value","valueChange"],["id","fault-toggling-fault-name",1,"faultName-input",3,"value","valueChange"],["id","fault-toggling-fault-source",1,"faultSource-input",3,"value","valueChange"],["id","fault-toggling-nodeId",1,"nodeId-input",3,"value","valueChange"],[4,"ngIf"],["pResizableColumn","",3,"pResizableColumnDisabled","ngStyle","ngClass","title"],[3,"ngStyle"],["colspan","12",1,"empty-table"],[1,"ui-resizable-column","status-cell","dropdown-columns"],[1,"ui-resizable-column","appeared-column"],[1,"ui-resizable-column"],[1,"ui-resizable-column","long-text",3,"title"],[1,"ui-resizable-column","long-text","fault-source",3,"title"],[3,"itemsPerPage","totalNumberOfItems","pageNumber","PageChange"]],template:function(e,t){1&e&&(P.TgZ(0,"p-table",0,1),P.YNc(2,F,20,8,"ng-template",2),P.YNc(3,j,35,37,"ng-template",3),P.qZA(),P.YNc(4,$,1,3,"ui-webem-table-pagination",4)),2&e&&(P.Q6J("customSort",!1)("resizableColumns",!0)("value",t.currentPageFaultToggling)("columns",t.cols)("autoLayout",!0),P.xp6(4),P.Q6J("ngIf",!t.isTableEmpty()&&t.itemsPerPage))},directives:[E.iA,M.jx,k.O5,k.sg,N.i,L.T,E.Q7,k.PC,k.mk,D.Q],pipes:[I.c],styles:["[_nghost-%COMP%]     .dropdown-columns{width:100px}[_nghost-%COMP%]     .empty-table{background-color:#fff;height:28px;padding-left:8px}[_nghost-%COMP%]     .state-column>span{display:flex;justify-content:center}[_nghost-%COMP%]     .all-column>span{display:flex;justify-content:center}[_nghost-%COMP%]     .fault-toggling-table .appeared-column{width:130px;min-width:130px}[_nghost-%COMP%]     .fault-toggling-table .ui-table .ui-table-tbody>tr>td.long-text{white-space:nowrap;max-width:0;text-overflow:ellipsis}[_nghost-%COMP%]     .fault-toggling-table .ui-table .ui-table-tbody>tr>td.long-text.fault-source{direction:rtl}"],changeDetection:0}),e})();function B(e,t){if(1&e){const e=P.EpF();P.TgZ(0,"div",7),P.TgZ(1,"ui-webem-fault-toggling-table",8),P.NdJ("SetFilters",function(t){return P.CHM(e),P.oxw().onFiltersSet(t)})("filterChanged",function(t){return P.CHM(e),P.oxw().onFilterChanged(t)}),P.ALo(2,"async"),P.qZA(),P.qZA()}if(2&e){const e=P.oxw();P.xp6(1),P.Q6J("faultTogglingTableData",e.faultToggling)("filtersReceived",P.lcZ(2,2,e.filters$))}}const G=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.layoutsConfigService=t,this.exportService=n,this.changeDetectorRef=i,this.elRef=o,this.offsetHeight=0}ngOnInit(){this.store.dispatch(c()),this.togglingFaultsHistorySubscription=this.getTogglingFaultsHistorySubscription(),this.filters$=this.store.select(v),this.saveButtonModel=this.createSaveButtonModel(),this.modelStateSubscription=this.getModelStateSubscription()}ngOnDestroy(){this.store.dispatch(l()),this.togglingFaultsHistorySubscription.unsubscribe(),this.modelStateSubscription.unsubscribe()}ngAfterViewChecked(){const e=this.elRef.nativeElement.parentNode&&this.elRef.nativeElement.parentNode.offsetHeight;e&&e!==this.offsetHeight&&setTimeout(()=>{this.offsetHeight=e,this.setItemsPerPageForCurrentHeight(e)})}getModelStateSubscription(){return this.modelStateSubscription=this.store.pipe((0,o.Ys)(this.layoutsConfigService.getStatusBarModel.selectModelState)).subscribe(e=>{this.modelState=e})}getTogglingFaultsHistorySubscription(){return this.store.pipe((0,o.Ys)(h)).subscribe(e=>{this.faultToggling=e})}onFilterChanged(e){this.filteredFaultTogglingData=e,this.changeDetectorRef.detectChanges()}exportFaults(){this.exportService.exportFaultTogglingHistoryCsv(this.filteredFaultTogglingData,this.modelState)}setItemsPerPageForCurrentHeight(e){this.offsetHeight=e;const t=Math.floor(e/33);this.store.dispatch(d({payload:t}))}onFiltersSet(e){this.store.dispatch(f({payload:e}))}createSaveButtonModel(){return{icon:"mdi mdi-content-save",label:"Save Fault Toggling History",length:S.Wmq.Short}}}return e.\u0275fac=function(t){return new(t||e)(P.Y36(o.yh),P.Y36(O.p),P.Y36(y.Ty),P.Y36(P.sBO),P.Y36(P.SBq))},e.\u0275cmp=P.Xpm({type:e,selectors:[["fault-toggling"]],decls:15,vars:4,consts:[["fxLayout","row",1,"fault-toggling"],["fxFlex","84","fxLayoutAlign","start start",1,"filters"],[1,"sort-label"],["fxLayoutAlign","end",1,"save-alarms-button",3,"model","disabled","action"],[1,"p-grid","p-nogutter","fault-toggling-content"],["id","fault-toggling-table-view",1,"p-col-12","p-nogutter"],["content",""],[1,"fault-toggling-table"],[3,"faultTogglingTableData","filtersReceived","SetFilters","filterChanged"]],template:function(e,t){1&e&&(P.TgZ(0,"div",0),P.TgZ(1,"div",1),P.TgZ(2,"span",2),P._uU(3,"Active toggling alarms: "),P.TgZ(4,"b"),P._uU(5),P.qZA(),P.qZA(),P.TgZ(6,"span",2),P._uU(7,"Cleared toggling alarms: "),P.TgZ(8,"b"),P._uU(9),P.qZA(),P.qZA(),P.TgZ(10,"ui-webem-button",3),P.NdJ("action",function(){return t.exportFaults()}),P.qZA(),P.qZA(),P.TgZ(11,"div",4),P.TgZ(12,"ui-webem-panel",5),P.YNc(13,B,3,4,"ng-template",null,6,P.W1O),P.qZA(),P.qZA(),P.qZA()),2&e&&(P.xp6(5),P.Oqu(t.faultToggling.numberOfActiveFaults),P.xp6(4),P.Oqu(t.faultToggling.numberOfInactiveFaults),P.xp6(1),P.Q6J("model",t.saveButtonModel)("disabled",!(null!=t.filteredFaultTogglingData&&t.filteredFaultTogglingData.length)))},directives:[x.r,w.y,q],pipes:[k.Ov],styles:["[_nghost-%COMP%]     .fault-toggling-content{padding:10px 15px 15px}[_nghost-%COMP%]     .fault-toggling-content .panel-header-wrapper{height:0;padding-bottom:0;border-bottom:1px solid #98a2ae}[_nghost-%COMP%]     .fault-toggling-content .fault-toggling-table-view{margin-bottom:15px;padding:0}[_nghost-%COMP%]     .fault-toggling-content .fault-toggling-table-view .fault-toggling-table{margin-top:13px;padding:0}[_nghost-%COMP%]     .fault-toggling-content .fault-toggling-table-view .form-container{box-shadow:0 3px 8px rgba(0,0,0,.13)}[_nghost-%COMP%]     .fault-toggling .filters{margin-top:10px;margin-left:16px}[_nghost-%COMP%]     .fault-toggling .filters .sort-label{margin-right:15px;margin-top:4px}[_nghost-%COMP%]     .fault-toggling .filters .save-alarms-button{margin-left:7px}[_nghost-%COMP%]     .fault-toggling .filters .save-alarms-button p-button{margin-right:15px;border-left:1px solid #98a2ae}[_nghost-%COMP%]     .fault-toggling .filters .save-alarms-button p-button button{min-width:70px;margin-left:15px}[_nghost-%COMP%]     .fault-toggling .filters #filter-search{width:307px}[_nghost-%COMP%]     .fault-toggling .filters .panel-component{grid-template-rows:0 minmax(0,1fr)}  .fault-toggling-table{margin-top:-20px}"]}),e})(),outlet:"content_center"},{path:"",component:n(16417).l,outlet:"content_menu"}];let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=P.oAB({type:e}),e.\u0275inj=P.cJS({imports:[[i.Bz.forChild(G)],i.Bz]}),e})();var Y=n(17513),J=n(24751),H=n(18466),W=n(99413),Q=n(38390),z=n(56177),K=n(4207),X=n(12332),ee=n(50103);let te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=P.oAB({type:e}),e.\u0275inj=P.cJS({imports:[[E.U$,K.hJ,ee.kW,J.u5,X.nD,k.ez,H.F,W.Y,Q._,z.oS]]}),e})();var ne=n(49088),ie=n(88002),oe=n(19773),se=n(46782),ae=n(5304),re=n(87519),le=n(88708),ce=n(33637),de=n(25917),ue=n(89651),pe=n(58497),ge=n(44364);let he=(()=>{class e{constructor(e,t,n,i){this.store=e,this.actions$=t,this.pollingService=n,this.cuFmClientService=i,this.ERROR="error",this.UnsubscribeFaultTogglingWatch$=(0,Y.GW)(()=>this.actions$.pipe((0,Y.l4)(s.UnsubscribeFaultTogglingWatch)),{dispatch:!1}),this.FaultTogglingError$=(0,Y.GW)(()=>this.actions$.pipe((0,Y.l4)(s.FaultTogglingError),(0,ie.U)(({error:e})=>(0,ge.wN)({payload:{detail:e.statusText||e,severity:this.ERROR,summary:"Fault Toggling History - Operation failed"}})))),this.SubscribeFaultTogglingWatch$=(0,Y.GW)(()=>({scheduler:e=ce.P}={})=>this.actions$.pipe((0,Y.l4)(s.SubscribeFaultTogglingWatch),(0,oe.zg)(()=>this.pollingService.getTimer(e).pipe((0,se.R)(this.UnsubscribeFaultTogglingWatch$),(0,oe.zg)(()=>this.cuFmClientService.getFaultTogglingHistory().pipe((0,ae.K)(e=>(0,de.of)(e)))),(0,re.x)(A.isEqual),(0,ie.U)(e=>e instanceof pe.UA?r({error:e}):a({payload:e}))))))}}return e.\u0275fac=function(t){return new(t||e)(P.LFG(o.yh),P.LFG(Y.eX),P.LFG(ue.x),P.LFG(le.E))},e.\u0275prov=P.Yz7({token:e,factory:e.\u0275fac}),e})(),me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=P.oAB({type:e}),e.\u0275inj=P.cJS({providers:[y.Ty],imports:[[k.ez,ne.s,V,o.Aw.forFeature("faultToggling",p),o.Aw.forFeature("faultTogglingFilters",C),Y.sQ.forFeature([he]),te,S.QGW,S.EJq]]}),e})()},5724:(e,t,n)=>{"use strict";n.d(t,{F:()=>s,$:()=>a});var i=n(62800),o=(()=>(function(e){e.exportPods="[User] Export PODs to CSV",e.exportVcuPods="[User] Export PODs to CSV in vCu"}(o||(o={})),o))();const s=(0,i.PH)(o.exportPods),a=(0,i.PH)(o.exportVcuPods)},60456:(e,t,n)=>{"use strict";n.d(t,{iz:()=>s,e4:()=>a,UO:()=>r,Ke:()=>l,AM:()=>c,BH:()=>d,Tq:()=>u,qZ:()=>p,Cl:()=>g,iV:()=>h,hY:()=>m,L6:()=>f,IH:()=>b,CZ:()=>C,nj:()=>v,kN:()=>y,r3:()=>S,qT:()=>P,Oz:()=>O});var i=n(62800),o=(()=>(function(e){e.startNetworkSlicingsPolling="[User] Start Network Slicings polling",e.stopNetworkSlicingsPolling="[Effect] Stop Network Slicings polling",e.networkSlicingsPollingError="[Effect] Network Slicings polling error",e.networkSlicingStoreError="[Effect] Network Slicing store error",e.networkSlicingSelected="[Effect] Xn link selected",e.networkSlicingsRequest="[Effect] Network Slicings request",e.networkSlicingsRequestError="[Effect] Network Slicings request error",e.resetNetworkSlicingsAction="[Effect] Reset Network Slicings action",e.updateNetworkSlicings="[Effect] Update Network Slicings",e.unlockNetworkSlicings="[User] Unlock Network Slicings",e.unlockNetworkSlicing="[Effect] Unlock Network Slicings",e.unlockNetworkSlicingFailure="[Effect] Unlock Network Slicings operation failure",e.unlockNetworkSlicingHttpError="[Effect] Unlock Network Slicings operation http error",e.unlockNetworkSlicingActionOngoing="[Effect] Unlock Network Slicings operation ongoing",e.unlockNetworkSlicingActionSuccess="[Effect] Unlock Network Slicings operation success",e.unlockNetworkSlicingsFinished="[Effect] Unlock Network Slicings finished",e.lockNetworkSlicings="[User] Lock Network Slicings",e.lockNetworkSlicing="[Effect] Lock Network Slicing",e.lockNetworkSlicingFailure="[Effect] Lock Network Slicing failure",e.lockNetworkSlicingHttpError="[Effect] Lock Network Slicing http error",e.lockNetworkSlicingActionOngoing="[Effect] Lock Network Slicing action ongoing",e.lockNetworkSlicingActionSuccess="[Effect] Lock Network Slicing operation success",e.lockNetworkSlicingsFinished="[Effect] Lock Network Slicings finished"}(o||(o={})),o))();const s=(0,i.PH)(o.resetNetworkSlicingsAction),a=(0,i.PH)(o.updateNetworkSlicings,(0,i.Ky)()),r=(0,i.PH)(o.startNetworkSlicingsPolling),l=(0,i.PH)(o.stopNetworkSlicingsPolling),c=(0,i.PH)(o.networkSlicingsRequest),d=((0,i.PH)(o.networkSlicingsPollingError,(0,i.Ky)()),(0,i.PH)(o.networkSlicingStoreError,(0,i.Ky)())),u=(0,i.PH)(o.unlockNetworkSlicingActionSuccess,(0,i.Ky)()),p=(0,i.PH)(o.lockNetworkSlicingActionOngoing,(0,i.Ky)()),g=(0,i.PH)(o.lockNetworkSlicingHttpError,(0,i.Ky)()),h=(0,i.PH)(o.lockNetworkSlicingFailure,(0,i.Ky)()),m=(0,i.PH)(o.unlockNetworkSlicingActionOngoing,(0,i.Ky)()),f=(0,i.PH)(o.unlockNetworkSlicingHttpError,(0,i.Ky)()),b=(0,i.PH)(o.unlockNetworkSlicingFailure,(0,i.Ky)()),C=(0,i.PH)(o.unlockNetworkSlicings,(0,i.Ky)()),v=(0,i.PH)(o.unlockNetworkSlicing,(0,i.Ky)()),y=(0,i.PH)(o.lockNetworkSlicings,(0,i.Ky)()),S=(0,i.PH)(o.lockNetworkSlicing,(0,i.Ky)()),P=((0,i.PH)(o.lockNetworkSlicingsFinished,(0,i.Ky)()),(0,i.PH)(o.unlockNetworkSlicingsFinished,(0,i.Ky)()),(0,i.PH)(o.networkSlicingsRequestError)),O=(0,i.PH)(o.lockNetworkSlicingActionSuccess,(0,i.Ky)())},17382:(e,t,n)=>{"use strict";n.d(t,{VL:()=>a,E3:()=>r,I6:()=>p});var i=n(62800),o=n(23607),s=n(60456);const a=(0,o.H)({selectId:e=>e.snssaiId}),r=a.getInitialState({updateVersion:""}),l=(0,i.on)(s.iz,()=>r),c=(0,i.on)(s.e4,(e,{payload:{created:t,removed:n,revision:i,updated:o}})=>(e=a.removeMany(n,e),e=a.addMany(t,e),a.upsertMany(o,Object.assign(Object.assign({},e),{updateVersion:i})))),d=(0,i.on)(s.Ke,()=>r),u=(0,i.Lq)(r,c,d,l);function p(e,t){return u(e,t)}},70428:(e,t,n)=>{"use strict";n.d(t,{zs:()=>l,We:()=>c});var i=n(62800),o=n(35702),s=n(17382);const a=(0,i.ZF)(o.W),r=(0,i.P1)(a,e=>e.networkSlicingState),l=(0,i.P1)(r,e=>e.updateVersion),c=(0,i.P1)(r,s.VL.getSelectors().selectAll);(0,i.P1)(r,s.VL.getSelectors().selectEntities)},35702:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});const i="NetworkSlicing"},20130:(e,t,n)=>{"use strict";n.d(t,{i:()=>$});var i=n(12057),o=n(62800),s=n(17382),a=n(35702),r=n(17513),l=n(33637),c=n(25917),d=n(19773),u=n(46782),p=n(96736),g=n(57057),h=n(87479),m=n(88002),f=n(5304),b=n(41838),C=n(60456),v=n(70428),y=n(2413),S=n(44364),P=n(73835),O=n(74788),x=n(2822);let w=(()=>{class e{constructor(e,t,n,i,o){this.actions$=e,this.pollingService=t,this.statusService=n,this.logger=i,this.store=o,this.networkSlicingRequestError$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.qT),(0,d.zg)(()=>[(0,S.wN)({payload:{severity:"error",summary:"Updating network slicing list failed"}}),(0,C.iz)()]))),this.stopNetworkSlicingsPolling$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.Ke)),{dispatch:!1}),this.startNetworkSlicingsPolling$=(0,r.GW)((e=l.P)=>this.actions$.pipe((0,r.l4)(C.UO),(0,d.zg)(()=>this.pollingService.getTimer(e).pipe((0,u.R)(this.stopNetworkSlicingsPolling$),(0,p.h)((0,C.AM)()))))),this.networkSlicingsRequest$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.AM),(0,g.M)(this.store.select(v.zs)),(0,h.z)(([,e])=>(e!==s.E3.updateVersion?this.statusService.getNetworkSlicingDiff({oldRevision:e}):this.statusService.getNetworkSlicingDiff()).pipe((0,m.U)(e=>(0,C.e4)({payload:e})),(0,f.K)(e=>(this.logger.warn(e),P.a.isConnectionError(e)?(0,c.of)():(0,c.of)((0,C.qT)())))))))}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(r.eX),O.LFG(b.xj),O.LFG(y.Bj),O.LFG(x.Kf),O.LFG(o.yh))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var A=n(94612),_=n(77267);const T="Network slicing lock",I="SNSSAI-",E="Network slicing unlock",M=e=>({payload:{severity:"info",summary:T,detail:(0,_.R)(e,"lock operation started",I)}}),k=e=>({payload:{severity:"error",summary:T,detail:(0,_.R)(e,"lock operation failed",I)}}),N=e=>({payload:{severity:"info",summary:E,detail:(0,_.R)(e,"unlock operation started",I)}}),L=e=>({payload:{severity:"error",summary:E,detail:(0,_.R)(e,"unlock operation failed",I)}});var D=n(89651),Z=n(28649),R=n(6546);let U=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.pollingService=t,this.logger=n,this.statusService=i,this.lockNetworkSlicingHttpError$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.Cl),(0,A.b)(({additionalData:{snssaiIds:e}})=>[(0,S.wN)(k(e)),(0,R.R)()]))),this.lockNetworkSlicingSuccess$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.Oz),(0,A.b)(({additionalData:{snssaiIds:e}})=>{return[(0,S.wN)((t=e,{payload:{severity:"success",summary:T,detail:(0,_.R)(t,"lock operation finished",I)}})),(0,R.R)()];var t}))),this.lockNetworkSlicingFailed$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.iV),(0,A.b)(({additionalData:{snssaiIds:e}})=>[(0,S.wN)(k(e)),(0,R.R)()]))),this.lockNetworkSlicings$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.kN),(0,d.zg)(({snssaiIds:e})=>this.executeLock(e,!0).pipe((0,f.K)(e=>(this.logger.warn(e),(0,c.of)((0,C.BH)({error:e})))))))),this.lockNetworkSlicingsStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.kN),(0,A.b)(({snssaiIds:e})=>[(0,S.wN)(M(e)),(0,R.h)()]))),this.lockNetworkSlicingStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.r3),(0,A.b)(({snssaiId:e})=>[(0,S.wN)(M([e])),(0,R.h)()]))),this.lockNetworkSlicing$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.r3),(0,d.zg)(({snssaiId:e})=>this.executeLock([e],!0).pipe((0,f.K)(e=>(this.logger.warn(e),(0,c.of)((0,C.BH)({error:e})))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.lockNetworkSlicing({body:e}),this.executeLock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getOperationState({operationId:e,type:Z.C.LockUnlock}),additionalData:{snssaiIds:e},onActionSuccess:t?C.Oz:void 0,onActionFailure:C.iV,onActionError:C.Cl,onActionOngoing:C.qZ})}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(r.eX),O.LFG(D.x),O.LFG(x.Kf),O.LFG(y.Bj))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})(),F=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.pollingService=t,this.logger=n,this.statusService=i,this.unlockNetworkSlicingHttpError$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.L6),(0,A.b)(({additionalData:{snssaiIds:e}})=>[(0,S.wN)(L(e)),(0,R.R)()]))),this.unlockNetworkSlicingSuccess$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.Tq),(0,A.b)(({additionalData:{snssaiIds:e}})=>{return[(0,S.wN)((t=e,{payload:{severity:"success",summary:E,detail:(0,_.R)(t,"unlock operation finished",I)}})),(0,R.R)()];var t}))),this.unlockNetworkSlicingFailed$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.IH),(0,A.b)(({additionalData:{snssaiIds:e}})=>[(0,S.wN)(L(e)),(0,R.R)()]))),this.unlockNetworkSlicings$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.CZ),(0,d.zg)(({snssaiIds:e})=>this.executeUnlock(e,!0).pipe((0,f.K)(e=>(this.logger.warn(e),(0,c.of)((0,C.BH)({error:e})))))))),this.unlockNetworkSlicingsStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.CZ),(0,A.b)(({snssaiIds:e})=>[(0,S.wN)(N(e)),(0,R.h)()]))),this.unlockNetworkSlicingStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.nj),(0,A.b)(({snssaiId:e})=>[(0,S.wN)(N([e])),(0,R.h)()]))),this.unlockNetworkSlicing$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C.nj),(0,d.zg)(({snssaiId:e})=>this.executeUnlock([e],!0).pipe((0,f.K)(e=>(this.logger.warn(e),(0,c.of)((0,C.BH)({error:e})))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.unlockNetworkSlicing({body:e}),this.executeUnlock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getOperationState({operationId:e,type:Z.C.LockUnlock}),additionalData:{snssaiIds:e},onActionSuccess:t?C.Tq:void 0,onActionFailure:C.IH,onActionError:C.L6,onActionOngoing:C.hY})}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(r.eX),O.LFG(D.x),O.LFG(x.Kf),O.LFG(y.Bj))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var j=n(98795);let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=O.oAB({type:e}),e.\u0275inj=O.cJS({imports:[[i.ez,j.d,o.Aw.forFeature(a.W,{networkSlicingState:s.I6}),r.sQ.forFeature([w,U,F])]]}),e})()},78392:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NetworkSlicingModule:()=>un});var i=n(17513),o=n(62800),s=n(12057),a=n(60697),r=n(21499),l=n(83473),c=n(33013),d=n(28061),u=n(30845),p=n(47702),g=n(72634),h=n(56177),m=n(44748),f=n(94437),b=n(46239),C=n(24751),v=n(97759),y=n(98795),S=n(12021),P=n(23815),O=n(9112),x=n(88002),w=n(94766),A=n(91849),_=(()=>(function(e){e.setView="[User] Set view",e.selectNetworkSlicing="[User] Select network slicing",e.setDisplayConfiguration="[User] Set visible network slicing",e.changeSortType="[User] Change sort type",e.changeFilter="[User] Change filter",e.restoreView="[User] Restore view",e.exportToCsv="[User] Export to csv",e.exportToVduCsv="[User] Export to csv in vDu",e.setFreeSearchText="[User] Set free search text"}(_||(_={})),_))();const T=(0,o.PH)(_.setView,(0,o.Ky)()),I=(0,o.PH)(_.selectNetworkSlicing,(0,o.Ky)()),E=(0,o.PH)(_.setDisplayConfiguration,(0,o.Ky)()),M=(0,o.PH)(_.changeSortType,(0,o.Ky)()),k=(0,o.PH)(_.changeFilter,(0,o.Ky)()),N=(0,o.PH)(_.restoreView),L=(0,o.PH)(_.exportToCsv),D=(0,o.PH)(_.exportToVduCsv),Z=(0,o.PH)(_.setFreeSearchText,(0,o.Ky)()),R="networkSlicingStatus",U={viewType:A.b.TILE,freeSearchText:"",selectedId:-1,sortType:w.C.BY_SNSSAI_ID,filterState:{[w.C.BY_SNSSAI_ID]:"",[w.C.BY_SLICING_STATUS]:[],[w.C.BY_LOCK_STATE]:[]},displayConfiguration:{sst:!0,sd:!0,actions:!0}},F=(0,o.Lq)(U,(0,o.on)(T,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),(0,o.on)(I,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedId:(0,P.isNil)(t)?-1:t})),(0,o.on)(E,(e,{payload:t})=>Object.assign(Object.assign({},e),{displayConfiguration:t})),(0,o.on)(M,(e,{payload:t})=>Object.assign(Object.assign({},e),{sortType:t})),(0,o.on)(k,(e,{payload:t})=>Object.assign(Object.assign({},e),{filterState:Object.assign(Object.assign({},e.filterState),t)})),(0,o.on)(Z,(e,{payload:t})=>Object.assign(Object.assign({},e),{freeSearchText:t})),(0,o.on)(N,e=>Object.assign(Object.assign({},U),{viewType:e.viewType,selectedId:e.selectedId})));function j(e,t){return F(e,t)}const $=(0,o.ZF)(R),q=(0,o.P1)($,e=>e.viewType),B=(0,o.P1)($,e=>e.selectedId),G=(0,o.P1)($,e=>e.displayConfiguration),V=(0,o.P1)($,e=>e.sortType),Y=(0,o.P1)($,e=>e.filterState),J=(0,o.P1)($,e=>e.freeSearchText),H=(0,o.P1)(V,G,Y,J,(e,t,n,i)=>P.isEqualWith([e,t,n,i],[U.sortType,U.displayConfiguration,U.filterState,U.freeSearchText],(e,t)=>P.isEqual(e,t))),W=(0,o.P1)($,e=>Object.keys(e.displayConfiguration).every(t=>e.displayConfiguration[t])),Q=[{localStorageKey:"network-slicing-status",initialConfig:["sst","sd","actions"],description:"Present the following data on Network Slicing widget:",options:[{label:"Slice service type",value:"sst"},{label:"Slice differentiator",value:"sd"},{label:"Actions",value:"actions"}],getDataSource:e=>e.select(G).pipe((0,x.U)(e=>Object.keys(e).filter(t=>e[t]))),onFilterChange:(e,t)=>{t.dispatch(E({payload:e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),z(!1))}))},selectAllInput:{selectAll:e=>e.dispatch(E({payload:z(!0)})),deselectAll:e=>e.dispatch(E({payload:z(!1)})),isAllSelected:e=>e.select(W)}}],z=e=>(0,P.mapValues)(U.displayConfiguration,()=>e),K=(e,t)=>{t.dispatch(M({payload:e}))},X={description:"Sort Network Slicing by:",defaultSort:w.C.BY_SNSSAI_ID,groupName:"",getDataSource:e=>e.select(V)},ee=Object.assign(Object.assign({},X),{options:[{label:"SNSSAI ID",hint:"Ascending order",value:w.C.BY_SNSSAI_ID,onChange:K},{label:"Administrative state",hint:"Locked cells will be displayed first",value:w.C.BY_LOCK_STATE,onChange:K},{label:"Operational state",hint:"Disabled cells will be displayed first",value:w.C.BY_SLICING_STATUS,onChange:K}]}),te=Object.assign(Object.assign({},X),{options:[{label:"SNSSAI ID",hint:"Ascending order",value:w.C.BY_SNSSAI_ID,onChange:K},{label:"Administrative state",hint:"Locked cells will be displayed first",value:w.C.BY_LOCK_STATE,onChange:K}]}),ne={getDataSource:e=>e.select(J),filterChange:(e,t)=>t.dispatch(Z({payload:e}))};var ie=n(8408),oe=n(12732);const se=(e,t,n)=>{n.dispatch(k({payload:{[e]:t}}))},ae={description:"Filter Network slicing by:",inputs:[{id:w.C.BY_SNSSAI_ID,label:"SNSSAI ID:",setInputFilter:(e,t,n)=>{n.dispatch(k({payload:{[e]:t}}))}}],getDataSource:e=>e.select(Y)},re=[Object.assign(Object.assign({},ae),{checkboxes:[{id:w.C.BY_LOCK_STATE,label:"Administrative state:",options:[{label:"Locked",value:ie.k.Locked},{label:"Unlocked",value:ie.k.Unlocked}],setCheckboxFilter:se}]})],le=[Object.assign(Object.assign({},ae),{checkboxes:[{id:w.C.BY_LOCK_STATE,label:"Administrative state:",options:[{label:"Locked",value:ie.k.Locked},{label:"Unlocked",value:ie.k.Unlocked}],setCheckboxFilter:se},{id:w.C.BY_SLICING_STATUS,label:"Operational state:",options:[{label:"Disabled",value:oe.z.Disabled},{label:"Enabled",value:oe.z.Enabled}],setCheckboxFilter:se}]})],ce={getDataSource:e=>e.select(q),toggleView:(e,t)=>t.dispatch(T({payload:e}))};var de=n(60456),ue=n(70428),pe=n(70593);const ge=[(e,t)=>!!e.snssaiId&&e.snssaiId.toLowerCase().includes(t),(e,t)=>`SNSSAI-${e.snssaiId}`.toLowerCase().includes(t),(e,t)=>!!e.sst&&e.sst.toLowerCase().includes(t),(e,t)=>!!e.sd&&e.sd.toLowerCase().includes(t),(e,t)=>!!e.userLabel&&e.userLabel.toLowerCase().includes(t),(e,t)=>e.administrativeState&&e.administrativeState.toLowerCase()===t.toLowerCase(),(e,t)=>!!e.operationalState&&e.operationalState.toLowerCase()===t.toLowerCase()];var he=n(21040);const me={configure:Q,freeSearch:ne,toggle:ce,reset:{areFiltersDefault:e=>e.select(H),resetFilters:e=>e.dispatch(N())},startPolling:e=>e.dispatch(de.UO()),stopPolling:e=>e.dispatch(de.Ke()),getDataSource:e=>(0,O.aj)([e.select(ue.We),e.select(Y),e.select(V),e.select(J)]).pipe((0,x.U)(([e,t,n,i])=>(0,he.f)(function(e,t,n){return e.filter(e=>function(e,t){return!t||(0,pe.q)("snssai",/snssai-/,t,`SNSSAI-${e.snssaiId}`)}(e,t[w.C.BY_SNSSAI_ID])&&function(e,t){return!t.length||t.some(t=>e.operationalState===t)}(e,t[w.C.BY_SLICING_STATUS])&&function(e,t){return!t.length||t.some(t=>e.administrativeState===t)}(e,t[w.C.BY_LOCK_STATE])&&function(e,t){return!t||ge.some(n=>n(e,t.toLowerCase()))}(e,n.trim()))}(e,t,i),n))),getSelected:e=>e.select(B).pipe((0,x.U)(e=>e.toString())),getConfiguration:e=>e.select(G),getElementId:e=>e.snssaiId,isFetchingData:e=>e.select(ue.zs).pipe((0,x.U)(e=>!e))};var fe=n(13742),be=n(16661),Ce=n(96141);const ve=(e,t)=>n=>{e.dispatch((0,fe.uX)({routerLink:be.r.parameterEditor,activatedRoute:t,data:new Ce.q(`SNSSAI-${n}`)}))},ye=(e,t)=>n=>t.confirm({message:"You are about to lock selected network slicing\n\nDo you want to proceed?",header:"Lock Network Slicing",acceptLabel:"OK",rejectLabel:"Cancel",icon:p.Wf,accept:()=>e.dispatch((0,de.r3)({snssaiId:n}))}),Se=(e,t)=>n=>t.confirm({message:"You are about to unlock selected network slicing\n\nDo you want to proceed?",header:"Unlock Network Slicing",acceptLabel:"OK",rejectLabel:"Cancel",icon:p.Wf,accept:()=>e.dispatch((0,de.nj)({snssaiId:n}))});function Pe(e,t,n){return{goToPe:ve(e,n),lockNetworkSlicing:ye(e,t),unlockNetworkSlicing:Se(e,t)}}var Oe=n(79765),xe=n(46782),we=n(42488),Ae=n(34306),_e=n(18952),Te=n(8678),Ie=n(74788),Ee=n(74952),Me=n(44761),ke=n(8701),Ne=n(65044),Le=n(65159),De=n(63788),Ze=n(22730),Re=n(94721),Ue=n(62039),Fe=n(90460),je=n(83665),$e=n(58373),qe=n(96393),Be=n(49201);const Ge=function(){return[]};function Ve(e,t){if(1&e&&(Ie._UZ(0,"ui-webem-raised-alarms",15),Ie.ALo(1,"findSeverity"),Ie.ALo(2,"toActiveAlarms")),2&e){const e=Ie.oxw();Ie.Q6J("alarmSeverityType",Ie.lcZ(1,2,e.model.alarms||Ie.DdM(6,Ge)))("alarms",Ie.lcZ(2,4,e.model.alarms||Ie.DdM(7,Ge)))}}function Ye(e,t){1&e&&Ie._UZ(0,"i",16)}function Je(e,t){if(1&e&&(Ie.TgZ(0,"span",17),Ie.TgZ(1,"span",18),Ie._uU(2),Ie.ALo(3,"nullableValue"),Ie.qZA(),Ie.qZA()),2&e){const e=Ie.oxw();Ie.xp6(2),Ie.hij(" Slice Service Type: ",Ie.lcZ(3,1,e.model.sst)," ")}}function He(e,t){if(1&e&&(Ie.TgZ(0,"span",19),Ie._uU(1),Ie.ALo(2,"nullableValue"),Ie.qZA()),2&e){const e=Ie.oxw();Ie.xp6(1),Ie.hij("Slice Differentiator: ",Ie.lcZ(2,1,e.model.sd),"")}}function We(e,t){1&e&&Ie.GkF(0)}function Qe(e,t){1&e&&Ie._UZ(0,"i",20)}function ze(e,t){if(1&e){const e=Ie.EpF();Ie.TgZ(0,"div",21),Ie.TgZ(1,"ui-webem-button-with-menu",22),Ie.NdJ("click",function(){return Ie.CHM(e),Ie.oxw().menuToggle.emit()}),Ie.qZA(),Ie.qZA()}if(2&e){const e=Ie.oxw();Ie.xp6(1),Ie.Q6J("buttonConfig",e.ACTIONS_BUTTON_MODEL)("menuOptions",e.model.administrativeState===e.AdministrativeState.Locked?e.lockedActions:e.unlockedActions)("scrollableContainer",e.container)}}const Ke=function(e){return{"display-none":e}};let Xe=(()=>{class e{constructor(e,t){this.nullableValuePipe=e,this.vnfcSharedService=t,this.lock=new Ie.vpe,this.unlock=new Ie.vpe,this.goToPe=new Ie.vpe,this.menuToggle=new Ie.vpe,this.AdministrativeState=ie.k,this.NETWORK_SLICING_STATUS=oe.z,this.ACTIONS_BUTTON_MODEL={title:"Actions",icon:"mdi mdi-dots-vertical",theme:a.bnJ.Secondary,length:a.Wmq.Long},this.GO_TO_PARAMETER_EDITOR_ACTION={label:"Go to PE",icon:"mdi mdi-import",command:()=>this.goToPe.emit()}}ngOnInit(){this.recalculateTooltipContent()}ngOnChanges(){this.recalculateTooltipContent(),this.setMenu()}setMenu(){this.lockedActions=[{label:"Unlock Network Slicing",icon:"mdi mdi-lock-open-variant-outline mdi-16px",command:()=>this.unlock.emit(),disabled:this.isCommissioningInProgress,roleAccessFlag:Ze.M.LOCK_UNLOCK},this.GO_TO_PARAMETER_EDITOR_ACTION],this.unlockedActions=[{label:"Lock Network Slicing",icon:"mdi mdi-lock mdi-16px",command:()=>this.lock.emit(),disabled:this.isCommissioningInProgress,roleAccessFlag:Ze.M.LOCK_UNLOCK},this.GO_TO_PARAMETER_EDITOR_ACTION]}isVisibleVdu(){return this.vnfcSharedService.isVdu()}recalculateTooltipContent(){this.tooltipPanelStatus=[{title:"Administrative state",value:(0,P.capitalize)(this.nullableValuePipe.transform(this.model.administrativeState))}],this.tooltipPanelContent=[{title:"Slice service type",value:`${this.nullableValuePipe.transform(this.model.sst)}`},{title:"Slice differentiator",value:`${this.nullableValuePipe.transform(this.model.sd)}`}],this.tooltipPanelContentStatus=this.isVisibleVdu()?this.tooltipPanelStatus:[...this.tooltipPanelStatus,{title:"Operational state",value:(0,P.capitalize)(this.nullableValuePipe.transform(this.model.operationalState))}]}}return e.\u0275fac=function(t){return new(t||e)(Ie.Y36(h.cP),Ie.Y36(Ae.Z9))},e.\u0275cmp=Ie.Xpm({type:e,selectors:[["network-slicing-tile"]],inputs:{model:"model",selected:"selected",visibleParameters:"visibleParameters",container:"container",isCommissioningInProgress:"isCommissioningInProgress"},outputs:{lock:"lock",unlock:"unlock",goToPe:"goToPe",menuToggle:"menuToggle"},features:[Ie.TTD],decls:19,vars:21,consts:[["tooltipTitleHeader","SNSSAI ID",3,"tooltipTitleValue","tooltipContent","tooltipTileState"],[1,"tile-frame",3,"ngClass"],[1,"inner-radius"],[1,"tile-header"],[1,"status-title"],[1,"icons"],["uiWebemToggleParentTooltip","",3,"alarmSeverityType","alarms",4,"ngIf"],["class","lock-icon mdi mdi-lock mdi-16px","title","Locked",4,"ngIf","ngIfElse"],[1,"tile-content",3,"ngClass"],[1,"network-slicing-content"],["class","network-slicing-parameter",4,"ngIf"],["class","network-slicing-parameter network-slicing-differentiator",4,"ngIf"],[4,"ngIf","ngIfThen"],["unLock",""],["operationsButton",""],["uiWebemToggleParentTooltip","",3,"alarmSeverityType","alarms"],["title","Locked",1,"lock-icon","mdi","mdi-lock","mdi-16px"],[1,"network-slicing-parameter"],[1,"network-slicing-parameter-service-type"],[1,"network-slicing-parameter","network-slicing-differentiator"],["title","Unlocked",1,"unlocked"],[1,"operations-button-container"],["uiWebemToggleParentTooltip","",1,"actions-button",3,"buttonConfig","menuOptions","scrollableContainer","click"]],template:function(e,t){if(1&e&&(Ie.TgZ(0,"ui-webem-tile-tooltip",0),Ie.TgZ(1,"div",1),Ie.TgZ(2,"div",2),Ie.TgZ(3,"div",3),Ie.TgZ(4,"div",4),Ie.TgZ(5,"span"),Ie._uU(6),Ie.qZA(),Ie.qZA(),Ie.TgZ(7,"div",5),Ie.YNc(8,Ve,3,8,"ui-webem-raised-alarms",6),Ie.YNc(9,Ye,1,0,"i",7),Ie.qZA(),Ie.qZA(),Ie.TgZ(10,"div",8),Ie.TgZ(11,"div",9),Ie.YNc(12,Je,4,3,"span",10),Ie.YNc(13,He,3,3,"span",11),Ie.qZA(),Ie.YNc(14,We,1,0,"ng-container",12),Ie.qZA(),Ie.qZA(),Ie.qZA(),Ie.YNc(15,Qe,1,0,"ng-template",null,13,Ie.W1O),Ie.YNc(17,ze,2,3,"ng-template",null,14,Ie.W1O),Ie.qZA()),2&e){const e=Ie.MAs(16),n=Ie.MAs(18);Ie.Q6J("tooltipTitleValue","SNSSAI-"+t.model.snssaiId)("tooltipContent",t.tooltipPanelContent)("tooltipTileState",t.tooltipPanelContentStatus),Ie.xp6(1),Ie.ekj("selected",t.selected),Ie.Q6J("ngClass",t.isVisibleVdu()||!t.model.operationalState?"unknown":t.model.operationalState),Ie.uIk("data-name","SNSSAI-"+t.model.snssaiId),Ie.xp6(4),Ie.uIk("data-id",t.model.snssaiId),Ie.xp6(1),Ie.hij("SNSSAI-",t.model.snssaiId,""),Ie.xp6(1),Ie.uIk("data-network-slicing-status",t.model.operationalState)("data-network-slicing-locked",t.model.administrativeState),Ie.xp6(1),Ie.Q6J("ngIf",null==t.model.alarms?null:t.model.alarms.length),Ie.xp6(1),Ie.Q6J("ngIf",t.model.administrativeState===t.AdministrativeState.Locked)("ngIfElse",e),Ie.xp6(1),Ie.Q6J("ngClass",Ie.VKq(19,Ke,!(t.visibleParameters.sst||t.visibleParameters.sd||t.visibleParameters.actions))),Ie.xp6(2),Ie.Q6J("ngIf",t.visibleParameters.sst),Ie.xp6(1),Ie.Q6J("ngIf",t.visibleParameters.sd),Ie.xp6(1),Ie.Q6J("ngIf",t.visibleParameters.actions)("ngIfThen",n)}},directives:[Re.x,s.mk,s.O5,Ue.V,Fe.x,je.N],pipes:[$e.P,qe.G,Be.c],styles:['@charset "UTF-8";.data-loading-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;font-size:40px;width:40px;height:40px;margin:auto;top:0;left:0;right:0;bottom:0;overflow:visible;color:#98a2ae}.data-loading-spinner.embedded[_ngcontent-%COMP%]{position:absolute;color:#4d5766}.data-loading-spinner.embedded-no-background[_ngcontent-%COMP%]{position:absolute}.unlocked[_ngcontent-%COMP%]:before{content:"\uffe7";display:inline-block;font:normal normal normal 24px/1 Material Design Icons,sans-serif;font-size:16px;line-height:16px}[_nghost-%COMP%]{display:inline-block;width:180px}.tile-frame[_ngcontent-%COMP%]{border-radius:3px;border-style:solid;box-shadow:0 3px 4px rgba(0,0,0,.18);border-width:1px 1px 1px 5px;cursor:pointer}.tile-frame[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px;padding:8px}.tile-frame.enabled[_ngcontent-%COMP%]{background-color:#3daa00}.tile-frame.enabled[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#e7f5e0}.tile-frame.enabled[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#3daa00}.tile-frame.disabled[_ngcontent-%COMP%]{background-color:#98a2ae}.tile-frame.disabled[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#f3f4f5}.tile-frame.disabled[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#98a2ae}.tile-frame.unknown[_ngcontent-%COMP%]{background-color:#273142}.tile-frame.unknown[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#b9bcc2}.tile-frame.unknown[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#273142}.tile-frame[_ngcontent-%COMP%]:hover{background-color:#00c9ff;border-color:#00c9ff;box-shadow:0 0 0 .5px #00c9ff}.tile-frame.selected[_ngcontent-%COMP%], .tile-frame[_ngcontent-%COMP%]:hover{transition:border-color .2s,box-shadow .2s}.tile-frame.selected[_ngcontent-%COMP%]{background-color:#124191;border-color:#124191;box-shadow:0 0 0 1px #124191}.tile-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.status-title[_ngcontent-%COMP%]{font-weight:700;white-space:nowrap;line-height:16px;overflow:hidden;text-overflow:ellipsis}.status-title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:4px}.icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;height:16px}.icons[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]:before{vertical-align:text-bottom}.icons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:2px}.network-slicing-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;padding-right:8px;white-space:nowrap}.network-slicing-parameter[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tile-content[_ngcontent-%COMP%]{margin-top:8px;display:grid;grid-template-columns:minmax(0,1fr) max-content;align-items:end;font-size:10px;line-height:15px}.tile-options[_ngcontent-%COMP%]{display:grid;align-items:center}.tile-content.display-none[_ngcontent-%COMP%], .tile-options.display-none[_ngcontent-%COMP%]{display:none}.operations-button-container[_ngcontent-%COMP%]{min-width:32px;min-height:26px;justify-content:flex-end;display:flex;height:100%;flex-direction:column}'],changeDetection:0}),e})();const et=[{name:"Status",width:"25%",class:"col-status",fixed:!0},{name:"SNSSAI ID",width:"112%",minWidth:"70px"},{name:"Slice service type",width:"112%",minWidth:"70px",parameterGroup:"sst"},{name:"Slice differentiator",width:"126%",minWidth:"70px",parameterGroup:"sd"},{name:"Actions",width:"75px",fixed:!0,parameterGroup:"actions"}];var tt=n(40954),nt=n(52504),it=n(92798),ot=n(88361),st=n(2069),at=n(20087),rt=n(67866);function lt(e,t){if(1&e&&Ie._UZ(0,"ui-webem-status-icon",15),2&e){const e=Ie.oxw(2).ngIf,t=Ie.oxw(2);Ie.Q6J("type",e.available?t.STATUS_ICON_TYPE.Success:t.STATUS_ICON_TYPE.Off)("title",e.available?"Enabled":"Disabled")}}function ct(e,t){if(1&e&&(Ie.TgZ(0,"div",9),Ie.YNc(1,lt,1,2,"ui-webem-status-icon",14),Ie.qZA()),2&e){const e=Ie.oxw(2).$implicit;Ie.oxw();const t=Ie.MAs(8);Ie.xp6(1),Ie.Q6J("ngIf",e.operationalState)("ngIfElse",t)}}function dt(e,t){1&e&&Ie._UZ(0,"i",16)}function ut(e,t){if(1&e&&(Ie._UZ(0,"ui-webem-raised-alarms",17),Ie.ALo(1,"getHighestAlarmSeverity")),2&e){const e=Ie.oxw(2).$implicit;Ie.Q6J("alarms",e.alarms)("alarmSeverityType",Ie.lcZ(1,2,e.alarms))}}function pt(e,t){if(1&e&&(Ie.TgZ(0,"td"),Ie._uU(1),Ie.ALo(2,"nullableValue"),Ie.qZA()),2&e){const e=Ie.oxw(2).$implicit;Ie.xp6(1),Ie.Oqu(Ie.lcZ(2,1,e.sst))}}function gt(e,t){if(1&e&&(Ie.TgZ(0,"td"),Ie.ALo(1,"nullableValue"),Ie._uU(2),Ie.ALo(3,"nullableValue"),Ie.qZA()),2&e){const e=Ie.oxw(2).$implicit;Ie.uIk("title",Ie.lcZ(1,2,e.sd)),Ie.xp6(2),Ie.Oqu(Ie.lcZ(3,4,e.sd))}}function ht(e,t){if(1&e){const e=Ie.EpF();Ie.TgZ(0,"ui-webem-button",21,22),Ie.NdJ("action",function(){Ie.CHM(e);const t=Ie.oxw(3).$implicit;return Ie.oxw().unlock.emit(t)}),Ie.qZA()}if(2&e){const e=Ie.MAs(1),t=Ie.oxw(4);Ie.Q6J("oamRoleAccessControl","LOCK_UNLOCK")("hostInstance",e)("model",t.UNLOCK_BUTTON_MODEL)("disabled",t.isCommissioningInProgress)}}function mt(e,t){if(1&e){const e=Ie.EpF();Ie.TgZ(0,"ui-webem-button",21,22),Ie.NdJ("action",function(){Ie.CHM(e);const t=Ie.oxw(3).$implicit;return Ie.oxw().lock.emit(t)}),Ie.qZA()}if(2&e){const e=Ie.MAs(1),t=Ie.oxw(4);Ie.Q6J("oamRoleAccessControl","LOCK_UNLOCK")("hostInstance",e)("model",t.LOCK_BUTTON_MODEL)("disabled",t.isCommissioningInProgress)}}function ft(e,t){if(1&e){const e=Ie.EpF();Ie.TgZ(0,"td",18),Ie.YNc(1,ht,2,4,"ui-webem-button",19),Ie.YNc(2,mt,2,4,"ui-webem-button",19),Ie.TgZ(3,"ui-webem-go-to-pe-table-button",20),Ie.NdJ("action",function(){Ie.CHM(e);const t=Ie.oxw(2).$implicit;return Ie.oxw().goToPe.emit(t)}),Ie.qZA(),Ie.qZA()}if(2&e){const e=Ie.oxw().ngIf;Ie.xp6(1),Ie.Q6J("ngIf",e.locked),Ie.xp6(1),Ie.Q6J("ngIf",!e.locked)}}function bt(e,t){if(1&e&&(Ie.ynx(0),Ie.TgZ(1,"td",6),Ie.TgZ(2,"div",7),Ie.YNc(3,ct,2,2,"div",8),Ie.TgZ(4,"div",9),Ie.YNc(5,dt,1,0,"i",10),Ie.qZA(),Ie.TgZ(6,"div",9),Ie.YNc(7,ut,2,4,"ui-webem-raised-alarms",11),Ie.ALo(8,"hasAlarms"),Ie.qZA(),Ie.qZA(),Ie.qZA(),Ie.TgZ(9,"td",12),Ie._uU(10),Ie.qZA(),Ie.YNc(11,pt,3,3,"td",5),Ie.YNc(12,gt,4,6,"td",5),Ie.YNc(13,ft,4,2,"td",13),Ie.BQk()),2&e){const e=t.ngIf,n=Ie.oxw().$implicit,i=Ie.oxw(),o=Ie.MAs(4),s=Ie.MAs(6);Ie.xp6(3),Ie.Q6J("ngIf",!i.isVisibleVdu()),Ie.xp6(2),Ie.Q6J("ngIf",e.locked)("ngIfElse",o),Ie.xp6(2),Ie.Q6J("ngIf",Ie.lcZ(8,10,n))("ngIfElse",s),Ie.xp6(2),Ie.MGl("title","SNSSAI-",n.snssaiId,""),Ie.xp6(1),Ie.hij("SNSSAI-",n.snssaiId,""),Ie.xp6(1),Ie.Q6J("ngIf",i.visibleParameters.sst),Ie.xp6(1),Ie.Q6J("ngIf",i.visibleParameters.sd),Ie.xp6(1),Ie.Q6J("ngIf",i.visibleParameters.actions)}}const Ct=function(e,t){return{locked:e,available:t}};function vt(e,t){if(1&e&&Ie.YNc(0,bt,14,12,"ng-container",5),2&e){const e=t.$implicit,n=Ie.oxw();Ie.Q6J("ngIf",Ie.WLB(1,Ct,e.administrativeState===n.NETWORK_SLICING_LOCK.Locked,e.operationalState===n.NETWORK_SLICING_STATUS.Enabled))}}function yt(e,t){1&e&&Ie._UZ(0,"i",23)}function St(e,t){1&e&&Ie._UZ(0,"span",24)}function Pt(e,t){if(1&e&&(Ie.TgZ(0,"span",25),Ie._uU(1),Ie.qZA()),2&e){const e=Ie.oxw();Ie.xp6(1),Ie.Oqu(e.NO_STATUS_TEXT)}}let Ot=(()=>{class e{constructor(e){this.vnfcSharedService=e,this.goToPe=new Ie.vpe,this.lock=new Ie.vpe,this.unlock=new Ie.vpe,this.select=new Ie.vpe,this.NETWORK_SLICING_TABLE_VIEW_COLUMNS=et,this.ROWS_BUFFER=30,this.NETWORK_SLICING_LOCK=ie.k,this.NETWORK_SLICING_STATUS=oe.z,this.STATUS_ICON_TYPE=p.Zm,this.LOCK_BUTTON_MODEL={title:"Lock Network Slicing",icon:"mdi mdi-lock",thickness:a.NOb.Thin},this.UNLOCK_BUTTON_MODEL={title:"Unlock Network Slicing",icon:"mdi mdi-lock-open-variant-outline",thickness:a.NOb.Thin},this.NO_STATUS_TEXT=Be.v}get selected(){return this._selected||void 0}set selected(e){this.select.emit(e)}ngOnInit(){}ngOnChanges(e){(e.networkSlicing||e.selectedId)&&(this._selected=this.findSelectedNetworkSlicing(this.selectedId,this.networkSlicing))}isVisibleVdu(){return this.vnfcSharedService.isVdu()}findSelectedNetworkSlicing(e,t){if(t)return e?t.find(t=>t.snssaiId===e):void 0}}return e.\u0275fac=function(t){return new(t||e)(Ie.Y36(Ae.Z9))},e.\u0275cmp=Ie.Xpm({type:e,selectors:[["network-slicing-table-view"]],inputs:{networkSlicing:"networkSlicing",selectedId:"selectedId",visibleParameters:"visibleParameters",isCommissioningInProgress:"isCommissioningInProgress"},outputs:{goToPe:"goToPe",lock:"lock",unlock:"unlock",select:"select"},features:[Ie.TTD],decls:9,vars:7,consts:[["dataKey","snssaiId",1,"network-slicing-table",3,"items","columns","visibleParameterGroupColumns","selected","loading","virtual","minBuffer","selectedChange"],["row",""],["unlocked",""],["noAlarms",""],["noStatus",""],[4,"ngIf"],[1,"status-icons"],[1,"fake-cell-group"],["class","fake-cell",4,"ngIf"],[1,"fake-cell"],["class","mdi mdi-lock locked mdi-16px","title","Locked",4,"ngIf","ngIfElse"],[3,"alarms","alarmSeverityType",4,"ngIf","ngIfElse"],[3,"title"],["class","col-actions",4,"ngIf"],[3,"type","title",4,"ngIf","ngIfElse"],[3,"type","title"],["title","Locked",1,"mdi","mdi-lock","locked","mdi-16px"],[3,"alarms","alarmSeverityType"],[1,"col-actions"],[3,"oamRoleAccessControl","hostInstance","model","disabled","action",4,"ngIf"],[3,"action"],[3,"oamRoleAccessControl","hostInstance","model","disabled","action"],["LOCK_UNLOCK",""],["title","Unlocked",1,"unlocked"],[1,"no-alarms"],["title","No status"]],template:function(e,t){1&e&&(Ie.TgZ(0,"ui-webem-table-view",0),Ie.NdJ("selectedChange",function(e){return t.selected=e}),Ie.YNc(1,vt,1,4,"ng-template",null,1,Ie.W1O),Ie.qZA(),Ie.YNc(3,yt,1,0,"ng-template",null,2,Ie.W1O),Ie.YNc(5,St,1,0,"ng-template",null,3,Ie.W1O),Ie.YNc(7,Pt,2,1,"ng-template",null,4,Ie.W1O)),2&e&&Ie.Q6J("items",t.networkSlicing)("columns",t.NETWORK_SLICING_TABLE_VIEW_COLUMNS)("visibleParameterGroupColumns",t.visibleParameters)("selected",t.selected)("loading",!t.networkSlicing)("virtual",!0)("minBuffer",t.ROWS_BUFFER)},directives:[tt.x,s.O5,nt.m,Ue.V,it.C,ot.r,st.h],pipes:[at.U,rt.W,Be.c],styles:['@charset "UTF-8";.data-loading-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;font-size:40px;width:40px;height:40px;margin:auto;top:0;left:0;right:0;bottom:0;overflow:visible;color:#98a2ae}.data-loading-spinner.embedded[_ngcontent-%COMP%]{position:absolute;color:#4d5766}.data-loading-spinner.embedded-no-background[_ngcontent-%COMP%]{position:absolute}.unlocked[_ngcontent-%COMP%]:before{content:"\uffe7";display:inline-block;font:normal normal normal 24px/1 Material Design Icons,sans-serif;font-size:16px;line-height:16px}[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .network-slicing-table[_ngcontent-%COMP%]    {--status-icon-font-size:13px}[_nghost-%COMP%]   .network-slicing-table[_ngcontent-%COMP%]     th.col-status{text-align:center}[_nghost-%COMP%]   .network-slicing-table[_ngcontent-%COMP%]     td.status-icons{padding:0}[_nghost-%COMP%]   .network-slicing-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group{display:grid;grid-template-columns:1fr 1fr 1fr;width:100%;height:100%}[_nghost-%COMP%]   .network-slicing-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group>.fake-cell{display:flex;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]   .network-slicing-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group>*+*{border-left:1px solid #bec8d2}.col-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:4px}'],changeDetection:0}),e})();var xt=n(19230);function wt(e,t){if(1&e){const e=Ie.EpF();Ie.TgZ(0,"network-slicing-tile",7),Ie.NdJ("goToPe",function(){const t=Ie.CHM(e).$implicit;return Ie.oxw(2).operations.goToPe(t.data.snssaiId)})("lock",function(){const t=Ie.CHM(e).$implicit;return Ie.oxw(2).operations.lockNetworkSlicing(t.data.snssaiId)})("unlock",function(){const t=Ie.CHM(e).$implicit;return Ie.oxw(2).operations.unlockNetworkSlicing(t.data.snssaiId)})("click",function(){const t=Ie.CHM(e).$implicit;return Ie.oxw(2).selectNetworkSlicing(t.data.snssaiId)}),Ie.qZA()}if(2&e){const e=t.$implicit;Ie.oxw();const n=Ie.MAs(1),i=Ie.oxw();Ie.Q6J("model",e.data)("isCommissioningInProgress",i.isCommissioningInProgress)("visibleParameters",e.configuration)("selected",e.selected)("container",null==n?null:n.virtualScrollerRef)}}function At(e,t){1&e&&(Ie.TgZ(0,"status-shared-virtual-tile-grid",4,5),Ie.YNc(2,wt,1,5,"network-slicing-tile",6),Ie.qZA()),2&e&&Ie.Q6J("model",t.$implicit.model)}function _t(e,t){if(1&e){const e=Ie.EpF();Ie.TgZ(0,"network-slicing-table-view",8),Ie.NdJ("goToPe",function(t){return Ie.CHM(e),Ie.oxw().operations.goToPe(t.snssaiId)})("lock",function(t){return Ie.CHM(e),Ie.oxw().operations.lockNetworkSlicing(t.snssaiId)})("unlock",function(t){return Ie.CHM(e),Ie.oxw().operations.unlockNetworkSlicing(t.snssaiId)})("select",function(t){return Ie.CHM(e),Ie.oxw().selectNetworkSlicing(t)}),Ie.ALo(1,"async"),Ie.qZA()}if(2&e){const e=t.$implicit,n=Ie.oxw();Ie.Q6J("networkSlicing",Ie.lcZ(1,4,e.model.data))("isCommissioningInProgress",n.isCommissioningInProgress)("selectedId",e.model.selected+"")("visibleParameters",e.model.configuration)}}function Tt(e,t){1&e&&Ie._UZ(0,"ui-webem-no-selected-message",9)}const It=function(){return{width:"350px"}};let Et=(()=>{class e{constructor(e,t,n,i){this.store=e,this.confirmationService=t,this.vnfcSharedService=n,this.activatedRoute=i,this.ngUnsubscribe=new Oe.xQ,this.operations=Pe(this.store,this.confirmationService,this.activatedRoute),this.prepareExport=()=>({export:e=>{this.vnfcSharedService.isVdu()?e.dispatch(D()):e.dispatch(L())}}),me.export=this.prepareExport(),me.filter=this.prepareFilter(),me.sort=this.prepareSorter(),this.VIEW_MODEL=me}ngOnInit(){this.loadStateFromRedirect(),this.commissioningSubscription=this.store.pipe((0,xe.R)(this.ngUnsubscribe),(0,o.Ys)(we.f)).subscribe(e=>{this.isCommissioningInProgress=e})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}prepareFilter(){return this.vnfcSharedService.isVdu()?re:le}prepareSorter(){return this.vnfcSharedService.isVdu()?te:ee}selectNetworkSlicing(e){const t=(0,P.isObject)(e)?e.snssaiId:(0,P.isString)(e)?e:null;this.store.dispatch(I({payload:t?parseInt(t,10):null}))}loadStateFromRedirect(){var e;if((null===(e=history.state)||void 0===e?void 0:e.data)&&history.state.data.type===Te.b.NETWORK_SLICING){this.store.dispatch(N());const e={[_e.m.SNSSAI_ID]:w.C.BY_SNSSAI_ID,[_e.m.LOCK_STATE]:w.C.BY_LOCK_STATE,[_e.m.LINK_STATUS]:w.C.BY_SLICING_STATUS}[history.state.data.sortType];this.store.dispatch(M({payload:e}))}}}return e.\u0275fac=function(t){return new(t||e)(Ie.Y36(o.yh),Ie.Y36(c.YP),Ie.Y36(Ae.Z9),Ie.Y36(S.gz))},e.\u0275cmp=Ie.Xpm({type:e,selectors:[["network-slicing"]],decls:5,vars:4,consts:[[3,"model"],["trackByPath","snssaiId",3,"model",4,"statusSharedTileGridComponent"],[3,"networkSlicing","isCommissioningInProgress","selectedId","visibleParameters","goToPe","lock","unlock","select",4,"statusSharedTableComponent"],["class","status-empty-data","message","No network slicing to display",4,"statusSharedEmptyData"],["trackByPath","snssaiId",3,"model"],["virtualTileGrid",""],[3,"model","isCommissioningInProgress","visibleParameters","selected","container","goToPe","lock","unlock","click",4,"statusSharedTileComponent"],[3,"model","isCommissioningInProgress","visibleParameters","selected","container","goToPe","lock","unlock","click"],[3,"networkSlicing","isCommissioningInProgress","selectedId","visibleParameters","goToPe","lock","unlock","select"],["message","No network slicing to display",1,"status-empty-data"]],template:function(e,t){1&e&&(Ie.TgZ(0,"status-shared-operations-view",0),Ie.YNc(1,At,3,1,"status-shared-virtual-tile-grid",1),Ie.YNc(2,_t,2,6,"network-slicing-table-view",2),Ie.YNc(3,Tt,1,0,"ui-webem-no-selected-message",3),Ie.qZA(),Ie._UZ(4,"p-confirmDialog")),2&e&&(Ie.Q6J("model",t.VIEW_MODEL),Ie.xp6(4),Ie.Akn(Ie.DdM(3,It)))},directives:[Ee.E,Me.j,ke.a,Ne.Z,l.Q,Le.h,De.E,Xe,Ot,xt.G],pipes:[s.Ov],styles:["[_nghost-%COMP%]{padding:10px 15px 15px;display:block;height:100%}status-shared-virtual-tile-grid[_ngcontent-%COMP%]{padding-top:5px}network-slicing-table-view[_ngcontent-%COMP%]{padding-top:10px}"]}),e})();var Mt=n(33346),kt=n(36900),Nt=n(44501),Lt=n(41146);const Dt="lock",Zt="unlock",Rt="goToPE",Ut=[{name:"lock button",model:{icon:"mdi mdi-lock",theme:a.bnJ.Default,iconPosition:"left",label:"Lock Network Slicing",length:a.Wmq.Short},action:Dt,roleAccessFlag:Ze.M.LOCK_UNLOCK},{name:"unlock button",model:{icon:"mdi mdi-lock-open-variant-outline",theme:a.bnJ.Default,iconPosition:"left",label:"Unlock Network Slicing",length:a.Wmq.Short},action:Zt,roleAccessFlag:Ze.M.LOCK_UNLOCK},{name:"go-to-pe-button",model:{icon:"mdi mdi-exit-to-app",theme:a.bnJ.Default,iconPosition:"left",label:"Go to PE",title:"Go to Parameter Editor",length:a.Wmq.Short},action:Rt}];let Ft=(()=>{class e{transform(e,t){switch(t){case Dt:return e===ie.k.Unlocked;case Zt:return e===ie.k.Locked;default:return!0}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ie.Yjl({name:"isButtonVisibleByNetworkSlicingStatePipe",type:e,pure:!0}),e})();function jt(e,t){if(1&e){const e=Ie.EpF();Ie.TgZ(0,"ui-webem-button",3,4),Ie.NdJ("action",function(){Ie.CHM(e);const t=Ie.oxw().$implicit,n=Ie.oxw();return n.buttonClick(t.action,n.networkSlicing)}),Ie.ALo(2,"async"),Ie.qZA()}if(2&e){const e=Ie.MAs(1),t=Ie.oxw().$implicit,n=Ie.oxw();Ie.Q6J("oamRoleAccessControl",t.roleAccessFlag)("hostInstance",e)("id",t.name)("model",t.model)("options",t.options)("disabled",(t.name===n.buttonNames.lockButton||t.name===n.buttonNames.unlockButton)&&Ie.lcZ(2,6,n.isCommissioningInProgress$))}}function $t(e,t){if(1&e&&(Ie.ynx(0),Ie.YNc(1,jt,3,8,"ui-webem-button",2),Ie.ALo(2,"isButtonVisibleByNetworkSlicingStatePipe"),Ie.BQk()),2&e){const e=t.$implicit,n=Ie.oxw();Ie.xp6(1),Ie.Q6J("ngIf",Ie.xi3(2,1,n.networkSlicing.administrativeState,e.action))}}let qt=(()=>{class e{constructor(e,t,n){this.store=e,this.confirmationService=t,this.activatedRoute=n,this.commissioningSubject=new Oe.xQ,this.operations=Pe(this.store,this.confirmationService,this.activatedRoute),this.buttons=(0,P.cloneDeep)(Ut),this.buttonNames={lockButton:"lock button",unlockButton:"unlock button"}}ngOnInit(){this.isCommissioningInProgress$=this.store.pipe((0,xe.R)(this.commissioningSubject),(0,o.Ys)(we.f))}ngOnDestroy(){this.commissioningSubject.next(),this.commissioningSubject.complete()}buttonClick(e,t){switch(e){case Dt:this.operations.lockNetworkSlicing(t.snssaiId);break;case Zt:this.operations.unlockNetworkSlicing(t.snssaiId);break;case Rt:this.operations.goToPe(t.snssaiId)}}}return e.\u0275fac=function(t){return new(t||e)(Ie.Y36(o.yh),Ie.Y36(c.YP),Ie.Y36(S.gz))},e.\u0275cmp=Ie.Xpm({type:e,selectors:[["network-slicing-details-operations-buttons"]],inputs:{networkSlicing:"networkSlicing"},decls:2,vars:1,consts:[["actions","","id","network-slicing-details-buttons",1,"details-buttons"],[4,"ngFor","ngForOf"],["class","details-button",3,"oamRoleAccessControl","hostInstance","id","model","options","disabled","action",4,"ngIf"],[1,"details-button",3,"oamRoleAccessControl","hostInstance","id","model","options","disabled","action"],["btn",""]],template:function(e,t){1&e&&(Ie.TgZ(0,"div",0),Ie.YNc(1,$t,3,4,"ng-container",1),Ie.qZA()),2&e&&(Ie.xp6(1),Ie.Q6J("ngForOf",t.buttons))},directives:[s.sg,s.O5,ot.r,st.h],pipes:[Ft,s.Ov],styles:[".details-button[_ngcontent-%COMP%]{margin-right:8px;display:inline-block}.details-buttons[_ngcontent-%COMP%]{border-bottom:1px solid #98a2ae;padding-bottom:10px;margin-bottom:15px}"]}),e})();var Bt=n(75107),Gt=n(60698);let Vt=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){return e?[{key:"SNSSAI ID",value:`SNSSAI-${e.snssaiId}`},{key:"Slice service type",value:this.nullableValuePipe.transform(e.sst)},{key:"Slice differentiator",value:this.nullableValuePipe.transform(e.sd)},{key:"User label",value:this.nullableValuePipe.transform(e.userLabel)},{key:"List of NRPLMN distinguished names",value:this.nullableValuePipe.transform(e.nrPlmnDNList.join("\n"))}]:[]}}return e.\u0275fac=function(t){return new(t||e)(Ie.Y36(h.cP,16))},e.\u0275pipe=Ie.Yjl({name:"toNetworkSlicingDetailsProperties",type:e,pure:!0}),e})(),Yt=(()=>{class e{constructor(e,t){this.nullableValuePipe=e,this.vnfcSharedService=t}transform(e){if(!e)return[];const t=[{key:"Administrative state",value:(0,P.capitalize)(e.administrativeState)}];return this.vnfcSharedService.isVdu()?t:[...t,{key:"Operational state",value:(0,P.capitalize)(this.nullableValuePipe.transform(e.operationalState))}]}}return e.\u0275fac=function(t){return new(t||e)(Ie.Y36(h.cP,16),Ie.Y36(Ae.Z9,16))},e.\u0275pipe=Ie.Yjl({name:"toNetworkSlicingStatesDetailsProperties",type:e,pure:!0}),e})();function Jt(e,t){if(1&e&&(Ie.ynx(0),Ie._UZ(1,"network-slicing-details-operations-buttons",4),Ie.TgZ(2,"div",5),Ie._UZ(3,"ui-webem-details-section",6),Ie.ALo(4,"toNetworkSlicingDetailsProperties"),Ie._UZ(5,"ui-webem-details-section",7),Ie.ALo(6,"toNetworkSlicingStatesDetailsProperties"),Ie.qZA(),Ie.BQk()),2&e){const e=Ie.oxw().ngIf;Ie.xp6(1),Ie.Q6J("networkSlicing",e),Ie.xp6(2),Ie.Q6J("data",Ie.lcZ(4,3,e)),Ie.xp6(2),Ie.Q6J("data",Ie.lcZ(6,5,e))}}function Ht(e,t){if(1&e&&(Ie.ynx(0),Ie._UZ(1,"network-slicing-details-operations-buttons",4),Ie._UZ(2,"status-shared-details-panel-parameters",8),Ie.BQk()),2&e){const e=Ie.oxw().ngIf;Ie.xp6(1),Ie.Q6J("networkSlicing",e),Ie.xp6(1),Ie.Q6J("distNames",e.distNames)}}function Wt(e,t){1&e&&(Ie.TgZ(0,"webem-status-tabbed-panel"),Ie.YNc(1,Jt,7,7,"ng-container",2),Ie.YNc(2,Ht,3,2,"ng-container",3),Ie.qZA())}function Qt(e,t){1&e&&Ie._UZ(0,"ui-webem-no-selected-message",9)}let zt=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.selectedNetworkSlicing$=(0,O.aj)([this.store.select(ue.We),this.store.select(B)]).pipe((0,x.U)(([e,t])=>e.find(e=>e.snssaiId===t.toString())))}}return e.\u0275fac=function(t){return new(t||e)(Ie.Y36(o.yh))},e.\u0275cmp=Ie.Xpm({type:e,selectors:[["network-slicing-details"]],decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["noSelection",""],[4,"webemOverviewContent"],[4,"webemParametersContent"],[3,"networkSlicing"],[1,"network-slicing-details-section"],["id","network-slicing-properties","title","Network slicing properties",3,"data"],["id","network-slicing-states","title","Network slicing states",3,"data"],[3,"distNames"],["message","Select network slicing from the list to see details"]],template:function(e,t){if(1&e&&(Ie.TgZ(0,"webem-details-panel"),Ie.YNc(1,Wt,3,0,"webem-status-tabbed-panel",0),Ie.ALo(2,"async"),Ie.YNc(3,Qt,1,0,"ng-template",null,1,Ie.W1O),Ie.qZA()),2&e){const e=Ie.MAs(4);Ie.xp6(1),Ie.Q6J("ngIf",Ie.lcZ(2,2,t.selectedNetworkSlicing$))("ngIfElse",e)}},directives:[Mt.V,s.O5,kt.Y,Nt.r,Lt.w,qt,Bt.h,Gt.h,xt.G],pipes:[s.Ov,Vt,Yt],styles:[".network-slicing-details-section[_ngcontent-%COMP%]{overflow-y:auto;height:100%}status-shared-details-panel-parameters[_ngcontent-%COMP%]{overflow-y:auto}#network-slicing-properties[_ngcontent-%COMP%]{margin-top:0}"]}),e})();const Kt=[{path:"",component:n(47712).O,outlet:"content_menu"},{path:"",component:Et,outlet:"content_center"},{path:"",component:zt,outlet:"content_right"}];let Xt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ie.oAB({type:e}),e.\u0275inj=Ie.cJS({imports:[[s.ez,S.Bz.forChild(Kt)],S.Bz]}),e})();var en=n(25917),tn=n(1429),nn=n(94612),on=n(57057),sn=n(68307),an=n(23481),rn=n(64699);let ln=(()=>{class e{constructor(e,t,n){this.store=e,this.actions$=t,this.vnfcSharedService=n,this.PREFIX="Network_slicing_status",this.LABELS=["Network slicing ID","Slice service type","Slice differentiator","Administrative state","Alarms"],this.exportNetworkSlicingVduToCsv$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(D),(0,nn.b)(e=>(0,en.of)(e).pipe((0,on.M)(this.store.pipe((0,o.Ys)(ue.We)),this.store.pipe((0,o.Ys)(an.nP))))),(0,x.U)(([,e,t])=>[e.map(e=>this.mapSlicing(e)),this.getFileName(t)]),(0,sn.b)(([e,t])=>(0,tn.m1)(e,t,this.LABELS))),{dispatch:!1}),this.exportNetworkSlicingToCsv$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(L),(0,nn.b)(e=>(0,en.of)(e).pipe((0,on.M)(this.store.pipe((0,o.Ys)(ue.We)),this.store.pipe((0,o.Ys)(rn.K1))))),(0,x.U)(([,e,t])=>[e.map(e=>this.mapSlicing(e)),this.getFileName(t)]),(0,sn.b)(([e,t])=>(0,tn.m1)(e,t,this.LABELS))),{dispatch:!1}),this.vnfcSharedService.isVcu()&&this.LABELS.push("Operational state")}mapSlicing(e){const t=[e.snssaiId||"-",e.sst||"-",e.sd||"-",e.administrativeState||"-",(0,tn.C1)(e.alarms)];return this.vnfcSharedService.isVdu()?t:[...t,e.operationalState||"-"]}getFileName(e){return`${this.PREFIX}${(0,tn.cs)(e)}`}}return e.\u0275fac=function(t){return new(t||e)(Ie.LFG(o.yh),Ie.LFG(i.eX),Ie.LFG(Ae.Z9))},e.\u0275prov=Ie.Yz7({token:e,factory:e.\u0275fac}),e})();var cn=n(25616),dn=n(20130);let un=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ie.oAB({type:e}),e.\u0275inj=Ie.cJS({providers:[c.YP],imports:[[s.ez,a.EJq,a.a9S,Xt,r.F,l.D,a.Xn,d.L,u.R,p.f_,g.z,h.oS,m.LU,v.Us,f.J,b.E,C.u5,a.gkd,a.upY,a.hZC,a.g3K,a.Jaz,a.I67,a.hXG,y.d,dn.i,o.Aw.forFeature(R,j),i.sQ.forFeature([ln]),cn.FZ]]}),e})()},21040:(e,t,n)=>{"use strict";n.d(t,{f:()=>d});var i=n(12732),o=n(8408),s=n(94766);const a={[i.z.Disabled]:0,[i.z.Enabled]:1,null:2},r={[o.k.Locked]:0,[o.k.Unlocked]:1},l={[s.C.BY_SNSSAI_ID]:(e,t)=>c(e.snssaiId)-c(t.snssaiId),[s.C.BY_SLICING_STATUS]:(e,t)=>a[e.operationalState]-a[t.operationalState],[s.C.BY_LOCK_STATE]:(e,t)=>r[e.administrativeState]-r[t.administrativeState]};function c(e){return Number.parseInt(e,10)}function d(e,t){return e.sort(l[t])}},94766:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var i=(()=>(function(e){e.BY_SNSSAI_ID="BY_SNSSAI_ID",e.BY_SLICING_STATUS="BY_SLICING_STATUS",e.BY_LOCK_STATE="BY_LOCK_STATE"}(i||(i={})),i))()},70743:(e,t,n)=>{"use strict";n.d(t,{no:()=>s,wq:()=>a,Gz:()=>r,mU:()=>l,Bc:()=>c,bi:()=>d,_3:()=>u,K5:()=>p,Kg:()=>g,UX:()=>h,NS:()=>m,by:()=>f,mk:()=>b,eG:()=>C,LM:()=>v,yG:()=>y,$F:()=>S,BS:()=>P,vj:()=>O});var i=n(62800),o=(()=>(function(e){e.unlockNgLinkFailure="[Effect] Unlock NG Links operation failure",e.unlockNgLinkHttpError="[Effect] Unlock NG Links operation http error",e.unlockNgLinkActionOngoing="[Effect] Unlock NG Links operation ongoing",e.unlockNgLinkActionSuccess="[Effect] Unlock NG Links operation success",e.unlockNgLinksFinished="[Effect] Unlock NG Links finished",e.lockNgLinkFailure="[Effect] Lock NG Links failure",e.lockNgLinkHttpError="[Effect] Lock NG Links http error",e.lockNgLinkActionOngoing="[Effect] Lock NG Links action ongoing",e.lockNgLinkActionSuccess="[Effect] Lock NG Links operation success",e.lockNgLinksFinished="[Effect] Lock NG Links finished",e.lockNgLinks="[User] Lock NG Links",e.lockNgLink="[Effect] Lock NG Links",e.unlockNgLinks="[User] Unlock NG Links",e.unlockNgLink="[Effect] Unlock NG Links",e.ngLinkStoreError="[Effect] NG Links store error",e.ngLinksPollingError="[Effect] NG Links polling error",e.ngLinkSelected="[Effect] NG link selected",e.startNgLinksPolling="[User] Start NG Links polling",e.stopNgLinksPolling="[Effect] Stop NG Links polling",e.ngLinksRequest="[Effect] Ng Links request",e.ngLinksRequestError="[Effect] NG Links error",e.resetNgLinksAction="[Effect] Reset NG Links action",e.updateNgLinks="[Effect] Update NG Links in store"}(o||(o={})),o))();const s=(0,i.PH)(o.resetNgLinksAction),a=(0,i.PH)(o.updateNgLinks,(0,i.Ky)()),r=(0,i.PH)(o.startNgLinksPolling),l=(0,i.PH)(o.stopNgLinksPolling),c=(0,i.PH)(o.ngLinksRequest),d=((0,i.PH)(o.ngLinksPollingError,(0,i.Ky)()),(0,i.PH)(o.ngLinkStoreError,(0,i.Ky)())),u=(0,i.PH)(o.unlockNgLinkActionSuccess,(0,i.Ky)()),p=(0,i.PH)(o.lockNgLinkActionOngoing,(0,i.Ky)()),g=(0,i.PH)(o.lockNgLinkHttpError,(0,i.Ky)()),h=(0,i.PH)(o.lockNgLinkFailure,(0,i.Ky)()),m=(0,i.PH)(o.unlockNgLinkActionOngoing,(0,i.Ky)()),f=(0,i.PH)(o.unlockNgLinkHttpError,(0,i.Ky)()),b=(0,i.PH)(o.unlockNgLinkFailure,(0,i.Ky)()),C=(0,i.PH)(o.unlockNgLinks,(0,i.Ky)()),v=(0,i.PH)(o.unlockNgLink,(0,i.Ky)()),y=(0,i.PH)(o.lockNgLinks,(0,i.Ky)()),S=(0,i.PH)(o.lockNgLink,(0,i.Ky)()),P=((0,i.PH)(o.lockNgLinksFinished,(0,i.Ky)()),(0,i.PH)(o.unlockNgLinksFinished,(0,i.Ky)()),(0,i.PH)(o.ngLinksRequestError)),O=(0,i.PH)(o.lockNgLinkActionSuccess,(0,i.Ky)())},76488:(e,t,n)=>{"use strict";n.d(t,{VL:()=>a,E3:()=>r,I6:()=>p});var i=n(62800),o=n(23607),s=n(70743);const a=(0,o.H)({selectId:e=>e.servedAmfId}),r=a.getInitialState({updateVersion:""}),l=(0,i.on)(s.no,()=>r),c=(0,i.on)(s.wq,(e,{payload:{created:t,removed:n,revision:i,updated:o}})=>(e=a.removeMany(n,e),e=a.addMany(t,e),a.upsertMany(o,Object.assign(Object.assign({},e),{updateVersion:i})))),d=(0,i.on)(s.mU,()=>r),u=(0,i.Lq)(r,c,d,l);function p(e,t){return u(e,t)}},75323:(e,t,n)=>{"use strict";n.d(t,{pH:()=>l,WJ:()=>c});var i=n(62800),o=n(34773),s=n(76488);const a=(0,i.ZF)(o.M),r=(0,i.P1)(a,e=>e.ngLinksState),l=(0,i.P1)(r,e=>e.updateVersion),c=(0,i.P1)(r,s.VL.getSelectors().selectAll);(0,i.P1)(r,s.VL.getSelectors().selectEntities)},34773:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});const i="ngLinks"},64521:(e,t,n)=>{"use strict";n.d(t,{z:()=>$});var i=n(12057),o=n(62800),s=n(76488),a=n(34773),r=n(17513),l=n(33637),c=n(25917),d=n(19773),u=n(46782),p=n(96736),g=n(57057),h=n(87479),m=n(88002),f=n(5304),b=n(70743),C=n(41838),v=n(75323),y=n(44364),S=n(2413),P=n(73835),O=n(74788),x=n(2822);let w=(()=>{class e{constructor(e,t,n,i,o){this.actions$=e,this.pollingService=t,this.statusService=n,this.logger=i,this.store=o,this.ngLinkRequestError$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.BS),(0,d.zg)(()=>[(0,y.wN)({payload:{severity:"error",summary:"Updating NG links list failed"}}),(0,b.no)()]))),this.stopNgLinksPolling$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.mU)),{dispatch:!1}),this.startNgLinksPolling$=(0,r.GW)((e=l.P)=>this.actions$.pipe((0,r.l4)(b.Gz),(0,d.zg)(()=>this.pollingService.getTimer(e).pipe((0,u.R)(this.stopNgLinksPolling$),(0,p.h)((0,b.Bc)()))))),this.ngLinksRequest$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.Bc),(0,g.M)(this.store.select(v.pH)),(0,h.z)(([,e])=>(e!==s.E3.updateVersion?this.statusService.getNgLinksDiff({oldRevision:e}):this.statusService.getNgLinksDiff()).pipe((0,m.U)(e=>(0,b.wq)({payload:e})),(0,f.K)(e=>(this.logger.warn(e),P.a.isConnectionError(e)?(0,c.of)():(0,c.of)((0,b.BS)())))))))}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(r.eX),O.LFG(C.xj),O.LFG(S.Bj),O.LFG(x.Kf),O.LFG(o.yh))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var A=n(94612),_=n(77267);const T="NG link lock",I="SERVEDAMF-",E="NG link unlock",M=e=>({payload:{severity:"info",summary:T,detail:(0,_.R)(e,"lock operation started",I)}}),k=e=>({payload:{severity:"error",summary:T,detail:(0,_.R)(e,"lock operation failed",I)}}),N=e=>({payload:{severity:"info",summary:E,detail:(0,_.R)(e,"unlock operation started",I)}}),L=e=>({payload:{severity:"error",summary:E,detail:(0,_.R)(e,"unlock operation failed",I)}});var D=n(89651),Z=n(28649),R=n(6546);let U=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.pollingService=t,this.logger=n,this.statusService=i,this.lockNgLinkHttpError$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.Kg),(0,A.b)(({additionalData:{servedAmfIds:e}})=>[(0,y.wN)(k(e)),(0,R.R)()]))),this.lockNgLinkSuccess$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.vj),(0,A.b)(({additionalData:{servedAmfIds:e}})=>{return[(0,y.wN)((t=e,{payload:{severity:"success",summary:T,detail:(0,_.R)(t,"lock operation finished",I)}})),(0,R.R)()];var t}))),this.lockNgLinkFailed$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.UX),(0,A.b)(({additionalData:{servedAmfIds:e}})=>[(0,y.wN)(k(e)),(0,R.R)()]))),this.lockNgLinks$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.yG),(0,d.zg)(({servedAmfIds:e})=>this.executeLock(e,!0).pipe((0,f.K)(e=>(this.logger.warn(e),(0,c.of)((0,b.bi)({error:e})))))))),this.lockNgLinksStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.yG),(0,A.b)(({servedAmfIds:e})=>[(0,y.wN)(M(e)),(0,R.h)()]))),this.lockNgLinkStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.$F),(0,A.b)(({servedAmfId:e})=>[(0,y.wN)(M([e])),(0,R.h)()]))),this.lockNgLink$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.$F),(0,d.zg)(({servedAmfId:e})=>this.executeLock([e],!0).pipe((0,f.K)(e=>(this.logger.warn(e),(0,c.of)((0,b.bi)({error:e})))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.lockNgLinks({body:e}),this.executeLock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getOperationState({operationId:e,type:Z.C.LockUnlock}),additionalData:{servedAmfIds:e},onActionSuccess:t?b.vj:void 0,onActionFailure:b.UX,onActionError:b.Kg,onActionOngoing:b.K5})}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(r.eX),O.LFG(D.x),O.LFG(x.Kf),O.LFG(S.Bj))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})(),F=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.pollingService=t,this.logger=n,this.statusService=i,this.unlockNgLinkHttpError$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.by),(0,A.b)(({additionalData:{servedAmfIds:e}})=>[(0,y.wN)(L(e)),(0,R.R)()]))),this.unlockNgLinkSuccess$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b._3),(0,A.b)(({additionalData:{servedAmfIds:e}})=>{return[(0,y.wN)((t=e,{payload:{severity:"success",summary:E,detail:(0,_.R)(t,"unlock operation finished",I)}})),(0,R.R)()];var t}))),this.unlockNgLinkFailed$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.mk),(0,A.b)(({additionalData:{servedAmfIds:e}})=>[(0,y.wN)(L(e)),(0,R.R)()]))),this.unlockNgLinks$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.eG),(0,d.zg)(({servedAmfIds:e})=>this.executeUnlock(e,!0).pipe((0,f.K)(e=>(this.logger.warn(e),(0,c.of)((0,b.bi)({error:e})))))))),this.unlockNgLinksStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.eG),(0,A.b)(({servedAmfIds:e})=>[(0,y.wN)(N(e)),(0,R.h)()]))),this.unlockNgLinkStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.LM),(0,A.b)(({servedAmfId:e})=>[(0,y.wN)(N([e])),(0,R.h)()]))),this.unlockNgLink$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(b.LM),(0,d.zg)(({servedAmfId:e})=>this.executeUnlock([e],!0).pipe((0,f.K)(e=>(this.logger.warn(e),(0,c.of)((0,b.bi)({error:e})))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.unlockNgLinks({body:e}),this.executeUnlock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getOperationState({operationId:e,type:Z.C.LockUnlock}),additionalData:{servedAmfIds:e},onActionSuccess:t?b._3:void 0,onActionFailure:b.mk,onActionError:b.by,onActionOngoing:b.NS})}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(r.eX),O.LFG(D.x),O.LFG(x.Kf),O.LFG(S.Bj))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac}),e})();var j=n(98795);let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=O.oAB({type:e}),e.\u0275inj=O.cJS({imports:[[i.ez,j.d,o.Aw.forFeature(a.M,{ngLinksState:s.I6}),r.sQ.forFeature([w,U,F])]]}),e})()},31567:(e,t,n)=>{"use strict";n.d(t,{wd:()=>s,M6:()=>a,mu:()=>r,Ym:()=>l,kE:()=>c,Ws:()=>d,m1:()=>u,gn:()=>p});var i=n(62800),o=(()=>(function(e){e.SetDisplayConfiguration="[User] [ngLink] Set visible ngLink parameters",e.ChangeFilter="[User] [ngLink] Change Filter",e.ChangeSort="[User] [ngLink] Change Sort",e.SetFreeSearchText="[User] [ngLink] Set free search text",e.SetView="[User] Set view",e.RestoreView="[User] Restore view",e.Export="[User] Export ngLinks to CSV",e.StartPolling="[User] start ngLinks polling",e.StopPolling="[User] stop ngLinks polling",e.PollingRequest="[Effect] ngLink request",e.SelectNgLink="[User] select ngLink"}(o||(o={})),o))();const s=(0,i.PH)(o.SetDisplayConfiguration,(0,i.Ky)()),a=(0,i.PH)(o.ChangeFilter,(0,i.Ky)()),r=(0,i.PH)(o.ChangeSort,(0,i.Ky)()),l=(0,i.PH)(o.SetFreeSearchText,(0,i.Ky)()),c=(0,i.PH)(o.SetView,(0,i.Ky)()),d=(0,i.PH)(o.RestoreView),u=(0,i.PH)(o.Export),p=(0,i.PH)(o.SelectNgLink,(0,i.Ky)())},28235:(e,t,n)=>{"use strict";n.d(t,{p:()=>c});var i=n(45354),o=n(8408),s=n(78359);const a={[i.P.Inactive]:0,[i.P.Active]:1,null:2},r={[o.k.Locked]:0,[o.k.Unlocked]:1},l={[s.m.BY_SERVED_AMF_ID]:(e,t)=>d(e.servedAmfId)-d(t.servedAmfId),[s.m.BY_NG_LINK_STATUS]:(e,t)=>a[e.ngLinkStatus]-a[t.ngLinkStatus],[s.m.BY_ADMINISTRATIVE_STATE]:(e,t)=>r[e.administrativeState]-r[t.administrativeState]};function c(e,t){return e.sort(l[t])}function d(e){return Number.parseInt(e,10)}},54844:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,x:()=>o});var i=(()=>(function(e){e.BY_SERVED_AMF_ID="servedAmfId",e.BY_NG_LINK_STATUS="ngLinkStatus",e.BY_ADMINISTRATIVE_STATE="administrativeState"}(i||(i={})),i))();const o={[i.BY_SERVED_AMF_ID]:"",[i.BY_NG_LINK_STATUS]:[],[i.BY_ADMINISTRATIVE_STATE]:[]}},53801:(e,t,n)=>{"use strict";n.d(t,{gi:()=>o,Ai:()=>s,d6:()=>a,OI:()=>r});var i=n(23815),o=(()=>(function(e){e.AMF_NAME="amfName",e.AMP_IP_ADDRESS="amfIPAddress",e.ACTIONS="actions"}(o||(o={})),o))();const s={[o.AMF_NAME]:!0,[o.AMP_IP_ADDRESS]:!0,[o.ACTIONS]:!0},a=(0,i.mapValues)(s,()=>!0),r=(0,i.mapValues)(s,()=>!1)},78359:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var i=(()=>(function(e){e.BY_SERVED_AMF_ID="servedAmfId",e.BY_NG_LINK_STATUS="ngLinkStatus",e.BY_ADMINISTRATIVE_STATE="administrativeState"}(i||(i={})),i))()},965:(e,t,n)=>{"use strict";n.d(t,{Xl:()=>d,G7:()=>u,I6:()=>g});var i=n(62800),o=n(87422),s=n(31567),a=n(53801),r=n(91849),l=n(78359),c=n(54844);const d="ngLinksStatus",u={displayConfiguration:a.Ai,viewType:r.b.TILE,freeSearchText:"",selectedId:-1,sortType:l.m.BY_SERVED_AMF_ID,filterState:c.x},p=(0,i.Lq)(u,(0,i.on)(s.wd,(e,{payload:t})=>Object.assign(Object.assign({},e),{displayConfiguration:t})),(0,i.on)(s.kE,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),(0,i.on)(s.M6,(e,{payload:t})=>Object.assign(Object.assign({},e),{filterState:Object.assign(Object.assign({},e.filterState),t)})),(0,i.on)(s.Ws,e=>Object.assign(Object.assign({},u),{viewType:e.viewType,selectedId:e.selectedId})),(0,i.on)(s.mu,(e,{payload:t})=>Object.assign(Object.assign({},e),{sortType:t})),(0,i.on)(s.Ym,(e,{payload:t})=>Object.assign(Object.assign({},e),{freeSearchText:t})),(0,i.on)(s.gn,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedId:(0,o.isNil)(t)?-1:t})));function g(e,t){return p(e,t)}},65740:(e,t,n)=>{"use strict";n.d(t,{D:()=>It});var i=n(62800),o=n(53801),s=n(23815),a=n(965);const r=(0,i.ZF)(a.Xl),l=(0,i.P1)(r,e=>e.viewType),c=(0,i.P1)(r,e=>e.selectedId),d=(0,i.P1)(r,e=>e.displayConfiguration),u=(0,i.P1)(r,e=>(0,s.isEqual)(e.displayConfiguration,o.d6)),p=(0,i.P1)(r,e=>e.sortType),g=(0,i.P1)(r,e=>e.freeSearchText),h=(0,i.P1)(r,e=>e.filterState),m=(0,i.P1)(r,e=>(0,s.isEqual)(e.sortType,a.G7.sortType)&&(0,s.isEqual)(e.filterState,a.G7.filterState)&&(0,s.isEqual)(e.freeSearchText,a.G7.freeSearchText)&&(0,s.isEqual)(e.displayConfiguration,a.G7.displayConfiguration)),f=(0,i.P1)(p,l,h,g,(e,t,n,i)=>({sortType:e,viewType:t,filterState:n,freeSearch:i}));var b=n(88002),C=n(9112),v=n(75323),y=n(31567),S=n(54844),P=n(45354),O=n(8408);const x=(e,t,n)=>{n.dispatch(y.M6({payload:{[e]:t}}))},w=[{description:"Filter NG link by",inputs:[{id:S.B.BY_SERVED_AMF_ID,label:"SERVEDAMF ID:",setInputFilter:(e,t,n)=>{n.dispatch(y.M6({payload:{[e]:t}}))}}],checkboxes:[{id:S.B.BY_NG_LINK_STATUS,label:"NG link status:",options:[{label:"Inactive",value:P.P.Inactive},{label:"Active",value:P.P.Active}],setCheckboxFilter:x},{id:S.B.BY_ADMINISTRATIVE_STATE,label:"Administrative state:",options:[{label:"Locked",value:O.k.Locked},{label:"Unlocked",value:O.k.Unlocked}],setCheckboxFilter:x}],radios:[],getDataSource:e=>e.select(h)}];var A=n(78359);const _=(e,t)=>{t.dispatch(y.mu({payload:e}))},T={description:"Sort NG link by:",groupName:"",defaultSort:A.m.BY_SERVED_AMF_ID,getDataSource:e=>e.select(p),options:[{onChange:_,hint:"Ascending order",label:"SERVEDAMF ID",value:A.m.BY_SERVED_AMF_ID},{onChange:_,hint:"Inactive NG link will be displayed as first",label:"NG link status",value:A.m.BY_NG_LINK_STATUS},{onChange:_,hint:"Locked NG link will be displayed as first",label:"Administrative state",value:A.m.BY_ADMINISTRATIVE_STATE}]},I={getDataSource:e=>e.select(g),filterChange:(e,t)=>t.dispatch(y.Ym({payload:e}))};var E=n(70743);const M=[{localStorageKey:"ng-link-status",description:"Present the following data on NG widget:",initialConfig:[o.gi.AMP_IP_ADDRESS,o.gi.AMF_NAME,o.gi.ACTIONS],options:[{value:o.gi.AMF_NAME,label:"AMF name"},{value:o.gi.AMP_IP_ADDRESS,label:"AMF IP address"},{value:o.gi.ACTIONS,label:"Actions"}],onFilterChange:(e,t)=>{const n=e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),o.OI);t.dispatch(y.wd({payload:n}))},selectAllInput:{selectAll:e=>e.dispatch(y.wd({payload:o.d6})),deselectAll:e=>e.dispatch(y.wd({payload:o.OI})),isAllSelected:e=>e.select(u)},getDataSource:e=>e.select(d).pipe((0,b.U)(e=>Object.keys(e).filter(t=>e[t])))}],k={export:e=>e.dispatch(y.m1())},N={areFiltersDefault:e=>e.select(m),resetFilters:e=>e.dispatch(y.Ws())},L={getDataSource:e=>e.select(l),toggleView:(e,t)=>{t.dispatch(y.kE({payload:e}))}};var D=n(28235),Z=n(70593);const R=[(e,t)=>!!e.servedAmfId&&e.servedAmfId.toLowerCase().includes(t),(e,t)=>!!e.amfIPAddress&&e.amfIPAddress.toLowerCase().includes(t),(e,t)=>`SERVEDAMF-${e.servedAmfId}`.toLowerCase().includes(t),(e,t)=>e.administrativeState.toLowerCase()===t.toLowerCase(),(e,t)=>!!e.ngLinkStatus&&e.ngLinkStatus.toLowerCase()===t.toLowerCase()],U=e=>e.select(c).pipe((0,b.U)(e=>e.toString())),F=e=>{e.dispatch((0,E.Gz)())},j=e=>{e.dispatch((0,E.mU)())},$=e=>e.servedAmfId,q=e=>(0,C.aj)([e.select(v.WJ),e.select(f)]).pipe((0,b.U)(([e,t])=>function(e,t,n){return e.filter(e=>function(e,t){return(0,s.isEmpty)(t)||(0,Z.q)("servedamf",/servedamf-/,t,`SERVEDAMF-${e.servedAmfId}`)}(e,t[S.B.BY_SERVED_AMF_ID])&&function(e,t){return(0,s.isEmpty)(t)||t.some(t=>e.ngLinkStatus===t)}(e,t[S.B.BY_NG_LINK_STATUS])&&function(e,t){return(0,s.isEmpty)(t)||t.some(t=>e.administrativeState===t)}(e,t[S.B.BY_ADMINISTRATIVE_STATE])&&function(e,t){return!t||R.some(n=>n(e,t.toLowerCase()))}(e,n.trim()))}((0,D.p)(e,t.sortType),t.filterState,t.freeSearch))),B=e=>e.select(v.pH).pipe((0,b.U)(e=>!e));var G=n(42488),V=n(8678),Y=n(79765),J=n(46782),H=n(63881),W=n(13742),Q=n(96141),z=n(16661),K=n(47702);const X=(e,t)=>n=>{e.dispatch((0,W.uX)({routerLink:z.r.parameterEditor,activatedRoute:t,data:new Q.q(`SERVEDAMF-${n}`)}))},ee=(e,t)=>n=>t.confirm({message:"You are about to lock selected NG Link\n\nDo you want to proceed?",header:"Lock NG Link",acceptLabel:"OK",rejectLabel:"Cancel",icon:K.Wf,accept:()=>e.dispatch((0,E.$F)({servedAmfId:n}))}),te=(e,t)=>n=>t.confirm({message:"You are about to unlock selected NG Link\n\nDo you want to proceed?",header:"Unlock NG Link",acceptLabel:"OK",rejectLabel:"Cancel",icon:K.Wf,accept:()=>e.dispatch((0,E.LM)({servedAmfId:n}))});function ne(e,t,n){return{goToPe:X(e,n),lockNgLink:ee(e,t),unlockNgLink:te(e,t)}}var ie=n(74788),oe=n(33013),se=n(12021),ae=n(74952),re=n(44761),le=n(8701),ce=n(65044),de=n(83473),ue=n(65159),pe=n(63788),ge=n(56177),he=n(60697),me=n(22730),fe=n(94721),be=n(12057),Ce=n(62039),ve=n(90460),ye=n(83665),Se=n(58373),Pe=n(96393),Oe=n(49201);const xe=function(){return[]};function we(e,t){if(1&e&&(ie._UZ(0,"ui-webem-raised-alarms",15),ie.ALo(1,"findSeverity"),ie.ALo(2,"toActiveAlarms")),2&e){const e=ie.oxw();ie.Q6J("alarmSeverityType",ie.lcZ(1,2,e.model.alarms||ie.DdM(6,xe)))("alarms",ie.lcZ(2,4,e.model.alarms||ie.DdM(7,xe)))}}function Ae(e,t){1&e&&ie._UZ(0,"i",16)}function _e(e,t){if(1&e&&(ie.TgZ(0,"span",17),ie._uU(1),ie.ALo(2,"nullableValue"),ie.qZA()),2&e){const e=ie.oxw();ie.xp6(1),ie.hij(" AMF name: ",ie.lcZ(2,1,e.model.amfName)," ")}}function Te(e,t){if(1&e&&(ie.TgZ(0,"span",18),ie._uU(1),ie.ALo(2,"nullableValue"),ie.qZA()),2&e){const e=ie.oxw();ie.xp6(1),ie.hij(" AMF IP address: ",ie.lcZ(2,1,e.model.amfIPAddress)," ")}}function Ie(e,t){1&e&&ie.GkF(0)}function Ee(e,t){1&e&&ie._UZ(0,"i",19)}function Me(e,t){if(1&e){const e=ie.EpF();ie.TgZ(0,"div",20),ie.TgZ(1,"ui-webem-button-with-menu",21),ie.NdJ("click",function(){return ie.CHM(e),ie.oxw().menuToggle.emit()}),ie.qZA(),ie.qZA()}if(2&e){const e=ie.oxw();ie.xp6(1),ie.Q6J("buttonConfig",e.ACTIONS_BUTTON_MODEL)("menuOptions",e.model.administrativeState===e.administrativeState.Locked?e.lockedNgLinkActions:e.unlockedNgLinkActions)("scrollableContainer",e.container)}}let ke=(()=>{class e{constructor(e){this.nullableValuePipe=e,this.lock=new ie.vpe,this.unlock=new ie.vpe,this.goToPe=new ie.vpe,this.menuToggle=new ie.vpe,this.administrativeState={Locked:O.k.Locked,Unlocked:O.k.Unlocked},this.ACTIONS_BUTTON_MODEL={title:"Actions",icon:"mdi mdi-dots-vertical",theme:he.bnJ.Secondary,length:he.Wmq.Long},this.GO_TO_PARAMETER_EDITOR_ACTION={label:"Go to PE",icon:"mdi mdi-import",command:()=>this.goToPe.emit()}}ngOnInit(){this.recalculateTooltipContent(),this.servedAmfIdTitle=`SERVEDAMF-${this.model.servedAmfId}`}ngOnChanges(){this.recalculateTooltipContent(),this.setMenu()}recalculateTooltipContent(){this.tooltipPanelContent=[{title:"AMF name",value:this.nullableValuePipe.transform(this.model.amfName)},{title:"AMF IP address",value:this.nullableValuePipe.transform(this.model.amfIPAddress)}],this.tooltipPanelContentStatus=[{title:"NG link status",value:(0,s.capitalize)(this.nullableValuePipe.transform(this.model.ngLinkStatus))},{title:"Administrative state",value:this.model.administrativeState}]}setMenu(){this.unlockedNgLinkActions=[{label:"Lock NG Link",icon:"mdi mdi-lock mdi-16px",command:()=>this.lock.emit(),disabled:this.isCommissioningInProgress,roleAccessFlag:me.M.LOCK_UNLOCK},this.GO_TO_PARAMETER_EDITOR_ACTION],this.lockedNgLinkActions=[{label:"Unlock NG Link",icon:"mdi mdi-lock-open-variant-outline mdi-16px",command:()=>this.unlock.emit(),disabled:this.isCommissioningInProgress,roleAccessFlag:me.M.LOCK_UNLOCK},this.GO_TO_PARAMETER_EDITOR_ACTION]}}return e.\u0275fac=function(t){return new(t||e)(ie.Y36(ge.cP))},e.\u0275cmp=ie.Xpm({type:e,selectors:[["ng-link-tile"]],inputs:{model:"model",selected:"selected",visibleParameters:"visibleParameters",container:"container",isCommissioningInProgress:"isCommissioningInProgress"},outputs:{lock:"lock",unlock:"unlock",goToPe:"goToPe",menuToggle:"menuToggle"},features:[ie.TTD],decls:19,vars:18,consts:[["tooltipTitleHeader","SERVEDAMF ID",3,"tooltipContent","tooltipTitleValue","tooltipTileState"],[1,"tile-frame",3,"ngClass"],[1,"inner-radius"],[1,"tile-header"],[1,"status-title"],[1,"icons"],["uiWebemToggleParentTooltip","",3,"alarmSeverityType","alarms",4,"ngIf"],["class","lock-icon mdi mdi-lock mdi-16px","title","Locked",4,"ngIf","ngIfElse"],[1,"tile-content"],[1,"ng-link-content"],["class","ng-link-parameter ng-link-parameter-amfName",4,"ngIf"],["class","ng-link-parameter ng-link-parameter-amfIPAddress",4,"ngIf"],[4,"ngIf","ngIfThen"],["unLock",""],["operationsButton",""],["uiWebemToggleParentTooltip","",3,"alarmSeverityType","alarms"],["title","Locked",1,"lock-icon","mdi","mdi-lock","mdi-16px"],[1,"ng-link-parameter","ng-link-parameter-amfName"],[1,"ng-link-parameter","ng-link-parameter-amfIPAddress"],["title","Unlocked",1,"unlocked"],[1,"operations-button-container"],["uiWebemToggleParentTooltip","",1,"actions-button",3,"buttonConfig","menuOptions","scrollableContainer","click"]],template:function(e,t){if(1&e&&(ie.TgZ(0,"ui-webem-tile-tooltip",0),ie.TgZ(1,"div",1),ie.TgZ(2,"div",2),ie.TgZ(3,"div",3),ie.TgZ(4,"div",4),ie.TgZ(5,"span"),ie._uU(6),ie.qZA(),ie.qZA(),ie.TgZ(7,"div",5),ie.YNc(8,we,3,8,"ui-webem-raised-alarms",6),ie.YNc(9,Ae,1,0,"i",7),ie.qZA(),ie.qZA(),ie.TgZ(10,"div",8),ie.TgZ(11,"div",9),ie.YNc(12,_e,3,3,"span",10),ie.YNc(13,Te,3,3,"span",11),ie.qZA(),ie.YNc(14,Ie,1,0,"ng-container",12),ie.qZA(),ie.qZA(),ie.qZA(),ie.YNc(15,Ee,1,0,"ng-template",null,13,ie.W1O),ie.YNc(17,Me,2,3,"ng-template",null,14,ie.W1O),ie.qZA()),2&e){const e=ie.MAs(16),n=ie.MAs(18);ie.Q6J("tooltipContent",t.tooltipPanelContent)("tooltipTitleValue",t.servedAmfIdTitle)("tooltipTileState",t.tooltipPanelContentStatus),ie.xp6(1),ie.ekj("selected",t.selected),ie.Q6J("ngClass",t.model.ngLinkStatus?t.model.ngLinkStatus:"Unknown"),ie.uIk("data-name",t.servedAmfIdTitle),ie.xp6(4),ie.uIk("data-id",t.model.servedAmfId),ie.xp6(1),ie.Oqu(t.servedAmfIdTitle),ie.xp6(1),ie.uIk("data-ng-link-status",t.model.ngLinkStatus)("data-ng-link-locked",t.model.administrativeState),ie.xp6(1),ie.Q6J("ngIf",!(null==t.model.alarms||!t.model.alarms.length)),ie.xp6(1),ie.Q6J("ngIf",t.model.administrativeState===t.administrativeState.Locked)("ngIfElse",e),ie.xp6(3),ie.Q6J("ngIf",t.visibleParameters.amfName),ie.xp6(1),ie.Q6J("ngIf",t.visibleParameters.amfIPAddress),ie.xp6(1),ie.Q6J("ngIf",t.visibleParameters.actions)("ngIfThen",n)}},directives:[fe.x,be.mk,be.O5,Ce.V,ve.x,ye.N],pipes:[Se.P,Pe.G,Oe.c],styles:['@charset "UTF-8";.data-loading-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;font-size:40px;width:40px;height:40px;margin:auto;top:0;left:0;right:0;bottom:0;overflow:visible;color:#98a2ae}.data-loading-spinner.embedded[_ngcontent-%COMP%]{position:absolute;color:#4d5766}.data-loading-spinner.embedded-no-background[_ngcontent-%COMP%]{position:absolute}.unlocked[_ngcontent-%COMP%]:before{content:"\uffe7";display:inline-block;font:normal normal normal 24px/1 Material Design Icons,sans-serif;font-size:16px;line-height:16px}[_nghost-%COMP%]{display:inline-block;width:180px}.tile-frame[_ngcontent-%COMP%]{border-radius:3px;border:1px solid;border-left:5px solid;box-shadow:0 3px 4px rgba(0,0,0,.18);cursor:pointer}.tile-frame[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px;padding:8px}.tile-frame.Active[_ngcontent-%COMP%]{background-color:#3daa00}.tile-frame.Active[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#e7f5e0}.tile-frame.Active[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#3daa00}.tile-frame.Inactive[_ngcontent-%COMP%]{background-color:#d9070a}.tile-frame.Inactive[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#fbe0e1}.tile-frame.Inactive[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#d9070a}.tile-frame.Unknown[_ngcontent-%COMP%]{background-color:#273142}.tile-frame.Unknown[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#b9bcc2}.tile-frame.Unknown[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#273142}.tile-frame[_ngcontent-%COMP%]:hover{border-color:#00c9ff;background-color:#00c9ff;box-shadow:0 0 0 .5px #00c9ff}.tile-frame.selected[_ngcontent-%COMP%], .tile-frame[_ngcontent-%COMP%]:hover{transition:border-color .2s,box-shadow .2s}.tile-frame.selected[_ngcontent-%COMP%]{border-color:#124191;background-color:#124191;box-shadow:0 0 0 1px #124191}.tile-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.status-title[_ngcontent-%COMP%]{font-weight:700;white-space:nowrap;line-height:16px;overflow:hidden;text-overflow:ellipsis}.status-title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:4px}.icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;height:16px}.icons[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]:before{vertical-align:text-bottom}.icons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:2px}.ng-link-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;padding-right:8px;white-space:nowrap}.ng-link-parameter[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tile-content[_ngcontent-%COMP%]{margin-top:8px;display:grid;grid-template-columns:minmax(0,1fr) max-content;align-items:end;font-size:10px;line-height:15px}.tile-options[_ngcontent-%COMP%]{display:grid;align-items:center}.tile-content.display-none[_ngcontent-%COMP%], .tile-options.display-none[_ngcontent-%COMP%]{display:none}.operations-button-container[_ngcontent-%COMP%]{min-width:32px;min-height:26px;justify-content:flex-end;display:flex;height:100%;flex-direction:column}'],changeDetection:0}),e})();const Ne=[{name:"Status",width:"64px",class:"col-status",fixed:!0},{name:"SERVEDAMF ID",width:"112%",minWidth:"70px"},{name:"AMF name",width:"126%",minWidth:"70px",parameterGroup:"amfName"},{name:"AMF IP address",width:"126%",minWidth:"70px",parameterGroup:"amfIPAddress"},{name:"Actions",width:"75px",fixed:!0,parameterGroup:"actions"}];var Le=n(40954),De=n(52504),Ze=n(88361),Re=n(2069),Ue=n(92798),Fe=n(20087),je=n(67866);function $e(e,t){if(1&e&&ie._UZ(0,"ui-webem-status-icon",14),2&e){const e=ie.oxw().ngIf,t=ie.oxw(2);ie.Q6J("type",e.active?t.STATUS_ICON_TYPE.Success:t.STATUS_ICON_TYPE.Danger)("title",e.active?"Active":"Inactive")}}function qe(e,t){1&e&&ie._UZ(0,"i",15)}function Be(e,t){if(1&e&&(ie._UZ(0,"ui-webem-raised-alarms",16),ie.ALo(1,"getHighestAlarmSeverity")),2&e){const e=ie.oxw(2).$implicit;ie.Q6J("alarms",e.alarms)("alarmSeverityType",ie.lcZ(1,2,e.alarms))}}function Ge(e,t){if(1&e&&(ie.TgZ(0,"td"),ie.ALo(1,"nullableValue"),ie._uU(2),ie.ALo(3,"nullableValue"),ie.qZA()),2&e){const e=ie.oxw(2).$implicit;ie.uIk("title",ie.lcZ(1,2,e.amfName)),ie.xp6(2),ie.Oqu(ie.lcZ(3,4,e.amfName))}}function Ve(e,t){if(1&e&&(ie.TgZ(0,"td"),ie.ALo(1,"nullableValue"),ie._uU(2),ie.ALo(3,"nullableValue"),ie.qZA()),2&e){const e=ie.oxw(2).$implicit;ie.uIk("title",ie.lcZ(1,2,e.amfIPAddress)),ie.xp6(2),ie.Oqu(ie.lcZ(3,4,e.amfIPAddress))}}function Ye(e,t){if(1&e){const e=ie.EpF();ie.TgZ(0,"td",17),ie.TgZ(1,"ui-webem-button",18,19),ie.NdJ("action",function(){ie.CHM(e);const t=ie.oxw().ngIf,n=ie.oxw().$implicit,i=ie.oxw();return t.locked?i.unlock.emit(n):i.lock.emit(n)}),ie.qZA(),ie.TgZ(3,"ui-webem-go-to-pe-table-button",20),ie.NdJ("action",function(){ie.CHM(e);const t=ie.oxw(2).$implicit;return ie.oxw().goToPe.emit(t)}),ie.qZA(),ie.qZA()}if(2&e){const e=ie.MAs(2),t=ie.oxw().ngIf,n=ie.oxw(2);ie.xp6(1),ie.Q6J("oamRoleAccessControl","LOCK_UNLOCK")("hostInstance",e)("model",t.locked?n.UNLOCK_BUTTON_MODEL:n.LOCK_BUTTON_MODEL)("disabled",n.isCommissioningInProgress)}}function Je(e,t){if(1&e&&(ie.ynx(0),ie.TgZ(1,"td",6),ie.TgZ(2,"div",7),ie.TgZ(3,"div",8),ie.YNc(4,$e,1,2,"ui-webem-status-icon",9),ie.qZA(),ie.TgZ(5,"div",8),ie.YNc(6,qe,1,0,"i",10),ie.qZA(),ie.TgZ(7,"div",8),ie.YNc(8,Be,2,4,"ui-webem-raised-alarms",11),ie.ALo(9,"hasAlarms"),ie.qZA(),ie.qZA(),ie.qZA(),ie.TgZ(10,"td",12),ie._uU(11),ie.qZA(),ie.YNc(12,Ge,4,6,"td",5),ie.YNc(13,Ve,4,6,"td",5),ie.YNc(14,Ye,4,4,"td",13),ie.BQk()),2&e){const e=t.ngIf,n=ie.oxw().$implicit,i=ie.oxw(),o=ie.MAs(8),s=ie.MAs(4),a=ie.MAs(6);ie.xp6(4),ie.Q6J("ngIf",n.ngLinkStatus)("ngIfElse",o),ie.xp6(2),ie.Q6J("ngIf",e.locked)("ngIfElse",s),ie.xp6(2),ie.Q6J("ngIf",ie.lcZ(9,11,n))("ngIfElse",a),ie.xp6(2),ie.MGl("title","SERVEDAMF-",n.servedAmfId,""),ie.xp6(1),ie.hij("SERVEDAMF-",n.servedAmfId,""),ie.xp6(1),ie.Q6J("ngIf",i.visibleParameters.amfName),ie.xp6(1),ie.Q6J("ngIf",i.visibleParameters.amfIPAddress),ie.xp6(1),ie.Q6J("ngIf",i.visibleParameters.actions)}}const He=function(e,t){return{locked:e,active:t}};function We(e,t){if(1&e&&ie.YNc(0,Je,15,13,"ng-container",5),2&e){const e=t.$implicit,n=ie.oxw();ie.Q6J("ngIf",ie.WLB(1,He,e.administrativeState===n.NG_LINK_LOCK.Locked,e.ngLinkStatus===n.NG_LINK_STATUS.Active))}}function Qe(e,t){1&e&&ie._UZ(0,"i",21)}function ze(e,t){1&e&&ie._UZ(0,"span",22)}function Ke(e,t){if(1&e&&(ie.TgZ(0,"span",23),ie._uU(1),ie.qZA()),2&e){const e=ie.oxw();ie.xp6(1),ie.Oqu(e.NO_STATUS_TEXT)}}let Xe=(()=>{class e{constructor(){this.goToPe=new ie.vpe,this.lock=new ie.vpe,this.unlock=new ie.vpe,this.select=new ie.vpe,this.ROWS_BUFFER=40,this.NG_LINK_LOCK=O.k,this.NG_LINK_STATUS=P.P,this.STATUS_ICON_TYPE=K.Zm,this.NG_LINK_TABLE_VIEW_COLUMNS=Ne,this.LOCK_BUTTON_MODEL={title:"Lock NG Link",icon:"mdi mdi-lock",thickness:he.NOb.Thin},this.UNLOCK_BUTTON_MODEL={title:"Unlock NG Link",icon:"mdi mdi-lock-open-variant-outline",thickness:he.NOb.Thin},this.NO_STATUS_TEXT=Oe.v}get selected(){return this._selected||null}set selected(e){this.select.emit(e)}ngOnInit(){}ngOnChanges(e){(e.ngLinks||e.selectedId)&&(this._selected=this.findSelectedNgLink(this.selectedId,this.ngLinks))}findSelectedNgLink(e,t){if(t)return e?t.find(t=>t.servedAmfId===e):void 0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ie.Xpm({type:e,selectors:[["ng-link-table-view"]],inputs:{ngLinks:"ngLinks",selectedId:"selectedId",visibleParameters:"visibleParameters",isCommissioningInProgress:"isCommissioningInProgress"},outputs:{goToPe:"goToPe",lock:"lock",unlock:"unlock",select:"select"},features:[ie.TTD],decls:9,vars:7,consts:[["dataKey","servedAmfId",1,"ng-link-table",3,"items","columns","visibleParameterGroupColumns","selected","loading","virtual","minBuffer","selectedChange"],["row",""],["unlocked",""],["noAlarms",""],["noStatus",""],[4,"ngIf"],[1,"status-icons"],[1,"fake-cell-group"],[1,"fake-cell"],[3,"type","title",4,"ngIf","ngIfElse"],["class","mdi mdi-lock locked mdi-16px","title","Locked",4,"ngIf","ngIfElse"],[3,"alarms","alarmSeverityType",4,"ngIf","ngIfElse"],[3,"title"],["class","col-actions",4,"ngIf"],[3,"type","title"],["title","Locked",1,"mdi","mdi-lock","locked","mdi-16px"],[3,"alarms","alarmSeverityType"],[1,"col-actions"],[3,"oamRoleAccessControl","hostInstance","model","disabled","action"],["LOCK_UNLOCK",""],[3,"action"],["title","Unlocked",1,"unlocked"],[1,"no-alarms"],["title","No status"]],template:function(e,t){1&e&&(ie.TgZ(0,"ui-webem-table-view",0),ie.NdJ("selectedChange",function(e){return t.selected=e}),ie.YNc(1,We,1,4,"ng-template",null,1,ie.W1O),ie.qZA(),ie.YNc(3,Qe,1,0,"ng-template",null,2,ie.W1O),ie.YNc(5,ze,1,0,"ng-template",null,3,ie.W1O),ie.YNc(7,Ke,2,1,"ng-template",null,4,ie.W1O)),2&e&&ie.Q6J("items",t.ngLinks)("columns",t.NG_LINK_TABLE_VIEW_COLUMNS)("visibleParameterGroupColumns",t.visibleParameters)("selected",t.selected)("loading",!t.ngLinks)("virtual",!0)("minBuffer",t.ROWS_BUFFER)},directives:[Le.x,be.O5,De.m,Ce.V,Ze.r,Re.h,Ue.C],pipes:[Fe.U,je.W,Oe.c],styles:['@charset "UTF-8";.data-loading-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;font-size:40px;width:40px;height:40px;margin:auto;top:0;left:0;right:0;bottom:0;overflow:visible;color:#98a2ae}.data-loading-spinner.embedded[_ngcontent-%COMP%]{position:absolute;color:#4d5766}.data-loading-spinner.embedded-no-background[_ngcontent-%COMP%]{position:absolute}.unlocked[_ngcontent-%COMP%]:before{content:"\uffe7";display:inline-block;font:normal normal normal 24px/1 Material Design Icons,sans-serif;font-size:16px;line-height:16px}[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .ng-link-table[_ngcontent-%COMP%]    {--status-icon-font-size:13px}[_nghost-%COMP%]   .ng-link-table[_ngcontent-%COMP%]     th.col-status{text-align:center}[_nghost-%COMP%]   .ng-link-table[_ngcontent-%COMP%]     td.status-icons{padding:0}[_nghost-%COMP%]   .ng-link-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group{display:grid;grid-template-columns:1fr 1fr 1fr;width:100%;height:100%}[_nghost-%COMP%]   .ng-link-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group>.fake-cell{display:flex;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]   .ng-link-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group>*+*{border-left:1px solid #bec8d2}.col-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:4px}'],changeDetection:0}),e})();var et=n(19230);function tt(e,t){if(1&e){const e=ie.EpF();ie.TgZ(0,"ng-link-tile",7),ie.NdJ("goToPe",function(){const t=ie.CHM(e).$implicit;return ie.oxw(2).operations.goToPe(t.data.servedAmfId)})("lock",function(){const t=ie.CHM(e).$implicit;return ie.oxw(2).operations.lockNgLink(t.data.servedAmfId)})("unlock",function(){const t=ie.CHM(e).$implicit;return ie.oxw(2).operations.unlockNgLink(t.data.servedAmfId)})("click",function(){const t=ie.CHM(e).$implicit;return ie.oxw(2).selectNgLink(t.data.servedAmfId)}),ie.qZA()}if(2&e){const e=t.$implicit;ie.oxw();const n=ie.MAs(1),i=ie.oxw();ie.Q6J("model",e.data)("isCommissioningInProgress",i.isCommissioningInProgress)("visibleParameters",e.configuration)("selected",e.selected)("container",null==n?null:n.virtualScrollerRef)}}function nt(e,t){1&e&&(ie.TgZ(0,"status-shared-virtual-tile-grid",4,5),ie.YNc(2,tt,1,5,"ng-link-tile",6),ie.qZA()),2&e&&ie.Q6J("model",t.$implicit.model)}function it(e,t){if(1&e){const e=ie.EpF();ie.TgZ(0,"ng-link-table-view",8),ie.NdJ("goToPe",function(t){return ie.CHM(e),ie.oxw().operations.goToPe(t.servedAmfId)})("lock",function(t){return ie.CHM(e),ie.oxw().operations.lockNgLink(t.servedAmfId)})("unlock",function(t){return ie.CHM(e),ie.oxw().operations.unlockNgLink(t.servedAmfId)})("select",function(t){return ie.CHM(e),ie.oxw().selectNgLink(t)}),ie.ALo(1,"async"),ie.qZA()}if(2&e){const e=t.$implicit,n=ie.oxw();ie.Q6J("ngLinks",ie.lcZ(1,4,e.model.data))("isCommissioningInProgress",n.isCommissioningInProgress)("selectedId",null==e.model.selected?null:e.model.selected.toString())("visibleParameters",e.model.configuration)}}function ot(e,t){1&e&&ie._UZ(0,"ui-webem-no-selected-message",9)}const st=function(){return{width:"350px"}};let at=(()=>{class e{constructor(e,t,n){this.store=e,this.confirmationService=t,this.activatedRoute=n,this.ngLinkModel={configure:M,filter:w,sort:T,freeSearch:I,reset:N,toggle:L,export:k,startPolling:F,stopPolling:j,getDataSource:q,getSelected:U,getElementId:$,getConfiguration:e=>e.select(d),isFetchingData:B},this.ngUnsubscribe=new Y.xQ,this.operations=ne(this.store,this.confirmationService,this.activatedRoute)}ngOnInit(){this.loadStateFromRedirect(),this.setIsCommissioningInProgress()}loadStateFromRedirect(){var e;if((null===(e=history.state)||void 0===e?void 0:e.data)&&history.state.data.type===V.b.NG_LINKS){this.store.dispatch((0,y.Ws)());const e={[H.C.SERVEDAMF_ID]:A.m.BY_SERVED_AMF_ID,[H.C.LINK_STATUS]:A.m.BY_NG_LINK_STATUS,[H.C.LOCK_STATE]:A.m.BY_ADMINISTRATIVE_STATE}[history.state.data.sortType];this.store.dispatch((0,y.mu)({payload:e}))}}setIsCommissioningInProgress(){this.store.pipe((0,J.R)(this.ngUnsubscribe),(0,i.Ys)(G.f)).subscribe(e=>{this.isCommissioningInProgress=e})}selectNgLink(e){const t=(0,s.isObject)(e)?e.servedAmfId:(0,s.isString)(e)?e:null;this.store.dispatch((0,y.gn)({payload:t||null}))}}return e.\u0275fac=function(t){return new(t||e)(ie.Y36(i.yh),ie.Y36(oe.YP),ie.Y36(se.gz))},e.\u0275cmp=ie.Xpm({type:e,selectors:[["ng-link"]],decls:5,vars:4,consts:[[3,"model"],["trackByPath","servedAmfId",3,"model",4,"statusSharedTileGridComponent"],[3,"ngLinks","isCommissioningInProgress","selectedId","visibleParameters","goToPe","lock","unlock","select",4,"statusSharedTableComponent"],["class","status-empty-data","message","No NG Links to display",4,"statusSharedEmptyData"],["trackByPath","servedAmfId",3,"model"],["virtualTileGrid",""],[3,"model","isCommissioningInProgress","visibleParameters","selected","container","goToPe","lock","unlock","click",4,"statusSharedTileComponent"],[3,"model","isCommissioningInProgress","visibleParameters","selected","container","goToPe","lock","unlock","click"],[3,"ngLinks","isCommissioningInProgress","selectedId","visibleParameters","goToPe","lock","unlock","select"],["message","No NG Links to display",1,"status-empty-data"]],template:function(e,t){1&e&&(ie.TgZ(0,"status-shared-operations-view",0),ie.YNc(1,nt,3,1,"status-shared-virtual-tile-grid",1),ie.YNc(2,it,2,6,"ng-link-table-view",2),ie.YNc(3,ot,1,0,"ui-webem-no-selected-message",3),ie.qZA(),ie._UZ(4,"p-confirmDialog")),2&e&&(ie.Q6J("model",t.ngLinkModel),ie.xp6(4),ie.Akn(ie.DdM(3,st)))},directives:[ae.E,re.j,le.a,ce.Z,de.Q,ue.h,pe.E,ke,Xe,et.G],pipes:[be.Ov],styles:["[_nghost-%COMP%]{padding:10px 15px 15px;display:block;height:100%}status-shared-virtual-tile-grid[_ngcontent-%COMP%]{padding-top:5px}ng-link-table-view[_ngcontent-%COMP%]{padding-top:10px}"]}),e})();var rt=n(47712),lt=n(33346),ct=n(36900),dt=n(44501),ut=n(41146);const pt="lock",gt="unlock",ht="goToPE",mt=[{name:"lock button",model:{icon:"mdi mdi-lock",theme:he.bnJ.Default,iconPosition:"left",label:"Lock NG Link",length:he.Wmq.Short},action:pt,roleAccessFlag:me.M.LOCK_UNLOCK},{name:"unlock button",model:{icon:"mdi mdi-lock-open-variant-outline",theme:he.bnJ.Default,iconPosition:"left",label:"Unlock NG Link",length:he.Wmq.Short},action:gt,roleAccessFlag:me.M.LOCK_UNLOCK},{name:"go-to-pe-button",model:{icon:"mdi mdi-exit-to-app",theme:he.bnJ.Default,iconPosition:"left",label:"Go to PE",title:"Go to Parameter Editor",length:he.Wmq.Short},action:ht}];let ft=(()=>{class e{transform(e,t){switch(t){case pt:return e===O.k.Unlocked;case gt:return e===O.k.Locked;default:return!0}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=ie.Yjl({name:"isButtonVisibleByNgLinksState",type:e,pure:!0}),e})();function bt(e,t){if(1&e){const e=ie.EpF();ie.TgZ(0,"ui-webem-button",3,4),ie.NdJ("action",function(){ie.CHM(e);const t=ie.oxw().$implicit,n=ie.oxw();return n.buttonClick(t.action,n.ngLink)}),ie.qZA()}if(2&e){const e=ie.MAs(1),t=ie.oxw().$implicit,n=ie.oxw();ie.Q6J("oamRoleAccessControl",t.roleAccessFlag)("hostInstance",e)("id",t.name)("model",t.model)("options",t.options)("disabled",(t.name===n.buttonNames.lockButton||t.name===n.buttonNames.unlockButton)&&n.isCommissioningInProgress)}}function Ct(e,t){if(1&e&&(ie.ynx(0),ie.YNc(1,bt,2,6,"ui-webem-button",2),ie.ALo(2,"isButtonVisibleByNgLinksState"),ie.BQk()),2&e){const e=t.$implicit,n=ie.oxw();ie.xp6(1),ie.Q6J("ngIf",ie.xi3(2,1,n.ngLink.administrativeState,e.action))}}let vt=(()=>{class e{constructor(e,t,n){this.store=e,this.confirmationService=t,this.activatedRoute=n,this.commissioningSubject=new Y.xQ,this.operations=ne(this.store,this.confirmationService,this.activatedRoute),this.buttons=(0,s.cloneDeep)(mt),this.buttonNames={lockButton:"lock button",unlockButton:"unlock button"}}ngOnInit(){this.store.pipe((0,J.R)(this.commissioningSubject),(0,i.Ys)(G.f)).subscribe(e=>{this.isCommissioningInProgress=e})}ngOnDestroy(){this.commissioningSubject.next(),this.commissioningSubject.complete()}buttonClick(e,t){switch(e){case pt:this.operations.lockNgLink(t.servedAmfId);break;case gt:this.operations.unlockNgLink(t.servedAmfId);break;case ht:this.operations.goToPe(t.servedAmfId)}}}return e.\u0275fac=function(t){return new(t||e)(ie.Y36(i.yh),ie.Y36(oe.YP),ie.Y36(se.gz))},e.\u0275cmp=ie.Xpm({type:e,selectors:[["ng-link-operation-button-group"]],inputs:{ngLink:"ngLink"},decls:2,vars:1,consts:[["actions","","id","ng-links-details-buttons",1,"details-buttons"],[4,"ngFor","ngForOf"],["class","details-button",3,"oamRoleAccessControl","hostInstance","id","model","options","disabled","action",4,"ngIf"],[1,"details-button",3,"oamRoleAccessControl","hostInstance","id","model","options","disabled","action"],["btn",""]],template:function(e,t){1&e&&(ie.TgZ(0,"div",0),ie.YNc(1,Ct,3,4,"ng-container",1),ie.qZA()),2&e&&(ie.xp6(1),ie.Q6J("ngForOf",t.buttons))},directives:[be.sg,be.O5,Ze.r,Re.h],pipes:[ft],styles:[".details-button[_ngcontent-%COMP%]{margin-right:8px;display:inline-block}.details-buttons[_ngcontent-%COMP%]{border-bottom:1px solid #98a2ae;padding-bottom:10px;margin-bottom:15px}"]}),e})();var yt=n(75107),St=n(60698);let Pt=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){return e?[{key:"SERVEDAMF ID",value:`SERVEDAMF-${e.servedAmfId}`},{key:"AMF name",value:this.nullableValuePipe.transform(e.amfName)},{key:"AMF IP address",value:this.nullableValuePipe.transform(e.amfIPAddress)}]:[]}}return e.\u0275fac=function(t){return new(t||e)(ie.Y36(ge.cP,16))},e.\u0275pipe=ie.Yjl({name:"toNgLinkDetailsProperties",type:e,pure:!0}),e})(),Ot=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){return e?[{key:"NG link status",value:(0,s.capitalize)(this.nullableValuePipe.transform(e.ngLinkStatus))},{key:"Administrative state",value:(0,s.capitalize)(this.nullableValuePipe.transform(e.administrativeState))}]:[]}}return e.\u0275fac=function(t){return new(t||e)(ie.Y36(ge.cP,16))},e.\u0275pipe=ie.Yjl({name:"toNgLinkStatusDetailsProperties",type:e,pure:!0}),e})();function xt(e,t){if(1&e&&(ie.ynx(0),ie._UZ(1,"ng-link-operation-button-group",4),ie.TgZ(2,"div",5),ie._UZ(3,"ui-webem-details-section",6),ie.ALo(4,"toNgLinkDetailsProperties"),ie._UZ(5,"ui-webem-details-section",7),ie.ALo(6,"toNgLinkStatusDetailsProperties"),ie.qZA(),ie.BQk()),2&e){const e=ie.oxw().ngIf;ie.xp6(1),ie.Q6J("ngLink",e),ie.xp6(2),ie.Q6J("data",ie.lcZ(4,3,e)),ie.xp6(2),ie.Q6J("data",ie.lcZ(6,5,e))}}function wt(e,t){if(1&e&&(ie.ynx(0),ie._UZ(1,"ng-link-operation-button-group",4),ie._UZ(2,"status-shared-details-panel-parameters",8),ie.BQk()),2&e){const e=ie.oxw().ngIf;ie.xp6(1),ie.Q6J("ngLink",e),ie.xp6(1),ie.Q6J("distNames",e.distNames)}}function At(e,t){1&e&&(ie.TgZ(0,"webem-status-tabbed-panel"),ie.YNc(1,xt,7,7,"ng-container",2),ie.YNc(2,wt,3,2,"ng-container",3),ie.qZA())}function _t(e,t){1&e&&ie._UZ(0,"ui-webem-no-selected-message",9)}const Tt=[{path:"",component:rt.O,outlet:"content_menu"},{path:"",component:at,outlet:"content_center"},{path:"",component:(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.selectedNgLink$=(0,C.aj)([this.store.select(v.WJ),this.store.select(c)]).pipe((0,b.U)(([e,t])=>e.find(e=>e.servedAmfId===t.toString())))}}return e.\u0275fac=function(t){return new(t||e)(ie.Y36(i.yh))},e.\u0275cmp=ie.Xpm({type:e,selectors:[["ng-link-status-details"]],decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["noSelection",""],[4,"webemOverviewContent"],[4,"webemParametersContent"],[3,"ngLink"],[1,"ng-details-section"],["id","ng-link-properties","title","NG link properties",3,"data"],["id","NG-link-states","title","NG link states",3,"data"],[3,"distNames"],["message","Select ng link from the list to see details"]],template:function(e,t){if(1&e&&(ie.TgZ(0,"webem-details-panel"),ie.YNc(1,At,3,0,"webem-status-tabbed-panel",0),ie.ALo(2,"async"),ie.YNc(3,_t,1,0,"ng-template",null,1,ie.W1O),ie.qZA()),2&e){const e=ie.MAs(4);ie.xp6(1),ie.Q6J("ngIf",ie.lcZ(2,2,t.selectedNgLink$))("ngIfElse",e)}},directives:[lt.V,be.O5,ct.Y,dt.r,ut.w,vt,yt.h,St.h,et.G],pipes:[be.Ov,Pt,Ot],styles:[".ng-details-section[_ngcontent-%COMP%]{overflow-y:auto;height:100%}status-shared-details-panel-parameters[_ngcontent-%COMP%]{overflow-y:auto}#ng-link-properties[_ngcontent-%COMP%]{margin-top:0}"]}),e})(),outlet:"content_right"}];let It=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ie.oAB({type:e}),e.\u0275inj=ie.cJS({imports:[[be.ez,se.Bz.forChild(Tt)],se.Bz]}),e})()},53846:(e,t,n)=>{"use strict";n.d(t,{s:()=>E});var i=n(65740),o=n(12057),s=n(94437),a=n(60697),r=n(64521),l=n(83473),c=n(72634),d=n(28061),u=n(56177),p=n(97721),g=n(25616),h=n(97759),m=n(47702),f=n(17513),b=n(94612),C=n(57057),v=n(88002),y=n(68307),S=n(62800),P=n(25917),O=n(64699),x=n(1429),w=n(31567),A=n(75323),_=n(74788);let T=(()=>{class e{constructor(e,t){this.actions$=e,this.store=t,this.PREFIX="NG_links_status",this.LABELS=["SERVEDAMF Id","AMF name","AMF IP address","NG link status","Administrative state","Alarms"],this.exportNgLinksToCsv$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(w.m1),(0,b.b)(e=>(0,P.of)(e).pipe((0,C.M)(this.store.pipe((0,S.Ys)(A.WJ)),this.store.pipe((0,S.Ys)(O.K1))))),(0,v.U)(([e,t,n])=>[t.map(e=>this.mapNgLink(e)),this.getFileName(n)]),(0,y.b)(([e,t])=>(0,x.m1)(e,t,this.LABELS))),{dispatch:!1})}mapNgLink(e){return[`SERVEDAMF-${e.servedAmfId}`,e.amfName||"-",e.amfIPAddress||"-",e.ngLinkStatus||"-",e.administrativeState,(0,x.C1)(e.alarms)]}getFileName(e){return`${this.PREFIX}${(0,x.cs)(e)}`}}return e.\u0275fac=function(t){return new(t||e)(_.LFG(f.eX),_.LFG(S.yh))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac}),e})();var I=n(965);let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({imports:[[o.ez,a.EJq,i.D,r.z,s.J,a.CBz,a.I67,a.Xn,a.gkd,l.D,c.z,d.L,u.oS,a.a9S,p.E,a.g3K,g.FZ,h.Us,a.upY,a.hZC,m.R7,a.hXG,a.Jaz,S.Aw.forFeature(I.Xl,I.I6),f.sQ.forFeature([T])]]}),e})()},66198:(e,t,n)=>{"use strict";n.d(t,{G:()=>Fi});var i=n(12057),o=n(62800),s=n(13237),a=n(74637),r=n(24751),l=n(12332),c=n(38421),d=n(99287),u=n(74788),p=n(33013);let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[i.ez,a.Cl],p.m8,a.Cl]}),e})();var h=n(60697),m=n(57429),f=n(17513),b=n(40339),C=n(23607),v=n(90818),y=(()=>(function(e){e.SetSelectedCounters="[Counters Modal] [Selected Counters] Set selected counters",e.AddSelectedCounters="[Counters Modal] [Selected Counters] Add selected counters",e.RemoveSelectedCounter="[Counters Modal] [Selected Counters] Remove selected counter",e.RemoveSelectedCounters="[Counters Modal] [Selected Counters] Remove selected counters",e.RemoveAllSelectedCounters="[Counters Modal] [Selected Counters] Remove all selected counters"}(y||(y={})),y))();const S=(0,o.PH)(y.SetSelectedCounters,(0,o.Ky)()),P=(0,o.PH)(y.AddSelectedCounters,(0,o.Ky)()),O=(0,o.PH)(y.RemoveSelectedCounter,(0,o.Ky)()),x=(0,o.PH)(y.RemoveSelectedCounters,(0,o.Ky)()),w=(0,o.PH)(y.RemoveAllSelectedCounters),A="countersSelectionModal",_=(0,C.H)({selectId:e=>(0,h.iZG)(e),sortComparer:function(e,t){return e.counterId>t.counterId?1:-1}}),T={selectedCounters:_.getInitialState(),maxCountersLimit:0},I=(0,o.Lq)(T,(0,o.on)(v.U,(e,{maxCountersLimit:t})=>Object.assign(Object.assign({},e),{maxCountersLimit:t})),(0,o.on)(S,(e,{counters:t})=>Object.assign(Object.assign({},e),{selectedCounters:_.setAll(t,e.selectedCounters)})),(0,o.on)(v.T,()=>T),(0,o.on)(P,(e,{counters:t})=>Object.assign(Object.assign({},e),{selectedCounters:_.addMany(t,e.selectedCounters)})),(0,o.on)(O,(e,{counter:t})=>Object.assign(Object.assign({},e),{selectedCounters:_.removeOne((0,h.iZG)(t),e.selectedCounters)})),(0,o.on)(x,(e,{counters:t})=>Object.assign(Object.assign({},e),{selectedCounters:_.removeMany(t.map(h.iZG),e.selectedCounters)})),(0,o.on)(w,e=>Object.assign(Object.assign({},e),{selectedCounters:_.removeAll(e.selectedCounters)})));function E(e,t){return I(e,t)}var M=(()=>(function(e){e.SetSelectedCounterId="[Counters Modal] [Select Counter] set selected counter id",e.SetSelectedCounterIdentity="[Counters Modal] [Select Counter] set selected counter identity",e.ClearSelectedCounterId="[Counters Modal] [Select Counter] clear selected counter id"}(M||(M={})),M))();const k=(0,o.PH)(M.SetSelectedCounterId,(0,o.Ky)()),N=(0,o.PH)(M.ClearSelectedCounterId),L=(0,o.PH)(M.SetSelectedCounterIdentity,(0,o.Ky)()),D="countersModalSelectedCounterId",Z={},R=(0,o.Lq)(Z,(0,o.on)(L,(e,{identity:t})=>Object.assign(Object.assign({},e),{identity:t})),(0,o.on)(N,()=>Z));function U(e,t){return R(e,t)}var F=(()=>(function(e){e.SetTimeFrame="[Counters Modal] [Select Counter] set time frame"}(F||(F={})),F))();const j=(0,o.PH)(F.SetTimeFrame,(0,o.Ky)()),$="countersModalSelectedTimeFrame",q={timeFrame:void 0},B=(0,o.Lq)(q,(0,o.on)(j,(e,{timeFrame:t})=>Object.assign(Object.assign({},e),{timeFrame:t})),(0,o.on)(v.T,()=>q));function G(e,t){return B(e,t)}var V=n(81405),Y=(()=>(function(e){e.AddSelectedNetworkProfiles="[Counters Modal] [Network Profile] Add selected network profiles",e.RemoveSelectedNetworkProfiles="[Counters Modal] [Network Profile] Remove selected network profiles"}(Y||(Y={})),Y))();const J=(0,o.PH)(Y.AddSelectedNetworkProfiles,(0,o.Ky)()),H=(0,o.PH)(Y.RemoveSelectedNetworkProfiles,(0,o.Ky)()),W="countersModalSelectedNetworkProfiles",Q=(0,C.H)({selectId:e=>e}),z={networkProfiles:Q.getInitialState()},K=(0,o.Lq)(z,(0,o.on)(J,(e,{profiles:t})=>Object.assign(Object.assign({},e),{networkProfiles:Q.addMany(t,e.networkProfiles)})),(0,o.on)(H,(e,{profiles:t})=>Object.assign(Object.assign({},e),{networkProfiles:Q.removeMany(t,e.networkProfiles)})),(0,o.on)(v.T,()=>z));function X(e,t){return K(e,t)}var ee=(()=>(function(e){e.ClearCounterObjects="[Counter Objects] Clear counter objects",e.CounterObjectsFetchFailure="[Counter Objects] Counter objects fetch failure",e.CounterObjectsFetched="[Counter Objects] Counter objects fetched",e.SetAllCounterObjects="[Counter Objects] Set all counters objects"}(ee||(ee={})),ee))();const te=(0,o.PH)(ee.SetAllCounterObjects,(0,o.Ky)()),ne=(0,o.PH)(ee.CounterObjectsFetched,(0,o.Ky)()),ie=(0,o.PH)(ee.ClearCounterObjects),oe=(0,o.PH)(ee.CounterObjectsFetchFailure),se="countersModalObjects",ae=(0,C.H)({selectId:e=>e.dimensionDistName}),re={objects:ae.getInitialState()},le=(0,o.Lq)(re,(0,o.on)(te,(e,{counterObjects:t})=>Object.assign(Object.assign({},e),{objects:ae.setAll(t,e.objects)})),(0,o.on)(ie,()=>re));function ce(e,t){return le(e,t)}var de=(()=>(function(e){e.FetchCellsInfo="[Cells Info] Fetch cells info",e.CellsInfoFetchFailure="[Cells Info] Cells info fetch failure",e.SetCellsInfo="[Cells Info] Set cells info",e.ClearCellsInfo="[Cells Info] Clear cells info"}(de||(de={})),de))();const ue=(0,o.PH)(de.FetchCellsInfo),pe=(0,o.PH)(de.CellsInfoFetchFailure),ge=(0,o.PH)(de.ClearCellsInfo),he=(0,o.PH)(de.SetCellsInfo,(0,o.Ky)()),me="pmCellsInfo",fe=(0,C.H)({selectId:e=>e.distName}),be={cells:fe.getInitialState()},Ce=(0,o.Lq)(be,(0,o.on)(he,(e,{cells:t})=>Object.assign(Object.assign({},e),{cells:fe.setAll(t,e.cells)})),(0,o.on)(ge,()=>be));function ve(e,t){return Ce(e,t)}var ye=(()=>(function(e){e.FetchDusInfo="[DUs Info] Fetch dus info",e.DusInfoFetchFailure="[DUs Info] Dus info fetch failure",e.SetDusInfo="[DUs Info] Set dus info",e.ClearDusInfo="[DUs Info] Clear dus info"}(ye||(ye={})),ye))();const Se=(0,o.PH)(ye.FetchDusInfo),Pe=(0,o.PH)(ye.DusInfoFetchFailure),Oe=(0,o.PH)(ye.ClearDusInfo),xe=(0,o.PH)(ye.SetDusInfo,(0,o.Ky)()),we="pmDusInfo",Ae=(0,C.H)({selectId:e=>e.distName}),_e={dus:Ae.getInitialState()},Te=(0,o.Lq)(_e,(0,o.on)(xe,(e,{dus:t})=>Object.assign(Object.assign({},e),{dus:Ae.setAll(t,e.dus)})),(0,o.on)(Oe,()=>_e));function Ie(e,t){return Te(e,t)}var Ee=n(25917),Me=n(94612),ke=n(88002),Ne=n(5304),Le=n(2413),De=n(44364),Ze=n(85604);let Re=(()=>{class e{constructor(e,t,n){this.actions$=e,this.statusService=t,this.cellsInfo=n,this.fetchCellsInfo$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(ue),(0,Me.b)(()=>this.cellsInfo.getCellsDiff(this.statusService).pipe((0,ke.U)(e=>{const t=e.created.map(e=>({cellName:e.basicCell.cellName,distName:e.basicCell.distNames.config||e.basicCell.distNames.runtime||"",duName:e.duName}));return he({cells:t})}),(0,Ne.K)(()=>(0,Ee.of)(pe())))))),this.cellsInfoFetchFailure$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(pe),(0,ke.U)(()=>(0,De.wN)({payload:{severity:"error",summary:"Could not fetch cells information"}}))))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(f.eX),u.LFG(Le.Bj),u.LFG(Ze.H))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();var Ue=n(43281),Fe=n(46782),je=n(26215);const $e={content:{"background-color":"rgb(204, 244, 255, 0.4)",border:"2px solid #00C9FF","border-radius":"3px 3px 0 0"},resultColumn:{"background-color":"transparent"},selectedObjectsBox:{background:"transparent"}},qe={content:{"background-color":"transparent","border-radius":"3px 3px 0 0"},resultColumn:{},selectedObjectsBox:{}};var Be=(()=>(function(e){e.ImportCountersSelectionFile="[Counters Modal] Import counters selection file",e.ImportedSelectionsAvailabilityCheck="[Counters Modal] Import counters selection availability check",e.ImportedSelectionsMaxNumberCheckSuccess="[Counters Modal] Import counters selection max number check success",e.ImportedSelectionsTooManyCounters="[Counters Modal] Import counters selection too many counters",e.ImportedSelectionsAvailabilityCheckPartialSuccess="[Counters Modal] Import counters selection availability check partial success",e.ImportCountersSelectionSuccess="[Counters Modal] Import counters selection success",e.ImportCountersSelectionFailure="[Counters Modal] Import counters selection failure"}(Be||(Be={})),Be))();const Ge=(0,o.PH)(Be.ImportCountersSelectionFile,(0,o.Ky)()),Ve=(0,o.PH)(Be.ImportedSelectionsAvailabilityCheck,(0,o.Ky)()),Ye=(0,o.PH)(Be.ImportedSelectionsMaxNumberCheckSuccess,(0,o.Ky)()),Je=(0,o.PH)(Be.ImportedSelectionsTooManyCounters,(0,o.Ky)()),He=(0,o.PH)(Be.ImportedSelectionsAvailabilityCheckPartialSuccess,(0,o.Ky)()),We=(0,o.PH)(Be.ImportCountersSelectionSuccess,(0,o.Ky)()),Qe=(0,o.PH)(Be.ImportCountersSelectionFailure,(0,o.Ky)());var ze=(()=>(function(e){e.ExportCountersSelection="[Counters Modal] Export counters selection",e.ExportCountersSelectionSuccess="[Counters Modal] Export counters selection success",e.ExportCountersSelectionFailure="[Counters Modal] Export counters selection failure"}(ze||(ze={})),ze))();const Ke=(0,o.PH)(ze.ExportCountersSelection),Xe=(0,o.PH)(ze.ExportCountersSelectionSuccess),et=(0,o.PH)(ze.ExportCountersSelectionFailure,(0,o.Ky)()),tt=_.getSelectors(),nt=(0,o.ZF)(A),it=(0,o.P1)(nt,e=>e.selectedCounters),ot=(0,o.P1)(it,tt.selectAll),st=(0,o.P1)(nt,e=>e.maxCountersLimit),at=(0,o.ZF)($),rt=(0,o.P1)(at,e=>e.timeFrame);var lt=n(12021),ct=n(85904),dt=n(8394),ut=n(34306),pt=n(99451),gt=n(23815),ht=n(30964),mt=n(13114);let ft=(()=>{class e{constructor(){this.fileDroppedAction=new u.vpe,this.isDragged=new u.vpe,this.supportedFileType=".json",this.dragAreaCounter=0}onDragEnter(e){e.preventDefault(),e.stopPropagation(),this.dragEnter()}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.dragLeave()}onDragOver(e){e.preventDefault(),e.stopPropagation()}onDrop(e){e.preventDefault(),e.stopPropagation(),this.dragDrop();const t=(0,gt.get)(e,"dataTransfer.files");t&&t.length&&this.handleFiles(t)}handleFiles(e){if(e.length>1)this.emitErrorMultipleFiles();else{const t=e[0];t&&this.handleFile(t)}}dragEnter(){this.dragAreaCounter=this.dragAreaCounter+1,1===this.dragAreaCounter&&this.isDragged.emit(!0)}dragLeave(){this.dragAreaCounter=this.dragAreaCounter-1,0===this.dragAreaCounter&&this.isDragged.emit(!1)}dragDrop(){this.dragAreaCounter=0,this.isDragged.emit(!1)}handleFile(e){e.name.endsWith(this.supportedFileType)?e.size?e.size>mt.Wh?this.emitErrorFileTooBig():this.emitFile(e):this.emitErrorEmptySize():this.emitErrorNotSupported()}emitFile(e){this.fileDroppedAction.emit(e)}emitErrorNotSupported(){this.fileDroppedAction.emit(Error(`${ht.Pc}`))}emitErrorMultipleFiles(){this.fileDroppedAction.emit(Error(`${ht.PG}`))}emitErrorEmptySize(){this.fileDroppedAction.emit(Error(`${ht.zI}`))}emitErrorFileTooBig(){this.fileDroppedAction.emit(Error(`${ht.rJ}`))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.lG2({type:e,selectors:[["","oamPerformanceManagementCountersDragDrop",""]],hostBindings:function(e,t){1&e&&u.NdJ("dragenter",function(e){return t.onDragEnter(e)})("dragleave",function(e){return t.onDragLeave(e)})("dragover",function(e){return t.onDragOver(e)})("drop",function(e){return t.onDrop(e)})},outputs:{fileDroppedAction:"fileDroppedAction",isDragged:"isDragged"}}),e})();var bt=n(79765),Ct=n(15257),vt=n(50103);let yt=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new bt.xQ,this.timeFrameDropDownOptions=[{label:"Last 3 hours",value:3},{label:"Last 6 hours",value:6},{label:"Last 12 hours",value:12},{label:"Last 24 hours",value:24}]}ngOnInit(){this.store.select(rt).pipe((0,Ct.q)(1)).subscribe(e=>{e&&(this.selectedTimeFrame=e)})}changeSelection(){this.store.dispatch(j({timeFrame:this.selectedTimeFrame}))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(o.yh))},e.\u0275cmp=u.Xpm({type:e,selectors:[["oam-pm-timeframe-dropdown"]],decls:3,vars:2,consts:[[1,"time-frame-title"],[1,"time-frame-dropdown",3,"options","ngModel","ngModelChange","onChange"]],template:function(e,t){1&e&&(u.TgZ(0,"span",0),u._uU(1,"Select time interval:"),u.qZA(),u.TgZ(2,"p-dropdown",1),u.NdJ("ngModelChange",function(e){return t.selectedTimeFrame=e})("onChange",function(){return t.changeSelection()}),u.qZA()),2&e&&(u.xp6(2),u.Q6J("options",t.timeFrameDropDownOptions)("ngModel",t.selectedTimeFrame))},directives:[vt.Lt,r.JJ,r.On],styles:[".time-frame-dropdown .ui-dropdown{width:135px;height:26px;background-color:transparent}  .time-frame-dropdown .ui-dropdown-panel .ui-dropdown-items .ui-dropdown-item{color:#1b1b1b}  .time-frame-dropdown .ui-dropdown .ui-dropdown-trigger .ui-dropdown-trigger-icon{margin-top:-.4em}  .time-frame-dropdown .ui-dropdown .ui-dropdown-trigger{background-color:transparent}[_nghost-%COMP%]{display:flex;align-items:center;padding-bottom:16px}.time-frame-title[_ngcontent-%COMP%]{margin-right:8px}"]}),e})();var St=n(92133),Pt=n(87571),Ot=n(88361);const xt="all";function wt(e){return e.parentDuObject?e.cellName||"":e.cellName||e.gnbDuName||""}function At(e){const t=e.dimensionDistName||"",n=wt(e);return""!==n?`${t}\n${n}`:t}function _t(e){const t=(0,gt.last)(e.dimensionDistName.split("/"))||e.dimensionDistName,n=wt(e);return""!==n?`${t} / ${n}`:t}function Tt(e){return e.parentDuObject?e.gnbDuName?`${e.parentDuObject} / ${e.gnbDuName}`:e.parentDuObject:""}function It(e,t,n){return e.isGroup&&e.id===xt?t.length>=n&&!(0,h.ULg)(e.children,t):!(t.length<n||(e.isGroup?e.children.some(e=>t.some(t=>(0,h.iZG)(t)===e.id)):t.some(t=>(0,h.iZG)(t)===e.id)))}function Et(e){return e.children.reduce((e,t)=>t.isGroup?e.concat(Et(t)):(e.push(t),e),[])}function Mt(e){const t=e.split("-");if(!(t.length<2))return parseInt(t[1],10)}function kt(e,t){if(1&e&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&e){const e=t.$implicit,n=u.oxw(2);u.s9C("title",n.getTooltip(e)),u.xp6(1),u.hij(" ",n.getLabel(e)," ")}}function Nt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",1),u.TgZ(1,"span",2),u.TgZ(2,"span",3),u._uU(3),u.qZA(),u.TgZ(4,"span",4),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw().removeCounters.emit(t.counters)}),u._UZ(5,"i",5),u.qZA(),u.qZA(),u.TgZ(6,"p-chips",6),u.NdJ("onRemove",function(t){return u.CHM(e),u.oxw().handleRemove(t)}),u.YNc(7,kt,2,2,"ng-template",7),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.xp6(3),u.Oqu(e.groupTitle),u.xp6(3),u.Q6J("ngModel",e.counters)}}let Lt=(()=>{class e{constructor(){this.removeCounters=new u.vpe}handleRemove(e){this.removeCounters.emit([e.value])}getLabel(e){return _t(e)}getTooltip(e){return At(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["oam-pm-counters-modal-counters-group-list"]],inputs:{counters:"counters"},outputs:{removeCounters:"removeCounters"},decls:2,vars:1,consts:[["class","counter-group",4,"ngFor","ngForOf"],[1,"counter-group"],[1,"counter-group-title"],[1,"counter-group-label"],[1,"remove-group",3,"click"],[1,"mdi","mdi-close"],["styleClass","vertical-chip-box","inputStyleClass","input-hidden",3,"ngModel","onRemove"],["pTemplate","counter"],[1,"chip-label",3,"title"]],template:function(e,t){1&e&&(u.TgZ(0,"div"),u.YNc(1,Nt,8,2,"div",0),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngForOf",t.counters))},directives:[i.sg,c.cL,r.JJ,r.On,p.jx],styles:[".counter-group[_ngcontent-%COMP%]:not(:last-child){padding-bottom:10px}.counter-group-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.mdi-close[_ngcontent-%COMP%]{color:#1b1b1b}.mdi-close[_ngcontent-%COMP%]:hover{color:#00c9ff}.remove-group[_ngcontent-%COMP%]{margin-left:6px;font-size:14px;font-weight:700;cursor:pointer}.counter-group-label[_ngcontent-%COMP%]{font-size:11px;color:#000;font-weight:700}"]}),e})();function Dt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"oam-pm-counters-modal-counters-group-list",3),u.NdJ("removeCounters",function(t){return u.CHM(e),u.oxw(2).handleRemove(t)}),u.qZA()}if(2&e){const e=u.oxw().ngIf;u.Q6J("counters",e)}}function Zt(e,t){if(1&e&&(u.ynx(0),u.YNc(1,Dt,1,1,"oam-pm-counters-modal-counters-group-list",2),u.BQk()),2&e){const e=t.ngIf;u.oxw();const n=u.MAs(3);u.xp6(1),u.Q6J("ngIf",!!e.length)("ngIfElse",n)}}function Rt(e,t){1&e&&(u.TgZ(0,"div",4),u._UZ(1,"i",5),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.qZA()),2&e&&(u.xp6(3),u.hij(" ","No object(s) selected"," "))}let Ut=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.counterGroups$=this.store.pipe((0,o.Ys)(ot),(0,ke.U)(e=>function(e){return e.reduce((e,t)=>{const n=`${t.counterId} (${t.counterAbbreviation})`,i=e.findIndex(e=>e.groupTitle===n);return-1===i?e.push({groupTitle:n,counters:[t]}):e[i].counters.push(t),e},[])}(e)))}handleRemove(e){this.store.dispatch(x({counters:e}))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(o.yh))},e.\u0275cmp=u.Xpm({type:e,selectors:[["oam-pm-counters-modal-selected-counters-column"]],decls:4,vars:3,consts:[[4,"ngIf"],["noSelectedObjects",""],[3,"counters","removeCounters",4,"ngIf","ngIfElse"],[3,"counters","removeCounters"],[1,"no-selected-objects"],[1,"information-icon","mdi","mdi-information"]],template:function(e,t){1&e&&(u.YNc(0,Zt,2,2,"ng-container",0),u.ALo(1,"async"),u.YNc(2,Rt,4,1,"ng-template",null,1,u.W1O)),2&e&&u.Q6J("ngIf",u.lcZ(1,1,t.counterGroups$))},directives:[i.O5,Lt],pipes:[i.Ov],styles:[".selected-counters-title[_ngcontent-%COMP%]{margin-left:15px;color:#000;font-size:11px}.no-selected-objects[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#98a2ae}.information-icon[_ngcontent-%COMP%]{font-size:26px;margin-right:6px}.information-icon.mdi[_ngcontent-%COMP%]:before{font-size:unset}"]}),e})();var Ft=n(9112),jt=n(30851),$t=n(45435),qt=n(54395),Bt=n(57057),Gt=(()=>(function(e){e.Selected="selected",e.NotSelected="deselected",e.DescendantsSelected="descendantsSelected"}(Gt||(Gt={})),Gt))();function Vt(e){return e.networkProfile[0]}function Yt(e,t){return e.filter(e=>t.includes(Vt(e)))}const Jt=Q.getSelectors(),Ht=(0,o.ZF)(W),Wt=(0,o.P1)(Ht,e=>e.networkProfiles),Qt=(0,o.P1)(Wt,Jt.selectAll);function zt(e,t){var n,i,o,s;return!!((null===(n=e.name)||void 0===n?void 0:n.toLocaleLowerCase().includes(t))||(null===(i=e.abbreviation)||void 0===i?void 0:i.toLocaleLowerCase().includes(t))||(null===(o=e.counterId)||void 0===o?void 0:o.toLocaleLowerCase().includes(t))||(null===(s=e.measurementGroup)||void 0===s?void 0:s.toLocaleLowerCase().includes(t)))}function Kt(e){return(0,gt.chain)(e).map(e=>e.counterId).sortBy().uniq().value()}function Xt(e,t){return e.map(e=>function(e,t){const n={id:`measurement-${e.id}`,label:`${e.name} (${e.abbreviation})`,isSelected:!1,measurementGroup:e.measurementGroup,name:e.name,abbreviation:e.abbreviation,children:e.counters.map((n,i)=>function(e,t,n,i){return{id:`counter-${e}-${i}`,label:`${t.id} (${t.abbreviation})`,isSelected:n.some(e=>t.id===e),counterId:t.id,abbreviation:t.abbreviation,children:[]}}(e.id,n,t,i))};return n.isSelected=n.children.some(e=>e.isSelected),n}(e,t))}function en(e,t){return""===t.measurementGroup?-1:0}var tn=n(7067),nn=n(19230);const on=function(e,t,n){return{$implicit:e,index:t,node:n}};function sn(e,t){if(1&e&&u.GkF(0,3),2&e){const e=t.index,n=t.$implicit;u.oxw();const i=u.MAs(5);u.Q6J("ngTemplateOutletContext",u.kEZ(2,on,n,e,n))("ngTemplateOutlet",i)}}function an(e,t){1&e&&(u.TgZ(0,"span",10),u.O4$(),u.TgZ(1,"svg",11),u._UZ(2,"circle",12),u.qZA(),u.qZA())}function rn(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",4),u.TgZ(1,"div",5),u.TgZ(2,"div",6),u.TgZ(3,"p-checkbox",7),u.NdJ("onChange",function(){const t=u.CHM(e).$implicit;return u.oxw().toggleNodeSelection(t.data)}),u.qZA(),u.TgZ(4,"tree-node-content",8),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw().toggleNodeSelection(t.data)}),u.qZA(),u.YNc(5,an,3,0,"span",9),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,n=t.$implicit,i=u.oxw();u.Udp("padding-left",n.getNodePadding()),u.xp6(3),u.Q6J("checkboxIcon",i.getCheckboxIcon(n.data))("ngModel",n.data.selectionState!==i.selectionState.NotSelected)("binary",!0),u.xp6(1),u.Q6J("index",e)("node",n),u.xp6(1),u.Q6J("ngIf",n.data.isSelected)}}let ln=(()=>{class e{constructor(){this.selectionChange=new u.vpe,this.selectionState=Gt,this.options={idField:"name",nodeHeight:20,levelPadding:24,allowDrag:!1,allowDrop:!1}}toggleNodeSelection(e){const t=this.getAllNodeDescendants(e);if(e.children.length){const n=e.selectionState===Gt.NotSelected,i=t.map(e=>({isSelected:n,data:e.selectionData})),o=n?Gt.Selected:Gt.NotSelected;e.children.forEach(e=>{e.selectionState=o}),e.selectionState=o,this.selectionChange.emit(i)}if(e.selectionData){const t=e.selectionState!==Gt.Selected,n={isSelected:t,data:e.selectionData};e.selectionState=t?Gt.Selected:Gt.NotSelected,this.nodes[0].selectionState=this.getRootSelectionState(),this.selectionChange.emit([n])}}getCheckboxIcon(e){return e.selectionState===Gt.DescendantsSelected?"pi pi-minus":"pi pi-check"}getRootSelectionState(){return(0,gt.every)(this.nodes[0].children,{selectionState:Gt.Selected})?Gt.Selected:(0,gt.some)(this.nodes[0].children,{selectionState:Gt.Selected})?Gt.DescendantsSelected:Gt.NotSelected}getAllNodeDescendants(e){const t=[];return e.children.length&&e.children.forEach(e=>{t.push(e),t.push(...this.getAllNodeDescendants(e))}),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["oam-selection-tree"]],inputs:{nodes:"nodes"},outputs:{selectionChange:"selectionChange"},features:[u._Bn([b.Dw])],decls:6,vars:2,consts:[[3,"nodes","options"],["treeNodeWrapperTemplate",""],["node_wrapper",""],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"node-content-wrapper"],[1,"node-content-flex"],[1,"selection-tree-node-content-wrapper"],[1,"selection-checkbox",3,"checkboxIcon","ngModel","binary","onChange"],["id","tree-node-content",1,"tree-node-content",3,"index","node","click"],["class","selected-counter-dot",4,"ngIf"],[1,"selected-counter-dot"],["height","7","width","7"],["cx","3.5","cy","3.5","r","3.5"]],template:function(e,t){1&e&&(u.TgZ(0,"div"),u.TgZ(1,"tree-root",0),u.YNc(2,sn,1,6,"ng-template",null,1,u.W1O),u.qZA(),u.qZA(),u.YNc(4,rn,6,8,"ng-template",null,2,u.W1O)),2&e&&(u.xp6(1),u.Q6J("nodes",t.nodes)("options",t.options))},directives:[b.qr,i.tP,l.XZ,r.JJ,r.On,b.rO,i.O5],styles:["tree-node-drop-slot{display:none}  body .tree-node-content-wrapper p-checkbox{margin:0 4px}  body .tree-node-content-wrapper .p-checkbox .p-checkbox-box{transition:none}.node-title[_ngcontent-%COMP%]{margin-left:8px}.node-content-wrapper[_ngcontent-%COMP%]{transition:none;display:flex;align-items:center;padding:0;border-radius:0;box-shadow:none}.node-content-wrapper[_ngcontent-%COMP%] > .node-content-flex[_ngcontent-%COMP%]{flex-shrink:1;flex-grow:1;display:flex;align-items:center;overflow:hidden}.node-content-wrapper[_ngcontent-%COMP%]:hover{background-color:#ccf4ff}.selection-tree-node-content-wrapper[_ngcontent-%COMP%]{flex-grow:1;padding:3px 0;display:flex;align-items:center;margin-right:7px}.selection-tree-node-content-wrapper[_ngcontent-%COMP%], .tree-node-content[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tree-node-content[_ngcontent-%COMP%]{width:100%}.selection-checkbox[_ngcontent-%COMP%]{margin-right:8px}.selected-counter-dot[_ngcontent-%COMP%]{fill:#124191}"]}),e})();function cn(e,t){1&e&&(u.ynx(0),u.TgZ(1,"div",5),u._UZ(2,"ui-webem-no-selected-message",6),u.qZA(),u.BQk()),2&e&&(u.xp6(2),u.Q6J("isLoading",!0))}function dn(e,t){1&e&&(u.ynx(0),u.TgZ(1,"div",5),u._UZ(2,"ui-webem-no-selected-message",7),u.qZA(),u.BQk())}function un(e,t){if(1&e){const e=u.EpF();u.ynx(0),u.TgZ(1,"div",9),u.TgZ(2,"oam-selection-tree",10),u.NdJ("selectionChange",function(t){return u.CHM(e),u.oxw(3).handleNetworkProfilesSelectionChange(t)}),u.qZA(),u.qZA(),u.BQk()}if(2&e){const e=u.oxw(2).ngIf;u.xp6(2),u.Q6J("nodes",e.nodes)}}function pn(e,t){if(1&e&&(u.ynx(0),u.YNc(1,un,3,1,"ng-container",8),u.BQk()),2&e){const e=u.oxw().ngIf,t=u.MAs(16);u.xp6(1),u.Q6J("ngIf",e.nodes[0].children.length)("ngIfElse",t)}}function gn(e,t){1&e&&(u.TgZ(0,"div",5),u._UZ(1,"ui-webem-no-selected-message",11),u.qZA())}function hn(e,t){if(1&e){const e=u.EpF();u.ynx(0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._uU(3,"Select object class(es):"),u.qZA(),u.TgZ(4,"ui-webem-filter-input",3),u.NdJ("valueChange",function(t){return u.CHM(e),u.oxw().filter$.next(t)}),u.ALo(5,"async"),u.ALo(6,"async"),u.qZA(),u.YNc(7,cn,3,1,"ng-container",0),u.ALo(8,"async"),u.YNc(9,dn,3,0,"ng-container",0),u.ALo(10,"async"),u.ALo(11,"async"),u.YNc(12,pn,2,2,"ng-container",0),u.ALo(13,"async"),u.ALo(14,"async"),u.YNc(15,gn,2,0,"ng-template",null,4,u.W1O),u.qZA(),u.BQk()}if(2&e){const e=t.ngIf,n=u.oxw();u.xp6(4),u.Q6J("disabled",u.lcZ(5,4,n.isLoadingData$)||u.lcZ(6,6,n.isNoData$)),u.xp6(3),u.Q6J("ngIf",u.lcZ(8,8,n.isLoadingData$)),u.xp6(2),u.Q6J("ngIf",!u.lcZ(10,10,n.isLoadingData$)&&u.lcZ(11,12,n.isNoData$)),u.xp6(3),u.Q6J("ngIf",!u.lcZ(13,14,n.isLoadingData$)&&!u.lcZ(14,16,n.isNoData$)&&e.nodes)}}const mn=function(e){return{nodes:e}};let fn=(()=>{class e{constructor(e){this.store=e,this.filter$=new je.X("")}ngOnInit(){this.isLoadingData$=this.store.select(jt.RK),this.isNoData$=this.store.select(jt.hZ),this.nodes$=(0,Ft.aj)([this.store.select(jt.dw).pipe((0,$t.h)(e=>!(0,gt.isEmpty)(e)),(0,Ct.q)(1)),this.store.select(ot),this.filter$.pipe((0,qt.b)(200))]).pipe((0,Bt.M)(this.store.select(Qt)),(0,ke.U)(([[e,t,n],i])=>function(e,t,n,i=""){const o=function(e,t){return Object.entries(e).filter(e=>{const[n]=e;return!t||n.toLowerCase().includes(t.toLowerCase())})}(function(e){const t=e.map(Vt);return(0,gt.groupBy)(t,e=>(0,gt.last)(e.split("-")))}(e),i);let s=!1,a=!!o.length;const r=o.map(i=>{const[o,r]=i,l=r.some(e=>t.includes(e));l?s=!0:a=!1;const c=function(e,t,n){return Yt(e,t).some(e=>e.counters.some(e=>n.includes(e.id)))}(e,r,n);return{name:o,selectionState:l?Gt.Selected:Gt.NotSelected,selectionData:r,isSelected:c,children:[]}});let l=Gt.NotSelected;return a?l=Gt.Selected:s&&(l=Gt.DescendantsSelected),[{children:r,name:"Select all",isExpanded:!0,selectionState:l}]}(e,i,Kt(t),n)))}handleNetworkProfilesSelectionChange(e){const t=e.filter(e=>e.isSelected).map(e=>e.data).flat(),n=e.filter(e=>!e.isSelected).map(e=>e.data).flat();t.length&&this.store.dispatch(J({profiles:t})),n.length&&this.store.dispatch(H({profiles:n}))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(o.yh))},e.\u0275cmp=u.Xpm({type:e,selectors:[["oam-network-profile-column"]],decls:2,vars:5,consts:[[4,"ngIf"],[1,"network-profile-column-wrapper"],[1,"column-header"],["id","select-object-class-filter",3,"disabled","valueChange"],["noFilterData",""],[1,"spinner"],["message","Fetching data",3,"isLoading"],["message","No data"],[4,"ngIf","ngIfElse"],[1,"tree-wrapper"],[3,"nodes","selectionChange"],["message","No data matching filter criteria",1,"spinner"]],template:function(e,t){1&e&&(u.YNc(0,hn,17,18,"ng-container",0),u.ALo(1,"async")),2&e&&u.Q6J("ngIf",u.VKq(3,mn,u.lcZ(1,1,t.nodes$)))},directives:[i.O5,tn.T,nn.G,ln],pipes:[i.Ov],styles:[".network-profile-column-wrapper[_ngcontent-%COMP%]{font-size:11px;color:#1b1b1b}.tree-wrapper[_ngcontent-%COMP%]{padding-top:10px}.column-header[_ngcontent-%COMP%]{color:#1b1b1b;display:flex;justify-content:space-between;align-items:center;height:26px;margin-bottom:5px}.spinner[_ngcontent-%COMP%]{padding-top:6px}"]}),e})();var bn=n(39088);const Cn=["treeComponent"];function vn(e,t){1&e&&(u.ynx(0),u._UZ(1,"ui-webem-no-selected-message",17),u.BQk())}const yn=function(e,t,n){return{$implicit:e,index:t,node:n}};function Sn(e,t){if(1&e&&u.GkF(0,18),2&e){const e=t.$implicit,n=t.index;u.oxw(2);const i=u.MAs(12);u.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",u.kEZ(2,yn,e,n,e))}}function Pn(e,t){if(1&e){const e=u.EpF();u.ynx(0),u.TgZ(1,"div",11,12),u.YNc(3,vn,2,0,"ng-container",13),u.TgZ(4,"tree-root",14,15),u.NdJ("updateData",function(){return u.CHM(e),u.oxw().onUpdateData()})("initialized",function(){return u.CHM(e),u.oxw().onInitialize()}),u.YNc(6,Sn,1,6,"ng-template",null,16,u.W1O),u.qZA(),u.qZA(),u.BQk()}if(2&e){const e=u.oxw();u.xp6(3),u.Q6J("ngIf",e.isFilterNothing),u.xp6(1),u.Q6J("nodes",e.measurements)("options",e.options)}}function On(e,t){if(1&e&&u._UZ(0,"tree-node-expander",27),2&e){const e=u.oxw().$implicit;u.Q6J("node",e)}}function xn(e,t){if(1&e&&(u.TgZ(0,"span",28),u.O4$(),u.TgZ(1,"svg",29),u._UZ(2,"circle",30),u.qZA(),u.qZA()),2&e){const e=u.oxw().$implicit;u.ekj("selected-counter-dot-focused",e.isActive)}}const wn=function(e){return{"measurement-group":e}};function An(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",19),u.TgZ(1,"div",20),u.TgZ(2,"div",21),u.YNc(3,On,1,1,"tree-node-expander",22),u.qZA(),u.TgZ(4,"div",23),u.NdJ("click",function(t){return u.CHM(e).$implicit.mouseAction("click",t)}),u._UZ(5,"tree-node-content",24),u.qZA(),u.TgZ(6,"div",25),u.YNc(7,xn,3,2,"span",26),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,n=t.$implicit;u.ekj("node-content-wrapper-active",e.isActive)("node-content-wrapper-focused",e.isFocused)("node-content-wrapper-not-focusable",!e.data.counterId),u.xp6(1),u.Udp("padding-left",e.getNodePadding()),u.xp6(2),u.Q6J("ngIf",!!e.hasChildren),u.xp6(2),u.s9C("title",e.data.label),u.Q6J("node",e)("index",n)("ngClass",u.VKq(14,wn,!!e.data.isMeasurementGroup)),u.xp6(2),u.Q6J("ngIf",e.data.isSelected)}}function _n(e,t){1&e&&u._UZ(0,"ui-webem-no-selected-message",31)}const Tn=function(e){return{"is-grouped":e}};let In=(()=>{class e{constructor(e,t){this.store=e,this.cd=t,this.filterInput="",this.isFilterNothing=!1,this.options={idField:"id",displayField:"label",useVirtualScroll:!0,scrollOnActivate:!1,actionMapping:{mouse:{click:(e,t,n)=>{this.selectCounterId(t.data.counterId),t.data.counterId?b.iM.ACTIVATE(e,t,n):b.iM.TOGGLE_EXPANDED(e,t,n)}},keys:{[b.tW.ENTER]:(e,t,n)=>{this.selectCounterId(t.data.counterId),t.data.counterId&&b.iM.ACTIVATE(e,t,n)}}},nodeHeight:20,levelPadding:12},this.ngUnsubscribe=new bt.xQ,this.groupToggle=new je.X(!0),this.groupButton={title:"Group by measurement group",icon:"mdi mdi-group",length:h.Wmq.Long,theme:h.bnJ.Secondary},this.expandButton={title:"Expand All",icon:"mdi mdi-arrow-expand",length:h.Wmq.Long,theme:h.bnJ.Secondary},this.collapseButton={title:"Collapse All",icon:"mdi mdi-arrow-collapse",length:h.Wmq.Long,theme:h.bnJ.Secondary},this.filterTree=e=>zt(e.data,this.filterInput)||!!e.parent&&zt(e.parent.data,this.filterInput)}ngOnInit(){(0,Ft.aj)([this.store.select(jt.dw),this.store.select(Qt),this.store.select(ot),this.groupToggle]).pipe((0,Fe.R)(this.ngUnsubscribe)).subscribe(([e,t,n,i])=>{const o=Kt(n),s=Yt(e,t);this.measurements=i?function(e,t){return Xt(e,t).sort(en).reduce((e,t)=>(t.measurementGroup?function(e,t){const n=e.find(e=>e.name===t.measurementGroup);n?n.children&&(n.children.push(t),n.isSelected||(n.isSelected=t.isSelected)):e.push(function(e,t){return{id:`group-${t}`,label:e.measurementGroup||"",name:e.measurementGroup||"",isExpanded:!0,isMeasurementGroup:!0,isSelected:e.isSelected,children:[e]}}(t,e.length))}(e,t):e.push(t),e),[])}(s,o):Xt(s,o)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}selectCounterId(e){e&&this.store.dispatch(k({selectedCounterId:e}))}toggle(){const e=!this.groupToggle.getValue();this.groupToggle.next(e)}expand(){this.treeComponent.treeModel.expandAll()}collapse(){this.treeComponent.treeModel.collapseAll()}setInputFilter(e){this.filterInput=e.toLowerCase(),this.treeComponent.treeModel.filterNodes(this.filterTree,!0),this.isFilterNothing=!this.treeComponent.treeModel.getVisibleRoots().length,this.cd.detectChanges()}onUpdateData(){this.filterInput&&this.setInputFilter(this.filterInput)}onInitialize(){this.filterInput&&this.setInputFilter(this.filterInput)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(o.yh),u.Y36(u.sBO))},e.\u0275cmp=u.Xpm({type:e,selectors:[["oam-select-counter-column"]],viewQuery:function(e,t){if(1&e&&u.Gf(Cn,5),2&e){let e;u.iGM(e=u.CRH())&&(t.treeComponent=e.first)}},decls:15,vars:12,consts:[[1,"select-counter-column-wrapper"],[1,"counter-column-header"],[1,"select-counter-header-buttons"],["id","grouped-toggle",1,"button",3,"ngClass","model","disabled","action"],["id","separator",1,"vertical-line"],["id","expand",1,"button",3,"model","disabled","action"],["id","collapse",1,"button",3,"model","disabled","action"],["id","select-counter-filter",3,"disabled","valueChange"],[4,"ngIf","ngIfElse"],["node_wrapper",""],["NoMeasurements",""],[1,"select-counter-tree-container"],["container",""],[4,"ngIf"],[3,"nodes","options","updateData","initialized"],["treeComponent",""],["treeNodeWrapperTemplate",""],["message","No data matching filter criteria",1,"no-filter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node-content-wrapper"],[1,"node-content-flex"],[1,"tree-node-expander"],[3,"node",4,"ngIf"],[1,"tree-node",3,"click"],["id","tree-node-content",1,"select-counter-tree-node-content",3,"title","node","index","ngClass"],[1,"bullet"],["class","selected-counter-dot",3,"selected-counter-dot-focused",4,"ngIf"],[3,"node"],[1,"selected-counter-dot"],["height","7","width","7"],["cx","3.5","cy","3.5","r","3.5"],["id","no-selected-mo-param","message","No object class(es) selected",1,"no-selected"]],template:function(e,t){if(1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"span"),u._uU(3,"Select counter:"),u.qZA(),u.TgZ(4,"span",2),u.TgZ(5,"ui-webem-button",3),u.NdJ("action",function(){return t.toggle()}),u.qZA(),u._UZ(6,"ui-webem-vertical-html-line",4),u.TgZ(7,"ui-webem-button",5),u.NdJ("action",function(){return t.expand()}),u.qZA(),u.TgZ(8,"ui-webem-button",6),u.NdJ("action",function(){return t.collapse()}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(9,"ui-webem-filter-input",7),u.NdJ("valueChange",function(e){return t.setInputFilter(e)}),u.qZA(),u.YNc(10,Pn,8,3,"ng-container",8),u.qZA(),u.YNc(11,An,8,16,"ng-template",null,9,u.W1O),u.YNc(13,_n,1,0,"ng-template",null,10,u.W1O)),2&e){const e=u.MAs(14);u.xp6(5),u.Q6J("ngClass",u.VKq(10,Tn,t.groupToggle.getValue()&&!!t.measurements.length))("model",t.groupButton)("disabled",!t.measurements.length),u.xp6(2),u.Q6J("model",t.expandButton)("disabled",!t.measurements.length),u.xp6(1),u.Q6J("model",t.collapseButton)("disabled",!t.measurements.length),u.xp6(1),u.Q6J("disabled",!t.measurements.length),u.xp6(1),u.Q6J("ngIf",t.measurements&&!!t.measurements.length)("ngIfElse",e)}},directives:[Ot.r,i.mk,bn.y,tn.T,i.O5,b.qr,nn.G,i.tP,b.rO,b.kj],styles:['@charset "UTF-8";.counter-column-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:26px;margin-bottom:5px}.counter-column-header[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]{margin-left:12px;margin-right:4px;--vertical-line-thickness:1px}.counter-column-header[_ngcontent-%COMP%]   .select-counter-header-buttons[_ngcontent-%COMP%]{display:flex}.counter-column-header[_ngcontent-%COMP%]   .select-counter-header-buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-left:8px}  .counter-column-header .vertical-line{height:26px}.select-counter-tree-container[_ngcontent-%COMP%]{padding-top:10px;height:calc(100% - 57px)}.node-content-wrapper[_ngcontent-%COMP%]{height:22px;transition:none;display:flex;align-items:center;border-radius:0}.node-content-wrapper[_ngcontent-%COMP%] > .node-content-flex[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;overflow:hidden}.tree-node[_ngcontent-%COMP%]{width:calc(100% - 25px);display:flex;padding-right:5px}.select-counter-tree-node-content[_ngcontent-%COMP%]{margin-left:2px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%}.no-selected[_ngcontent-%COMP%]{display:block;padding-top:6px}.no-filter[_ngcontent-%COMP%]{display:block;margin-top:-6px}.tree-node-expander[_ngcontent-%COMP%]{width:11px}.tree-node-expander[_ngcontent-%COMP%]   tree-node-expander[_ngcontent-%COMP%] >.toggle-children-wrapper{font-family:Material Design Icons,monospace;font-size:21px;line-height:1em;padding:0}.tree-node-expander[_ngcontent-%COMP%]   tree-node-expander[_ngcontent-%COMP%] >.toggle-children-wrapper .toggle-children{transform:none;background-image:none;width:auto;height:auto;display:inherit;position:inherit;top:0;margin-right:-4px;margin-left:-6px}.tree-node-expander[_ngcontent-%COMP%]   tree-node-expander[_ngcontent-%COMP%] >.toggle-children-wrapper.toggle-children-wrapper-collapsed>.toggle-children:before{content:"\uf35f"}.tree-node-expander[_ngcontent-%COMP%]   tree-node-expander[_ngcontent-%COMP%] >.toggle-children-wrapper.toggle-children-wrapper-expanded>.toggle-children:before{content:"\uf35d"}.node-content-wrapper-active.node-content-wrapper-focused[_ngcontent-%COMP%], .node-content-wrapper-active.node-content-wrapper-focused[_ngcontent-%COMP%]:hover{transition:none;background-color:#124191;color:#fff}.node-content-wrapper[_ngcontent-%COMP%]:hover{background-color:#ccf4ff;box-shadow:none}.node-content-wrapper-not-focusable[_ngcontent-%COMP%]:hover{background-color:transparent;box-shadow:none}.selected-counter-dot[_ngcontent-%COMP%]{fill:#124191}.selected-counter-dot-focused[_ngcontent-%COMP%]{fill:#fff}.measurement-group[_ngcontent-%COMP%]{font-weight:700}.is-grouped[_ngcontent-%COMP%]{border-radius:3px;background-color:#a7aeb7}.is-grouped[_ngcontent-%COMP%]  .ui-button.ui-state-default.ui-button-secondary:enabled:hover{background-color:#89919b}.select-counter-column-wrapper[_ngcontent-%COMP%]{height:100%;color:#1b1b1b;padding:0 15px}.bullet[_ngcontent-%COMP%]{width:14px;text-align:center}']}),e})();var En=n(59328);const Mn=ae.getSelectors(),kn=(0,o.ZF)(se),Nn=(0,o.P1)(kn,e=>e.objects),Ln=(0,o.P1)(Nn,Mn.selectAll),Dn=(0,o.ZF)(D),Zn=(0,o.P1)(Dn,e=>e.identity);(0,o.P1)(Zn,e=>null==e?void 0:e.counterId);var Rn=n(72257),Un=n(43286);let Fn=(()=>{class e{transform(e,t,n){return It(e,t,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=u.Yjl({name:"shouldNodeBeDisabled",type:e,pure:!1}),e})(),jn=(()=>{class e{transform(e){return e.isGroup&&e.id!==xt}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=u.Yjl({name:"isGroup",type:e,pure:!1}),e})(),$n=(()=>{class e{transform(e){return!!e.parentId&&e.parentId===xt}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=u.Yjl({name:"isChildOfSelectAllNode",type:e,pure:!1}),e})(),qn=(()=>{class e{transform(e){return!e.isGroup&&!!e.parentId&&e.parentId!==xt}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=u.Yjl({name:"isChildOfGroupNode",type:e,pure:!1}),e})();var Bn=(()=>(function(e){e.SelectAllCounters="Select all counters",e.SelectAllInGroup="Select all in group"}(Bn||(Bn={})),Bn))();let Gn=(()=>{class e{transform(e,t,n){return It(e,t,n)?function(e){return`Limit of maximum ${e} selected counters has been reached`}(n):e.isGroup?e.id===xt?Bn.SelectAllCounters:Bn.SelectAllInGroup:e.object?At(e.object):""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=u.Yjl({name:"getCounterNodeTitle",type:e,pure:!1}),e})();const Vn="pi pi-check";let Yn=(()=>{class e{transform(e,t){return e.isGroup?Et(e).every(e=>t.some(t=>(0,h.iZG)(t)===e.id))?Vn:"pi pi-minus":Vn}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=u.Yjl({name:"getCounterObjectIcon",type:e,pure:!1}),e})();const Jn=["treeComponent"];function Hn(e,t){if(1&e&&(u.ynx(0),u.TgZ(1,"label",13),u.ALo(2,"shouldNodeBeDisabled"),u.ALo(3,"isGroup"),u.ALo(4,"isChildOfSelectAllNode"),u.ALo(5,"isChildOfGroupNode"),u.ALo(6,"getCounterNodeTitle"),u.TgZ(7,"div",14),u._UZ(8,"p-checkbox",15),u.ALo(9,"getCounterObjectIcon"),u.TgZ(10,"p",16),u._uU(11),u.qZA(),u.qZA(),u.qZA(),u.BQk()),2&e){const e=t.$implicit,n=u.oxw(4).ngIf,i=u.oxw();u.xp6(1),u.ekj("node-content-disabled",u.Dn7(2,15,e,n.selectedCounters,n.maxCountersLimit))("node-content-group",u.lcZ(3,19,e))("select-all-child",u.lcZ(4,21,e))("group-child",u.lcZ(5,23,e)),u.s9C("title",u.Dn7(6,25,e,n.selectedCounters,n.maxCountersLimit)),u.uIk("for",e.id),u.xp6(7),u.Q6J("inputId",e.id)("checkboxIcon",u.xi3(9,29,e,n.selectedCounters))("binary",!0)("formControl",i.getCheckboxFormControl(e.id)),u.xp6(3),u.hij(" ",e.name," ")}}function Wn(e,t){if(1&e&&(u.ynx(0),u.TgZ(1,"div",9,10),u.TgZ(3,"cdk-virtual-scroll-viewport",11),u.YNc(4,Hn,12,32,"ng-container",12),u.qZA(),u.qZA(),u.BQk()),2&e){const e=u.oxw(3).ngIf;u.xp6(4),u.Q6J("cdkVirtualForOf",e.treeNodes)("cdkVirtualForTemplateCacheSize",0)}}function Qn(e,t){if(1&e&&(u.TgZ(0,"form",8),u.YNc(1,Wn,5,2,"ng-container",3),u.qZA()),2&e){const e=u.oxw(2).ngIf,t=u.MAs(6);u.xp6(1),u.Q6J("ngIf",null==e.treeNodes[0]||null==e.treeNodes[0].children?null:e.treeNodes[0].children.length)("ngIfElse",t)}}function zn(e,t){1&e&&(u.ynx(0),u._UZ(1,"ui-webem-no-selected-message",18),u.BQk())}function Kn(e,t){1&e&&u._UZ(0,"ui-webem-no-selected-message",19)}function Xn(e,t){if(1&e&&(u.YNc(0,zn,2,0,"ng-container",3),u.ALo(1,"async"),u.YNc(2,Kn,1,0,"ng-template",null,17,u.W1O)),2&e){const e=u.MAs(3),t=u.oxw(3);u.Q6J("ngIf",u.lcZ(1,2,t.currentCounter$))("ngIfElse",e)}}function ei(e,t){if(1&e&&(u.ynx(0),u.YNc(1,Qn,2,2,"form",6),u.YNc(2,Xn,4,4,"ng-template",null,7,u.W1O),u.BQk()),2&e){const e=u.MAs(3),t=u.oxw().ngIf;u.xp6(1),u.Q6J("ngIf",t.counters&&t.counters.length>0)("ngIfElse",e)}}function ti(e,t){1&e&&(u.TgZ(0,"div",20),u._UZ(1,"ui-webem-spinner"),u.qZA())}function ni(e,t){1&e&&u._UZ(0,"ui-webem-no-selected-message",21)}function ii(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",1),u.TgZ(1,"ui-webem-filter-input",2),u.NdJ("valueChange",function(t){return u.CHM(e),u.oxw().filterTree(t)}),u.qZA(),u.YNc(2,ei,4,2,"ng-container",3),u.YNc(3,ti,2,0,"ng-template",null,4,u.W1O),u.YNc(5,ni,1,0,"ng-template",null,5,u.W1O),u.qZA()}if(2&e){const e=t.ngIf,n=u.MAs(4);u.xp6(1),u.Q6J("disabled",!e.counters||e.counters.length<1),u.xp6(1),u.Q6J("ngIf",!e.isLoading)("ngIfElse",n)}}const oi=function(e,t,n,i,o){return{counters:e,treeNodes:t,selectedCounters:n,isLoading:i,maxCountersLimit:o}};let si=(()=>{class e{constructor(e){this.store=e,this.counters$=new je.X([]),this.isLoading$=new je.X(!1),this.filter$=new je.X(""),this.allCounterObjectNodes$=new je.X(new Map),this.maxCountersLimit$=new je.X(0),this.messageDisplay=h.t0A,this.ngUnsubscribe$=new bt.xQ}ngOnInit(){this.currentCounter$=this.store.select(Zn),this.currentCounter$.pipe((0,Fe.R)(this.ngUnsubscribe$),(0,$t.h)(e=>!!e)).subscribe(()=>{this.isLoading$.next(!0)}),this.store.select(st).subscribe(this.maxCountersLimit$),this.store.select(Ln).pipe((0,Bt.M)(this.store.select(Zn))).subscribe(([e,t])=>{if(this.isLoading$.next(!1),!t)return this.counters$.next([]);this.counters$.next(e.map(e=>Object.assign(Object.assign({},t),e)))}),this.selectedCounters$=this.store.select(ot),(0,Ft.aj)([this.counters$,this.filter$]).pipe((0,Bt.M)(this.selectedCounters$)).subscribe(([[e,t],n])=>{const i=function(e,t){const n=t.toLowerCase();return e.filter(e=>i(e.cellName)||i(e.gnbDuName)||i(e.parentDuObject)||i(e.dimensionDistName));function i(e){return!!e&&e.toLowerCase().includes(n)}}(e,t);this.constructFormGroup(i,n),this.createAllCounterObjectNodes(i)}),this.subscribeForCounterSelectionsChanges(),this.treeNodes$=this.allCounterObjectNodes$.pipe((0,Fe.R)(this.ngUnsubscribe$),(0,ke.U)(e=>[...e.values()]))}createAllCounterObjectNodes(e){var t;const n=[],i=e.map(e=>function(e){const t=(0,h.iZG)(e);return{object:e,name:_t(e),id:t,children:[],isExpanded:!0,isGroup:!1}}(e)),o=(0,gt.groupBy)(i,e=>e.object?Tt(e.object):""),s=[];(function(e){return Object.keys(e).sort((e,t)=>{if(""===e)return 1;const n=Mt(e),i=Mt(t);return(0,gt.isNil)(n)||(0,gt.isNil)(i)||n<i?-1:1})})(o).forEach(e=>{const t=o[e];if(""===e)return s.push(...t),void n.push(...t);const i=function(e,t){return t.forEach(t=>t.parentId=e),{id:e,children:t,name:e,isExpanded:!0,isGroup:!0}}(e,t);s.push(i),n.push(i,...t)});const a=((r=s).forEach(e=>e.parentId=xt),{id:xt,children:r,name:"Select all",isExpanded:!0,isGroup:!0});var r;n.unshift(a);const l=new Map;n.forEach(e=>l.set(e.id,e)),(null===(t=l.get("all"))||void 0===t?void 0:t.children.length)||l.clear(),this.allCounterObjectNodes$.next(l)}constructFormGroup(e,t){this.formGroupUnsubscribe$&&this.formGroupUnsubscribe$.next(),this.formGroupUnsubscribe$=new bt.xQ,this.selectedCountersFormGroup=new r.cw({});const n=new r.NI;n.valueChanges.pipe((0,Fe.R)(this.formGroupUnsubscribe$)).subscribe(e=>{this.handleGroupSelection(xt,e)}),this.selectedCountersFormGroup.registerControl(xt,n);const i={};e.forEach(e=>{const n=(0,h.iZG)(e),o=t.some(e=>(0,h.iZG)(e)===n);o&&(i[n]=!0);const s=new r.NI;s.valueChanges.pipe((0,Fe.R)(this.formGroupUnsubscribe$)).subscribe(e=>{this.handleObjectSelection(n,e)}),this.selectedCountersFormGroup.registerControl(n,s);const a=Tt(e);if(!a||this.selectedCountersFormGroup.get(a))return;o&&(i[a]=!0);const l=new r.NI;l.valueChanges.pipe((0,Fe.R)(this.formGroupUnsubscribe$)).subscribe(e=>{this.handleGroupSelection(a,e)}),this.selectedCountersFormGroup.registerControl(a,l)}),Object.keys(i).length>0&&(i.all=!0),this.selectedCountersFormGroup.patchValue(i,{emitEvent:!1}),t.length>=this.maxCountersLimit$.value&&this.disableNotSelectedCounters()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}handleAdd(e){this.store.dispatch(P({counters:e}))}handleRemove(e){this.store.dispatch(x({counters:e}))}filterTree(e){this.filter$.next(e)}getCheckboxFormControl(e){return this.selectedCountersFormGroup.controls[e]}handleGroupSelection(e,t){this.selectedCounters$.pipe((0,Ct.q)(1)).subscribe(n=>{const i=this.allCounterObjectNodes$.getValue().get(e);if(!i)return;const o=Et(i).reduce((e,t)=>t.object?(e.push(t.object),e):e,[]);t&&o.splice(this.maxCountersLimit$.value-n.length),this.dispatchCounters(o,t)})}handleObjectSelection(e,t){const n=this.allCounterObjectNodes$.getValue().get(e);n&&this.dispatchCounters(n.object?[n.object]:[],t)}dispatchCounters(e,t){t?this.handleAdd(e):this.handleRemove(e)}subscribeForCounterSelectionsChanges(){this.selectedCounters$.pipe((0,Fe.R)(this.ngUnsubscribe$),(0,En.G)()).subscribe(([e,t])=>{if(!this.selectedCountersFormGroup)return;const n=this.allCounterObjectNodes$.getValue(),i=new Set;this.getSelectedChangedCounters(e,t).forEach(e=>{const o=n.get(e.id),s=t.some(t=>(0,h.iZG)(t)===e.id);e.control.setValue(s,{emitEvent:!1});const a=(null==o?void 0:o.parentId)||"";a&&!i.has(a)&&i.add(a)}),i.forEach(e=>{const i=n.get(e),o=this.selectedCountersFormGroup.controls[e];if(!i||!o)return;const s=t.some(e=>i.children.some(t=>t.id===(0,h.iZG)(e)));o.setValue(s,{emitEvent:!1})});const o=this.selectedCountersFormGroup.get(xt);if(!o)return;const s=t.some(e=>!!this.selectedCountersFormGroup.controls[(0,h.iZG)(e)]);o.setValue(s,{emitEvent:!1}),this.toggleControlsEnabledStates(e,t)})}getSelectedChangedCounters(e,t){return(0,gt.xor)(e,t).filter(e=>!!this.selectedCountersFormGroup.controls[(0,h.iZG)(e)]).map(e=>({id:(0,h.iZG)(e),control:this.selectedCountersFormGroup.controls[(0,h.iZG)(e)]}))}toggleControlsEnabledStates(e,t){t.length<this.maxCountersLimit$.value&&e.length>=this.maxCountersLimit$.value?this.enableAllCounters():t.length>=this.maxCountersLimit$.value&&this.disableNotSelectedCounters()}disableNotSelectedCounters(){this.selectedCountersFormGroup.disable({emitEvent:!1}),Object.keys(this.selectedCountersFormGroup.controls).filter(e=>{const t=this.selectedCountersFormGroup.controls[e];return!t||!!t.value}).forEach(e=>{this.selectedCountersFormGroup.controls[e].enable({emitEvent:!1})})}enableAllCounters(){this.selectedCountersFormGroup.enable({emitEvent:!1})}getFormSelectedCounters(e){return this.selectedCountersFormGroup.controls[e]}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(o.yh))},e.\u0275cmp=u.Xpm({type:e,selectors:[["oam-pm-counters-modal-objects-column"]],viewQuery:function(e,t){if(1&e&&u.Gf(Jn,5),2&e){let e;u.iGM(e=u.CRH())&&(t.treeComponent=e.first)}},features:[u._Bn([b.Dw])],decls:6,vars:17,consts:[["class","objects-column",4,"ngIf"],[1,"objects-column"],["id","select-object-filter",3,"disabled","valueChange"],[4,"ngIf","ngIfElse"],["spinner",""],["noFilterData",""],["class","objects-tree",4,"ngIf","ngIfElse"],["noCounterObjects",""],[1,"objects-tree"],[1,"scroll-container"],["container",""],["itemSize","20","minBufferPx","480","maxBufferPx","480",1,"virtual-scroll-container"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],[1,"node-content",3,"title"],[1,"node-content-flex"],[1,"selection-checkbox",3,"inputId","checkboxIcon","binary","formControl"],[1,"node-content-name"],["noSelectedCounter",""],["id","no-selected-mo-param","message","No counters available",1,"no-selected"],["id","no-selected-mo-param","message","No counter selected",1,"no-selected"],["fxFlex","0 0","fxLayoutAlign","center center",1,"spinner"],["message","No data matching filter criteria",1,"no-selected"]],template:function(e,t){1&e&&(u.YNc(0,ii,7,3,"div",0),u.ALo(1,"async"),u.ALo(2,"async"),u.ALo(3,"async"),u.ALo(4,"async"),u.ALo(5,"async")),2&e&&u.Q6J("ngIf",u.qbA(11,oi,u.lcZ(1,1,t.counters$),u.lcZ(2,3,t.treeNodes$),u.lcZ(3,5,t.selectedCounters$),u.lcZ(4,7,t.isLoading$),u.lcZ(5,9,t.maxCountersLimit$)))},directives:[i.O5,tn.T,r._Y,r.JL,r.F,a.N7,a.xd,a.x0,l.XZ,r.JJ,r.oH,nn.G,Rn.yH,Rn.Wh,Un.O],pipes:[i.Ov,Fn,jn,$n,qn,Gn,Yn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}  body .node-content-flex p-checkbox{margin:0 4px}.virtual-scroll-container[_ngcontent-%COMP%]{height:100%;overflow:auto;width:100%}cdk-tree-node[_ngcontent-%COMP%]{display:block}.objects-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;position:relative}.objects-column[_ngcontent-%COMP%]   ui-webem-filter-input[_ngcontent-%COMP%]{background-color:transparent}.objects-column[_ngcontent-%COMP%]   .objects-tree[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;position:relative}.objects-column[_ngcontent-%COMP%]     .input-label{margin-bottom:0}.objects-column[_ngcontent-%COMP%]     .node-content:hover .p-checkbox .p-checkbox-box{background-color:#fff}.objects-column[_ngcontent-%COMP%]     .node-content:hover .p-checkbox .p-checkbox-box.p-highlight{background-color:#124191}.scroll-container[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;position:absolute;padding-top:10px}.node-content[_ngcontent-%COMP%]{padding:3px 0;transition:none;display:flex;align-items:center;color:#1b1b1b;margin-bottom:0;cursor:pointer;white-space:pre-wrap}.node-content[_ngcontent-%COMP%] > .node-content-flex[_ngcontent-%COMP%]{flex-shrink:1;flex-grow:1;display:flex;align-items:center;overflow:hidden}.node-content[_ngcontent-%COMP%] > .node-content-flex[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%]{margin-left:0;margin-right:8px}.select-all-child[_ngcontent-%COMP%]{padding-left:26px}.group-child[_ngcontent-%COMP%]{padding-left:52px}.node-content[_ngcontent-%COMP%]:hover{background-color:#ccf4ff;box-shadow:none;border-radius:0}.node-content-disabled[_ngcontent-%COMP%]{cursor:default;color:#bec8d2}.node-content-group[_ngcontent-%COMP%]{font-weight:700}.tree-node-content[_ngcontent-%COMP%]{margin-left:2px}.no-selected[_ngcontent-%COMP%]{display:block;padding-top:6px}.spinner[_ngcontent-%COMP%]     i{font-size:40px;color:#98a2ae}.node-content-name[_ngcontent-%COMP%]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:1.5;margin:0}  .cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{width:100%}"],changeDetection:0}),e})();function ai(e,t){1&e&&(u.TgZ(0,"div",22),u.TgZ(1,"div",23),u._UZ(2,"oam-network-profile-column"),u.qZA(),u.qZA())}function ri(e,t){1&e&&(u.TgZ(0,"div",24),u._UZ(1,"oam-select-counter-column",25),u.qZA())}function li(e,t){1&e&&(u.TgZ(0,"div",26),u.TgZ(1,"div",27),u.TgZ(2,"div",13),u.TgZ(3,"div"),u._uU(4,"Select object(s):"),u.qZA(),u.qZA(),u._UZ(5,"oam-pm-counters-modal-objects-column"),u.qZA(),u.qZA())}const ci=function(e){return{minSize:15,size:20,id:1,style:e}},di=function(e){return{minSize:27,size:40,id:2,style:e}},ui=function(e){return{minSize:25,size:40,id:3,style:e}};function pi(e,t){if(1&e){const e=u.EpF();u.ynx(0),u.TgZ(1,"div",1),u.NdJ("fileDroppedAction",function(t){return u.CHM(e),u.oxw().handleDroppedItem(t)})("isDragged",function(t){return u.CHM(e),u.oxw().handleIsDragged(t)}),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u._uU(6,"Select counters to display"),u.qZA(),u._UZ(7,"oam-pm-timeframe-dropdown"),u.qZA(),u.TgZ(8,"div",6),u.TgZ(9,"ui-webem-panel-split",7),u.YNc(10,ai,3,0,"div",8),u.YNc(11,ri,2,0,"div",9),u.YNc(12,li,6,0,"div",10),u.qZA(),u.qZA(),u.qZA(),u.TgZ(13,"div",11),u.TgZ(14,"div",5),u._uU(15,"Selected counters"),u.qZA(),u.TgZ(16,"div",12),u.TgZ(17,"div",13),u.TgZ(18,"div"),u._uU(19),u.qZA(),u.TgZ(20,"div",14),u.TgZ(21,"ui-webem-button",15),u.NdJ("action",function(){return u.CHM(e),u.oxw().onClearCountersSelection()}),u.qZA(),u.TgZ(22,"ui-webem-button",15),u.NdJ("action",function(){return u.CHM(e),u.oxw().onExportCountersSelection()}),u.qZA(),u.TgZ(23,"ui-webem-button",16),u.NdJ("click",function(){return u.CHM(e),u.MAs(25).click()}),u.qZA(),u.TgZ(24,"input",17,18),u.NdJ("click",function(){return u.CHM(e),u.MAs(25).value=null})("change",function(t){return u.CHM(e),u.oxw().onImportCountersSelection(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(26,"div",19),u._UZ(27,"oam-pm-counters-modal-selected-counters-column"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(28,"div",20),u.TgZ(29,"p-footer"),u.TgZ(30,"ui-webem-button",21),u.NdJ("action",function(){const t=u.CHM(e).ngIf;return u.oxw().submitCounters(t.selectedCounters,t.selectedTimeFrame)}),u.qZA(),u.TgZ(31,"ui-webem-button",21),u.NdJ("action",function(){return u.CHM(e),u.oxw().closeDialogAndClearState()}),u.qZA(),u.qZA(),u.qZA(),u.BQk()}if(2&e){const e=t.ngIf,n=u.oxw();u.xp6(1),u.Q6J("ngStyle",n.styles.content),u.xp6(9),u.Q6J("uiWebemSplitPanel",u.VKq(15,ci,n.splitAreaStyle)),u.xp6(1),u.Q6J("uiWebemSplitPanel",u.VKq(17,di,n.splitAreaStyle)),u.xp6(1),u.Q6J("uiWebemSplitPanel",u.VKq(19,ui,n.splitAreaStyle)),u.xp6(1),u.Q6J("ngStyle",n.styles.resultColumn),u.xp6(6),u.AsE("",e.selectedCountersCount,"/",e.maxCountersLimit,""),u.xp6(2),u.Q6J("disabled",e.selectedCountersCount<1)("model",n.clearSelectionButton),u.xp6(1),u.Q6J("disabled",e.selectedCountersCount<1)("model",n.exportSelectionButton),u.xp6(1),u.Q6J("model",n.importSelectionButton),u.xp6(3),u.Q6J("ngStyle",n.styles.selectedObjectsBox),u.xp6(4),u.Q6J("model",n.okButton),u.xp6(1),u.Q6J("model",n.cancelButton)}}const gi=function(e,t,n,i){return{selectedCountersCount:e,selectedCounters:t,maxCountersLimit:n,selectedTimeFrame:i}};let hi=(()=>{class e extends Ue.M{constructor(e,t,n,i,o){super(e,t),this.store=e,this.ref=t,this.config=n,this.router=i,this.vnfcSharedService=o,this.cancelButton={label:"Cancel",iconPosition:"right",theme:h.bnJ.Default},this.okButton={label:"OK",iconPosition:"right",theme:h.bnJ.Accent},this.isDragged=!1,this.styles=qe,this.clearSelectionButton={title:"Clear selection",icon:"mdi mdi-eraser",length:h.Wmq.Long,theme:h.bnJ.Secondary},this.importSelectionButton={title:"Import selection",icon:"mdi mdi-file-import",length:h.Wmq.Long,theme:h.bnJ.Secondary},this.exportSelectionButton={title:"Export selection",icon:"mdi mdi-file-export",length:h.Wmq.Long,theme:h.bnJ.Secondary},this.maxCountersLimit$=new je.X(0),this.splitAreaStyle={overflowY:"hidden"}}ngOnInit(){this.store.dispatch(ue()),this.vnfcSharedService.isVdu()||this.store.dispatch(Se()),this.selectedCounters$=this.store.select(ot),this.store.select(st).subscribe(this.maxCountersLimit$),this.selectedTimeFrame$=this.store.select(rt),this.selectedCountersCount$=this.selectedCounters$.pipe((0,ke.U)(e=>e.length)),this.router.events.pipe((0,Fe.R)(this.ngUnsubscribe)).subscribe(e=>{e instanceof lt.m2&&this.closeDialogAndClearState()})}submitCounters(e,t){var n;if(null===(n=this.config.data)||void 0===n?void 0:n.onSubmit){const n=(0,ct.U)(t);this.config.data.onSubmit(e,n,t)}this.closeDialogAndClearState()}closeDialogAndClearState(){this.store.dispatch((0,v.T)()),this.store.dispatch(N()),this.store.dispatch((0,dt.T)({isDialogOpen:!1})),this.closeDialog()}handleDroppedItem(e){e instanceof Error?this.notifyError(e.message):this.store.dispatch(Ge({file:e}))}onExportCountersSelection(){this.store.dispatch(Ke())}onClearCountersSelection(){this.store.dispatch(w())}onImportCountersSelection(e){var t;const n=((null===(t=e.currentTarget)||void 0===t?void 0:t.files)||[])[0];n&&0!==n.size?this.store.dispatch(Ge({file:n})):this.fireToastMessage(h.osb)}handleIsDragged(e){this.isDragged!==e&&(this.isDragged=e,this.setStyles())}setStyles(){this.styles=this.isDragged?$e:qe}notifyError(e){this.fireToastMessage(e===h.zIB?h.osb:e===h.Pcd?h.MS:e===h.PGA?h.hFE:h.InQ)}fireToastMessage(e){this.store.dispatch((0,De.wN)({payload:e}))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(o.yh),u.Y36(pt.E7),u.Y36(pt.S),u.Y36(lt.F0),u.Y36(ut.Z9))},e.\u0275cmp=u.Xpm({type:e,selectors:[["oam-pm-select-counters-modal"]],features:[u.qOj],decls:5,vars:14,consts:[[4,"ngIf"],["oamPerformanceManagementCountersDragDrop","",1,"p-dialog-content","pm-modal",3,"ngStyle","fileDroppedAction","isDragged"],[1,"header-columns"],[1,"select-counters-column"],[1,"header"],[1,"header-text"],[1,"select-counters-columns"],["unit","percent",1,"split-panel"],["class","split-area",4,"uiWebemSplitPanel"],["class","split-area counter-column-container",4,"uiWebemSplitPanel"],["class","split-area","class","object-columns-panel",4,"uiWebemSplitPanel"],[1,"result-column",3,"ngStyle"],[1,"selected-objects"],[1,"column-header"],[1,"counters-actions"],[3,"disabled","model","action"],[3,"model","click"],["id","import-counters-selection-file-input","hidden","","type","file","autocomplete","off","accept",".json",3,"click","change"],["importCountersSelectionInput",""],[1,"selected-objects-box",3,"ngStyle"],[1,"p-dialog-footer"],[3,"model","action"],[1,"split-area"],[1,"object-classes-column"],[1,"split-area","counter-column-container"],[1,"counter-column"],[1,"object-columns-panel"],[1,"objects-column"]],template:function(e,t){1&e&&(u.YNc(0,pi,32,21,"ng-container",0),u.ALo(1,"async"),u.ALo(2,"async"),u.ALo(3,"async"),u.ALo(4,"async")),2&e&&u.Q6J("ngIf",u.l5B(9,gi,u.lcZ(1,1,t.selectedCountersCount$),u.lcZ(2,3,t.selectedCounters$),u.lcZ(3,5,t.maxCountersLimit$),u.lcZ(4,7,t.selectedTimeFrame$)))},directives:[i.O5,ft,i.PC,yt,St.a,Pt.f,Ot.r,Ut,p.$_,fn,In,si],pipes:[i.Ov],styles:["[_nghost-%COMP%]     .p-dialog-content{height:calc(100% - 66px)!important;padding:18px!important}  .pm-modal .filter-input.disabled .ui-inputgroup .ui-inputgroup-addon,   .pm-modal .p-checkbox .p-checkbox-box,   .pm-modal .ui-inputgroup .ui-inputgroup-addon,   .pm-modal .ui-inputtext,   .pm-modal .ui-inputtext:disabled{background-color:inherit}  as-split.columns-split>.as-split-gutter.ng-star-inserted{background-color:#bec8d2}  as-split.columns-split>.as-split-gutter.ng-star-inserted>.as-split-gutter-icon{display:none}  .node-content-wrapper:hover .p-checkbox .p-checkbox-box{background-color:#fff;transition:none}  .node-content-wrapper:hover .p-checkbox .p-checkbox-box.p-highlight{background-color:#124191;transition:none}.object-columns-panel[_ngcontent-%COMP%]{height:100%}.header-columns[_ngcontent-%COMP%]{font-size:11px;height:100%}.header-columns[_ngcontent-%COMP%], .header-columns[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header-columns[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-right:15px}.header-columns[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{font-size:16px;color:#000000de;font-weight:700;padding-bottom:16px}.header-columns[_ngcontent-%COMP%]   ui-webem-filter-input[_ngcontent-%COMP%]{background-color:transparent}.header-columns[_ngcontent-%COMP%]   .select-counters-column[_ngcontent-%COMP%]{width:100%}.header-columns[_ngcontent-%COMP%]   .select-counters-columns[_ngcontent-%COMP%]{height:calc(100% - 40px);display:flex;justify-content:space-between;align-content:stretch;align-items:stretch}.header-columns[_ngcontent-%COMP%]   .select-counters-columns[_ngcontent-%COMP%]   .split-panel[_ngcontent-%COMP%]{flex:1 1 auto;align-self:auto}.header-columns[_ngcontent-%COMP%]   .select-counters-columns[_ngcontent-%COMP%]   .split-panel[_ngcontent-%COMP%]   .split-area[_ngcontent-%COMP%]{overflow:hidden}.header-columns[_ngcontent-%COMP%]   .select-counters-columns[_ngcontent-%COMP%]   .split-panel[_ngcontent-%COMP%]   .object-classes-column[_ngcontent-%COMP%]{height:100%;padding-right:15px}.header-columns[_ngcontent-%COMP%]   .select-counters-columns[_ngcontent-%COMP%]   .split-panel[_ngcontent-%COMP%]   .counter-column[_ngcontent-%COMP%], .header-columns[_ngcontent-%COMP%]   .select-counters-columns[_ngcontent-%COMP%]   .split-panel[_ngcontent-%COMP%]   .counter-column-container[_ngcontent-%COMP%]{height:100%}.header-columns[_ngcontent-%COMP%]   .select-counters-columns[_ngcontent-%COMP%]   .split-panel[_ngcontent-%COMP%]   .objects-column[_ngcontent-%COMP%]{height:100%;padding:0 15px;display:flex;flex-direction:column}.header-columns[_ngcontent-%COMP%]   .result-column[_ngcontent-%COMP%]{flex:0 0 200px;align-self:auto;border-radius:0 3px 0 0;padding:20px 15px;margin:-20px -20px -20px 0;width:100%;background-color:#edf2f5;box-shadow:-4px 0 6px #00000029}.header-columns[_ngcontent-%COMP%]   .result-column[_ngcontent-%COMP%]   .selected-objects[_ngcontent-%COMP%]{height:calc(100% - 66px)}.header-columns[_ngcontent-%COMP%]   .result-column[_ngcontent-%COMP%]   .selected-objects[_ngcontent-%COMP%]   .selected-objects-box[_ngcontent-%COMP%]{border:1px solid #bec8d2;background:#fff;height:100%;padding:9px;overflow-y:auto;width:324px;border-radius:3px}.header-columns[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{color:#1b1b1b;display:flex;justify-content:space-between;align-items:center;height:26px;margin-bottom:5px}.header-columns[_ngcontent-%COMP%]   .counters-actions[_ngcontent-%COMP%]   ui-webem-button[_ngcontent-%COMP%]{margin-left:8px}"]}),e})(),mi=(()=>{class e{constructor(e){this.actions$=e,this.openCountersSelectionModal$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(v.U),(0,ke.U)(({onSubmit:e,maxCountersLimit:t})=>{const n=window.innerHeight-78;return(0,h.G34)({componentType:hi,config:{showHeader:!1,closable:!1,contentStyle:{width:"1305px",height:`${n>690?690:n}px`},data:{onSubmit:e,maxCountersLimit:t}}})}))),this.setAllInputCounters$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(v.U),(0,ke.U)(({counters:e})=>S({counters:e})))),this.setTimeFrame$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(v.U),(0,ke.U)(({timeFrame:e})=>j({timeFrame:e}))))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(f.eX))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();var fi=n(19773),bi=n(3402),Ci=n(42752),vi=n(63388);let yi=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pmApi=t,this.store=n,this.fetchAllMeasurements$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(v.U),(0,fi.zg)(()=>(this.store.dispatch((0,Ci.dM)({isLoadingData:!0})),this.store.dispatch((0,dt.T)({isDialogOpen:!0})),this.pmApi.getMeasurements().pipe((0,fi.zg)(e=>[(0,Ci.on)({measurements:e}),(0,Ci.dM)({isLoadingData:!1}),(0,vi.qo)()]),(0,Ne.K)(e=>(0,Ee.of)((0,Ci.XO)({error:e}))))))))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(f.eX),u.LFG(bi.m),u.LFG(o.yh))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();var Si=n(88229),Pi=n(73835);let Oi=(()=>{class e{constructor(e,t,n){this.store=e,this.actions$=t,this.pmApi=n,this.importSelectionFile$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(Ge),(0,fi.zg)(({file:e})=>{if(e.size>1e5)return(0,Ee.of)(Qe({toastMessage:h.InQ}));if("application/json"!==e.type)return(0,Ee.of)(Qe({toastMessage:h.MS}));const t=new Si.t,n=new FileReader;return n.onerror=()=>{n.abort(),t.error(h.MS)},n.onload=()=>{if(n.result)try{const e=JSON.parse(decodeURIComponent(n.result));(0,gt.isArray)(e)&&e.length>0?(t.next(e),t.complete()):t.error(h.C6F)}catch(e){t.error(h.C6F)}else t.error(h.osb)},n.readAsText(e),t.pipe((0,ke.U)(e=>Ve({counters:e})),(0,Ne.K)(e=>(0,Ee.of)(Qe({toastMessage:e}))))}))),this.importedSelectionsAvailabilityCheck$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(Ve),(0,fi.zg)(({counters:e})=>this.pmApi.getValidCounters({counter:e.map(h.iZG)}).pipe((0,ke.U)(t=>{const n=e.filter(e=>t[(0,h.iZG)(e)]);return this.store.dispatch((0,vi.qo)()),(0,gt.isEmpty)(n)?Qe({toastMessage:h.zEj}):n.length===e.length?We({counters:n}):He({counters:n})}),(0,Ne.K)(e=>Pi.a.isPmServiceDownError(e)?(console.warn(e),(0,Ee.of)()):(0,Ee.of)(Qe({toastMessage:h.C6F}))))))),this.importedSelectionsMaxNumberCheck$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(We,He),(0,Bt.M)(this.store.select(st)),(0,ke.U)(([{counters:e},t])=>e.length>t?Je({counters:e.slice(0,t)}):Ye({counters:e})))),this.saveImportedSelections$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(Je,Ye),(0,ke.U)(({counters:e})=>S({counters:e})))),this.importPartialSuccessNotification$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(He),(0,ke.U)(()=>(0,De.wN)({payload:h.Rz2})))),this.importSuccessNotification$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(We),(0,ke.U)(()=>(0,De.wN)({payload:h.y7})))),this.importSuccessToManyCountersNotification$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(Je),(0,ke.U)(()=>(0,De.wN)({payload:h.SRK})))),this.importFailureNotification$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(Qe),(0,ke.U)(({toastMessage:e})=>(0,De.wN)({payload:e}))))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(o.yh),u.LFG(f.eX),u.LFG(bi.m))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();var xi=n(49457),wi=n(95522);let Ai=(()=>{class e{constructor(e,t,n){this.actions$=e,this.store=t,this.exportService=n,this.exportSelection$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(Ke),(0,Bt.M)(this.store.select(ot)),(0,ke.U)(([,e])=>{try{const t=JSON.stringify(e),n=new Blob([t],{type:"application/json"});return(0,xi.saveAs)(n,this.exportService.getExportFilenameWithExtension("Counters_Selection","json")),Xe()}catch(t){return et({toastMessage:h.UgN})}}))),this.exportSuccessNotification$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(Xe),(0,ke.U)(()=>(0,De.wN)({payload:h.tQ2})))),this.exportFailureNotification$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(et),(0,ke.U)(({toastMessage:e})=>(0,De.wN)({payload:e}))))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(f.eX),u.LFG(o.yh),u.LFG(wi.Ty))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();const _i=fe.getSelectors(),Ti=(0,o.ZF)(me),Ii=(0,o.P1)(Ti,e=>e.cells),Ei=(0,o.P1)(Ii,_i.selectEntities),Mi=Ae.getSelectors(),ki=(0,o.ZF)(we),Ni=(0,o.P1)(ki,e=>e.dus),Li=(0,o.P1)(Ni,Mi.selectEntities);let Di=(()=>{class e{constructor(t,n,i){this.store=t,this.actions$=n,this.pmv2=i,this.fetchCounterObjects$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(k),(0,fi.zg)(({selectedCounterId:e})=>this.pmv2.getCounterObjects({counterId:e}).pipe((0,fi.zg)(e=>[ne({dimensionDistnames:e}),(0,vi.qo)()]),(0,Ne.K)(()=>(0,Ee.of)(oe())))))),this.clearCounterObjects$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(N),(0,ke.U)(()=>te({counterObjects:[]})))),this.setCountersObjects$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(ne),(0,Bt.M)(this.store.select(Ei),this.store.select(Li)),(0,ke.U)(([{dimensionDistnames:t},n,i])=>{const o=t.map(t=>{const o=n[t],s=i[t]||e.getParentDuObject(i,o);return{dimensionDistName:t,parentDuObject:null==o?void 0:o.duName,cellName:null==o?void 0:o.cellName,gnbDuName:null==s?void 0:s.name}});return te({counterObjects:o})}))),this.counterObjectsFetchFailure$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(oe),(0,ke.U)(()=>(0,De.wN)({payload:{detail:"Failed to retrieve counter objects",severity:"error",summary:"PM counters modal"}}))))}static getParentDuObject(e,t){const n=null==t?void 0:t.duName;if(n&&""!==n)return e[Object.keys(e).find(e=>e.endsWith(n))||""]}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(o.yh),u.LFG(f.eX),u.LFG(bi.m))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})();var Zi=n(58007);let Ri=(()=>{class e{constructor(e,t){this.actions$=e,this.statusService=t,this.fetchDusInfo$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(Se),(0,Me.b)(()=>this.statusService.getDusDiff().pipe((0,ke.U)(e=>{const t=e.created.map(e=>({distName:e.distNames.config||e.distNames.runtime||"",name:e.gnbDuName||""}));return xe({dus:t})}),(0,Ne.K)(()=>(0,Ee.of)(Pe())))))),this.dusInfoFetchFailure$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(Pe),(0,ke.U)(()=>(0,De.wN)({payload:{severity:"error",summary:"Could not fetch dus information"}}))))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(f.eX),u.LFG(Le.Bj))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})(),Ui=(()=>{class e{constructor(e,t){this.store=e,this.actions$=t,this.clearCounters$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(H),(0,Bt.M)(this.store.select(Qt)),(0,$t.h)(([,e])=>0===e.length),(0,ke.U)(()=>N()))),this.setSelectedCounterIdentity$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(k),(0,Bt.M)(this.store.select(jt.dw)),(0,ke.U)(([{selectedCounterId:e},t])=>{const n=t.find(t=>t.counters.some(t=>t.id===e));if(!n)return N();const i=n.counters.find(t=>t.id===e);return i?L({identity:{counterId:i.id,counterAbbreviation:i.abbreviation,measurementId:`${n.id}`,measurementAbbreviation:n.abbreviation}}):N()})))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(o.yh),u.LFG(f.eX))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e})(),Fi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[s.nZ,a.Cl,i.ez,Zi.$,r.u5,c.Gg,h.F8l,h.EJq,h.q_q,h.gkd,d.z,g,b.xc,o.Aw.forFeature(A,E),o.Aw.forFeature(D,U),o.Aw.forFeature($,G),o.Aw.forFeature(V.jA,V.I6),o.Aw.forFeature(W,X),o.Aw.forFeature(se,ce),o.Aw.forFeature(me,ve),o.Aw.forFeature(we,Ie),f.sQ.forFeature([Re,Oi,Ai,mi,Di,Ri,yi,Ui]),vt.kW,r.UX,l.nD,m.fX,h.XKI,h.Fme,Rn.ae]]}),e})()},90818:(e,t,n)=>{"use strict";n.d(t,{U:()=>s,T:()=>a});var i=n(62800),o=(()=>(function(e){e.OpenCounterSelectionModal="[Counters Modal] Open modal",e.ClearModalState="[Counters Modal] Clear modal state"}(o||(o={})),o))();const s=(0,i.PH)(o.OpenCounterSelectionModal,(0,i.Ky)()),a=(0,i.PH)(o.ClearModalState)},42752:(e,t,n)=>{"use strict";n.d(t,{on:()=>s,XO:()=>a,Y7:()=>r,dM:()=>l});var i=n(62800),o=(()=>(function(e){e.SetAllMeasurements="[Counters Modal] [Measurements] Set all measurements",e.MeasurementsFetchingError="[Counters Modal] [Measurements] Measurements fetching error",e.ClearMeasurements="[Counters Modal] Clear Measurements",e.SetIsLoadingData="[Counters Modal] [Measurements] Is loading data",e.GetMeasurements="[Counters Modal] [Measurements] Fetch Measurements"}(o||(o={})),o))();const s=(0,i.PH)(o.SetAllMeasurements,(0,i.Ky)()),a=(0,i.PH)(o.MeasurementsFetchingError,(0,i.Ky)()),r=(0,i.PH)(o.ClearMeasurements),l=(0,i.PH)(o.SetIsLoadingData,(0,i.Ky)());(0,i.PH)(o.GetMeasurements)},8394:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var i=n(62800),o=(()=>(function(e){e.SetSelectionCountersDialogStatus="[Select Counters Dialog] set selection counters dialog status"}(o||(o={})),o))();const s=(0,i.PH)(o.SetSelectionCountersDialogStatus,(0,i.Ky)())},85904:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var i=n(95522);function o(e){const t=(new i.ou).getTime();return new i.ou(t-36e5*e).toFormattedDateTimeWithTSeparator()}},81405:(e,t,n)=>{"use strict";n.d(t,{jA:()=>a,lC:()=>r,I6:()=>d});var i=n(62800),o=n(23607),s=n(42752);const a="countersModalMeasurements",r=(0,o.H)({selectId:e=>e.id}),l={measurements:r.getInitialState(),isLoadingData:!1,isNoData:!0},c=(0,i.Lq)(l,(0,i.on)(s.on,(e,{measurements:t})=>{const n=r.upsertMany(t,e.measurements);return Object.assign(Object.assign({},e),{measurements:n,isNoData:!n.ids.length})}),(0,i.on)(s.dM,(e,{isLoadingData:t})=>Object.assign(Object.assign({},e),{isLoadingData:t})),(0,i.on)(s.Y7,()=>l));function d(e,t){return c(e,t)}},30851:(e,t,n)=>{"use strict";n.d(t,{dw:()=>l,RK:()=>c,hZ:()=>d});var i=n(62800),o=n(81405);const s=o.lC.getSelectors(),a=(0,i.ZF)(o.jA),r=(0,i.P1)(a,e=>e.measurements),l=(0,i.P1)(r,s.selectAll),c=(0,i.P1)(a,e=>e.isLoadingData),d=(0,i.P1)(a,e=>e.isNoData)},11437:(e,t,n)=>{"use strict";n.d(t,{P:()=>s,s:()=>a});var i=n(62800),o=(()=>(function(e){e.SetPmSpinner="[PM SPINNER] Set pm spinner",e.UnsetPmSpinner="[PM SPINNER] Unset pm spinner"}(o||(o={})),o))();const s=(0,i.PH)(o.SetPmSpinner),a=(0,i.PH)(o.UnsetPmSpinner)},19846:(e,t,n)=>{"use strict";n.d(t,{n:()=>d});var i=n(12057),o=n(62800),s=n(11437);const a={pmViewSpinnerVisibility:!1},r=(0,o.Lq)(a,(0,o.on)(s.P,e=>Object.assign(Object.assign({},e),{pmViewSpinnerVisibility:!0})),(0,o.on)(s.s,()=>a));function l(e,t){return r(e,t)}var c=n(74788);let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,o.Aw.forFeature("PmViewSpinner",l)]]}),e})()},33405:(e,t,n)=>{"use strict";n.d(t,{s:()=>i,K:()=>o});const i=20,o=5},96080:(e,t,n)=>{"use strict";function i(e){const[t,n]=e.split("T");return`${t}T${n.substr(0,8)}`}function o(e){const[t,n]=e.split("T");return`${t}T${n.substr(0,14)}`}n.d(t,{Q:()=>i,K:()=>o})},50331:(e,t,n)=>{"use strict";n.d(t,{G5:()=>s,XH:()=>a});var i=n(62800),o=(()=>(function(e){e.FilterCounters="[PMV2] [User] [PM Counters Filtering] Filter counters",e.ClearCountersFilter="[PMV2] [User] [PM Counters Filtering] Clear filter"}(o||(o={})),o))();const s=(0,i.PH)(o.FilterCounters,(0,i.Ky)()),a=(0,i.PH)(o.ClearCountersFilter)},32765:(e,t,n)=>{"use strict";n.d(t,{G:()=>b});var i=n(17513),o=n(12844),s=n(35758),a=n(25917),r=n(94612),l=n(19773),c=n(5304),d=n(88002),u=n(3402),p=n(19685),g=n(23815),h=n(56605),m=n(63388),f=n(74788);let b=(()=>{class e{constructor(e,t){this.actions$=e,this.pmV2Api=t,this.fetchCountersInfo$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(o.w0),(0,r.b)(({nodes:e})=>{const t=(0,g.uniq)(e.map(({counterId:e})=>e)).map(e=>this.pmV2Api.getCounterInfo({counterId:e}));return(0,s.D)(t).pipe((0,l.zg)(e=>[(0,p.hv)({info:e}),(0,m.qo)()]),(0,c.K)(e=>(0,a.of)(400===e.status||404===e.status?(0,p.mi)():(0,p.jY)({error:e}))))}))),this.removeRetrievingCounterInfoFailed$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(p.hv,h.xo),(0,d.U)(()=>(0,p.lu)())))}}return e.\u0275fac=function(t){return new(t||e)(f.LFG(i.eX),f.LFG(u.m))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac}),e})()},56123:(e,t,n)=>{"use strict";n.d(t,{O:()=>M});var i=n(17513),o=n(19773),s=n(57057),a=n(87479),r=n(5304),l=n(88002),c=n(46782),d=n(45435),u=n(94612),p=n(25917),g=n(33637),h=n(62800),m=n(95522),f=n(44364),b=n(3402),C=n(60697),v=(()=>(function(e){e.INFO="info",e.ERROR="error",e.SUCCESS="success",e.WARNING="warning"}(v||(v={})),v))(),y=n(71522),S=n(56605),P=n(63388),O=n(12844),x=n(54606),w=n(19685),A=n(11437),_=n(87376),T=n(72389),I=n(42752),E=n(74788);let M=(()=>{class e{constructor(e,t,n,m,b){this.actions$=e,this.store=t,this.pollingService=n,this.pmV2Api=m,this.formatService=b,this.selectCountersChange$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(O.w0),(0,o.zg)(({nodes:e})=>e.length?[(0,S.MT)({etag:void 0}),(0,S.kG)()]:[(0,S.xo)()]))),this.fetchCounterValues$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(S.kG),(0,s.M)(this.store.select(y.wi),this.store.select(y.aT),this.store.select(y.xT)),(0,a.z)(([,e,t,n])=>{if(!e.length)return(0,p.of)((0,S.xo)());const i=e.map(C.iZG);return this.pmV2Api.getCounterMultipleValues$Response({counter:i,startTimeLowerLimit:n,"If-None-Match":t}).pipe((0,o.zg)(e=>{const n=(0,_.WX)(e.body),i=(0,T.z)(e);return[(0,S.uL)({values:n,etag:i,isOldRequest:!!t}),(0,P.qo)()]}),(0,r.K)(e=>(0,p.of)(304===e.status?(0,S.m7)():400===e.status||404===e.status?(0,S.cU)():(0,S.fz)({error:e}))))}))),this.removeRetrievingCounterValuesFailed$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(S.uL,S.xo),(0,l.U)(()=>(0,S.C_)()))),this.unsubscribeFromCountersValuesChanges$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(O.Aw)),{dispatch:!1}),this.subscribeToCountersChanges$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(O.Wv),(0,o.zg)(()=>this.pollingService.getTimer(g.P).pipe((0,l.U)(()=>(0,S.kG)()),(0,c.R)(this.unsubscribeFromCountersValuesChanges$))))),this.setPmSpinner$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(O.w0),(0,s.M)(this.store.select(y.u7)),(0,d.h)(([,e])=>!e.length),(0,l.U)(()=>(0,A.P)()))),this.unsetPmSpinner$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(S.uL,S.fz,S.xo),(0,l.U)(()=>(0,A.s)()))),this.updateCountersValues$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(S.uL),(0,s.M)(this.store.select(y.u7)),(0,l.U)(([e,t])=>{const n=Object.entries(e.values).map(e=>{const[t,n]=e;return{uniqueId:t,values:n.map(e=>Object.assign(Object.assign({},e),{startTime:this.formatService.formatTimeForCounter(e.startTime)})).sort((e,t)=>e.startTime>t.startTime?1:-1)}});return t.length?(0,S.L0)({values:n,isOldRequest:!!e.isOldRequest}):(0,S.Cv)({values:n})}))),this.updateEtag$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(S.uL),(0,l.U)(({etag:e})=>(0,S.MT)({etag:e})))),this.clearCountersInfo$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(S.xo),(0,l.U)(()=>(0,w.Py)()))),this.errorNotification$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(S.fz),(0,l.U)(()=>(0,f.wN)({payload:{severity:"error",summary:"Counter update",detail:"Failed to retrieve new counters"}})))),this.pmSeverDownNotification$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(P.NS),(0,l.U)(()=>(0,f.wN)({payload:{severity:v.ERROR,summary:"PM service is probably restarting",detail:"Any PM related functions will not work during this time"}})))),this.startPollingPmServiceState$=(0,i.GW)(()=>({scheduler:e=g.P}={})=>this.actions$.pipe((0,i.l4)(P.d1),(0,o.zg)(()=>this.pollingService.getTimer(e).pipe((0,s.M)(this.store.pipe((0,h.Ys)(y.cV))),(0,d.h)(([,e])=>e),(0,l.U)(()=>(0,P.ge)()),(0,c.R)(this.store.pipe((0,h.Ys)(y.cV)).pipe((0,d.h)(e=>!e))))))),this.subscribeToPmServiceState$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(P.ge),(0,u.b)(()=>this.pmV2Api.getMeasurements().pipe((0,l.U)(()=>(0,P.qo)()),(0,r.K)(e=>(0,p.of)((0,I.XO)({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(i.eX),E.LFG(h.yh),E.LFG(m.xj),E.LFG(b.m),E.LFG(x.y))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})()},9598:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var i=n(62800),o=(()=>(function(e){e.ExpandCounters="[PMV2] [User] [PM Counters Expansion] Expand counters",e.ClearCountersExpansion="[PMV2] [User] [PM Counters Expansion] Clear expansion"}(o||(o={})),o))();const s=(0,i.PH)(o.ExpandCounters,(0,i.Ky)()),a=(0,i.PH)(o.ClearCountersExpansion),r={expandedNodes:[]},l=(0,i.Lq)(r,(0,i.on)(s,(e,{payload:t})=>({expandedNodes:t})),(0,i.on)(a,()=>r));function c(e,t){return l(e,t)}},53883:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var i=n(62800),o=n(50331);const s={countersFilter:{distName:"",measurementAbbreviation:"",counterId:""}},a=(0,i.Lq)(s,(0,i.on)(o.G5,(e,{payload:t})=>({countersFilter:t})),(0,i.on)(o.XH,()=>s));function r(e,t){return a(e,t)}},40147:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var i=n(62800),o=n(63388);const s=(0,i.Lq)({isPmServerDown:!1},(0,i.on)(o.NS,e=>Object.assign(Object.assign({},e),{isPmServerDown:!0})),(0,i.on)(o.qo,e=>Object.assign(Object.assign({},e),{isPmServerDown:!1})));function a(e,t){return s(e,t)}},14411:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var i=(()=>(function(e){e.TogglePerformanceManagementTreePanel="[PMV2] [User] [PerformanceManagementTreePanel] Toggle tree panel"}(i||(i={})),i))();const o={hideTogglePanelTree:!1};function s(e=o,t){return t.type===i.TogglePerformanceManagementTreePanel?Object.assign(Object.assign({},e),{hideTogglePanelTree:!e.hideTogglePanelTree}):e}},54606:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});var i=n(90100),o=n(96080),s=n(74788);let a=(()=>{class e{constructor(e){this.dateTimeService=e}formatCounterValues(e){return e.map(e=>Object.assign(Object.assign({},e),{values:e.values.map(e=>({startTime:this.formatTimeForCounter(e.startTime),value:e.value}))}))}formatTimeForCounter(e){const t=(0,o.Q)(e);return this.dateTimeService.getFormattedDateTime(t)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(i.d))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},8678:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var i=(()=>(function(e){e.ALARMS="ALARMS",e.CELLS_STATUS="CELLS_STATUS",e.DU_STATUS="DU_STATUS",e.PARAMETER_EDITOR="PARAMETER_EDITOR",e.PERFORMANCE_MANAGEMENT="PERFORMANCE_MANAGEMENT",e.RMODS_STATUS="RMODS_STATUS",e.VDU_CELLS_STATUS="VDU_CELLS_STATUS",e.X2_LINKS="X2_LINKS",e.XN_LINKS="XN_LINKS",e.NG_LINKS="NG_LINKS",e.NETWORK_SLICING="NETWORK_SLICING"}(i||(i={})),i))()},93487:(e,t,n)=>{"use strict";n.d(t,{d:()=>o,p:()=>s});var i=n(8678),o=(()=>(function(e){e.MINOR="MINOR",e.MAJOR="MAJOR",e.WARNING="WARNING",e.CRITICAL="CRITICAL"}(o||(o={})),o))();class s{constructor(e){this.type=i.b.ALARMS,this.filterType=e}}},91441:(e,t,n)=>{"use strict";n.d(t,{j:()=>o,r:()=>s});var i=n(8678),o=(()=>(function(e){e.INITIAL="INITIAL",e.ADMINISTRATIVE_STATE="ADMINISTRATIVE_STATE",e.OPERATIONAL_STATE="OPERATIONAL_STATE"}(o||(o={})),o))();class s{constructor(e){this.type=i.b.CELLS_STATUS,this.sortType=e}}},84362:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,A:()=>s});var i=n(8678),o=(()=>(function(e){e.INITIAL="INITIAL",e.ADMINISTRATIVE_STATE="ADMINISTRATIVE_STATE",e.F1_LINK_STATUS="F1_LINK_STATUS"}(o||(o={})),o))();class s{constructor(e){this.type=i.b.DU_STATUS,this.sortType=e}}},18952:(e,t,n)=>{"use strict";n.d(t,{m:()=>o,Q:()=>s});var i=n(8678),o=(()=>(function(e){e.SNSSAI_ID="SNSSAI ID",e.LINK_STATUS="LINK_STATUS",e.LOCK_STATE="LOCK_STATE"}(o||(o={})),o))();class s{constructor(e){this.type=i.b.NETWORK_SLICING,this.sortType=e}}},63881:(e,t,n)=>{"use strict";n.d(t,{C:()=>o,v:()=>s});var i=n(8678),o=(()=>(function(e){e.SERVEDAMF_ID="SERVEDAMF_ID",e.LINK_STATUS="LINK_STATUS",e.LOCK_STATE="LOCK_STATE"}(o||(o={})),o))();class s{constructor(e){this.type=i.b.NG_LINKS,this.sortType=e}}},96141:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var i=n(8678);class o{constructor(e){this.type=i.b.PARAMETER_EDITOR,this.selectMoObjectByName=e}}},55585:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,k:()=>s});var i=n(8678),o=(()=>(function(e){e.LTEENB_ID="LTEENB_ID",e.LINK_STATUS="LINK_STATUS",e.LOCK_STATE="LOCK_STATE"}(o||(o={})),o))();class s{constructor(e){this.type=i.b.X2_LINKS,this.sortType=e}}},11101:(e,t,n)=>{"use strict";n.d(t,{P:()=>o,V:()=>s});var i=n(8678),o=(()=>(function(e){e.ByXnLinkId="xnLinkId",e.ByXnLinkStatus="xnLinkStatus",e.ByAdministrativeState="administrativeState"}(o||(o={})),o))();class s{constructor(e){this.type=i.b.XN_LINKS,this.sortType=e}}},72634:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var i=n(12057),o=n(74788);let s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[i.ez]]}),e})()},58373:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var i=n(60697),o=n(1429),s=n(74788);let a=(()=>{class e{transform(e){if(!e)return;const t=(0,o.PJ)(e);return t&&i.PPC[t]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"findSeverity",type:e,pure:!0}),e})()},46763:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var i=n(12057),o=n(74788);let s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[i.ez]]}),e})()},94185:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var i=n(72913),o=n(66603);function s(e){return t=>{const n=()=>o.f.injector.get(i.X);function s(t){return t||e.name}t.prototype.getLayoutSettingsItem=(e,t="")=>(t=s(t),n().getUiSettings(t,e)),t.prototype.saveLayoutSettingsItem=(e,t="")=>{t=s(t),n().saveUiSettings(t,e)}}}},48015:(e,t,n)=>{"use strict";function i(e){return e.charAt(0).toUpperCase()+e.substring(1)}n.d(t,{f:()=>i})},70593:(e,t,n)=>{"use strict";function i(e,t,n,i){n=n.replace(/\s/g,"").toLowerCase();const o=/^[^-]*-[^-]*$/;if(!/[^a-zA-Z0-9-]/.test(n)&&(n.match(t)||n.match(/^\d+/gi))){if(n.match(t)&&!o.test(n))return!1;const s=new RegExp(`${e}-${n.toLowerCase().match(/\b[0-9]+\b/gi)}$`);return!!i&&s.test(i.toLowerCase())}return!1}n.d(t,{q:()=>i})},72389:(e,t,n)=>{"use strict";function i(e){return e.headers.get("ETag")||e.headers.get("Etag")||e.headers.get("etag")||""}n.d(t,{z:()=>i})},77267:(e,t,n)=>{"use strict";function i(e,t,n=""){const i=10,o=e.length;let s="";return 1===o?`${n}${e[0]} ${t}`:(o>i&&(s=`<b>... and ${o-i} more</b>`),e.slice(0,i).reduce((e,a,r)=>o<=i&&o===r+1?`${e}<li>${n}${a} ${t}</li>`:o>i&&i===r+1?`${e}<li>${n}${a} ...</li>${s} ${t}`:`${e}<li>${n}${a}</li>`,""))}n.d(t,{R:()=>i})},97759:(e,t,n)=>{"use strict";n.d(t,{Us:()=>S,V_:()=>i.V}),n(50939),n(96055);var i=n(94518),o=n(12057),s=n(97721),a=n(60697),r=n(62800),l=n(50730),c=n(17513),d=n(25917),u=n(35758),p=n(2413),g=n(89651),h=n(98149),m=n(19773),f=n(5304),b=n(23815),C=n(74788);let v=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.peService=n,this.fetchParameters$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(h.Z5),(0,m.zg)(({runtimeDistName:e,configDistName:t})=>(0,d.of)((0,h.jb)(),(0,h.Y3)({runtimeDistName:e,configDistName:t}))))),this.fetchRuntimeAndConfigParameters$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(h.Y3),(0,m.zg)(({runtimeDistName:e,configDistName:t})=>(0,u.D)((0,b.compact)([e&&this.peService.getManagedObjectParametersOfCurrentPlan({distName:e}),t&&this.peService.getManagedObjectParametersOfCurrentPlan({distName:t})])).pipe((0,m.zg)(n=>(0,d.of)(...(0,b.compact)([e&&(0,h.Gm)({parameters:n[0].parameters,distName:e}),t&&(0,h.rD)({parameters:n[n.length-1].parameters,distName:t}),(0,h.$l)()]))),(0,f.K)(()=>(0,d.of)((0,h.eh)()))))))}}return e.\u0275fac=function(t){return new(t||e)(C.LFG(c.eX),C.LFG(g.x),C.LFG(p.qb))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[[o.ez,r.Aw.forFeature(l.QS,l.I6),c.sQ.forFeature([v])]]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[[o.ez,a.y$Z,y,s.E,a.Fme]]}),e})();n(60698)},96055:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var i=n(12057),o=n(60697),s=n(46239),a=n(18466),r=n(25616),l=n(74788);let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[i.ez,o.EJq,s.E,a.F,r.FZ]]}),e})()},86985:(e,t,n)=>{"use strict";n.d(t,{X:()=>v});var i=n(23815),o=n(42488),s=n(77951),a=n(66528),r=n(74788),l=n(62800),c=n(33013),d=n(12021),u=n(12057),p=n(88361),g=n(2069),h=n(76563);const m={[h.I.Unlocked]:e=>e===a.Cz.lock,[h.I.Locked]:e=>e===a.Cz.unlock,[h.I.ShuttingDown]:e=>e===a.Cz.unlock};let f=(()=>{class e{transform(e,t){return t===a.Cz.goToPE||m[e](t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"isButtonVisibleByCellState",type:e,pure:!0}),e})();function b(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ui-webem-button",3,4),r.NdJ("action",function(){r.CHM(e);const t=r.oxw().$implicit,n=r.oxw();return n.clickButton(t.action,n.selectedCell)}),r.ALo(2,"async"),r.qZA()}if(2&e){const e=r.MAs(1),t=r.oxw().$implicit,n=r.oxw();r.Q6J("oamRoleAccessControl",t.roleAccessFlag)("hostInstance",e)("id",t.name)("model",t.model)("options",t.options)("disabled",(t.name===n.buttonNames.lockButton||t.name===n.buttonNames.unlockButton)&&r.lcZ(2,6,n.selectCommissioningFlagStatus$))}}function C(e,t){if(1&e&&(r.TgZ(0,"span"),r.YNc(1,b,3,8,"ui-webem-button",2),r.ALo(2,"isButtonVisibleByCellState"),r.qZA()),2&e){const e=t.$implicit,n=r.oxw();r.xp6(1),r.Q6J("ngIf",r.xi3(2,1,n.selectedCell.basicCell.administrativeState,e.action))}}let v=(()=>{class e{constructor(e,t,n){this.store=e,this.confirmationService=t,this.activatedRoute=n,this.buttons=(0,i.cloneDeep)(a.qA),this.operations=(0,s.b)(this.store,this.confirmationService,this.activatedRoute),this.buttonNames={lockButton:"lock-button",unlockButton:"unlock-button"}}ngOnInit(){this.selectCommissioningFlagStatus$=this.store.select(o.f)}clickButton(e,{basicCell:{id:t}}){switch(e){case a.Cz.lock:this.operations.lockCell(t);break;case a.Cz.unlock:this.operations.unlockCell(t);break;case a.Cz.goToPE:this.operations.goToPe(t)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(l.yh),r.Y36(c.YP),r.Y36(d.gz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["status-shared-cell-operations-buttons"]],inputs:{selectedCell:"selectedCell"},decls:2,vars:1,consts:[["actions","","id","cell-details-buttons",1,"details-buttons"],[4,"ngFor","ngForOf"],["class","details-button",3,"oamRoleAccessControl","hostInstance","id","model","options","disabled","action",4,"ngIf"],[1,"details-button",3,"oamRoleAccessControl","hostInstance","id","model","options","disabled","action"],["btn",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,C,3,4,"span",1),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngForOf",t.buttons))},directives:[u.sg,u.O5,p.r,g.h],pipes:[f,u.Ov],styles:[".details-button[_ngcontent-%COMP%]{margin-right:8px;display:inline-block}.details-buttons[_ngcontent-%COMP%]{border-bottom:1px solid #98a2ae;padding-bottom:10px;margin-bottom:15px}"]}),e})()},50939:(e,t,n)=>{"use strict";n.d(t,{J:()=>h});var i=n(12057),o=n(60697),s=n(28061),a=n(46239),r=n(47702),l=n(56177),c=n(72634),d=n(96055),u=n(25616),p=n(29625),g=n(74788);let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[i.ez,o.upY,o.a9S,o.Jaz,o.EJq,d.B,o.hZC,o.Xn,s.L,a.E,o.g3K,r.f_,l.oS,c.z,u.FZ,p.O]]}),e})()},31689:(e,t,n)=>{"use strict";n.d(t,{f:()=>p});var i=n(74788),o=n(86985),s=n(75107),a=n(85859),r=n(56177);let l=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){if(!e)return[];let t=[];return t=e.basicCell.technology===a._.Fdd?[{key:"Downlink NRARFCN",value:this.nullableValuePipe.transform(e.basicCell.nrarfcnDl)},{key:"Uplink NRARFCN",value:this.nullableValuePipe.transform(e.basicCell.nrarfcnUl)}]:[{key:"NRARFCN",value:this.nullableValuePipe.transform(e.basicCell.nrarfcn)}],[{key:"NRCELL ID",value:e.basicCell.name},{key:"NR cell identity",value:this.nullableValuePipe.transform(e.basicCell.nrCellIdentity)},{key:"Cell name",value:this.nullableValuePipe.transform(e.basicCell.cellName)},{key:"Cell technology",value:this.nullableValuePipe.transform(e.basicCell.technology)},{key:"Cell type",value:this.nullableValuePipe.transform(e.type)},...t,{key:"Serving DU ID",value:e.duName},{key:"Cell group ID",value:e.basicCell.cellGroupId},{key:"PCI",value:e.basicCell.physicalLayerCellID}]}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(r.cP,16))},e.\u0275pipe=i.Yjl({name:"formatToCellDetailsProperties",type:e,pure:!0}),e})();var c=n(48015),d=n(34306);let u=(()=>{class e{constructor(e,t){this.nullableValuePipe=e,this.vnfcSharedService=t}transform(e){if(!e)return[];const t=[{key:"Operational state",value:(0,c.f)(this.nullableValuePipe.transform(e.basicCell.operationalState))},{key:"Administrative state",value:e.basicCell.administrativeState}];return this.vnfcSharedService.isVcu()&&t.push({key:"Barring status",value:(0,c.f)(this.nullableValuePipe.transform(e.barringStatus))}),t}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(r.cP,16),i.Y36(d.Z9,16))},e.\u0275pipe=i.Yjl({name:"formatToCellDetailsStates",type:e,pure:!0}),e})(),p=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["status-shared-cells-status-details"]],inputs:{selectedCell:"selectedCell"},decls:6,vars:7,consts:[[3,"selectedCell"],[1,"cell-status-details-section"],["id","cell-details-properties","title","Cell properties",3,"data"],["id","cell-details-states","title","Cell states",3,"data"]],template:function(e,t){1&e&&(i._UZ(0,"status-shared-cell-operations-buttons",0),i.TgZ(1,"div",1),i._UZ(2,"ui-webem-details-section",2),i.ALo(3,"formatToCellDetailsProperties"),i._UZ(4,"ui-webem-details-section",3),i.ALo(5,"formatToCellDetailsStates"),i.qZA()),2&e&&(i.Q6J("selectedCell",t.selectedCell),i.xp6(2),i.Q6J("data",i.lcZ(3,3,t.selectedCell)),i.xp6(2),i.Q6J("data",i.lcZ(5,5,t.selectedCell)))},directives:[o.X,s.h],pipes:[l,u],styles:[".cell-status-details-section[_ngcontent-%COMP%]{overflow-y:auto;height:100%}#cell-details-properties[_ngcontent-%COMP%]{margin-top:0}"]}),e})()},66085:(e,t,n)=>{"use strict";n.d(t,{K:()=>ie});var i=n(74788),o=n(20518),s=n(76563),a=n(85859),r=n(23815),l=n(42488),c=n(47702),d=n(60697);const u={LOCK_BUTTON_MODEL:{title:"Lock cell",icon:"mdi mdi-lock",thickness:d.NOb.Thin},UNLOCK_BUTTON_MODEL:{title:"Unlock cell",icon:"mdi mdi-lock-open-variant-outline",thickness:d.NOb.Thin},ACTIONS_BUTTON_MODEL:{title:"Actions",icon:"mdi mdi-dots-vertical",theme:d.bnJ.Secondary,thickness:d.NOb.Thin}},p=[{name:"Status",width:"64px",class:"col-status",fixed:!0},{name:"NRCELL ID",width:"13%",minWidth:"69px"},{name:"NR Cell identity",width:"11%",minWidth:"95px",parameterGroup:"nrCellIdentity"},{name:"Cell name",width:"35%",minWidth:"100px",parameterGroup:"cellName"},{name:"Tech.",width:"8%",minWidth:"44px",parameterGroup:"technology"},{name:"PCI",width:"8%",minWidth:"37px",parameterGroup:"physicalLayerCellID"},{name:"Cell type",width:"11%",minWidth:"40px",parameterGroup:"type"},{name:"(DL/UL) NRARFCN",width:"14%",minWidth:"110px",parameterGroup:"nrarfcn"},{name:"Cell group ID",width:"93px",minWidth:"40px",parameterGroup:"cellGroupId"},{name:"Serving DU ID",width:"93px",minWidth:"40px",parameterGroup:"duName"},{name:"Actions",width:"74px",class:"col-actions",fixed:!0,parameterGroup:"actions"}];var g=n(34306),h=n(62800),m=n(40954),f=n(12057),b=n(22730),C=n(83665);let v=(()=>{class e{constructor(){this.goToPe=new i.vpe,this.lockCellGroup=new i.vpe,this.unlockCellGroup=new i.vpe,this.ACTION_BUTTON_MODEL=u.ACTIONS_BUTTON_MODEL}ngOnChanges(){var e;this.menuOptions=[{label:"Lock cell group",icon:"mdi mdi-lock",command:()=>this.lockCellGroup.emit(),disabled:e=this.isCommissioningInProgress,roleAccessFlag:b.M.LOCK_UNLOCK},{label:"Unlock cell group",icon:"mdi mdi-lock-open-variant-outline mdi-16px",command:()=>this.unlockCellGroup.emit(),disabled:e,roleAccessFlag:b.M.LOCK_UNLOCK},{label:"Go to PE",icon:"mdi mdi-import",command:()=>this.goToPe.emit()}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["status-shared-cells-status-cell-operations-for-cell-group"]],inputs:{container:"container",isCommissioningInProgress:"isCommissioningInProgress"},outputs:{goToPe:"goToPe",lockCellGroup:"lockCellGroup",unlockCellGroup:"unlockCellGroup"},features:[i.TTD],decls:1,vars:3,consts:[[3,"buttonConfig","menuOptions","scrollableContainer"]],template:function(e,t){1&e&&i._UZ(0,"ui-webem-button-with-menu",0),2&e&&i.Q6J("buttonConfig",t.ACTION_BUTTON_MODEL)("menuOptions",t.menuOptions)("scrollableContainer",t.container)},directives:[C.N],styles:[""]}),e})();var y=n(8408);let S=(()=>{class e{constructor(){this.lockDu=new i.vpe,this.unlockDu=new i.vpe,this.goToDu=new i.vpe,this.ACTION_BUTTON_MODEL=u.ACTIONS_BUTTON_MODEL}ngOnChanges(e){var t;(e.du&&this.du||e.isCommissioningInProgress&&this.du)&&(this.menuOptions=this.du.administrativeState===y.k.Locked?[{label:"Unlock DU",icon:"mdi mdi-lock-open-variant-outline mdi-16px",command:()=>this.unlockDu.emit(),disabled:t=this.isCommissioningInProgress,roleAccessFlag:b.M.LOCK_UNLOCK},{label:"Go to DU",icon:"mdi mdi-logout-variant mdi-16px",command:()=>this.goToDu.emit(),disabled:t}]:((e,t,n)=>[{label:"Lock DU",icon:"mdi mdi-lock mdi-16px",command:()=>this.lockDu.emit(),disabled:n,roleAccessFlag:b.M.LOCK_UNLOCK},{label:"Go to DU",icon:"mdi mdi-logout-variant mdi-16px",command:()=>this.goToDu.emit(),disabled:n}])(0,0,this.isCommissioningInProgress))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["status-shared-cells-status-cell-operations-for-du"]],inputs:{du:"du",container:"container",isCommissioningInProgress:"isCommissioningInProgress"},outputs:{lockDu:"lockDu",unlockDu:"unlockDu",goToDu:"goToDu"},features:[i.TTD],decls:1,vars:3,consts:[[3,"buttonConfig","menuOptions","scrollableContainer"]],template:function(e,t){1&e&&i._UZ(0,"ui-webem-button-with-menu",0),2&e&&i.Q6J("buttonConfig",t.ACTION_BUTTON_MODEL)("menuOptions",t.menuOptions)("scrollableContainer",t.container)},directives:[C.N],styles:[""]}),e})();var P=n(88361),O=n(2069),x=n(92798),w=n(52504),A=n(62039),_=n(49201);let T=(()=>{class e{transform(e,t){if(e&&t)return e.find(e=>e.id===t.nrDuId)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"servingDu",type:e,pure:!0}),e})();var I=n(58373),E=n(96393);function M(e,t){1&e&&i.GkF(0)}function k(e,t){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.ALo(2,"nullableValue"),i.qZA()),2&e){const e=i.oxw().$implicit;i.xp6(1),i.Oqu(i.lcZ(2,1,e.basicCell.nrCellIdentity))}}function N(e,t){if(1&e&&(i.TgZ(0,"td"),i.ALo(1,"nullableValue"),i._uU(2),i.ALo(3,"nullableValue"),i.qZA()),2&e){const e=i.oxw().$implicit;i.uIk("title",i.lcZ(1,2,e.basicCell.cellName)),i.xp6(2),i.Oqu(i.lcZ(3,4,e.basicCell.cellName))}}function L(e,t){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const e=i.oxw().$implicit;i.uIk("title",e.basicCell.technology),i.xp6(1),i.Oqu(e.basicCell.technology)}}function D(e,t){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const e=i.oxw().$implicit;i.uIk("title",e.basicCell.physicalLayerCellID),i.xp6(1),i.Oqu(e.basicCell.physicalLayerCellID)}}function Z(e,t){if(1&e&&(i.TgZ(0,"td"),i.ALo(1,"nullableValue"),i._uU(2),i.ALo(3,"nullableValue"),i.qZA()),2&e){const e=i.oxw().$implicit;i.uIk("title",i.lcZ(1,2,e.type)),i.xp6(2),i.Oqu(i.lcZ(3,4,e.type))}}function R(e,t){if(1&e&&(i.ynx(0),i._uU(1),i.ALo(2,"nullableValue"),i.ALo(3,"nullableValue"),i.BQk()),2&e){const e=i.oxw(3).$implicit;i.xp6(1),i.AsE(" ",i.lcZ(2,2,e.basicCell.nrarfcnDl),"/",i.lcZ(3,4,e.basicCell.nrarfcnUl)," ")}}function U(e,t){if(1&e&&(i._uU(0),i.ALo(1,"nullableValue")),2&e){const e=i.oxw(3).$implicit;i.Oqu(i.lcZ(1,1,e.basicCell.nrarfcn))}}function F(e,t){if(1&e&&(i.TgZ(0,"td"),i.ALo(1,"nullableValue"),i.ALo(2,"nullableValue"),i.ALo(3,"nullableValue"),i.YNc(4,R,4,6,"ng-container",12),i.YNc(5,U,2,3,"ng-template",null,13,i.W1O),i.qZA()),2&e){const e=i.MAs(6),t=i.oxw().ngIf,n=i.oxw().$implicit;i.uIk("title",t.isFdd?i.lcZ(1,3,n.basicCell.nrarfcnDl)+"/"+i.lcZ(2,5,n.basicCell.nrarfcnUl):i.lcZ(3,7,n.basicCell.nrarfcn)),i.xp6(4),i.Q6J("ngIf",t.isFdd)("ngIfElse",e)}}function j(e,t){if(1&e&&(i.ynx(0),i.YNc(1,F,7,9,"td",9),i.BQk()),2&e){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.visibleCellParameters.nrarfcn)}}function $(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"td",14),i.TgZ(1,"div",15),i.TgZ(2,"span",8),i._uU(3),i.qZA(),i.TgZ(4,"status-shared-cells-status-cell-operations-for-cell-group",16),i.NdJ("goToPe",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw().goToPeWithCellGroupId.emit(t.basicCell.cellGroupId)})("lockCellGroup",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw().lockCellGroup.emit(t.basicCell.cellGroupId)})("unlockCellGroup",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw().unlockCellGroup.emit(t.basicCell.cellGroupId)}),i.ALo(5,"async"),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.oxw().$implicit,t=i.oxw();i.xp6(2),i.Q6J("title",e.basicCell.cellGroupId),i.xp6(1),i.Oqu(e.basicCell.cellGroupId),i.xp6(1),i.Q6J("container",t.tableBodyContainer)("isCommissioningInProgress",i.lcZ(5,4,t.selectCommissioningFlagStatus$))}}function q(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"td",14),i.TgZ(1,"div",15),i.TgZ(2,"span",8),i._uU(3),i.qZA(),i.TgZ(4,"status-shared-cells-status-cell-operations-for-du",17),i.NdJ("lockDu",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw().lockDu.emit(t.nrDuId)})("unlockDu",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw().unlockDu.emit(t.nrDuId)})("goToDu",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw().goToDu.emit(t.nrDuId)}),i.ALo(5,"servingDu"),i.ALo(6,"async"),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.oxw().$implicit,t=i.oxw();i.xp6(2),i.Q6J("title",e.duName),i.xp6(1),i.Oqu(e.duName),i.xp6(1),i.Q6J("du",i.xi3(5,5,t.dus,e))("container",t.tableBodyContainer)("isCommissioningInProgress",i.lcZ(6,8,t.selectCommissioningFlagStatus$))}}function B(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"td",18),i.TgZ(1,"ui-webem-button",19,20),i.NdJ("action",function(){i.CHM(e);const t=i.oxw().$implicit,n=i.oxw();return t.basicCell.administrativeState===n.ADMINISTRATIVE_STATE.Locked?n.unlockCell.emit(t):n.lockCell.emit(t)}),i.ALo(3,"async"),i.qZA(),i.TgZ(4,"ui-webem-go-to-pe-table-button",21),i.NdJ("action",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw().goToPe.emit(t)}),i.qZA(),i.qZA()}if(2&e){const e=i.MAs(2),t=i.oxw().$implicit,n=i.oxw();i.xp6(1),i.Q6J("oamRoleAccessControl","LOCK_UNLOCK")("hostInstance",e)("model",t.basicCell.administrativeState===n.ADMINISTRATIVE_STATE.Locked?n.CELL_TABLE_VIEW_BUTTONS.UNLOCK_BUTTON_MODEL:n.CELL_TABLE_VIEW_BUTTONS.LOCK_BUTTON_MODEL)("disabled",i.lcZ(3,4,n.selectCommissioningFlagStatus$))}}const G=function(e){return{$implicit:e}},V=function(e){return{isFdd:e}};function Y(e,t){if(1&e&&(i.TgZ(0,"td",6),i.YNc(1,M,1,0,"ng-container",7),i.qZA(),i.TgZ(2,"td",8),i._uU(3),i.qZA(),i.YNc(4,k,3,3,"td",9),i.YNc(5,N,4,6,"td",9),i.YNc(6,L,2,2,"td",9),i.YNc(7,D,2,2,"td",9),i.YNc(8,Z,4,6,"td",9),i.YNc(9,j,2,1,"ng-container",9),i.YNc(10,$,6,6,"td",10),i.YNc(11,q,7,10,"td",10),i.YNc(12,B,5,6,"td",11)),2&e){const e=t.$implicit,n=i.oxw(),o=i.MAs(10);i.xp6(1),i.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",i.VKq(13,G,e)),i.xp6(1),i.s9C("title",e.basicCell.name),i.xp6(1),i.Oqu(e.basicCell.name),i.xp6(1),i.Q6J("ngIf",n.visibleCellParameters.nrCellIdentity),i.xp6(1),i.Q6J("ngIf",n.visibleCellParameters.cellName),i.xp6(1),i.Q6J("ngIf",n.visibleCellParameters.technology),i.xp6(1),i.Q6J("ngIf",n.visibleCellParameters.physicalLayerCellID),i.xp6(1),i.Q6J("ngIf",n.visibleCellParameters.type),i.xp6(1),i.Q6J("ngIf",i.VKq(15,V,e.basicCell.technology===n.TECHNOLOGY.Fdd)),i.xp6(1),i.Q6J("ngIf",n.visibleCellParameters.cellGroupId),i.xp6(1),i.Q6J("ngIf",n.visibleCellParameters.duName),i.xp6(1),i.Q6J("ngIf",n.visibleCellParameters.actions)}}function J(e,t){1&e&&i._UZ(0,"i",22)}function H(e,t){1&e&&i._UZ(0,"span",23)}function W(e,t){1&e&&(i.TgZ(0,"span",24),i._uU(1,"\u2013"),i.qZA())}function Q(e,t){if(1&e&&i._UZ(0,"ui-webem-status-icon",29),2&e){const e=i.oxw().$implicit,t=i.oxw();i.Q6J("type",e.basicCell.operationalState===t.OPERATIONAL_STATE.Enabled?t.STATUS_ICON_TYPE.Success:t.STATUS_ICON_TYPE.Off)("title",e.basicCell.operationalState===t.OPERATIONAL_STATE.Enabled?"Enabled":"Disabled")}}function z(e,t){1&e&&i._UZ(0,"i",30)}function K(e,t){if(1&e&&(i._UZ(0,"ui-webem-raised-alarms",31),i.ALo(1,"toActiveAlarms")),2&e){const e=t.ngIf,n=i.oxw().$implicit;i.Q6J("alarmSeverityType",e)("alarms",i.lcZ(1,2,n.basicCell.alarms))}}const X=function(e){return["mdi","mdi-16px","barring-status",e]};function ee(e,t){if(1&e&&i._UZ(0,"i",33),2&e){const e=i.oxw(2).$implicit,t=i.oxw();i.Q6J("ngClass",i.VKq(2,X,e.barringStatus)),i.uIk("title",t.capitalize(e.barringStatus))}}function te(e,t){if(1&e&&(i.TgZ(0,"td"),i.YNc(1,ee,1,4,"i",32),i.qZA()),2&e){const e=i.oxw().$implicit;i.oxw();const t=i.MAs(8);i.xp6(1),i.Q6J("ngIf",!!e.barringStatus)("ngIfElse",t)}}function ne(e,t){if(1&e&&(i.TgZ(0,"table",25),i.TgZ(1,"tr"),i.TgZ(2,"td"),i.YNc(3,Q,1,2,"ui-webem-status-icon",26),i.qZA(),i.TgZ(4,"td"),i.YNc(5,z,1,0,"i",27),i.qZA(),i.TgZ(6,"td"),i.YNc(7,K,2,4,"ui-webem-raised-alarms",28),i.ALo(8,"findSeverity"),i.qZA(),i.YNc(9,te,2,2,"td",9),i.qZA(),i.qZA()),2&e){const e=t.$implicit,n=i.oxw(),o=i.MAs(8),s=i.MAs(4),a=i.MAs(6);i.xp6(3),i.Q6J("ngIf",e.basicCell.operationalState)("ngIfElse",o),i.xp6(2),i.Q6J("ngIf",e.basicCell.administrativeState===n.ADMINISTRATIVE_STATE.Locked)("ngIfElse",s),i.xp6(2),i.Q6J("ngIf",i.lcZ(8,7,e.basicCell.alarms))("ngIfElse",a),i.xp6(2),i.Q6J("ngIf",n.isConfigVcu)}}let ie=(()=>{class e{constructor(e,t,n){this.hostElementRef=e,this.store=t,this.vnfcSharedService=n,this.rowSelection=new i.vpe,this.lockCell=new i.vpe,this.unlockCell=new i.vpe,this.lockCellGroup=new i.vpe,this.unlockCellGroup=new i.vpe,this.lockDu=new i.vpe,this.unlockDu=new i.vpe,this.goToPe=new i.vpe,this.goToPeWithCellGroupId=new i.vpe,this.goToDu=new i.vpe,this.ROWS_BUFFER=40,this.STATUS_ICON_TYPE=c.Zm,this.OPERATIONAL_STATE=o.g,this.ADMINISTRATIVE_STATE=s.I,this.TECHNOLOGY=a._,this.CELL_TABLE_VIEW_BUTTONS=(0,r.cloneDeep)(u),this.capitalize=r.capitalize,this.CELL_TABLE_VIEW_COLUMNS=p}get selectedCell(){return this._selectedCell||null}set selectedCell(e){this.rowSelection.emit(e)}ngOnInit(){this.isConfigVcu=this.vnfcSharedService.isVcu(),this.selectCommissioningFlagStatus$=this.store.select(l.f),this.vnfcSharedService.isVcu()&&(this.CELL_TABLE_VIEW_COLUMNS[0].width="91px")}ngOnChanges(e){(e.cells||e.selectedCellId)&&(this._selectedCell=this.findCell(this.selectedCellId,this.cells))}ngAfterViewInit(){this.tableBodyContainer=this.getTableBodyContainer(this.hostElementRef.nativeElement)}getTableBodyContainer(e){const t=e.querySelector(".cell-table div.ui-table-scrollable-body");return t?{nativeElement:t}:void 0}findCell(e,t){return t&&e?t.find(t=>t.basicCell.id===e):void 0}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(h.yh),i.Y36(g.Z9))},e.\u0275cmp=i.Xpm({type:e,selectors:[["status-shared-cells-status-table"]],inputs:{cells:"cells",dus:"dus",selectedCellId:"selectedCellId",visibleCellParameters:"visibleCellParameters"},outputs:{rowSelection:"rowSelection",lockCell:"lockCell",unlockCell:"unlockCell",lockCellGroup:"lockCellGroup",unlockCellGroup:"unlockCellGroup",lockDu:"lockDu",unlockDu:"unlockDu",goToPe:"goToPe",goToPeWithCellGroupId:"goToPeWithCellGroupId",goToDu:"goToDu"},features:[i.TTD],decls:11,vars:7,consts:[["dataKey","basicCell.id",1,"cell-table",3,"items","columns","visibleParameterGroupColumns","loading","selected","virtual","minBuffer","selectedChange"],["row",""],["unlocked",""],["noAlarms",""],["noIcon",""],["statusCell",""],[1,"status-icons"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"title"],[4,"ngIf"],["class","col-operations",4,"ngIf"],["class","col-actions",4,"ngIf"],[4,"ngIf","ngIfElse"],["tddNrarfcn",""],[1,"col-operations"],[1,"operations"],[1,"operations-button",3,"container","isCommissioningInProgress","goToPe","lockCellGroup","unlockCellGroup"],[1,"operations-button",3,"du","container","isCommissioningInProgress","lockDu","unlockDu","goToDu"],[1,"col-actions"],[3,"oamRoleAccessControl","hostInstance","model","disabled","action"],["LOCK_UNLOCK",""],[3,"action"],["title","Unlocked",1,"unlocked"],[1,"no-alarms"],["title","No state"],[1,"inner-table"],[3,"type","title",4,"ngIf","ngIfElse"],["class","mdi mdi-lock locked mdi-16px","title","Locked",4,"ngIf","ngIfElse"],[3,"alarmSeverityType","alarms",4,"ngIf","ngIfElse"],[3,"type","title"],["title","Locked",1,"mdi","mdi-lock","locked","mdi-16px"],[3,"alarmSeverityType","alarms"],[3,"ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"]],template:function(e,t){1&e&&(i.TgZ(0,"ui-webem-table-view",0),i.NdJ("selectedChange",function(e){return t.selectedCell=e}),i.YNc(1,Y,13,17,"ng-template",null,1,i.W1O),i.qZA(),i.YNc(3,J,1,0,"ng-template",null,2,i.W1O),i.YNc(5,H,1,0,"ng-template",null,3,i.W1O),i.YNc(7,W,2,0,"ng-template",null,4,i.W1O),i.YNc(9,ne,10,9,"ng-template",null,5,i.W1O)),2&e&&i.Q6J("items",t.cells)("columns",t.CELL_TABLE_VIEW_COLUMNS)("visibleParameterGroupColumns",t.visibleCellParameters)("loading",!t.cells)("selected",t.selectedCell)("virtual",!0)("minBuffer",t.ROWS_BUFFER)},directives:[m.x,f.tP,f.O5,v,S,P.r,O.h,x.C,w.m,A.V,f.mk],pipes:[_.c,f.Ov,T,I.P,E.G],styles:['@charset "UTF-8";.data-loading-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;font-size:40px;width:40px;height:40px;margin:auto;top:0;left:0;right:0;bottom:0;overflow:visible;color:#98a2ae}.data-loading-spinner.embedded[_ngcontent-%COMP%]{position:absolute;color:#4d5766}.data-loading-spinner.embedded-no-background[_ngcontent-%COMP%]{position:absolute}.unlocked[_ngcontent-%COMP%]:before{content:"\uffe7";display:inline-block;font:normal normal normal 24px/1 Material Design Icons,sans-serif;font-size:16px;line-height:16px}[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]    {--status-icon-font-size:13px}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     cdk-virtual-scroll-viewport{overflow-y:scroll}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     th.col-status{text-align:center}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     th.col-actions, [_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     th.col-status{padding-left:5px;padding-right:5px;justify-content:center;padding-top:4px;margin-top:6px}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     td.status-icons{padding:0}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table{width:100%;height:100%}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr>td{padding-left:0;padding-right:0;text-align:center}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr>td .unbarred:before{line-height:inherit}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr>td .barred:before{line-height:inherit}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr>td+td{border-left:1px solid #bec8d2}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     td.col-operations{overflow:visible;padding-right:3px}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     .operations{display:flex;flex-direction:row;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     .operations>span{min-width:0;flex:1 1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .cell-table[_ngcontent-%COMP%]     .operations>.operations-button{flex:0 0}.col-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:4px}'],changeDetection:0}),e})()},66528:(e,t,n)=>{"use strict";n.d(t,{Cz:()=>a,qA:()=>r});var i=n(60697),o=n(22730);const s={minWidth:"70px"},a={lock:"lock",unlock:"unlock",goToPE:"goToPE"},r=[{name:"lock-button",model:{icon:"mdi mdi-lock",theme:i.bnJ.Default,iconPosition:"left",label:"Lock cell",length:i.Wmq.Short},action:a.lock,options:s,roleAccessFlag:o.M.LOCK_UNLOCK},{name:"unlock-button",model:{icon:"mdi mdi-lock-open-variant-outline",theme:i.bnJ.Default,iconPosition:"left",label:"Unlock Cell",length:i.Wmq.Short},action:a.unlock,options:s,roleAccessFlag:o.M.LOCK_UNLOCK},{name:"go-to-pe-button",model:{icon:"mdi mdi-exit-to-app",theme:i.bnJ.Default,iconPosition:"left",label:"Go to PE",length:i.Wmq.Short},action:a.goToPE,options:s}]},77951:(e,t,n)=>{"use strict";n.d(t,{b:()=>S});var i=n(54618),o=n(54260),s=n(13994),a=n(47508),r=n(13742),l=n(16661),c=n(96141);const d=(e,t)=>n=>t.confirm({message:"You are about to lock selected cell\n\nDo you want to proceed?",header:"Lock cell",acceptLabel:"OK",rejectLabel:"Cancel",icon:i.Wf,accept:()=>e.dispatch(o.Zw({cellId:n}))}),u=(e,t)=>n=>t.confirm({message:"You are about to unlock selected cell\n\nDo you want to proceed?",header:"Unlock cell",acceptLabel:"OK",rejectLabel:"Cancel",icon:i.Wf,accept:()=>e.dispatch(o.Vv({cellId:n}))}),p=(e,t)=>n=>t.confirm({message:"You are about to lock selected cell group\n\nDo you want to proceed?",header:"Lock cell group",acceptLabel:"OK",rejectLabel:"Cancel",icon:i.Wf,accept:()=>e.dispatch(o.fF({cellGroupId:n}))}),g=(e,t)=>n=>t.confirm({message:"You are about to unlock selected cell group\n\nDo you want to proceed?",header:"Unlock cell group",acceptLabel:"OK",rejectLabel:"Cancel",icon:i.Wf,accept:()=>e.dispatch(o.RL({cellGroupId:n}))}),h=(e,t)=>n=>t.confirm({message:"You are about to lock selected DU\n\nDo you want to proceed?",header:"Lock DU",acceptLabel:"OK",rejectLabel:"Cancel",icon:i.Wf,accept:()=>e.dispatch(s.X3({duId:n}))}),m=(e,t)=>n=>t.confirm({message:"You are about to unlock selected DU\n\nDo you want to proceed?",header:"Unlock DU",acceptLabel:"OK",rejectLabel:"Cancel",icon:i.Wf,accept:()=>e.dispatch(s.rg({duId:n}))}),f=(e,t)=>n=>t.confirm({message:"You are about to unlock selected cell\n\nDo you want to proceed?",header:"Unlock cell",acceptLabel:"OK",rejectLabel:"Cancel",icon:i.Wf,accept:()=>e.dispatch((0,a.z8)({cellId:n}))}),b=(e,t)=>n=>t.confirm({message:"You are about to lock selected cell\n\nDo you want to proceed?",header:"Lock cell",acceptLabel:"OK",rejectLabel:"Cancel",icon:i.Wf,accept:()=>e.dispatch((0,a.w)({cellId:n}))}),C=(e,t)=>n=>{e.dispatch((0,r.uX)({routerLink:l.r.parameterEditor,activatedRoute:t,data:new c.q(`NRCELL-${n}`)}))},v=(e,t)=>n=>{e.dispatch((0,r.uX)({routerLink:l.r.parameterEditor,activatedRoute:t,data:new c.q(`NRCELLGRP-${n}`)}))},y=(e,t)=>n=>{e.dispatch((0,r.uX)({routerLink:l.r.parameterEditor,activatedRoute:t,data:new c.q(`NRDU-${n}`)}))};function S(e,t,n){return{lockCell:d(e,t),unlockCell:u(e,t),goToPe:C(e,n),goToPeCellGroup:v(e,n),lockCellGroup:p(e,t),unlockCellGroup:g(e,t),lockDu:h(e,t),unlockDu:m(e,t),goToPeDu:y(e,n),unlockVduCell:f(e,t),lockVduCell:b(e,t)}}},48002:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var i=n(40165);const o=["name","cellName","duName","nrCellIdentity","physicalLayerCellID","type","nrarfcn","nrarfcnDl","nrarfcnUl","nrDuId","cellGroupId","technology","operationalState"];var s=n(13342),a=n(70593);function r(e,t,n){return e.filter(e=>function(e,t){return!t||(0,a.q)("nrcell",/nrcell-/,t,e.basicCell.name)}(e,t[s.q.BY_NRCELL_ID])&&function(e,t){return!t||!!e.basicCell.cellName&&e.basicCell.cellName.toLowerCase().includes(t.toLowerCase())}(e,t[s.q.BY_CELL_NAME])&&function(e,t){return!t||(0,a.q)("nrdu",/nrdu-/,t,e.duName)}(e,t[s.q.BY_SERVING_DU_ID])&&function(e,t){return!t.length||t.some(t=>e.basicCell.operationalState===t)}(e,t[s.q.BY_OPERATIONAL_STATE])&&function(e,t){return!t.length||t.some(t=>e.basicCell.administrativeState===t)}(e,t[s.q.BY_ADMINISTRATIVE_STATE])&&function(e,t){return!t||function(e,t){return!!(0,i.flow)((0,i.pick)(o),i.values,(0,i.find)(e=>!!e&&e.toLowerCase().includes(t.toLowerCase())))(Object.assign(Object.assign({},e),e.basicCell))||t.toLowerCase()===e.basicCell.administrativeState.toLowerCase()}(e,t.trim())}(e,n))}},89251:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});const i={nrDuId:"Du id",id:"Id",nrCellIdentity:"NR cell identity",cellGroupId:"Cell group",type:"Cell type",name:"Name",cellName:"Cell name",administrativeState:"Administrative state",physicalLayerCellID:"PCI",nrarfcn:"NRARFCN",operationalState:"Operational state",duName:"Serving DU ID",actions:"Actions",technology:"Cell technology",nrarfcnDl:"NRARFCN DL",nrarfcnUl:"NRARFCN UL",blockingState:"Blocking state",barringStatus:"Barring status"}},69484:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var i=n(12057),o=n(46763),s=n(74788);let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,o.U]]}),e})()},60698:(e,t,n)=>{"use strict";n.d(t,{h:()=>Y});var i=n(18891),o=n(9112),s=n(23815),a=n(62800),r=n(50730);const l=(0,a.ZF)(r.QS),c=(0,a.P1)(l,e=>{var t;return null===(t=e.runtime)||void 0===t?void 0:t.parameters}),d=(0,a.P1)(l,e=>{var t;return null===(t=e.config)||void 0===t?void 0:t.parameters}),u=(0,a.P1)(l,e=>{var t;return null===(t=e.runtime)||void 0===t?void 0:t.distName}),p=(0,a.P1)(l,e=>{var t;return null===(t=e.config)||void 0===t?void 0:t.distName}),g=(0,a.P1)(l,e=>e.fetchInProgress),h=(0,a.P1)(l,e=>e.errorMessage);var m=n(98149),f=n(15257),b=n(527),C=n(74788),v=n(7067),y=n(33752),S=n(12057),P=n(88361),O=n(5913),x=n(24751),w=n(99287);function A(e,t){if(1&e&&(C.TgZ(0,"div"),C.TgZ(1,"div",5),C._uU(2),C.qZA(),C.TgZ(3,"div"),C._uU(4),C.qZA(),C.qZA()),2&e){const e=C.oxw();C.xp6(2),C.Oqu(e.getObjectName(e.selectedObject)),C.xp6(2),C.Oqu(e.selectedObject)}}function _(e,t){if(1&e&&(C.TgZ(0,"span",7),C._uU(1),C.qZA()),2&e){const e=t.$implicit;C.s9C("pTooltip",e.value),C.Q6J("showDelay",300),C.xp6(1),C.hij(" ",e.label," ")}}function T(e,t){if(1&e){const e=C.EpF();C.TgZ(0,"p-selectButton",6),C.NdJ("onChange",function(t){return C.CHM(e),C.oxw().selectNewObject(t.value)})("ngModelChange",function(t){return C.CHM(e),C.oxw().selectedObject=t}),C.YNc(1,_,2,3,"ng-template"),C.qZA()}if(2&e){const e=C.oxw();C.Q6J("options",e.allObjects)("ngModel",e.selectedObject)}}let I=(()=>{class e{constructor(){this.distNames=[],this.buttonsDisabled=!1,this.expanded=new C.vpe,this.collapsed=new C.vpe,this.objectSelected=new C.vpe,this.expandButtonModel={title:"Expand All",icon:"mdi mdi-arrow-expand",theme:y.b.Secondary},this.collapseButtonModel={title:"Collapse All",icon:"mdi mdi-arrow-collapse",theme:y.b.Secondary},this.buttonOptions={forceWidth:"32px"}}ngOnInit(){this.createMenuObjects()}ngOnChanges(){this.createMenuObjects()}onExpand(){this.buttonsDisabled||this.expanded.emit()}onCollapse(){this.buttonsDisabled||this.collapsed.emit()}selectNewObject(e){this.selectedObject=e,this.objectSelected.emit(e)}getObjectName(e){const t=e.split("/");return t[t.length-1]}createMenuObjects(){this.allObjects=this.distNames.map(e=>({value:e,label:this.getObjectName(e)})),this.selectedObject=this.allObjects[0]?this.allObjects[0].value:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["ui-webem-choose-object-menu"]],inputs:{distNames:"distNames",buttonsDisabled:"buttonsDisabled"},outputs:{expanded:"expanded",collapsed:"collapsed",objectSelected:"objectSelected"},features:[C.TTD],decls:6,vars:8,consts:[[1,"select-object-menu"],[4,"ngIf"],["class","select-object-buttons",3,"options","ngModel","onChange","ngModelChange",4,"ngIf"],[1,"expand-collapse-buttons"],[3,"model","disabled","options","action"],[1,"object-name"],[1,"select-object-buttons",3,"options","ngModel","onChange","ngModelChange"],["positionStyle","fixed","tooltipPosition","top","tooltipStyleClass","object-button-tooltip",1,"p-button-label","ui-clickable",3,"pTooltip","showDelay"]],template:function(e,t){1&e&&(C.TgZ(0,"div",0),C.YNc(1,A,5,2,"div",1),C.YNc(2,T,2,2,"p-selectButton",2),C.TgZ(3,"div",3),C.TgZ(4,"ui-webem-button",4),C.NdJ("action",function(){return t.onExpand()}),C.qZA(),C.TgZ(5,"ui-webem-button",4),C.NdJ("action",function(){return t.onCollapse()}),C.qZA(),C.qZA(),C.qZA()),2&e&&(C.xp6(1),C.Q6J("ngIf",1===t.distNames.length),C.xp6(1),C.Q6J("ngIf",t.distNames.length>1),C.xp6(2),C.Q6J("model",t.expandButtonModel)("disabled",t.buttonsDisabled)("options",t.buttonOptions),C.xp6(1),C.Q6J("model",t.collapseButtonModel)("disabled",t.buttonsDisabled)("options",t.buttonOptions))},directives:[S.O5,P.r,O.UN,x.JJ,x.On,w.u],styles:[".select-object-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.expand-collapse-buttons[_ngcontent-%COMP%]{display:flex}.expand-collapse-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:5px}.expand-collapse-buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:disabled{cursor:default}.object-name[_ngcontent-%COMP%]{font-weight:700;font-size:13px}.select-object-buttons[_ngcontent-%COMP%]     .p-selectbutton .p-button{width:100px}  .object-button-tooltip.p-tooltip{max-width:unset}  .object-button-tooltip.p-tooltip .p-tooltip-arrow{margin:0;border-width:0}  .object-button-tooltip.p-tooltip .p-tooltip-text{font-size:10px;background-color:#fff;color:#4d5766;border-radius:0;padding:5px 8px}"]}),e})();var E=n(40339),M=n(23930);const k=20;let N=(()=>{class e{constructor(){this.currentId=0}getId(){return this.currentId+=1,this.currentId}nodeToTreeNode(e,t=0){const n=e.parameterType,i=t*k,o=236-t*k;return n===M.r.Simple?this.transformSimpleNode(e,i,o):n===M.r.SimpleList?this.transformListNode(e,i,o,t):n===M.r.Complex?this.transformComplexNode(e,i,o,t):{}}transformSimpleNode(e,t,n){var i,o,s;return{nodeId:this.getId(),name:null===(i=e.simpleParameter)||void 0===i?void 0:i.name,fullName:null===(o=e.simpleParameter)||void 0===o?void 0:o.fullName,value:null===(s=e.simpleParameter)||void 0===s?void 0:s.value,paddingLeft:t,nameWidth:n}}transformListNode(e,t,n,i){var o,s,a;const r=i+1;return{nodeId:this.getId(),fullName:null===(o=e.simpleListParameter)||void 0===o?void 0:o.fullName,name:null===(s=e.simpleListParameter)||void 0===s?void 0:s.name,paddingLeft:t,nameWidth:n,children:null===(a=e.simpleListParameter)||void 0===a?void 0:a.value.map((e,t)=>({nodeId:this.getId(),name:t,value:e,paddingLeft:r*k,nameWidth:236-r*k}))}}transformComplexNode(e,t,n,i){var o,s;const a=i+1,r=i+2,l=(e.complexParameter&&e.complexParameter.value||[]).map((e,t)=>{const n=(e.structureParameters||[]).map(e=>this.nodeToTreeNode(e,r));return{nodeId:this.getId(),name:t,children:n,paddingLeft:a*k,nameWidth:236-a*k}});return{nodeId:this.getId(),fullName:null===(o=e.complexParameter)||void 0===o?void 0:o.fullName,name:null===(s=e.complexParameter)||void 0===s?void 0:s.name,children:l,paddingLeft:t,nameWidth:n}}transform(e){return e&&e.map(e=>this.nodeToTreeNode(e))||[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=C.Yjl({name:"parameterContainerToTreeModel",type:e,pure:!0}),e})();var L=n(49201);const D=["tree"];function Z(e,t){if(1&e&&C._UZ(0,"tree-node-expander",8),2&e){const e=C.oxw().$implicit;C.Q6J("node",e)}}function R(e,t){if(1&e&&(C.TgZ(0,"span",9),C._uU(1),C.ALo(2,"nullableValue"),C.qZA()),2&e){const e=C.oxw().$implicit;C.s9C("pTooltip",e.data.value),C.Q6J("showDelay",300),C.xp6(1),C.hij(" ",C.lcZ(2,3,e.data.value)," ")}}const U=function(e){return{"padding-left.px":e}},F=function(e){return{"width.px":e}};function j(e,t){if(1&e){const e=C.EpF();C.TgZ(0,"div",3),C.YNc(1,Z,1,1,"tree-node-expander",4),C.TgZ(2,"div",5),C.NdJ("click",function(t){return C.CHM(e).$implicit.mouseAction("click",t)})("dblclick",function(t){return C.CHM(e).$implicit.mouseAction("dblClick",t)})("contextmenu",function(t){return C.CHM(e).$implicit.mouseAction("contextMenu",t)})("treeDrop",function(t){return C.CHM(e).$implicit.onDrop(t)}),C.TgZ(3,"span",6),C._uU(4),C.qZA(),C.YNc(5,R,3,5,"span",7),C.qZA(),C.qZA()}if(2&e){const e=t.$implicit;C.Q6J("ngStyle",C.VKq(16,U,e.data.paddingLeft)),C.xp6(1),C.Q6J("ngIf",e.data.children),C.xp6(1),C.Udp("padding-left",e.getNodePadding()),C.ekj("node-content-wrapper-active",e.isActive)("node-content-wrapper-focused",e.isFocused),C.Q6J("treeAllowDrop",e.allowDrop)("treeDrag",e)("treeDragEnabled",!1),C.xp6(1),C.s9C("pTooltip",e.data.fullName?e.data.fullName+" / "+e.data.name:e.data.name),C.Q6J("ngStyle",C.VKq(18,F,e.data.nameWidth))("showDelay",300),C.xp6(1),C.hij(" ",e.data.fullName?e.data.fullName:e.data.name," "),C.xp6(1),C.Q6J("ngIf",!e.data.children)}}let $=(()=>{class e{constructor(){this.treeElement=new C.vpe,this.updateDataEvent=new C.vpe,this.options={idField:"nodeId",nodeHeight:20,actionMapping:{mouse:{click:(e,t,n)=>{t.hasChildren&&E.iM.TOGGLE_EXPANDED(e,t,n)}}}}}onUpdateData(){this.updateDataEvent.emit()}ngAfterViewInit(){this.treeElement.emit(this.treeComponent)}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["ui-webem-parameters-tree"]],viewQuery:function(e,t){if(1&e&&C.Gf(D,5),2&e){let e;C.iGM(e=C.CRH())&&(t.treeComponent=e.first)}},inputs:{nodes:"nodes"},outputs:{treeElement:"treeElement",updateDataEvent:"updateDataEvent"},decls:5,vars:4,consts:[[3,"options","nodes","updateData"],["tree",""],["treeNodeWrapperTemplate",""],[1,"node-wrapper",3,"ngStyle"],[3,"node",4,"ngIf"],[1,"node-content-wrapper",3,"treeAllowDrop","treeDrag","treeDragEnabled","click","dblclick","contextmenu","treeDrop"],["tooltipPosition","top","tooltipStyleClass","parameter-tooltip",1,"parameter-name",3,"ngStyle","pTooltip","showDelay"],["class","parameter-value","tooltipPosition","top","tooltipStyleClass","parameter-tooltip",3,"pTooltip","showDelay",4,"ngIf"],[3,"node"],["tooltipPosition","top","tooltipStyleClass","parameter-tooltip",1,"parameter-value",3,"pTooltip","showDelay"]],template:function(e,t){1&e&&(C.TgZ(0,"tree-root",0,1),C.NdJ("updateData",function(){return t.onUpdateData()}),C.ALo(2,"parameterContainerToTreeModel"),C.YNc(3,j,6,20,"ng-template",null,2,C.W1O),C.qZA()),2&e&&C.Q6J("options",t.options)("nodes",C.lcZ(2,2,t.nodes))},directives:[E.qr,S.PC,S.O5,E.O2,E.Vh,w.u,E.kj],pipes:[N,L.c],styles:['@charset "UTF-8";[_nghost-%COMP%]{font-size:11px;color:#1b1b1b}.parameter-name[_ngcontent-%COMP%]{display:inline-block}.parameter-name[_ngcontent-%COMP%], .parameter-value[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.parameter-value[_ngcontent-%COMP%]{width:54px;text-align:left}  .parameter-tooltip.p-tooltip{max-width:unset}  .parameter-tooltip.p-tooltip .p-tooltip-arrow{margin:0;border-width:0}  .parameter-tooltip.p-tooltip .p-tooltip-text{background-color:#fff;color:#4d5766;font-size:10px;border-radius:0;padding:5px 8px;white-space:pre}  tree-viewport{overflow-x:hidden}  tree-node-wrapper{display:block}  .node-wrapper{align-items:center;border-bottom:1px solid #bec8d2;cursor:default}  .node-content-wrapper{display:flex;padding:4px 5px;width:100%;justify-content:space-between}  .node-content-wrapper:hover{background:none;box-shadow:none}  .node-content-wrapper-active.node-content-wrapper-focused,   .node-content-wrapper.node-content-wrapper-active:hover{background:none;box-shadow:none}  .tree-children{padding-left:0}  tree-node{display:block}  tree-node-drop-slot{display:none}  tree-node-expander{width:11px;cursor:pointer}  tree-node-expander >.toggle-children-wrapper{font-family:Material Design Icons,monospace;font-size:21px;line-height:1em;padding:0}  tree-node-expander >.toggle-children-wrapper .toggle-children{transform:none;background-image:none;width:auto;height:auto;display:inherit;position:inherit;top:0;margin-right:-4px;margin-left:-6px}  tree-node-expander >.toggle-children-wrapper.toggle-children-wrapper-collapsed>.toggle-children:before{content:"\uf35f"}  tree-node-expander >.toggle-children-wrapper.toggle-children-wrapper-expanded>.toggle-children:before{content:"\uf35d"}']}),e})();var q=n(43286);function B(e,t){if(1&e){const e=C.EpF();C.TgZ(0,"div",6),C.TgZ(1,"ui-webem-parameters-tree",7),C.NdJ("treeElement",function(t){return C.CHM(e),C.oxw().handleTreeObject(t)})("updateDataEvent",function(){return C.CHM(e),C.oxw().handleUpdateData()}),C.ALo(2,"async"),C.qZA(),C.qZA()}if(2&e){const e=C.oxw();C.xp6(1),C.Q6J("nodes",C.lcZ(2,1,e.parameters))}}function G(e,t){1&e&&C._UZ(0,"ui-webem-spinner",8)}function V(e,t){if(1&e&&(C.TgZ(0,"div",9),C._UZ(1,"i",10),C._uU(2),C.qZA()),2&e){const e=t.ngIf;C.xp6(2),C.hij("",e,"\n")}}let Y=(()=>{class e{constructor(e,t){this.store=e,this.changeDetector=t,this.errorMessage=this.store.select(h),this.configParameters=this.store.select(d),this.runtimeParameters=this.store.select(c),this.fetchInProgress=this.store.select(g),this.distNamesForMenu=[],this.areAllChildrenNodeHidden=!0,this.searchKey=""}collapsed(){this.treeObject.treeModel.collapseAll()}searchBy(e){this.searchKey=e,this.filterFn(!0)}handleTreeObject(e){this.treeObject=e,this.filterFn(!1),this.changeDetector.detectChanges()}handleUpdateData(){this.filterFn(!1),this.changeDetector.detectChanges()}expanded(){this.treeObject.treeModel.expandAll()}filterFn(e){(e||this.searchKey)&&this.treeObject.treeModel.filterNodes(e=>(0,b.fb)(this.searchKey,e.data)),this.areAllChildrenNodeHidden=this.getAllChildrenNodeHidden(this.treeObject.treeModel)}getAllChildrenNodeHidden(e){return e.nodes.filter(e=>e.children&&e.children.length).every(t=>e.hiddenNodeIds[t.nodeId])}objectSelected(e){this.validateParameters(e)}ngOnInit(){this.updateDistNamesForMenu()}ngOnChanges(){this.updateDistNamesForMenu(),this.fetchParametersIfOutdated(),this.parameters=this.distNames&&this.distNames.config?this.configParameters:this.runtimeParameters}ngOnDestroy(){this.parameters=new i.y}updateDistNamesForMenu(){this.distNames&&(this.distNamesForMenu=(0,s.compact)([this.distNames.config,this.distNames.runtime]))}validateParameters(e){this.parameters=e.includes("_R-")?this.runtimeParameters:this.configParameters}fetchParametersIfOutdated(){(0,o.aj)([this.store.select(u),this.store.select(p)]).pipe((0,f.q)(1)).subscribe(([e,t])=>{this.distNames&&(e===this.distNames.runtime&&t===this.distNames.config||this.store.dispatch((0,m.Z5)({configDistName:this.distNames.config,runtimeDistName:this.distNames.runtime})))})}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(a.yh),C.Y36(C.sBO))},e.\u0275cmp=C.Xpm({type:e,selectors:[["status-shared-details-panel-parameters"]],inputs:{distNames:"distNames"},features:[C.TTD],decls:14,vars:22,consts:[["id","rmod-details",3,"disabled","valueChange"],[1,"operation-buttons"],[3,"distNames","buttonsDisabled","objectSelected","expanded","collapsed"],["class","parameters-tree",4,"ngIf"],["class","no-parameters-spinner","id","no-parameters-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"parameters-tree"],[3,"nodes","treeElement","updateDataEvent"],["id","no-parameters-spinner",1,"no-parameters-spinner"],[1,"error-message"],[1,"mdi","mdi-alert","error-icon"]],template:function(e,t){1&e&&(C.TgZ(0,"ui-webem-filter-input",0),C.NdJ("valueChange",function(e){return t.searchBy(e)}),C.ALo(1,"async"),C.ALo(2,"async"),C.qZA(),C.TgZ(3,"div",1),C.TgZ(4,"ui-webem-choose-object-menu",2),C.NdJ("objectSelected",function(e){return t.objectSelected(e)})("expanded",function(){return t.expanded()})("collapsed",function(){return t.collapsed()}),C.ALo(5,"async"),C.ALo(6,"async"),C.qZA(),C.qZA(),C.YNc(7,B,3,3,"div",3),C.ALo(8,"async"),C.ALo(9,"async"),C.YNc(10,G,1,0,"ui-webem-spinner",4),C.ALo(11,"async"),C.YNc(12,V,3,1,"div",5),C.ALo(13,"async")),2&e&&(C.Q6J("disabled",C.lcZ(1,6,t.fetchInProgress)||!!C.lcZ(2,8,t.errorMessage)),C.xp6(4),C.Q6J("distNames",t.distNamesForMenu)("buttonsDisabled",C.lcZ(5,10,t.fetchInProgress)||!!C.lcZ(6,12,t.errorMessage)||t.areAllChildrenNodeHidden),C.xp6(3),C.Q6J("ngIf",!C.lcZ(8,14,t.fetchInProgress)&&!C.lcZ(9,16,t.errorMessage)),C.xp6(3),C.Q6J("ngIf",C.lcZ(11,18,t.fetchInProgress)),C.xp6(2),C.Q6J("ngIf",C.lcZ(13,20,t.errorMessage)))},directives:[v.T,I,S.O5,$,q.O],pipes:[S.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto}.parameters-tree[_ngcontent-%COMP%]{margin-top:20px;overflow-y:auto;height:100%}#rmod-details[_ngcontent-%COMP%]{margin:10px 0}.no-parameters-spinner[_ngcontent-%COMP%]{align-self:center;flex:1 1 auto;display:flex;flex-direction:row}.error-message[_ngcontent-%COMP%]{margin-top:15px;margin-left:5px;font-size:14px;color:#98a2ae}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:10px;color:#da1914;font-size:20px}"]}),e})()},47712:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var i=n(16661),o=n(92748),s=n(34306),a=n(79196),r=n(74788),l=n(56964);let c=(()=>{class e extends o.O{constructor(e,t){super(t),this.vnfcSharedService=e,this.vduEntries=[i.r.vduProperties,i.r.vduSiteView,i.r.radioModulesStatus,i.r.vduCellsStatus,i.r.infrastructureStatus,i.r.aldStatus,i.r.networkSlicingStatus],this.cuEntries=[i.r.cuProperties,i.r.dusStatus,i.r.cellsStatus,i.r.cellsMapping,i.r.vnfcStatus,i.r.x2LinksStatus]}ngOnInit(){this.setMenuItemsMap([...this.getShouldShowEntries()])}getShouldShowEntries(){return this.vnfcSharedService.isVdu()?this.vduEntries:this.vnfcSharedService.isVcu()?[...this.cuEntries,i.r.xnLinksStatus,i.r.ngLinksStatus,i.r.networkSlicingStatus]:this.cuEntries}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(s.Z9),r.Y36(a.f))},e.\u0275cmp=r.Xpm({type:e,selectors:[["status-shared-status-submenu"]],features:[r.qOj],decls:1,vars:1,consts:[[3,"menuItemsMap"]],template:function(e,t){1&e&&r._UZ(0,"ui-webem-submenu",0),2&e&&r.Q6J("menuItemsMap",t.menuItemsMap)},directives:[l._],encapsulation:2}),e})()},74952:(e,t,n)=>{"use strict";n.d(t,{E:()=>H});var i=n(74788),o=n(79765),s=n(26215),a=n(25917),r=n(91849),l=n(65792),c=n(46782),d=n(94612),u=n(44761),p=n(8701),g=n(65044),h=n(62800),m=n(12057),f=n(39088),b=n(45740),C=n(22078),v=n(14982),y=n(34032),S=n(42577),P=n(97180),O=n(36628),x=n(72689),w=n(43286);function A(e,t){if(1&e&&i._UZ(0,"status-shared-toolbar-content-filter",9),2&e){const e=i.oxw();i.Q6J("model",e.model.configure)("displayNarrow",e.displayNarrow)}}function _(e,t){if(1&e&&i._UZ(0,"status-shared-toolbar-value-filter",9),2&e){const e=i.oxw();i.Q6J("model",e.model.filter)("displayNarrow",e.displayNarrow)}}function T(e,t){if(1&e&&i._UZ(0,"status-shared-toolbar-sorter",9),2&e){const e=i.oxw();i.Q6J("model",e.model.sort)("displayNarrow",e.displayNarrow)}}function I(e,t){if(1&e&&(i.ynx(0),i._UZ(1,"status-shared-toolbar-group-by",10),i.BQk()),2&e){const e=t.ngIf,n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model.groupBy)("selectedView",e)("displayNarrow",n.displayNarrow)}}function E(e,t){if(1&e&&(i.ynx(0),i.YNc(1,I,2,3,"ng-container",2),i.ALo(2,"async"),i.BQk()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,e.selectedView$))}}function M(e,t){1&e&&i._UZ(0,"ui-webem-vertical-html-line",5)}function k(e,t){if(1&e&&i._UZ(0,"status-shared-toolbar-reset-filters",9),2&e){const e=i.oxw();i.Q6J("model",e.model.reset)("displayNarrow",e.displayNarrow)}}function N(e,t){if(1&e&&i._UZ(0,"status-shared-view-toggle",11),2&e){const e=i.oxw();i.Q6J("model",e.model.toggle)("displayNarrow",e.displayNarrow)}}function L(e,t){if(1&e&&i._UZ(0,"status-shared-toolbar-export-button",9),2&e){const e=i.oxw();i.Q6J("model",e.model.export)("displayNarrow",e.displayNarrow)}}function D(e,t){if(1&e&&i._UZ(0,"status-shared-toolbar-text-search",12),2&e){const e=i.oxw();i.Q6J("model",e.model.freeSearch)}}function Z(e,t){1&e&&i.GkF(0)}const R=function(e){return{"operations-view-table":e}},U=function(e,t,n,i,o){return{data:e,configuration:t,configurationForSubTile:n,selected:i,getElementId:o}},F=function(e){return{model:e}},j=function(e){return{$implicit:e}};function $(e,t){if(1&e&&(i.ynx(0),i.TgZ(1,"div",14),i.YNc(2,Z,1,0,"ng-container",15),i.qZA(),i.BQk()),2&e){const e=i.oxw(2).ngIf,t=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(3,R,e.selectedView===t.ViewType.TABLE)),i.xp6(1),i.Q6J("ngTemplateOutlet",e.selectedView===t.ViewType.TILE?t.tileGridComponent:t.tableComponent)("ngTemplateOutletContext",i.VKq(13,j,i.VKq(11,F,i.qbA(5,U,t.allObjects$,e.configuration,e.configurationForSubTile,e.selectedElement,t.getElementId))))}}function q(e,t){if(1&e&&(i.ynx(0),i.YNc(1,$,3,15,"ng-container",13),i.BQk()),2&e){const e=i.oxw().ngIf;i.oxw();const t=i.MAs(22);i.xp6(1),i.Q6J("ngIf",e&&e.allObjects&&0!==e.allObjects.length)("ngIfElse",t)}}function B(e,t){if(1&e&&(i.ynx(0),i.YNc(1,q,2,2,"ng-container",13),i.BQk()),2&e){const e=t.ngIf,n=i.oxw(),o=i.MAs(20);i.xp6(1),i.Q6J("ngIf",n.useLoadingSpinner?!e.isLoading:!e.isFetching)("ngIfElse",o)}}function G(e,t){1&e&&i._UZ(0,"ui-webem-spinner",16)}function V(e,t){1&e&&i.GkF(0)}function Y(e,t){if(1&e&&i.YNc(0,V,1,0,"ng-container",17),2&e){const e=i.oxw();i.Q6J("ngTemplateOutlet",e.emptyDataComponent)}}const J=function(e,t,n,i,o,s,a){return{configuration:e,configurationForSubTile:t,selectedElement:n,allObjects:i,selectedView:o,isLoading:s,isFetching:a}};let H=(()=>{class e{constructor(e,t,n){this.store=e,this.operationViewRef=t,this.cdr=n,this.ViewType=r.b,this.ngUnsubscribe$=new o.xQ,this.isFetching$=new s.X(!0),this.toolbarWidth=0,this.NARROW_TOOLBAR_BREAKPOINT=1015}ngOnInit(){this.allObjects$=this.model.getDataSource(this.store).pipe((0,l.g)(0)),this.selected$=this.model.getSelected(this.store),this.configuration$=this.model.getConfiguration(this.store),this.getElementId=this.model.getElementId,this.model.getConfigurationForSubTile&&(this.configurationForSubTile$=this.model.getConfigurationForSubTile(this.store)),this.model.isFetchingData?this.model.isFetchingData(this.store).pipe((0,c.R)(this.ngUnsubscribe$),(0,l.g)(0)).subscribe(e=>{this.isFetching$.next(e)}):this.isFetching$.next(!1),this.isLoading$=this.model.isLoadingVnfcsData&&this.model.isLoadingVnfcsData(this.store),this.selectedView$=(0,a.of)({}).pipe((0,d.b)(()=>this.model.toggle?this.model.toggle.getDataSource(this.store):(0,a.of)(r.b.TILE))),this.model.startPolling(this.store)}ngAfterViewInit(){this.cdr.detectChanges()}ngAfterViewChecked(){const e=this.operationViewRef.nativeElement.offsetWidth;this.toolbarWidth!==e&&setTimeout(()=>{this.toolbarWidth=e,this.displayNarrow=this.toolbarWidth<this.NARROW_TOOLBAR_BREAKPOINT})}ngOnDestroy(){this.model.stopPolling(this.store),this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(h.yh),i.Y36(i.SBq),i.Y36(i.sBO))},e.\u0275cmp=i.Xpm({type:e,selectors:[["status-shared-operations-view"]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,u.j,7,i.Rgc),i.Suo(n,p.a,7,i.Rgc),i.Suo(n,g.Z,7,i.Rgc)),2&e){let e;i.iGM(e=i.CRH())&&(t.tileGridComponent=e.first),i.iGM(e=i.CRH())&&(t.tableComponent=e.first),i.iGM(e=i.CRH())&&(t.emptyDataComponent=e.first)}},inputs:{model:"model",useLoadingSpinner:"useLoadingSpinner"},decls:23,vars:32,consts:[[1,"toolbar"],[3,"model","displayNarrow",4,"ngIf"],[4,"ngIf"],["class","vertical-line",4,"ngIf"],["class","toogle-button",3,"model","displayNarrow",4,"ngIf"],[1,"vertical-line"],["id","status-shared-toolbar-text-search",3,"model",4,"ngIf"],["fetchingData",""],["noData",""],[3,"model","displayNarrow"],[3,"model","selectedView","displayNarrow"],[1,"toogle-button",3,"model","displayNarrow"],["id","status-shared-toolbar-text-search",3,"model"],[4,"ngIf","ngIfElse"],[1,"operations-view-container",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"data-loading-spinner"],[4,"ngTemplateOutlet"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,A,1,2,"status-shared-toolbar-content-filter",1),i.YNc(2,_,1,2,"status-shared-toolbar-value-filter",1),i.YNc(3,T,1,2,"status-shared-toolbar-sorter",1),i.YNc(4,E,3,3,"ng-container",2),i.YNc(5,M,1,0,"ui-webem-vertical-html-line",3),i.YNc(6,k,1,2,"status-shared-toolbar-reset-filters",1),i.YNc(7,N,1,2,"status-shared-view-toggle",4),i._UZ(8,"ui-webem-vertical-html-line",5),i.YNc(9,L,1,2,"status-shared-toolbar-export-button",1),i.YNc(10,D,1,1,"status-shared-toolbar-text-search",6),i.qZA(),i.YNc(11,B,2,2,"ng-container",2),i.ALo(12,"async"),i.ALo(13,"async"),i.ALo(14,"async"),i.ALo(15,"async"),i.ALo(16,"async"),i.ALo(17,"async"),i.ALo(18,"async"),i.YNc(19,G,1,0,"ng-template",null,7,i.W1O),i.YNc(21,Y,1,1,"ng-template",null,8,i.W1O)),2&e&&(i.xp6(1),i.Q6J("ngIf",t.model.configure),i.xp6(1),i.Q6J("ngIf",t.model.filter),i.xp6(1),i.Q6J("ngIf",t.model.sort),i.xp6(1),i.Q6J("ngIf",t.model.groupBy),i.xp6(1),i.Q6J("ngIf",t.model.configure||t.model.filter||t.model.sort||t.model.groupBy),i.xp6(1),i.Q6J("ngIf",t.model.reset),i.xp6(1),i.Q6J("ngIf",t.model.toggle),i.xp6(2),i.Q6J("ngIf",t.model.export),i.xp6(1),i.Q6J("ngIf",t.model.freeSearch),i.xp6(1),i.Q6J("ngIf",i.Hh0(24,J,i.lcZ(12,10,t.configuration$),i.lcZ(13,12,t.configurationForSubTile$),i.lcZ(14,14,t.selected$),i.lcZ(15,16,t.allObjects$),i.lcZ(16,18,t.selectedView$),i.lcZ(17,20,t.isLoading$),i.lcZ(18,22,t.isFetching$))))},directives:[m.O5,f.y,b.x,C.I,v.H,y.c,S.a,P.O,O.H,x.G,m.mk,m.tP,w.O],pipes:[m.Ov],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:35px auto;height:100%}.operations-view-container[_ngcontent-%COMP%]{overflow:auto;width:100%}.toolbar[_ngcontent-%COMP%]{display:flex;flex-flow:row;height:35px;align-items:center;border-bottom:1px solid #ccc;padding-bottom:10px;padding-top:1px;width:100%}.toolbar[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]{height:36px;padding-left:7px;padding-right:7px}.toolbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:5px}#status-shared-toolbar-text-search[_ngcontent-%COMP%]{margin-right:5px}"]}),e})()},55995:(e,t,n)=>{"use strict";n.d(t,{P:()=>h});var i=n(74788),o=n(23815),s=n(63788),a=n(12057),r=n(43286);function l(e,t){1&e&&i.GkF(0)}const c=function(e,t,n,i,o){return{data:e,configuration:t,selected:n,selectedTile:i,configurationForSubTile:o}},d=function(e){return{$implicit:e}};function u(e,t){if(1&e&&(i.TgZ(0,"span",4),i.YNc(1,l,1,0,"ng-container",5),i.qZA()),2&e){const e=t.$implicit,n=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",n.tileComponent)("ngTemplateOutletContext",i.VKq(8,d,i.qbA(2,c,e,n.model.configuration,n.model.selected===n.model.getElementId(e)||(null==n.model.selected?null:n.model.selected.id)===n.model.getElementId(e),n.model.selected,n.model.configurationForSubTile)))}}function p(e,t){if(1&e&&(i.TgZ(0,"div",2),i.YNc(1,u,2,10,"span",3),i.qZA()),2&e){const e=t.ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngForOf",e)("ngForTrackBy",n.trackBy)}}function g(e,t){1&e&&i._UZ(0,"ui-webem-spinner",6)}let h=(()=>{class e{constructor(){this.trackByPath="id"}trackBy(e,t){return(0,o.get)(t,this.trackByPath)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["status-shared-tile-grid"]],contentQueries:function(e,t,n){if(1&e&&i.Suo(n,s.E,7,i.Rgc),2&e){let e;i.iGM(e=i.CRH())&&(t.tileComponent=e.first)}},inputs:{model:"model",trackByPath:"trackByPath"},decls:4,vars:4,consts:[["class","tiles-view-container",4,"ngIf","ngIfElse"],["loadingSpinner",""],[1,"tiles-view-container"],["class","tile-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tile-item"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"data-loading-spinner"]],template:function(e,t){if(1&e&&(i.YNc(0,p,2,2,"div",0),i.ALo(1,"async"),i.YNc(2,g,1,0,"ng-template",null,1,i.W1O)),2&e){const e=i.MAs(3);i.Q6J("ngIf",i.lcZ(1,2,t.model.data))("ngIfElse",e)}},directives:[a.O5,a.sg,a.tP,r.O],pipes:[a.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-flow:row wrap;align-content:flex-start;width:100%;height:100%}.tiles-view-container[_ngcontent-%COMP%]{padding-top:10px;display:flex;flex-flow:row;flex-wrap:wrap;align-content:flex-start}.tiles-view-container[_ngcontent-%COMP%]   .tile-item[_ngcontent-%COMP%]{margin:0 24px 12px 0}"],changeDetection:0}),e})()},65159:(e,t,n)=>{"use strict";n.d(t,{h:()=>m});var i=n(74788),o=n(18390),s=n(23815),a=n(63788),r=n(12057),l=n(43286);const c=["scroll"];function d(e,t){1&e&&i.GkF(0)}const u=function(e,t,n){return{data:e,configuration:t,selected:n}},p=function(e){return{$implicit:e}};function g(e,t){if(1&e&&(i.TgZ(0,"div",4),i.YNc(1,d,1,0,"ng-container",5),i.qZA()),2&e){const e=t.$implicit,n=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",n.tileComponent)("ngTemplateOutletContext",i.VKq(6,p,i.kEZ(2,u,e,n.model.configuration,n.model.selected===n.model.getElementId(e))))}}function h(e,t){1&e&&(i.ynx(0),i._UZ(1,"ui-webem-spinner",6),i.BQk())}let m=(()=>{class e{constructor(){this.trackByPath="id",this.trackBy=(e,t)=>(0,s.get)(t,this.trackByPath)}ngOnChanges(e){e.model&&(e.model.previousValue&&e.model.previousValue.configuration)!==this.model.configuration&&this.virtualScroller&&this.virtualScroller.invalidateAllCachedMeasurements()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["status-shared-virtual-tile-grid"]],contentQueries:function(e,t,n){if(1&e&&i.Suo(n,a.E,7,i.Rgc),2&e){let e;i.iGM(e=i.CRH())&&(t.tileComponent=e.first)}},viewQuery:function(e,t){if(1&e&&(i.Gf(c,5,i.SBq),i.Gf(c,5)),2&e){let e;i.iGM(e=i.CRH())&&(t.virtualScrollerRef=e.first),i.iGM(e=i.CRH())&&(t.virtualScroller=e.first)}},inputs:{model:"model",trackByPath:"trackByPath"},features:[i.TTD],decls:5,vars:10,consts:[[1,"virtual-scroll-viewport",3,"items","bufferAmount","scrollAnimationTime","enableUnequalChildrenSizes","scrollDebounceTime"],["scroll",""],["class","element-wrapper",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"element-wrapper"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"data-loading-spinner"]],template:function(e,t){if(1&e&&(i.TgZ(0,"virtual-scroller",0,1),i.ALo(2,"async"),i.YNc(3,g,2,8,"div",2),i.YNc(4,h,2,0,"ng-container",3),i.qZA()),2&e){const e=i.MAs(1);i.Q6J("items",i.lcZ(2,8,t.model.data))("bufferAmount",3)("scrollAnimationTime",0)("enableUnequalChildrenSizes",!0)("scrollDebounceTime",50),i.xp6(3),i.Q6J("ngForOf",e.viewPortItems)("ngForTrackBy",t.trackBy),i.xp6(1),i.Q6J("ngIf",!(e.viewPortItems&&e.viewPortItems.length>0))}},directives:[o.Vw,r.sg,r.O5,r.tP,l.O],pipes:[r.Ov],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%;width:100%;contain:content}.virtual-scroll-viewport[_ngcontent-%COMP%]     .scrollable-content{max-width:100%;max-height:100%}.virtual-scroll-viewport[_ngcontent-%COMP%]   .element-wrapper[_ngcontent-%COMP%]{display:inline-block;padding:5px}"],changeDetection:0}),e})()},65044:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(74788);let o=(()=>{class e{constructor(e){this.tpl=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","statusSharedEmptyData",""]]}),e})()},8701:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var i=n(74788);let o=(()=>{class e{constructor(e){this.tpl=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","statusSharedTableComponent",""]]}),e})()},44761:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var i=n(74788);let o=(()=>{class e{constructor(e){this.tpl=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","statusSharedTileGridComponent",""]]}),e})()},63788:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var i=n(74788);let o=(()=>{class e{constructor(e){this.tpl=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","statusSharedTileComponent",""]]}),e})()},94437:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var i=n(12057),o=n(60697),s=n(18390),a=(n(8701),n(44761),n(65044),n(97759)),r=(n(74952),n(65159),n(55995),n(74788));n(16458),n(63788);let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,o.q_q,a.V_,o.lFv,s.Lr,o.Fme]]}),e})()},98149:(e,t,n)=>{"use strict";n.d(t,{Z5:()=>s,Y3:()=>a,Gm:()=>r,rD:()=>l,jb:()=>c,$l:()=>d,eh:()=>u});var i=n(62800),o=(()=>(function(e){e.FetchParameters="[EFFECT] fetch parameters",e.FetchRuntimeAndConfigParameters="[EFFECT] fetch runtime and config parameters",e.SetRuntimeParameters="[EFFECT] set runtime parameters",e.SetConfigParameters="[EFFECT] set config parameters",e.FetchStarted="[EFFECT] fetch started",e.FetchSucceeded="[EFFECT] fetch succeeded",e.FetchFailed="[EFFECT] fetch failed"}(o||(o={})),o))();const s=(0,i.PH)(o.FetchParameters,(0,i.Ky)()),a=(0,i.PH)(o.FetchRuntimeAndConfigParameters,(0,i.Ky)()),r=(0,i.PH)(o.SetRuntimeParameters,(0,i.Ky)()),l=(0,i.PH)(o.SetConfigParameters,(0,i.Ky)()),c=(0,i.PH)(o.FetchStarted),d=(0,i.PH)(o.FetchSucceeded),u=(0,i.PH)(o.FetchFailed)},50730:(e,t,n)=>{"use strict";n.d(t,{QS:()=>s,I6:()=>r});var i=n(62800),o=n(98149);const s="statusDetails",a=(0,i.Lq)({runtime:null,config:null,errorMessage:null,fetchInProgress:!1},(0,i.on)(o.Gm,(e,{parameters:t,distName:n})=>Object.assign(Object.assign({},e),{runtime:{parameters:t,distName:n}})),(0,i.on)(o.rD,(e,{parameters:t,distName:n})=>Object.assign(Object.assign({},e),{config:{parameters:t,distName:n}})),(0,i.on)(o.$l,e=>Object.assign(Object.assign({},e),{fetchInProgress:!1})),(0,i.on)(o.eh,e=>Object.assign(Object.assign({},e),{errorMessage:"Could not load object parameters",fetchInProgress:!1})),(0,i.on)(o.jb,()=>({fetchInProgress:!0,errorMessage:null,config:null,runtime:null})));function r(e,t){return a(e,t)}},45740:(e,t,n)=>{"use strict";n.d(t,{x:()=>I,Y:()=>E});var i,o=n(64762),s=n(79765),a=n(41956),r=n(62800),l=n(46782),c=n(15257),d=n(13653),u=n(94185),p=n(78137),g=n(74788),h=n(12057),m=n(95319),f=n(77727),b=n(12332),C=n(24751),v=n(54152);function y(e,t){if(1&e&&(g.TgZ(0,"div",10),g._uU(1),g.qZA()),2&e){const e=g.oxw(2).$implicit;g.xp6(1),g.Oqu(e.title)}}function S(e,t){if(1&e&&(g.TgZ(0,"div",11),g._uU(1),g.qZA()),2&e){const e=g.oxw(2).$implicit;g.xp6(1),g.Oqu(e.description)}}function P(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",12),g.TgZ(1,"p-checkbox",13),g.NdJ("onChange",function(){g.CHM(e);const t=g.oxw(2).$implicit;return g.oxw(2).selectAll(t)})("ngModelChange",function(t){g.CHM(e);const n=g.oxw().ngIf,i=g.oxw().$implicit;return n.partialSelection||(i.selection=t)}),g.qZA(),g.qZA()}if(2&e){const e=g.oxw().ngIf,t=g.oxw().$implicit;g.xp6(1),g.Q6J("binary",!0)("checkboxIcon",e.partialSelection?"pi pi-minus":"pi pi-check")("ngModel",e.partialSelection||t.selection)}}function O(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.YNc(1,y,2,1,"div",5),g.YNc(2,S,2,1,"div",6),g.YNc(3,P,2,3,"div",7),g.TgZ(4,"div",8),g.TgZ(5,"ui-webem-checkbox-vertical-list",9),g.NdJ("selectionChanged",function(t){g.CHM(e);const n=g.oxw().$implicit;return g.oxw(2).onFilterChange(t,n)}),g.qZA(),g.qZA(),g.BQk()}if(2&e){const e=t.ngIf,n=g.oxw().$implicit;g.xp6(1),g.Q6J("ngIf",n.title),g.xp6(1),g.Q6J("ngIf",n.description),g.xp6(1),g.Q6J("ngIf",n.selectAllVisibility),g.xp6(2),g.Q6J("model",n.options)("selection",e.visibleParameters)}}const x=function(e,t){return{visibleParameters:e,partialSelection:t}};function w(e,t){if(1&e&&(g.TgZ(0,"div",4),g.YNc(1,O,6,5,"ng-container",0),g.ALo(2,"async"),g.ALo(3,"isPartialSelection"),g.ALo(4,"async"),g.qZA()),2&e){const e=t.$implicit;g.xp6(1),g.Q6J("ngIf",g.WLB(8,x,g.lcZ(2,1,e.visibleParameters$),g.xi3(3,3,g.lcZ(4,6,e.visibleParameters$),e.options)))}}const A=function(){return{}};function _(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"ui-webem-overlay-panel-menu-bar",1),g.TgZ(2,"div",2),g.YNc(3,w,5,11,"div",3),g.qZA(),g.qZA(),g.BQk()),2&e){const e=t.ngIf,n=g.oxw();g.xp6(1),g.ekj("not-narrow",""!==e.resizableButton.options.minWidth),g.Q6J("model",e.resizableButton.model)("options",e.resizableButton.options?e.resizableButton.options:g.DdM(6,A))("ngClass",n.buttonIndicatedClass),g.xp6(2),g.Q6J("ngForOf",n.model)}}const T=function(e){return{resizableButton:e}};let I=i=class{constructor(e){this.store=e,this.menuButton=a.hT,this.ngUnsubscribe=new s.xQ}ngOnInit(){this.synchronizeLocalStorageAndStore();for(const e of this.model)e.selectAllVisibility=!!e.selectAllInput,e.selectAllInput&&e.selectAllInput.isAllSelected(this.store).pipe((0,l.R)(this.ngUnsubscribe)).subscribe(t=>{e.selection=t}),e.getDataSource(this.store).pipe((0,l.R)(this.ngUnsubscribe)).subscribe(()=>{this.calculateIndicatorClassForContentFilter()})}onFilterChange(e,t){t.onFilterChange(e,this.store),this.saveLayoutSettingsItem(e,t.localStorageKey),t.selectAllInput&&t.selectAllInput.isAllSelected(this.store).pipe((0,c.q)(1)).subscribe(e=>{t.selection=e})}calculateIndicatorClassForContentFilter(){this.buttonIndicatedClass="";for(const e of this.model)!this.buttonIndicatedClass&&e.visibleParameters$&&e.visibleParameters$.pipe((0,c.q)(1)).subscribe(t=>{this.buttonIndicatedClass=i.getIndicatorClassForContentFilterPipe.transform(t,e.initialConfig)})}synchronizeLocalStorageAndStore(){for(const e of this.model){const t=this.getLayoutSettingsItem(e.initialConfig,e.localStorageKey);e.onFilterChange(t,this.store),e.visibleParameters$=e.getDataSource(this.store),e.visibleParameters$.pipe((0,d.T)(1),(0,l.R)(this.ngUnsubscribe)).subscribe(t=>{this.saveLayoutSettingsItem(t,e.localStorageKey)})}this.calculateIndicatorClassForContentFilter()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}selectAll(e){e.selectAllInput&&(e.selection?e.selectAllInput.selectAll(this.store):e.selectAllInput.deselectAll(this.store))}};I.getIndicatorClassForContentFilterPipe=new p.J,I.\u0275fac=function(e){return new(e||I)(g.Y36(r.yh))},I.\u0275cmp=g.Xpm({type:I,selectors:[["status-shared-toolbar-content-filter"]],inputs:{model:"model",displayNarrow:"displayNarrow"},decls:2,vars:6,consts:[[4,"ngIf"],["buttonId","configure-button",3,"model","options","ngClass"],[1,"widget-container"],["class","widget",4,"ngFor","ngForOf"],[1,"widget"],["class","title",4,"ngIf"],["class","menu-label menu-bold-label",4,"ngIf"],["class","select-all",4,"ngIf"],[1,"filter-panel"],[3,"model","selection","selectionChanged"],[1,"title"],[1,"menu-label","menu-bold-label"],[1,"select-all"],["label","Select all",3,"binary","checkboxIcon","ngModel","onChange","ngModelChange"]],template:function(e,t){1&e&&(g.YNc(0,_,4,7,"ng-container",0),g.ALo(1,"toResizableMenuButton")),2&e&&g.Q6J("ngIf",g.VKq(4,T,g.xi3(1,1,t.menuButton,t.displayNarrow)))},directives:function(){return[h.O5,m.C,h.mk,h.sg,f.A,b.XZ,C.JJ,C.On]},pipes:function(){return[v.A,h.Ov,E]},styles:["[_nghost-%COMP%]{height:26px;display:inline-block}  .not-narrow #configure-button .configuration-icon-background{top:13px}  .not-narrow #configure-button .ui-button-text{padding-left:29px}.filter-panel[_ngcontent-%COMP%]{margin-top:10px;grid-row-gap:10px;display:flex;flex-direction:column}.filter-panel[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:20px}.select-all[_ngcontent-%COMP%] + .filter-panel[_ngcontent-%COMP%]{padding-left:20px}.select-all[_ngcontent-%COMP%]{padding-top:8px}.widget-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.widget-container[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]:not(:first-child){padding-left:20px;border-left:1px solid #bec8d2}.widget-container[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]:first-child{padding-right:20px}.widget-container[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;padding-bottom:8px}.widget-container[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{white-space:nowrap;font-size:11px}.widget-container[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]   .menu-bold-label[_ngcontent-%COMP%]{font-weight:700}"]}),I=i=(0,o.gn)([(0,u.W)({name:"content-filter.component"}),(0,o.w6)("design:paramtypes",[r.yh])],I);let E=(()=>{class e{transform(e,t){return e.length>0&&e.length<this.getOptionsTotal(t)}getOptionsTotal(e){return e.reduce((e,t)=>t&&t.childOptions?e+t.childOptions.length:e,e.length)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=g.Yjl({name:"isPartialSelection",type:e,pure:!0}),e})()},36628:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var i=n(23815),o=n(41956),s=n(74788),a=n(62800),r=n(12057),l=n(88361),c=n(54152);function d(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"ui-webem-button",1),s.NdJ("action",function(){return s.CHM(e),s.oxw().export()}),s.qZA()}if(2&e){const e=t.ngIf;s.Q6J("model",e.model)("options",e.options)}}let u=(()=>{class e{constructor(e){this.store=e,this.menuButton=(0,i.cloneDeep)(o.Co)}ngOnInit(){this.alternativeButtonLabel&&(this.menuButton.model.label=this.alternativeButtonLabel)}export(){this.model.export(this.store)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.yh))},e.\u0275cmp=s.Xpm({type:e,selectors:[["status-shared-toolbar-export-button"]],inputs:{model:"model",displayNarrow:"displayNarrow",alternativeButtonLabel:"alternativeButtonLabel"},decls:2,vars:4,consts:[["id","export-button",3,"model","options","action",4,"ngIf"],["id","export-button",3,"model","options","action"]],template:function(e,t){1&e&&(s.YNc(0,d,1,2,"ui-webem-button",0),s.ALo(1,"toResizableMenuButton")),2&e&&s.Q6J("ngIf",s.xi3(1,1,t.menuButton,t.displayNarrow))},directives:[r.O5,l.r],pipes:[c.A],styles:[""]}),e})()},34032:(e,t,n)=>{"use strict";n.d(t,{c:()=>S});var i=(()=>(function(e){e.Checkbox="checkbox",e.Radio="radio"}(i||(i={})),i))(),o=n(41956),s=n(91849),a=n(74788),r=n(62800),l=n(12057),c=n(95319),d=n(77727),u=n(65986),p=n(54152),g=n(78137);function h(e,t){1&e&&a._UZ(0,"div")}function m(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",5),a.TgZ(1,"ui-webem-checkbox-vertical-list",6),a.NdJ("selectionChanged",function(t){return a.CHM(e),a.oxw(2).onGroupByChange(t)}),a.qZA(),a.qZA()}if(2&e){const e=a.oxw().ngIf,t=a.oxw();a.xp6(1),a.Q6J("model",t.model.options)("selection",e.groupBy)}}function f(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"ui-webem-radio-button-with-label",9),a.NdJ("modelChange",function(){const t=a.CHM(e).$implicit;return a.oxw(3).onGroupByChange([t.value])}),a.qZA()}if(2&e){const e=t.$implicit,n=a.oxw(2).ngIf;a.Q6J("label",e.label)("value",e.value)("model",n.groupBy[0])}}function b(e,t){if(1&e&&(a.TgZ(0,"div",7),a.YNc(1,f,1,3,"ui-webem-radio-button-with-label",8),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",e.model.options)}}const C=function(){return{}};function v(e,t){if(1&e&&(a.TgZ(0,"ui-webem-overlay-panel-menu-bar",1),a.ALo(1,"getIndicatorClassForContentFilter"),a.YNc(2,h,1,0,"div",2),a.YNc(3,m,2,2,"ng-template",null,3,a.W1O),a.YNc(5,b,2,1,"ng-template",null,4,a.W1O),a.qZA()),2&e){const e=t.ngIf,n=a.MAs(4),i=a.MAs(6),o=a.oxw();a.ekj("not-narrow",""!==e.resizableButton.options.minWidth),a.Q6J("model",e.resizableButton.model)("options",e.resizableButton.options?e.resizableButton.options:a.DdM(13,C))("description",o.model.description)("ngClass",o.selectedView===o.viewType.TABLE?"":a.xi3(1,10,e.groupBy,o.model.initialConfig))("disabled",o.selectedView===o.viewType.TABLE),a.xp6(2),a.Q6J("ngIf",o.isCheckbox())("ngIfThen",n)("ngIfElse",i)}}const y=function(e,t){return{resizableButton:e,groupBy:t}};let S=(()=>{class e{constructor(e){this.store=e,this.menuButton=o.mJ,this.viewType=s.b}ngOnInit(){this.groupBy$=this.model.getDataSource(this.store)}onGroupByChange(e){this.model.onGroupByChange(e,this.store)}isCheckbox(){var e;return!this.model.optionsType||(null===(e=this.model)||void 0===e?void 0:e.optionsType)===i.Checkbox}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.yh))},e.\u0275cmp=a.Xpm({type:e,selectors:[["status-shared-toolbar-group-by"]],inputs:{model:"model",selectedView:"selectedView",displayNarrow:"displayNarrow"},decls:3,vars:9,consts:[["buttonId","group-button",3,"model","options","description","ngClass","not-narrow","disabled",4,"ngIf"],["buttonId","group-button",3,"model","options","description","ngClass","disabled"],[4,"ngIf","ngIfThen","ngIfElse"],["checkBoxes",""],["radioButtons",""],[1,"checkbox-panel"],[3,"model","selection","selectionChanged"],[1,"radio-panel"],["groupName","group",3,"label","value","model","modelChange",4,"ngFor","ngForOf"],["groupName","group",3,"label","value","model","modelChange"]],template:function(e,t){1&e&&(a.YNc(0,v,7,14,"ui-webem-overlay-panel-menu-bar",0),a.ALo(1,"toResizableMenuButton"),a.ALo(2,"async")),2&e&&a.Q6J("ngIf",a.WLB(6,y,a.xi3(1,1,t.menuButton,t.displayNarrow),a.lcZ(2,4,t.groupBy$)))},directives:[l.O5,c.C,l.mk,d.A,l.sg,u.k],pipes:[p.A,l.Ov,g.J],styles:["[_nghost-%COMP%]{height:26px;display:inline-block}  .not-narrow #group-button .mdi-swap-vertical{left:13px}  .not-narrow #group-button .ui-button-text{padding-left:29px}  .menu-label{min-width:75px}.checkbox-panel[_ngcontent-%COMP%]{grid-row-gap:10px;display:flex;flex-direction:column;margin-top:10px}.checkbox-panel[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:20px}.radio-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column}.radio-panel[_ngcontent-%COMP%], .radio-panel[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:10px}"]}),e})()},42577:(e,t,n)=>{"use strict";n.d(t,{a:()=>d});var i=n(41956),o=n(74788),s=n(62800),a=n(12057),r=n(88361),l=n(54152);function c(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"ui-webem-button",1),o.NdJ("action",function(){return o.CHM(e),o.oxw().resetFilters()}),o.ALo(1,"async"),o.qZA()}if(2&e){const e=t.ngIf,n=o.oxw();o.Q6J("model",e.model)("options",e.options)("disabled",o.lcZ(1,3,n.areFiltersDefault$))}}let d=(()=>{class e{constructor(e){this.store=e,this.menuButton=i.St}ngOnInit(){this.areFiltersDefault$=this.model.areFiltersDefault(this.store)}resetFilters(){this.model.resetFilters(this.store)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(s.yh))},e.\u0275cmp=o.Xpm({type:e,selectors:[["status-shared-toolbar-reset-filters"]],inputs:{model:"model",displayNarrow:"displayNarrow"},decls:2,vars:4,consts:[["id","filters-reset-button",3,"model","options","disabled","action",4,"ngIf"],["id","filters-reset-button",3,"model","options","disabled","action"]],template:function(e,t){1&e&&(o.YNc(0,c,2,5,"ui-webem-button",0),o.ALo(1,"toResizableMenuButton")),2&e&&o.Q6J("ngIf",o.xi3(1,1,t.menuButton,t.displayNarrow))},directives:[a.O5,r.r],pipes:[l.A,a.Ov],styles:[""]}),e})()},14982:(e,t,n)=>{"use strict";n.d(t,{H:()=>m});var i=n(41956),o=n(74788),s=n(62800),a=n(12057),r=n(95319),l=n(65986),c=n(54152),d=n(29068);function u(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"ui-webem-radio-button-with-label",4),o.NdJ("modelChange",function(){const t=o.CHM(e).$implicit;return o.oxw(2).onSortingChange(t)}),o.qZA()}if(2&e){const e=t.$implicit,n=o.oxw().ngIf,i=o.oxw();o.Q6J("hint",e.hint)("label",e.label)("groupName",i.model.groupName)("value",e.value)("model",n.sortType?n.sortType:"")}}const p=function(){return{}};function g(e,t){if(1&e&&(o.TgZ(0,"ui-webem-overlay-panel-menu-bar",1),o.ALo(1,"getIndicatorClassForSorter"),o.TgZ(2,"div",2),o.YNc(3,u,1,5,"ui-webem-radio-button-with-label",3),o.qZA(),o.qZA()),2&e){const e=t.ngIf,n=o.oxw();o.ekj("not-narrow",""!==e.resizableButton.options.minWidth),o.Q6J("model",e.resizableButton.model)("options",e.resizableButton.options?e.resizableButton.options:o.DdM(10,p))("description",n.model.description)("ngClass",o.xi3(1,7,e.sortType,n.model.defaultSort)),o.xp6(3),o.Q6J("ngForOf",n.model.options)}}const h=function(e,t){return{resizableButton:e,sortType:t}};let m=(()=>{class e{constructor(e){this.store=e,this.menuButton=i.OR}ngOnInit(){this.sortType$=this.model.getDataSource(this.store)}onSortingChange(e){e.onChange(e.value,this.store)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(s.yh))},e.\u0275cmp=o.Xpm({type:e,selectors:[["status-shared-toolbar-sorter"]],inputs:{model:"model",displayNarrow:"displayNarrow"},decls:3,vars:9,consts:[["buttonId","sort-button",3,"model","options","description","not-narrow","ngClass",4,"ngIf"],["buttonId","sort-button",3,"model","options","description","ngClass"],[1,"sort-options"],[3,"hint","label","groupName","value","model","modelChange",4,"ngFor","ngForOf"],[3,"hint","label","groupName","value","model","modelChange"]],template:function(e,t){1&e&&(o.YNc(0,g,4,11,"ui-webem-overlay-panel-menu-bar",0),o.ALo(1,"toResizableMenuButton"),o.ALo(2,"async")),2&e&&o.Q6J("ngIf",o.WLB(6,h,o.xi3(1,1,t.menuButton,t.displayNarrow),o.lcZ(2,4,t.sortType$)))},directives:[a.O5,r.C,a.mk,a.sg,l.k],pipes:[c.A,a.Ov,d.Q],styles:["[_nghost-%COMP%]{height:26px;display:inline-block}  .not-narrow #sort-button .mdi-swap-vertical{left:12px}  .not-narrow #sort-button .mdi-swap-vertical:before{font-size:17px}  .not-narrow #sort-button .ui-button-text{padding-left:21px}  .not-narrow #sort-button .p-button-label{margin-left:-5px}.sort-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:10px}.sort-options[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:8px}.sort-options[_ngcontent-%COMP%]     .hint-description{white-space:pre}"]}),e})()},72689:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var i=n(74788),o=n(62800),s=n(7067),a=n(12057);let r=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.freeSearchText$=this.model.getDataSource(this.store)}filterChanged(e){this.model.filterChange(e,this.store)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.yh))},e.\u0275cmp=i.Xpm({type:e,selectors:[["status-shared-toolbar-text-search"]],inputs:{model:"model"},decls:2,vars:3,consts:[["id","text-search",3,"value","valueChange"]],template:function(e,t){1&e&&(i.TgZ(0,"ui-webem-filter-input",0),i.NdJ("valueChange",function(e){return t.filterChanged(e)}),i.ALo(1,"async"),i.qZA()),2&e&&i.Q6J("value",i.lcZ(1,1,t.freeSearchText$))},directives:[s.T],pipes:[a.Ov],styles:["[_nghost-%COMP%]{width:100%}ui-webem-filter-input[_ngcontent-%COMP%]{width:300px;float:right}"]}),e})()},22078:(e,t,n)=>{"use strict";n.d(t,{I:()=>w});var i=n(41956),o=n(81976),s=n(46782),a=n(79765),r=n(74788),l=n(62800),c=n(12057),d=n(95319),u=n(11918),p=n(77727),g=n(94672),h=n(54152);function m(e,t){if(1&e&&(r.TgZ(0,"div",11),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Oqu(e.title)}}function f(e,t){if(1&e&&(r.TgZ(0,"div",12),r._uU(1),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Oqu(e.description)}}function b(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ui-webem-vertical-labeled-input",13),r.NdJ("valueChanged",function(t){const n=r.CHM(e).$implicit;return r.oxw(4).setInputFilter(n,t)}),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw().ngIf,i=r.oxw(3);r.Q6J("value",i.getValueForInput(n,e.id))("inputLabel",e.label)}}function C(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ui-webem-checkbox-vertical-list",14),r.NdJ("selectionChanged",function(t){const n=r.CHM(e).$implicit;return r.oxw(4).setCheckboxFilter(n,t)}),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw().ngIf;r.Q6J("description",e.label)("model",e.options)("selection",n.filterContent[e.id])}}function v(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ui-webem-radio-button-group",15),r.NdJ("modelChanged",function(t){const n=r.CHM(e).$implicit;return r.oxw(4).setRadioFilter(n,t)}),r.qZA()}if(2&e){const e=t.$implicit,n=r.oxw().ngIf,i=r.oxw(3);r.Q6J("label",e.label)("options",e.options)("checked",i.isRadioChecked(n,e.id))("model",i.getValueForRadio(n,e.id))}}function y(e,t){if(1&e&&(r.ynx(0),r.ynx(1),r.YNc(2,m,2,1,"div",5),r.YNc(3,f,2,1,"div",6),r.TgZ(4,"div",7),r.YNc(5,b,1,2,"ui-webem-vertical-labeled-input",8),r.YNc(6,C,1,3,"ui-webem-checkbox-vertical-list",9),r.YNc(7,v,1,4,"ui-webem-radio-button-group",10),r.qZA(),r.BQk(),r.BQk()),2&e){const e=r.oxw().$implicit;r.xp6(2),r.Q6J("ngIf",e.title),r.xp6(1),r.Q6J("ngIf",e.description),r.xp6(2),r.Q6J("ngForOf",e.inputs),r.xp6(1),r.Q6J("ngForOf",e.checkboxes),r.xp6(1),r.Q6J("ngForOf",e.radios)}}const S=function(e){return{filterContent:e}};function P(e,t){if(1&e&&(r.TgZ(0,"div",4),r.YNc(1,y,8,5,"ng-container",0),r.ALo(2,"async"),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.Q6J("ngIf",r.VKq(3,S,r.lcZ(2,1,e.filterContent$)))}}function O(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"ui-webem-overlay-panel-menu-bar",1),r.TgZ(2,"div",2),r.YNc(3,P,3,5,"div",3),r.qZA(),r.qZA(),r.BQk()),2&e){const e=t.ngIf,n=r.oxw();r.xp6(1),r.ekj("not-narrow",""!==e.resizableButton.options.minWidth),r.Q6J("model",e.resizableButton.model)("options",e.resizableButton.options)("ngClass",n.buttonIndicatedClass),r.xp6(2),r.Q6J("ngForOf",n.model)}}const x=function(e){return{resizableButton:e}};class w{constructor(e){this.store=e,this.menuButton=i.SU,this.ngUnsubscribe=new a.xQ}ngOnInit(){for(const e of this.model)e.filterContent$=e.getDataSource(this.store),e.getDataSource(this.store).pipe((0,s.R)(this.ngUnsubscribe)).subscribe(()=>{this.calculateIndicatorClassForValuetFilter()})}setInputFilter(e,t){e.setInputFilter(e.id,t.value,this.store)}setRadioFilter(e,t){e.setRadioFilter(e.id,t,this.store)}setCheckboxFilter(e,t){e.setCheckboxFilter(e.id,t,this.store)}getValueForRadio(e,t){return e.filterContent[t].value}isRadioChecked(e,t){return e.filterContent[t].enabled}getValueForInput(e,t){return e.filterContent[t]}calculateIndicatorClassForValuetFilter(){this.buttonIndicatedClass="";for(const e of this.model)!this.buttonIndicatedClass&&e.filterContent$&&e.filterContent$.subscribe(e=>{this.buttonIndicatedClass=w.getIndicatorClassForFilterPipe.transform(e)})}}w.getIndicatorClassForFilterPipe=new o.H,w.\u0275fac=function(e){return new(e||w)(r.Y36(l.yh))},w.\u0275cmp=r.Xpm({type:w,selectors:[["status-shared-toolbar-value-filter"]],inputs:{model:"model",displayNarrow:"displayNarrow"},decls:2,vars:6,consts:[[4,"ngIf"],["buttonId","filter-button",3,"model","options","ngClass"],[1,"widget-container"],["class","widget",4,"ngFor","ngForOf"],[1,"widget"],["class","title",4,"ngIf"],["class","menu-label menu-bold-label",4,"ngIf"],[1,"filter-panel"],[3,"value","inputLabel","valueChanged",4,"ngFor","ngForOf"],[3,"description","model","selection","selectionChanged",4,"ngFor","ngForOf"],[3,"label","options","checked","model","modelChanged",4,"ngFor","ngForOf"],[1,"title"],[1,"menu-label","menu-bold-label"],[3,"value","inputLabel","valueChanged"],[3,"description","model","selection","selectionChanged"],[3,"label","options","checked","model","modelChanged"]],template:function(e,t){1&e&&(r.YNc(0,O,4,6,"ng-container",0),r.ALo(1,"toResizableMenuButton")),2&e&&r.Q6J("ngIf",r.VKq(4,x,r.xi3(1,1,t.menuButton,t.displayNarrow)))},directives:[c.O5,d.C,c.mk,c.sg,u.s,p.A,g.C],pipes:[h.A,c.Ov],styles:["[_nghost-%COMP%]{height:26px;display:inline-block}  .not-narrow #filter-button .mdi-filter{left:11px}  .not-narrow #filter-button .ui-button-text{padding-left:21px}  .not-narrow #filter-button .p-button-label{margin-left:-5px}.filter-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:300px;margin-top:10px}.filter-panel[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:20px}.widget-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.widget-container[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]:not(:first-child){margin-left:20px;padding-left:20px;border-left:1px solid #bec8d2}.widget-container[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;padding-bottom:8px}.widget-container[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{white-space:nowrap;font-size:11px}.widget-container[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]   .menu-bold-label[_ngcontent-%COMP%]{font-weight:700}"]})},97180:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var i=n(41956),o=n(91849),s=n(74788),a=n(62800),r=n(12057),l=n(88361),c=n(54152);function d(e,t){if(1&e){const e=s.EpF();s.ynx(0),s.TgZ(1,"ui-webem-button",1),s.NdJ("action",function(){const t=s.CHM(e).ngIf;return s.oxw().toggleView(t.selectedView)}),s.qZA(),s.BQk()}if(2&e){const e=t.ngIf,n=s.oxw();s.xp6(1),s.Q6J("model",e.selectedView===n.ViewType.TABLE?e.tileResizableButton.model:e.tableResizableButton.model)("options",e.selectedView===n.ViewType.TABLE?e.tileResizableButton.options:e.tableResizableButton.options)}}const u=function(e,t,n){return{selectedView:e,tileResizableButton:t,tableResizableButton:n}};let p=(()=>{class e{constructor(e){this.store=e,this.ViewType=o.b,this.tileMenuButton=i.SL,this.tableMenuButton=i.S}ngOnInit(){this.selectedView$=this.model.getDataSource(this.store)}toggleView(e){this.model.toggleView(e===o.b.TABLE?o.b.TILE:o.b.TABLE,this.store)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.yh))},e.\u0275cmp=s.Xpm({type:e,selectors:[["status-shared-view-toggle"]],inputs:{model:"model",displayNarrow:"displayNarrow"},decls:4,vars:13,consts:[[4,"ngIf"],["id","toggle-view-button",3,"model","options","action"]],template:function(e,t){1&e&&(s.YNc(0,d,2,2,"ng-container",0),s.ALo(1,"async"),s.ALo(2,"toResizableMenuButton"),s.ALo(3,"toResizableMenuButton")),2&e&&s.Q6J("ngIf",s.kEZ(9,u,s.lcZ(1,1,t.selectedView$),s.xi3(2,3,t.tileMenuButton,t.displayNarrow),s.xi3(3,6,t.tableMenuButton,t.displayNarrow)))},directives:[r.O5,l.r],pipes:[r.Ov,c.A],styles:["#toggle-view-button .mdi-table{top:11px}"]}),e})()},78137:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var i=n(41956),o=n(23815),s=n(74788);let a=(()=>{class e{transform(e,t){return 0===(0,o.xor)(t,e).length?"":i.f$}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"getIndicatorClassForContentFilter",type:e,pure:!0}),e})()},81976:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var i=n(41956),o=n(74788);let s=(()=>{class e{transform(e){return Object.values(e).find(e=>e.length&&0!==e.length||e.enabled)?i.f$:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"getIndicatorClassForFilter",type:e,pure:!0}),e})()},29068:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var i=n(41956),o=n(74788);let s=(()=>{class e{transform(e,t){return e&&e!==t?i.f$:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"getIndicatorClassForSorter",type:e,pure:!0}),e})()},54152:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(60697),o=n(74788);let s=(()=>{class e{transform(e,t){return{model:Object.assign(Object.assign({},e.model),{title:t?e.model.label:"",label:t?"":e.model.label,length:t?i.Wmq.Long:e.model.length}),options:e.options?Object.assign(Object.assign({},e.options),{minWidth:t?"":e.options.minWidth}):void 0}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"toResizableMenuButton",type:e,pure:!0}),e})()},94518:(e,t,n)=>{"use strict";n.d(t,{V:()=>h});var i=n(12057),o=n(60697),s=n(18466),a=n(21499),r=n(12332),l=n(25498),c=(n(14982),n(42577),n(72689),n(45740),n(97180),n(22078),n(36628),n(29068),n(78137),n(34032),n(17513)),d=n(54152),u=(n(81976),n(7576)),p=n(24751),g=n(74788);let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[d.A],imports:[[i.ez,a.F,o.jPy,l.cc,o.jhx,o.EJq,s.F,o.f5T,o.f1i,r.nD,p.u5,c.sQ.forFeature([u.s])]]}),e})()},47508:(e,t,n)=>{"use strict";n.d(t,{DP:()=>s,uJ:()=>a,uL:()=>r,nh:()=>l,ZV:()=>c,ZA:()=>d,w:()=>u,cl:()=>p,e7:()=>g,x3:()=>h,vv:()=>m,z8:()=>f,XL:()=>b,gb:()=>C,Dm:()=>v,D8:()=>y,Mb:()=>S,B$:()=>P,uN:()=>O,Bg:()=>x,Ae:()=>w,zl:()=>A,je:()=>_,JW:()=>T,YK:()=>I,f9:()=>E,J3:()=>M});var i=n(62800),o=(()=>(function(e){e.vDUCellStoreError="[Effect] vDU cell store error",e.updateVDUCells="[Effect] update vDU cells",e.startVDUCellsPolling="[User] start vDU cells polling",e.stopVDUCellsPolling="[User] stop vDU cells polling",e.vDUCellsRequest="[Effect] vDU cells request",e.vDUCellsPollingError="[Effect] vDU cells polling error",e.lockVDUCell="[User] lock vDU cell",e.lockVDUCellSuccess="[User] lock vDU cell success",e.lockVDUCellFailed="[User] lock vDU cell failed",e.lockVDUCellHttpError="[User] lock vDU cell http error",e.lockVDUCellOngoing="[User] lock vDU cell ongoing",e.unlockVDUCell="[User] unlock vDU cell",e.unlockVDUCellSuccess="[User] unlock vDU cell success",e.unlockVDUCellFailed="[User] unlock vDU cell failed",e.unlockVDUCellHttpError="[User] unlock vDU cell http error",e.unlockVDUCellOngoing="[User] unlock vDU cell ongoing",e.ResetFilters="[User] Reset filters for cells",e.vDUcellsViewError="[Effect] cells view error",e.blockVDUCell="[User] block vDU cell",e.blockVDUCellSuccess="[User] block vDU cell success",e.blockVDUCellFailed="[User] block vDU cell failed",e.blockVDUCellHttpError="[User] block vDU cell http error",e.blockVDUCellOngoing="[User] block vDU cell ongoing",e.unblockVDUCell="[User] unblock vDU cell",e.unblockVDUCellSuccess="[User] unblock vDU cell success",e.unblockVDUCellFailed="[User] unblock vDU cell failed",e.unblockVDUCellHttpError="[User] unblock vDU cell http error",e.unblockVDUCellOngoing="[User] unblock vDU cell ongoing"}(o||(o={})),o))();const s=(0,i.PH)(o.updateVDUCells,(0,i.Ky)()),a=(0,i.PH)(o.startVDUCellsPolling),r=(0,i.PH)(o.stopVDUCellsPolling),l=(0,i.PH)(o.vDUCellsRequest),c=(0,i.PH)(o.vDUCellsPollingError),d=((0,i.PH)(o.vDUCellStoreError,(0,i.Ky)()),(0,i.PH)(o.vDUcellsViewError,(0,i.Ky)())),u=(0,i.PH)(o.lockVDUCell,(0,i.Ky)()),p=(0,i.PH)(o.lockVDUCellSuccess,(0,i.Ky)()),g=(0,i.PH)(o.lockVDUCellFailed,(0,i.Ky)()),h=(0,i.PH)(o.lockVDUCellHttpError,(0,i.Ky)()),m=(0,i.PH)(o.lockVDUCellOngoing,(0,i.Ky)()),f=(0,i.PH)(o.unlockVDUCell,(0,i.Ky)()),b=(0,i.PH)(o.unlockVDUCellSuccess,(0,i.Ky)()),C=(0,i.PH)(o.unlockVDUCellFailed,(0,i.Ky)()),v=(0,i.PH)(o.unlockVDUCellHttpError,(0,i.Ky)()),y=(0,i.PH)(o.unlockVDUCellOngoing,(0,i.Ky)()),S=(0,i.PH)(o.ResetFilters),P=(0,i.PH)(o.blockVDUCell,(0,i.Ky)()),O=(0,i.PH)(o.blockVDUCellSuccess,(0,i.Ky)()),x=(0,i.PH)(o.blockVDUCellFailed,(0,i.Ky)()),w=(0,i.PH)(o.blockVDUCellHttpError,(0,i.Ky)()),A=(0,i.PH)(o.blockVDUCellOngoing,(0,i.Ky)()),_=(0,i.PH)(o.unblockVDUCell,(0,i.Ky)()),T=(0,i.PH)(o.unblockVDUCellSuccess,(0,i.Ky)()),I=(0,i.PH)(o.unblockVDUCellFailed,(0,i.Ky)()),E=(0,i.PH)(o.unblockVDUCellHttpError,(0,i.Ky)()),M=(0,i.PH)(o.unblockVDUCellOngoing,(0,i.Ky)())},39477:(e,t,n)=>{"use strict";n.d(t,{U:()=>P});var i=n(17513),o=n(89651),s=n(74298),a=n(25917),r=n(33637),l=n(57057),c=n(19773),d=n(88002),u=n(5304),p=n(94612),g=n(46782),h=n(96736),m=n(26098),f=n(47508),b=n(44364),C=n(17525),v=n(73835),y=n(74788),S=n(62800);let P=(()=>{class e{constructor(e,t,n,o){this.actions$=e,this.pollingService=t,this.statusService=n,this.store=o,this.vDUCellsRequest$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(f.nh),(0,l.M)(this.store.select(m.Th)),(0,c.zg)(([,e])=>(e!==C.E3.updateVersion?this.statusService.getVduCellsDiff({oldRevision:e}):this.statusService.getVduCellsDiff()).pipe((0,d.U)(e=>(0,f.DP)({payload:e})),(0,u.K)(e=>v.a.isConnectionError(e)?(console.warn(e),(0,a.of)()):(0,a.of)((0,f.ZV)())))))),this.startPolling$=(0,i.GW)((e=r.P)=>this.actions$.pipe((0,i.l4)(f.uJ),(0,p.b)(()=>this.pollingService.getTimer(e).pipe((0,g.R)(this.stopPolling$),(0,h.h)((0,f.nh)()))))),this.stopPolling$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(f.uL)),{dispatch:!1}),this.vDUCellsPollingError$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(f.ZV),(0,d.U)(()=>(0,b.wN)({payload:{severity:"error",summary:"Updating cells list failed"}}))))}}return e.\u0275fac=function(t){return new(t||e)(y.LFG(i.eX),y.LFG(o.x),y.LFG(s.B),y.LFG(S.yh))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e})()},17525:(e,t,n)=>{"use strict";n.d(t,{td:()=>r,OR:()=>l,E3:()=>c,I6:()=>u});var i=n(23607),o=n(62800),s=n(47508);const a=(0,i.H)({selectId:e=>e.basicCell.id,sortComparer:(e,t)=>Number.parseInt(e.basicCell.id,10)-Number.parseInt(t.basicCell.id,10)}),r=a.getSelectors().selectAll,l=a.getSelectors().selectEntities,c=a.getInitialState({updateVersion:""}),d=(0,o.Lq)(c,(0,o.on)(s.DP,(e,{payload:{created:t,removed:n,updated:i,revision:o}})=>(e=a.removeMany(n,e),e=a.addMany(t,e),a.upsertMany(i,Object.assign(Object.assign({},e),{updateVersion:o})))),(0,o.on)(s.uL,()=>c));function u(e,t){return d(e,t)}},26098:(e,t,n)=>{"use strict";n.d(t,{aG:()=>l,Th:()=>c});var i=n(62800),o=n(79882),s=n(17525);const a=(0,i.ZF)(o._),r=(0,i.P1)(a,e=>e.vDUCells),l=(0,i.P1)(r,s.td),c=(0,i.P1)(r,e=>e.updateVersion),d=(0,i.P1)(r,s.OR);(0,i.P1)(d,(e,{id:t})=>e[t])},79882:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});const i="vDUCellStore"},77727:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(74788),o=n(12057),s=n(12332),a=n(24751);function r(e,t){if(1&e&&(i.TgZ(0,"div",3),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Oqu(e.description)}}function l(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"p-checkbox",6),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw(2).selection=t})("onChange",function(){i.CHM(e);const t=i.oxw(2);return t.selectionChanged.emit(t.selection)}),i.qZA()}if(2&e){const e=t.$implicit,n=i.oxw(2);i.Q6J("label",e.label)("value",e.value)("ngModel",n.selection)("disabled",!!e.disabled)}}function c(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"p-checkbox",4),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw().selection=t})("onChange",function(){i.CHM(e);const t=i.oxw();return t.selectionChanged.emit(t.selection)}),i.qZA(),i.YNc(2,l,1,4,"p-checkbox",5),i.qZA()}if(2&e){const e=t.$implicit,n=i.oxw();i.xp6(1),i.Q6J("label",e.label)("value",e.value)("ngModel",n.selection),i.xp6(1),i.Q6J("ngForOf",e.childOptions)}}let d=(()=>{class e{constructor(){this.selectionChanged=new i.vpe}ngOnInit(){}trackById(e){return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ui-webem-checkbox-vertical-list"]],inputs:{model:"model",selection:"selection",description:"description"},outputs:{selectionChanged:"selectionChanged"},decls:3,vars:3,consts:[[1,"list-container"],["class","menu-label",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"menu-label"],[3,"label","value","ngModel","ngModelChange","onChange"],["class","child-checkbox",3,"label","value","ngModel","disabled","ngModelChange","onChange",4,"ngFor","ngForOf"],[1,"child-checkbox",3,"label","value","ngModel","disabled","ngModelChange","onChange"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,r,2,1,"div",1),i.YNc(2,c,3,4,"div",2),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",t.description),i.xp6(1),i.Q6J("ngForOf",t.model)("ngForTrackBy",t.trackById))},directives:[o.O5,o.sg,s.XZ,a.JJ,a.On],styles:[".list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.list-container[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{margin-bottom:10px;white-space:nowrap}  p-checkbox .p-checkbox-label.p-disabled{color:#bec8d2}.child-checkbox[_ngcontent-%COMP%]{margin-left:24px}"],changeDetection:0}),e})()},92798:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var i=n(74788),o=n(609),s=n(88361);let a=(()=>{class e{constructor(){this.action=new i.vpe,this.GO_TO_PARAMETER_EDITOR_BUTTON_MODEL={title:"Go to Parameter Editor",icon:"mdi mdi-exit-to-app",thickness:o.N.Thin}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ui-webem-go-to-pe-table-button"]],outputs:{action:"action"},decls:1,vars:1,consts:[[1,"go-to-pe-button",3,"model","action"]],template:function(e,t){1&e&&(i.TgZ(0,"ui-webem-button",0),i.NdJ("action",function(){return t.action.emit()}),i.qZA()),2&e&&i.Q6J("model",t.GO_TO_PARAMETER_EDITOR_BUTTON_MODEL)},directives:[s.r],styles:["[_nghost-%COMP%]{display:inline-block}  .go-to-pe-button button span:first-child{top:56%}"]}),e})()},11550:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var i=n(12057),o=n(4207),s=n(32177),a=n(25616),r=n(74788);let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,o.hJ,s.E,a.FZ]]}),e})()},21499:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});var i=n(12057),o=n(12205),s=n(74788);let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,o.s]]}),e})()},31626:(e,t,n)=>{"use strict";n.d(t,{R:()=>d});var i=n(74788),o=(()=>(function(e){e.startTimes="startTimes",e.endTimes="endTimes"}(o||(o={})),o))(),s=(()=>(function(e){e.startTimeDropdown="startTimeDropdown",e.endTimeDropdown="endTimeDropdown"}(s||(s={})),s))(),a=n(50103),r=n(24751);const l=["startTime"],c=["endTime"];let d=(()=>{class e{constructor(){this.selection=new i.vpe,this.CLOSE_ICON='<i class="mdi mdi-close"></i>',this.CLEAR_FILTER_VISIBILITY_CLASS="clear-filter-visible"}ngOnChanges(e){this.computeDropdownValues(),this.isNeededDropdownFilterReset(e,o.startTimes)&&this.resetDropdownFilter(s.startTimeDropdown),this.isNeededDropdownFilterReset(e,o.endTimes)&&this.resetDropdownFilter(s.endTimeDropdown)}onOpenDropdown(e){const t=this[e];if(!this.startTimes.length||!t||!t.filterViewChild)return;const n=t.filterViewChild.nativeElement,i=document.createElement("span"),o=n.value;i.classList.add("ui-inputgroup-addon","right-icon"),i.innerHTML=this.CLOSE_ICON,n.parentNode.insertBefore(i,n);const s=n.parentNode.querySelector(".right-icon");o?s.classList.add(this.CLEAR_FILTER_VISIBILITY_CLASS):s.classList.remove(this.CLEAR_FILTER_VISIBILITY_CLASS),i.addEventListener("click",()=>{t.resetFilter(),s.classList.remove(this.CLEAR_FILTER_VISIBILITY_CLASS)}),n.addEventListener("input",e=>{e.target.value?s.classList.add(this.CLEAR_FILTER_VISIBILITY_CLASS):s.classList.remove(this.CLEAR_FILTER_VISIBILITY_CLASS)})}changeSelection(){this.selection.emit({startTime:this.dropdownValues.startTime,endTime:this.dropdownValues.endTime})}computeDropdownValues(){const e=this.endTimes[this.endTimes.length-1];this.dropdownValues={startTime:this.selectedStartTime||this.startTimes[0]&&this.startTimes[0].value,endTime:this.selectedEndTime||e&&e.value}}isNeededDropdownFilterReset(e,t){return e[t]&&e[t].previousValue&&0===e[t].previousValue.valueOf().length&&e[t].currentValue.valueOf().length>0}resetDropdownFilter(e){this[e].filterValue=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ui-webem-filter-timestamp"]],viewQuery:function(e,t){if(1&e&&(i.Gf(l,5),i.Gf(c,5)),2&e){let e;i.iGM(e=i.CRH())&&(t.startTimeDropdown=e.first),i.iGM(e=i.CRH())&&(t.endTimeDropdown=e.first)}},inputs:{startTimes:"startTimes",endTimes:"endTimes",selectedStartTime:"selectedStartTime",selectedEndTime:"selectedEndTime"},outputs:{selection:"selection"},features:[i.TTD],decls:7,vars:8,consts:[["id","select-to-change",1,"filter-timestamp-field"],["placeholder","Start time","id","startTime",1,"ui-inputgroup","filter-timestamp-dropdown",3,"filter","options","ngModel","disabled","ngModelChange","click","onChange"],["startTime",""],["placeholder","End time","id","endTime",1,"ui-inputgroup","filter-timestamp-dropdown",3,"filter","options","ngModel","disabled","ngModelChange","click","onChange"],["endTime",""]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"label"),i._uU(2,"Select interval:"),i.qZA(),i.TgZ(3,"p-dropdown",1,2),i.NdJ("ngModelChange",function(e){return t.dropdownValues.startTime=e})("click",function(){return t.onOpenDropdown("startTimeDropdown")})("onChange",function(){return t.changeSelection()}),i.qZA(),i.TgZ(5,"p-dropdown",3,4),i.NdJ("ngModelChange",function(e){return t.dropdownValues.endTime=e})("click",function(){return t.onOpenDropdown("endTimeDropdown")})("onChange",function(){return t.changeSelection()}),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.Q6J("filter",!0)("options",t.startTimes)("ngModel",t.dropdownValues.startTime)("disabled",!t.startTimes.length),i.xp6(2),i.Q6J("filter",!0)("options",t.endTimes)("ngModel",t.dropdownValues.endTime)("disabled",!t.startTimes.length))},directives:[a.Lt,r.JJ,r.On],styles:["[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]    {width:136px}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .ui-dropdown{min-width:136px}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .p-inputtext{padding-right:8px;padding-left:8px;border-top-left-radius:3px;border-bottom-left-radius:3px}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .right-icon{height:100%;border:none;position:absolute;top:50%;right:0;transform:translateY(-50%);display:none;padding:0}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .right-icon i{line-height:31px}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .ui-dropdown-filter-container{padding-left:11px}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .ui-dropdown-filter-container:before{color:#1b1b1b;position:absolute;top:0;height:100%;left:1px;align-items:center;display:flex}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .ui-dropdown-filter-container:hover:not(:focus-within){background-color:#f9feff}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .ui-dropdown-filter-container:hover:not(:focus-within) .ui-dropdown-filter:not(:focus){background-color:#f9feff}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .p-dropdown-empty-message{padding-left:.8em}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .clear-filter-visible{display:initial}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]     .clear-filter-visible i{padding-left:.3em}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:8px;margin-bottom:0}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   .filter-timestamp-dropdown[_ngcontent-%COMP%]{display:inline-block;min-width:160px}[_nghost-%COMP%]   .filter-timestamp-field[_ngcontent-%COMP%]   .filter-timestamp-dropdown#startTime[_ngcontent-%COMP%]{margin-right:8px}"],changeDetection:0}),e})()},64530:(e,t,n)=>{"use strict";n.d(t,{m:()=>I}),n(99051);var i=n(12057),o=n(88767),s=n(40339),a=n(24751),r=(n(74161),n(18466)),l=(n(31626),n(11798)),c=n(53953),d=n(44380),u=(n(39490),n(63296),n(74788)),p=(n(46794),n(99642),n(74637));n(79765),n(94402),n(26215),n(95639),n(25917),n(46782),n(15257);let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[p.Cl]]}),e})();var h=n(13237),m=(n(98886),n(12205)),f=n(92597),b=n(32177),C=n(84602),v=n(4207),y=n(12332),S=n(50103),P=n(13928),O=n(33431),x=n(66057),w=n(88361),A=n(11918),_=n(33013),T=n(83665);let I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[],imports:[[O.U$,i.ez,v.hJ,a.UX,a.u5,P.j,r.F,S.kW,s.xc,a.u5,y.nD,l.a,c.F,g,h.nZ,p.Cl,m.s,f.f,b.E,C.Z]]}),e})();u.B6R(o.D,[i.O5,x.o,i.mk,w.r,A.s,_.$_,v.zx,T.N,d.r],[])},94672:(e,t,n)=>{"use strict";n.d(t,{C:()=>c});var i=n(74788),o=n(12332),s=n(24751),a=n(12057),r=n(25498);function l(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"p-radioButton",5),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw().model=t})("onClick",function(){return i.CHM(e),i.oxw().onModelChanged(!0)}),i.qZA()}if(2&e){const e=t.$implicit,n=i.oxw(),o=i.MAs(2);i.Q6J("label",e.label)("disabled",!o.checked)("value",e.value)("ngModel",n.model)}}let c=(()=>{class e{constructor(){this.modelChanged=new i.vpe,this.trackByIndex=e=>e}ngOnInit(){}onModelChanged(e){this.modelChanged.emit({enabled:e,value:this.model})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ui-webem-radio-button-group"]],inputs:{label:"label",checked:"checked",options:"options",model:"model"},outputs:{modelChanged:"modelChanged"},decls:5,vars:5,consts:[[1,"radio-button-group"],[3,"binary","label","ngModel","onChange"],["checkbox",""],[1,"radio-buttons"],[3,"label","disabled","value","ngModel","ngModelChange","onClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"label","disabled","value","ngModel","ngModelChange","onClick"]],template:function(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"p-checkbox",1,2),i.NdJ("onChange",function(){i.CHM(e);const n=i.MAs(2);return t.onModelChanged(n.checked)}),i.qZA(),i.TgZ(3,"div",3),i.YNc(4,l,1,4,"p-radioButton",4),i.qZA(),i.qZA()}2&e&&(i.xp6(1),i.Q6J("binary",!0)("label",t.label)("ngModel",t.checked),i.xp6(3),i.Q6J("ngForOf",t.options)("ngForTrackBy",t.trackByIndex))},directives:[o.XZ,s.JJ,s.On,a.sg,r.EU],styles:[".radio-button-group[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;grid-template-columns:max-content}.radio-button-group[_ngcontent-%COMP%]   .radio-buttons[_ngcontent-%COMP%]{display:flex;flex-flow:column}.radio-button-group[_ngcontent-%COMP%]   .radio-buttons[_ngcontent-%COMP%]   p-radioButton[_ngcontent-%COMP%]{margin-left:22px}.radio-button-group[_ngcontent-%COMP%]   .radio-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:5px}"],changeDetection:0}),e})()},65986:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var i=n(74788),o=n(25498),s=n(12057),a=n(24751);const r=function(e){return{"with-hint":e}};let l=(()=>{class e{constructor(){this.modelChange=new i.vpe}ngOnInit(){}onChange(e){this.modelChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ui-webem-radio-button-with-label"]],inputs:{value:"value",model:"model",label:"label",hint:"hint",groupName:"groupName"},outputs:{modelChange:"modelChange"},decls:7,vars:8,consts:[[3,"value","ngClass","name","ngModel","ngModelChange"],["radioButton",""],[1,"label","clickable-label",3,"click"],[1,"sort-label"],[1,"sort-label","hint-description"]],template:function(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"p-radioButton",0,1),i.NdJ("ngModelChange",function(e){return t.onChange(e)}),i.qZA(),i.TgZ(2,"div",2),i.NdJ("click",function(){return i.CHM(e),i.MAs(1).select({})}),i.TgZ(3,"div",3),i._uU(4),i.qZA(),i.TgZ(5,"div",4),i._uU(6),i.qZA(),i.qZA()}2&e&&(i.Q6J("value",t.value)("ngClass",i.VKq(6,r,t.hint))("name",t.groupName)("ngModel",t.model),i.xp6(4),i.Oqu(t.label),i.xp6(2),i.Oqu(t.hint))},directives:[o.EU,s.mk,a.JJ,a.On],styles:["[_nghost-%COMP%]{display:inline-grid;grid-template-columns:min-content min-content;grid-gap:8px}.with-hint[_ngcontent-%COMP%]{align-self:start;margin-top:3px}.sort-label[_ngcontent-%COMP%]{white-space:nowrap;font-size:11px}.clickable-label[_ngcontent-%COMP%]{cursor:pointer}.hint-description[_ngcontent-%COMP%]{color:#98a2ae}.label[_ngcontent-%COMP%]{margin-top:2px}"]}),e})()},10674:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var i=n(74788),o=n(4207);let s=(()=>{class e{constructor(){this.collapsed=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ui-webem-split-panel-toggle-button"]],inputs:{expandIcon:"expandIcon",collapseIcon:"collapseIcon",collapsed:"collapsed"},decls:1,vars:2,consts:[["pButton","","type","button",1,"area-toggle-button","ui-button-accent",3,"title","icon"]],template:function(e,t){1&e&&i._UZ(0,"button",0),2&e&&i.Q6J("title",t.collapsed?"Expand":"Collapse")("icon",t.collapsed?t.expandIcon:t.collapseIcon)},directives:[o.Hq],styles:[".area-toggle-button[_ngcontent-%COMP%]{width:20px!important;height:20px;border-radius:15px 15px;font-size:16px}.area-toggle-button.ui-button-accent[_ngcontent-%COMP%]:enabled:focus:after{border:none}"],changeDetection:0}),e})()},66359:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var i=n(74788),o=n(12057);const s=function(e){return{checked:e}},a=["*"];let r=(()=>{class e{constructor(){this.change=new i.vpe,this.disabled=!1}ngOnInit(){}onClick(){this.disabled||(this.checked=!this.checked,this.change.emit(this.checked))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ui-webem-toggle-button"]],inputs:{disabled:"disabled",checked:"checked"},outputs:{change:"change"},ngContentSelectors:a,decls:2,vars:4,consts:[[1,"toggle-button","ui-corner-all","p-button","ui-button-secondary","p-component","ui-state-default","ui-button-text-empty",3,"ngClass","disabled","click"]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"button",0),i.NdJ("click",function(){return t.onClick()}),i.Hsn(1),i.qZA()),2&e&&i.Q6J("ngClass",i.VKq(2,s,t.checked))("disabled",t.disabled)},directives:[o.mk],styles:[".toggle-button[_ngcontent-%COMP%]{line-height:16px;min-width:32px;height:26px}.toggle-button.p-button.ui-state-default[_ngcontent-%COMP%]{background-color:inherit;border:none}.toggle-button.p-button.ui-state-default.checked[_ngcontent-%COMP%]{background-color:#a7aeb7}.toggle-button.p-button.ui-state-default.checked[_ngcontent-%COMP%]:disabled{background-color:#fff;color:#bec8d2;border:1px solid #bec8d2}.toggle-button.p-button.ui-state-default[_ngcontent-%COMP%]:not(:focus).checked:disabled:hover{background-color:#fff;cursor:default;border:1px solid #bec8d2;box-shadow:none}.toggle-button.p-button.ui-state-default.disabled[_ngcontent-%COMP%]{background-color:#fff;color:#bec8d2;border:1px solid #bec8d2}.toggle-button.p-button.ui-state-default.disabled[_ngcontent-%COMP%]:hover{background-color:#fff;cursor:default}.toggle-button.p-button.ui-state-default[_ngcontent-%COMP%]:hover{background-color:#ccf4ff}.toggle-button.p-button.ui-state-default.checked[_ngcontent-%COMP%]:hover{background-color:#89919b}.toggle-button.p-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{background-color:transparent;border:1px solid #1b1b1b}.toggle-button.p-button.ui-state-default.checked[_ngcontent-%COMP%]:focus{background-color:#89919b;border:1px solid #1b1b1b}.toggle-button.p-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus:hover{background-color:#ccf4ff;border:none}.toggle-button.p-button.ui-state-default.checked[_ngcontent-%COMP%]:focus:hover{background-color:#89919b;border:none}.toggle-button.p-button.ui-state-default[_ngcontent-%COMP%]:not(.checked):not(:focus):hover:active{box-shadow:0 3px 5px rgba(0,0,0,.3)}.toggle-button.p-button.ui-state-default.checked[_ngcontent-%COMP%]:active{background-color:#89919b}.toggle-button[_ngcontent-%COMP%]   .p-button-icon-left[_ngcontent-%COMP%]{left:50%;margin-left:-.5em;top:50%;margin-top:-.5em}[_nghost-%COMP%], ui-webem-toggle-button[_ngcontent-%COMP%]{display:inline-block}"],changeDetection:0}),e})()},11918:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var i=n(74788),o=n(13928);let s=(()=>{class e{constructor(){this.valueChanged=new i.vpe,this.keyupValueChanged=new i.vpe}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ui-webem-vertical-labeled-input"]],inputs:{inputLabel:"inputLabel",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupValueChanged:"keyupValueChanged"},decls:5,vars:3,consts:[[1,"vertical-label-input-container"],[1,"input-label"],["type","text","pInputText","","autocomplete","off",3,"value","disabled","change","keyup"],["textInput",""]],template:function(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"label",0),i.TgZ(1,"span",1),i._uU(2),i.qZA(),i.TgZ(3,"input",2,3),i.NdJ("change",function(){i.CHM(e);const n=i.MAs(4);return t.valueChanged.emit({value:n.value})})("keyup",function(){i.CHM(e);const n=i.MAs(4);return t.keyupValueChanged.emit({value:n.value})}),i.qZA(),i.qZA()}2&e&&(i.xp6(2),i.Oqu(t.inputLabel),i.xp6(1),i.Q6J("value",t.value)("disabled",t.disabled))},directives:[o.o],styles:[".vertical-label-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0}.vertical-label-input-container[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{padding-bottom:3px;color:#4d5766;font-size:11px;cursor:pointer}"],changeDetection:0}),e})()},23481:(e,t,n)=>{"use strict";n.d(t,{rJ:()=>Ue,nP:()=>te}),n(66528);var i=n(23815),o=n(60697),s=n(62800),a=n(23607),r=(()=>(function(e){e.updateRmods="[Effect] update Rmods",e.startRmodsPolling="[User] start Rmods polling",e.stopRmodsPolling="[User] stop Rmods polling",e.rmodsRequest="[Effect] Rmods request",e.rmodsPollingError="[Effect] Rmods polling error",e.isLoadingRmodsData="[Effect] Is loading Rmods data",e.resetRmods="[User] Reset Rmods",e.resetRmodsActionSuccess="Reset Rmods Action Success",e.resetRmodsActionOngoing="Reset Rmods Action Ongoing",e.resetRmodsHttpError="Reset Rmods Http Error",e.resetRmodsFailure="Reset Rmods Failure",e.lockRmods="[User] Lock Rmods",e.lockRmodsActionSuccess="Lock Rmods Action Success",e.lockRmodsActionOngoing="Lock Rmods Action Ongoing",e.lockRmodsHttpError="Lock Rmods Http Error",e.lockRmodsFailure="Lock Rmods Failure",e.unlockRmods="[User] Unlock Rmods",e.unlockRmodsActionSuccess="Unlock Rmods Action Success",e.unlockRmodsActionOngoing="Unlock Rmods Action Ongoing",e.unlockRmodsHttpError="Unlock Rmods Http Error",e.unlockRmodsFailure="Unlock Rmods Failure"}(r||(r={})),r))();const l=(0,s.PH)(r.updateRmods,(0,s.Ky)()),c=((0,s.PH)(r.startRmodsPolling),(0,s.PH)(r.stopRmodsPolling)),d=((0,s.PH)(r.rmodsRequest),(0,s.PH)(r.rmodsPollingError),(0,s.PH)(r.isLoadingRmodsData,(0,s.Ky)())),u=((0,s.PH)(r.resetRmods,(0,s.Ky)()),(0,s.PH)(r.resetRmodsActionSuccess,(0,s.Ky)()),(0,s.PH)(r.resetRmodsActionOngoing,(0,s.Ky)()),(0,s.PH)(r.resetRmodsHttpError,(0,s.Ky)()),(0,s.PH)(r.resetRmodsFailure,(0,s.Ky)()),(0,s.PH)(r.lockRmods,(0,s.Ky)()),(0,s.PH)(r.lockRmodsActionSuccess,(0,s.Ky)()),(0,s.PH)(r.lockRmodsActionOngoing,(0,s.Ky)()),(0,s.PH)(r.lockRmodsHttpError,(0,s.Ky)()),(0,s.PH)(r.lockRmodsFailure,(0,s.Ky)()),(0,s.PH)(r.unlockRmods,(0,s.Ky)()),(0,s.PH)(r.unlockRmodsActionSuccess,(0,s.Ky)()),(0,s.PH)(r.unlockRmodsActionOngoing,(0,s.Ky)()),(0,s.PH)(r.unlockRmodsHttpError,(0,s.Ky)()),(0,s.PH)(r.unlockRmodsFailure,(0,s.Ky)()),(0,a.H)({selectId:e=>e.id,sortComparer:(e,t)=>Number.parseInt(e.id,10)-Number.parseInt(t.id,10)})),p=u.getSelectors().selectAll,g=u.getSelectors().selectEntities,h=u.getInitialState({updateVersion:"",isLoadingRmodsData:!1});(0,s.Lq)(h,(0,s.on)(l,(e,{payload:{created:t,removed:n,updated:i,revision:o}})=>(e=u.removeMany(n,e),e=u.addMany(t,e),u.upsertMany(i,Object.assign(Object.assign({},e),{updateVersion:o})))),(0,s.on)(c,()=>h),(0,s.on)(d,(e,t)=>Object.assign(Object.assign({},e),{isLoadingRmodsData:t.isLoadingRmodsData})));const m=(0,s.ZF)("rmodStore"),f=(0,s.P1)(m,e=>e.rmods),b=((0,s.P1)(f,e=>e.isLoadingRmodsData),(0,s.P1)(f,p),(0,s.P1)(f,g));(0,s.P1)(f,e=>e.updateVersion),(0,s.P1)(b,(e,{id:t})=>e[t]),n(77951),n(42488),n(75107),n(60698),n(2069);var C=n(56177),v=n(74788);let y=(()=>{class e{constructor(e){this.nullableValuePipe=e}getSortedMappings(e,t,n){const o=e.filter(e=>e.direction===t).map(e=>{var t;const o=(0,i.cloneDeep)(e);return o.configurationId=null===(t=n[e.rmodRId])||void 0===t?void 0:t.configurationId,o}),s=1e6;return o.sort((e,t)=>(e.configurationId||s)-(t.configurationId||s)||parseInt(e.rmodRId,10)-parseInt(t.rmodRId,10))}getGroupedMappings(e,t){const n=[];for(const o of e){const e=(0,i.last)(n);e&&o.configurationId===e.configurationId&&o.rmodRId===e.rmodRId?e.antPortIds.push(o.antPortId):t[o.rmodRId]&&n.push({productName:this.nullableValuePipe.transform(t[o.rmodRId].productName),antPortIds:[o.antPortId],rmodRId:o.rmodRId,configurationId:o.configurationId})}return n}}return e.\u0275fac=function(t){return new(t||e)(v.LFG(C.cP))},e.\u0275prov=v.Yz7({token:e,factory:e.\u0275fac}),e})();n(76563);var S=(()=>{return(e=S||(S={})).BY_RMOD_ID="BY_RMOD_ID",e.BY_AVAILABILITY_STATUS="BY_AVAILABILITY_STATUS",e.BY_OPERATIONAL_STATE="BY_OPERATIONAL_STATE",e.BY_ADMINISTRATIVE_STATE="BY_ADMINISTRATIVE_STATE",S;var e})(),P=(()=>(function(e){e.SetView="[User] Set rmod status view",e.SetRmod="[User] Set rmod tile",e.UnsetRmod="[User] Unset rmod tile",e.SetRmodDisplayconfiguration="[User] Set rmod display configuration",e.ChangeSortType="[User] Change RMOD sort type",e.SelectRmodsAppliedSortAnfFilter="[Effect] Select Rmods applied sorting and filtering",e.ResetFilters="[User] Reset filters for Rmods",e.Export="[User] Export Rmods to CSV",e.SetFreeSearchText="[User] [Rmods Status] Set free search text",e.ChangeFilter="[User] [Rmods Status] Change filter"}(P||(P={})),P))();const O=(0,s.PH)(P.SetView,(0,s.Ky)()),x=(0,s.PH)(P.SetRmod,(0,s.Ky)()),w=(0,s.PH)(P.UnsetRmod),A=(0,s.PH)(P.SetRmodDisplayconfiguration,(0,s.Ky)()),_=(0,s.PH)(P.ChangeFilter,(0,s.Ky)()),T=(0,s.PH)(P.SetFreeSearchText,(0,s.Ky)()),I=(0,s.PH)(P.ChangeSortType,(0,s.Ky)()),E=((0,s.PH)(P.SelectRmodsAppliedSortAnfFilter),(0,s.PH)(P.ResetFilters));(0,s.PH)(P.Export);var M=n(91849),k=(()=>(function(e){e.BY_RMOD_ID="ID",e.BY_TYPE="TYPE",e.BY_MODULE_LOCATION="MODULE_LOCATION",e.BY_PROPERTY_LABELS="PROPERTY_LABELS",e.BY_PRODUCT_CODE="PRODUCT_CODE",e.BY_SERIAL_NUMBER="SERIAL_NUMBER",e.BY_HW_VERSION_RELEASE="HW_VERSION_RELEASE",e.BY_ANTENNA_PORTS="ANTENNA_PORTS",e.BY_ACTIONS="ACTIONS",e.BY_OPERATIONAL_STATE="OPERATIONAL_STATE",e.BY_ADMINISTRATIVE_STATE="ADMINISTRATIVE_STATE",e.BY_AVAILABILITY_STATUS="AVAILABILITY_STATUS"}(k||(k={})),k))();const N={viewType:M.b.TILE,freeSearchText:"",selectedId:"",sortType:S.BY_RMOD_ID,displayConfiguration:{productName:!0,moduleLocation:!0,labels:!0,productCode:!0,serialNumber:!0,hardwareRelVer:!0,activeSwBuild:!0,activeSwVersion:!0,antPorts:!0,actions:!0},filterState:{[k.BY_RMOD_ID]:"",[k.BY_TYPE]:"",[k.BY_AVAILABILITY_STATUS]:[],[k.BY_OPERATIONAL_STATE]:[],[k.BY_ADMINISTRATIVE_STATE]:[]}},L=(0,s.Lq)(N,(0,s.on)(O,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),(0,s.on)(x,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedId:(0,i.isNil)(t)?"":t})),(0,s.on)(w,e=>Object.assign(Object.assign({},e),{selectedId:""})),(0,s.on)(A,(e,{payload:t})=>Object.assign(Object.assign({},e),{displayConfiguration:t})),(0,s.on)(I,(e,{payload:t})=>Object.assign(Object.assign({},e),{sortType:t})),(0,s.on)(T,(e,{payload:t})=>Object.assign(Object.assign({},e),{freeSearchText:t})),(0,s.on)(_,(e,{payload:t})=>Object.assign(Object.assign({},e),{filterState:Object.assign(Object.assign({},e.filterState),t)})),(0,s.on)(E,e=>Object.assign(Object.assign({},e),{freeSearchText:"",displayConfiguration:Object.assign({},N.displayConfiguration),filterState:{[k.BY_RMOD_ID]:"",[k.BY_TYPE]:"",[k.BY_AVAILABILITY_STATUS]:[],[k.BY_OPERATIONAL_STATE]:[],[k.BY_ADMINISTRATIVE_STATE]:[]},sortType:N.sortType})));function D(e,t){return L(e,t)}n(8408),n(17113),n(20518);var Z=n(12057),R=n(46239),U=n(52431),F=n(17513),j=n(94612),$=n(57057),q=n(88002),B=n(68307),G=n(25917),V=n(1429),Y=n(26098),J=n(16458),H=(()=>(function(e){e.SubscribeVduWatch="[VDu Status] SubscribeVduWatch",e.UnsubscribeVduWatch="[VDu Status] UnsubscribeVduWatch",e.SubscribeVduError="[VDu Status] SubscribeVduError",e.VduRequest="[VDu Status] VduRequest",e.SetVdu="[VDu Status] SetVdu"}(H||(H={})),H))();(0,s.PH)(H.SubscribeVduWatch),(0,s.PH)(H.UnsubscribeVduWatch);const W=(0,s.PH)(H.SubscribeVduError,(0,s.Ky)()),Q=((0,s.PH)(H.VduRequest),(0,s.PH)(H.SetVdu,(0,s.Ky)()));var z=n(49201);const K={vdu:{additionalInfo:{assignee:z.v,descriptiveName:z.v,groupName:z.v,integrationInfo:z.v,mrbtsConfigType:z.v,region:z.v,subregion:z.v,targetParamInfo:z.v},f1CLinkStatusDU:null,id:z.v,ipAddresses:{dnsServerPrimaryIpAddress:z.v,dnsServerSecondaryIpAddress:z.v,mPlaneIpAddress:{v4:z.v,v6:z.v},f1UIpAddresses:[{v4:z.v,v6:z.v}],f1CIpAddress:{v4:z.v,v6:z.v},cuF1CIpAddress:z.v},mcc:-1,mnc:-1,mncLength:-1,name:z.v,operationalState:null,softwareVersion:z.v,timeZone:z.v,numberOfAlarms:-1}};(0,s.Lq)(K,(0,s.on)(Q,(e,{payload:t})=>Object.assign(Object.assign({},e),{vdu:t})),(0,s.on)(W,()=>K));const X=(0,s.ZF)("VDu"),ee=(0,s.P1)(X,e=>e.vdu),te=(0,s.P1)(X,e=>({mrbtsId:e.vdu.id,btsName:e.vdu.name,operationalState:e.vdu.operationalState,softwareVersion:e.vdu.softwareVersion,timeZone:e.vdu.timeZone}));(0,s.P1)(X,e=>({numberOfAlarms:e.vdu.numberOfAlarms})),(0,s.P1)(X,e=>({cuName:e.vdu.cuName,cuCPlaneIpAddress:e.vdu.ipAddresses,f1CLinkStatus:e.vdu.f1CLinkStatusDU})),(0,s.P1)(X,e=>{var t,n;return{mPlaneIpAddress:null===(t=e.vdu.ipAddresses)||void 0===t?void 0:t.mPlaneIpAddress,f1CIpAddress:null===(n=e.vdu.ipAddresses)||void 0===n?void 0:n.f1CIpAddress,f1UIpAddresses:0===e.vdu.ipAddresses.f1UIpAddresses.length?K.vdu.ipAddresses.f1UIpAddresses:e.vdu.ipAddresses.f1UIpAddresses}});let ne=(()=>{class e{constructor(e,t){this.actions$=e,this.store=t,this.PREFIX="VDU_cells_status",this.LABELS=["NRCELL ID","NR cell identity","Cell name","Cell technology","Physical cell ID","Cell group","Band","Expected cell size","Max. output power","Downlink MIMO mode","Uplink MIMO mode","Bandwidth","Downlink bandwidth","Uplink bandwidth","NRARFCN","Downlink NRARFCN","Uplink NRARFCN","Operational state","Availability status","Administrative state","Procedural status","Rmods","Alarms"],this.exportVduCellsToCsv$=(0,F.GW)(()=>this.actions$.pipe((0,F.l4)(J.fG),(0,j.b)(e=>(0,G.of)(e).pipe((0,$.M)(this.store.pipe((0,s.Ys)(Y.aG)),this.store.pipe((0,s.Ys)(ee))))),(0,q.U)(([e,t,n])=>[t.map(e=>this.mapCell(e)),this.getFileName(n)]),(0,B.b)(([e,t])=>(0,V.m1)(e,t,this.LABELS))),{dispatch:!1})}getFileName(e){return`${this.PREFIX}${(0,V.Cm)(e)}`}mapCell(e){return[e.basicCell.name,e.basicCell.nrCellIdentity?e.basicCell.nrCellIdentity:"",e.basicCell.cellName||"",e.basicCell.technology,e.basicCell.physicalLayerCellID,e.basicCell.cellGroupId,e.band,e.expectedCellSize,e.pMax,e.dlMimoMode,e.ulMimoMode,e.chBw||"",e.chBwDl||"",e.chBwUl||"",e.basicCell.nrarfcn||"",e.basicCell.nrarfcnDl||"",e.basicCell.nrarfcnUl||"",e.basicCell.operationalState||"",e.availabilityStatus||"",e.basicCell.administrativeState.toLowerCase(),e.proceduralStatus||"",(0,V.by)(e.channelsMapping),(0,V.C1)(e.basicCell.alarms)]}}return e.\u0275fac=function(t){return new(t||e)(v.LFG(F.eX),v.LFG(s.yh))},e.\u0275prov=v.Yz7({token:e,factory:e.\u0275fac}),e})();var ie=n(88106),oe=n(27605),se=n(97759),ae=n(47702),re=n(33637),le=n(87479),ce=n(19773),de=n(5304),ue=n(46782),pe=n(2413),ge=n(89651),he=(()=>(function(e){e.ExtSysModulesSubscribe="[ExtSysModules] Subscribe to ExtSysModules polling",e.ExtSysModulesUnsubscribe="[ExtSysModules] Unsubscribe from ExtSysModules polling",e.ExtSysModulesFetchError="[ExtSysModules] Fetch ExtSysModules error",e.ExtSysModulesFetch="[ExtSysModules] ExtSysModules fetch request",e.ExtSysModulesSet="[ExtSysModules] Set ExtSysModules",e.ExtSysModuleSelected="[ExtSysModules] ExtSysModule selected",e.IsLoadingExtSysModulesData="[User] [ExtSysModules] Is loading ExtSysModules data"}(he||(he={})),he))();const me=(0,s.PH)(he.ExtSysModulesSubscribe),fe=(0,s.PH)(he.ExtSysModulesUnsubscribe),be=(0,s.PH)(he.ExtSysModulesFetchError,(0,s.Ky)()),Ce=(0,s.PH)(he.ExtSysModulesFetch),ve=(0,s.PH)(he.ExtSysModulesSet,(0,s.Ky)()),ye=(0,s.PH)(he.ExtSysModuleSelected,(0,s.Ky)()),Se=(0,s.PH)(he.IsLoadingExtSysModulesData,(0,s.Ky)());let Pe=(()=>{class e{constructor(e,t,n){this.pollingService=e,this.actions$=t,this.statusService=n,this.unsubscribeExtSysModulesPolling$=(0,F.GW)(()=>this.actions$.pipe((0,F.l4)(fe)),{dispatch:!1}),this.fetchExtSysModules$=(0,F.GW)(()=>this.actions$.pipe((0,F.l4)(Ce),(0,le.z)(()=>this.statusService.getExtSystemModules().pipe((0,ce.zg)(e=>[ve({payload:e})]),(0,de.K)(e=>(0,G.of)(be(e))))))),this.subscribeExtSysModulesPolling$=(0,F.GW)(()=>({scheduler:e=re.P}={})=>this.actions$.pipe((0,F.l4)(me),(0,ce.zg)(()=>this.pollingService.getTimer(e).pipe((0,ue.R)(this.unsubscribeExtSysModulesPolling$),(0,ce.zg)(()=>(0,G.of)(Ce(),Se({isLoadingExtSysModulesData:!1}))))))),this.TurnSpinnerOn$=(0,F.GW)(()=>this.actions$.pipe((0,F.l4)(me),(0,q.U)(()=>Se({isLoadingExtSysModulesData:!0}))))}}return e.\u0275fac=function(t){return new(t||e)(v.LFG(ge.x),v.LFG(F.eX),v.LFG(pe.Bj))},e.\u0275prov=v.Yz7({token:e,factory:e.\u0275fac}),e})();const Oe=(0,a.H)({selectId:e=>e.smodExtRId}),xe=Oe.getInitialState({selectedExtSysModuleId:"",isLoadingExtSysModulesData:!1}),we=(0,s.Lq)(xe,(0,s.on)(ve,(e,{payload:t})=>Oe.setAll(t,e)),(0,s.on)(ye,(e,{selectedExtSysModuleId:t})=>Object.assign(Object.assign({},e),{selectedExtSysModuleId:t})),(0,s.on)(Se,(e,t)=>Object.assign(Object.assign({},e),{isLoadingExtSysModulesData:t.isLoadingExtSysModulesData})));function Ae(e,t){return we(e,t)}var _e=n(60203),Te=n(46763);let Ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=v.oAB({type:e}),e.\u0275inj=v.cJS({imports:[[Z.ez]]}),e})();var Ee=n(28061),Me=n(30845),ke=n(72634),Ne=n(5724),Le=n(39950),De=n(64699);let Ze=(()=>{class e{constructor(e,t){this.store=e,this.actions$=t,this.PREFIX="PODs_status",this.LABELS=["POD name","Instance ID","Ip address","Availability Status","Operational Status","Alarms"],this.exportPodsToCsv$=(0,F.GW)(()=>this.actions$.pipe((0,F.l4)(Ne.F),(0,j.b)(e=>(0,G.of)(e).pipe((0,$.M)(this.store.pipe((0,s.Ys)(Le.UN)),this.store.pipe((0,s.Ys)(te))))),(0,q.U)(([,e,t])=>[e.map(e=>this.mapPod(e)),this.getFilename(t)]),(0,B.b)(([e,t])=>(0,V.m1)(e,t,this.LABELS))),{dispatch:!1}),this.exportVcuPodToCsv$=(0,F.GW)(()=>this.actions$.pipe((0,F.l4)(Ne.$),(0,j.b)(e=>(0,G.of)(e).pipe((0,$.M)(this.store.pipe((0,s.Ys)(Le.UN)),this.store.pipe((0,s.Ys)(De.K1))))),(0,q.U)(([,e,t])=>[e.map(e=>this.mapPod(e).concat(e.role||"")),this.getFilename(t)]),(0,B.b)(([e,t])=>(0,V.m1)(e,t,this.LABELS.concat("Role")))),{dispatch:!1})}mapPod(e){return[e.name||"",e.instance,e.ipInterfaces?e.ipInterfaces.map(this.mapIpInterface).join("\n"):"",e.availabilityStatus||"",e.operationalState||"",(0,V.C1)(e.alarms)]}mapIpInterface(e){return`${e.interfaceName}: ${e.ipAddress}`}getFilename(e){return`${this.PREFIX}${(0,V.cs)(e)}`}}return e.\u0275fac=function(t){return new(t||e)(v.LFG(s.yh),v.LFG(F.eX))},e.\u0275prov=v.Yz7({token:e,factory:e.\u0275fac}),e})();var Re=n(25616);let Ue=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=v.oAB({type:e}),e.\u0275inj=v.cJS({providers:[y],imports:[[Z.ez,o.EJq,o.gkd,R.E,o.g3K,s.Aw.forFeature(U.UN,U.I6),s.Aw.forFeature(ie.UN,ie.I6),s.Aw.forFeature("rmodStatusState",D),F.sQ.forFeature([ne]),F.sQ.forFeature([Pe]),s.Aw.forFeature(oe.Yx,oe.I6),s.Aw.forFeature("externalSystemModules",Ae),F.sQ.forFeature([Ze]),se.Us,_e.x,ae.IZ,C.oS,Te.U,Ie,o.I67,o.q_q,o.upY,o.hZC,o.Xn,Ee.L,o.hXG,o.a9S,Me.R,ke.z,o.Fme,Re.FZ]]}),e})();n(99976),n(95522)},62812:(e,t,n)=>{"use strict";n.d(t,{At:()=>s,br:()=>a,hG:()=>r,fG:()=>l,kq:()=>c,M6:()=>d,Ym:()=>u,lM:()=>p});var i=n(62800),o=(()=>(function(e){e.SetCellView="[User] Set cell status view",e.SetCell="[User] Set cell tile",e.SetDisplayConfiguration="[User] Set visible cell parameters",e.ChangeSortType="[User] Change cell sort type",e.ChangeFilter="[User] [Cells Status] Change filter",e.SelectVduCellAppliedSortAndFilter="[Effect] Select cells applied sorting and filtering",e.Export="[User] Export vDU cells to CSV",e.SetFreeSearchText="[User] [VduCells Status] Set free search text",e.SetGroupByType="[User] Set group by option"}(o||(o={})),o))();const s=(0,i.PH)(o.SetCellView,(0,i.Ky)()),a=(0,i.PH)(o.SetCell,(0,i.Ky)()),r=(0,i.PH)(o.SetDisplayConfiguration,(0,i.Ky)()),l=(0,i.PH)(o.Export),c=(0,i.PH)(o.ChangeSortType,(0,i.Ky)()),d=(0,i.PH)(o.ChangeFilter,(0,i.Ky)()),u=((0,i.PH)(o.SelectVduCellAppliedSortAndFilter),(0,i.PH)(o.SetFreeSearchText,(0,i.Ky)())),p=(0,i.PH)(o.SetGroupByType,(0,i.Ky)())},8981:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var i=n(62800),o=(()=>(function(e){e.selectCellOrRmodTile="[User] Select cell or rmod tile"}(o||(o={})),o))();const s=(0,i.PH)(o.selectCellOrRmodTile,(0,i.Ky)())},33705:(e,t,n)=>{"use strict";n.d(t,{jf:()=>i});const i={actions:!0,band:!0,bandwidth:!0,labels:!0,cellGroupId:!0,cellName:!0,dlMimoMode:!0,expectedCellSize:!0,nrarfcn:!0,nrCellIdentity:!0,physicalLayerCellID:!0,pMax:!0,ulMimoMode:!0}},8676:(e,t,n)=>{"use strict";n.d(t,{h:()=>i,W:()=>o});const i="VDU_CELL_TILE",o="RMOD_TILE"},52431:(e,t,n)=>{"use strict";n.d(t,{UN:()=>u,E3:()=>p,I6:()=>h});var i=n(62800),o=n(91849),s=n(62812),a=n(33705),r=(()=>(function(e){e.BY_RMOD="rmod",e.BY_CELLGROUP="cellGroup",e.NONE="none"}(r||(r={})),r))(),l=n(47508),c=(()=>(function(e){e.BY_NRCELL_ID="BY_NRCELL_ID",e.BY_AVAILABILITY_STATUS="BY_AVAILABILITY_STATUS",e.BY_OPERATIONAL_STATE="BY_OPERATIONAL_STATE",e.BY_ADMINISTRATIVE_STATE="BY_ADMINISTRATIVE_STATE"}(c||(c={})),c))(),d=(()=>(function(e){e.BY_NRCELL_ID="id",e.BY_CELL_NAME="cellName",e.BY_OPERATIONAL_STATE="operationalState",e.BY_ADMINISTRATIVE_STATE="administrativeState",e.BY_AVAILABILITY_STATUS="availabilityStatus"}(d||(d={})),d))();const u="vduCellStatusState",p={viewType:o.b.TILE,freeSearchText:"",displayConfiguration:a.jf,selectedId:0,visibleParameters:[],sortType:c.BY_NRCELL_ID,filterState:{[d.BY_NRCELL_ID]:"",[d.BY_CELL_NAME]:"",[d.BY_AVAILABILITY_STATUS]:[],[d.BY_OPERATIONAL_STATE]:[],[d.BY_ADMINISTRATIVE_STATE]:[]},groupBy:{[r.NONE]:!0,[r.BY_RMOD]:!1,[r.BY_CELLGROUP]:!1}},g=(0,i.Lq)(p,(0,i.on)(s.At,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),(0,i.on)(s.br,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedId:t})),(0,i.on)(s.hG,(e,{payload:t})=>Object.assign(Object.assign({},e),{displayConfiguration:t})),(0,i.on)(s.kq,(e,{payload:t})=>Object.assign(Object.assign({},e),{sortType:t})),(0,i.on)(s.Ym,(e,{payload:t})=>Object.assign(Object.assign({},e),{freeSearchText:t})),(0,i.on)(s.M6,(e,{payload:t})=>Object.assign(Object.assign({},e),{filterState:Object.assign(Object.assign({},e.filterState),t)})),(0,i.on)(l.Mb,e=>Object.assign(Object.assign({},e),{freeSearchText:"",sortType:c.BY_NRCELL_ID,displayConfiguration:a.jf,filterState:{[d.BY_NRCELL_ID]:"",[d.BY_CELL_NAME]:"",[d.BY_AVAILABILITY_STATUS]:[],[d.BY_OPERATIONAL_STATE]:[],[d.BY_ADMINISTRATIVE_STATE]:[]},groupBy:{[r.NONE]:!0,[r.BY_RMOD]:!1,[r.BY_CELLGROUP]:!1}})),(0,i.on)(s.lM,(e,{payload:t})=>Object.assign(Object.assign({},e),{groupBy:t})));function h(e,t){return g(e,t)}},88106:(e,t,n)=>{"use strict";n.d(t,{UN:()=>a,I6:()=>d});var i=n(62800),o=n(8676),s=n(8981);const a="vduCellsSelection",r={selectedTileId:"",selectedTileType:o.h},l=(0,i.on)(s.B,(e,{selectedTileId:t,selectedTileType:n})=>Object.assign(Object.assign({},e),{selectedTileId:t,selectedTileType:n})),c=(0,i.Lq)(r,l);function d(e,t){return c(e,t)}},16458:(e,t,n)=>{"use strict";n.d(t,{WL:()=>o.W,hK:()=>o.h,fG:()=>i.fG});var i=n(62812),o=(n(8981),n(8676)),s=n(33705),a=n(52431),r=(n(88106),n(62800)),l=n(23815);const c=(0,r.ZF)(a.UN),d=(0,r.P1)(c,e=>e.viewType),u=((0,r.P1)(c,e=>e.selectedId),(0,r.P1)(c,e=>e.displayConfiguration),(0,r.P1)(c,e=>e.sortType)),p=(0,r.P1)(c,e=>e.filterState),g=(0,r.P1)(c,e=>e.freeSearchText),h=((0,r.P1)(c,e=>(0,l.isEqual)(e.sortType,a.E3.sortType)&&(0,l.isEqual)(e.filterState,a.E3.filterState)&&(0,l.isEqual)(e.freeSearchText,a.E3.freeSearchText)&&(0,l.isEqual)(e.displayConfiguration,a.E3.displayConfiguration)&&(0,l.isEqual)(e.groupBy,a.E3.groupBy)),(0,r.P1)(c,e=>(0,l.isEqual)(e.displayConfiguration,s.jf)),(0,r.P1)(c,e=>e.groupBy));(0,r.P1)(u,d,h,p,g,(e,t,n,i,o)=>({sortType:e,viewType:t,groupBy:n,filterState:i,freeSearch:o}))},17923:(e,t,n)=>{"use strict";n.d(t,{HO:()=>s,Ip:()=>a,R9:()=>r});var i=n(62800),o=(()=>(function(e){e.selectPod="[User] Pod selected",e.deselectPod="[User] Pod deselected",e.selectInfrastructureStatusView="[User] Set infrastructure status view"}(o||(o={})),o))();const s=(0,i.PH)(o.selectPod,(0,i.Ky)()),a=(0,i.PH)(o.deselectPod),r=(0,i.PH)(o.selectInfrastructureStatusView,(0,i.Ky)())},27605:(e,t,n)=>{"use strict";n.d(t,{Yx:()=>a,Py:()=>r,I6:()=>g});var i=n(62800),o=n(17923),s=n(23815);const a="infrastructureStatus";var r=(()=>(function(e){e.tile="tile",e.table="table"}(r||(r={})),r))();const l={selectedId:"",viewType:r.tile},c=(0,i.on)(o.HO,(e,{id:t})=>Object.assign(Object.assign({},e),{selectedId:(0,s.isNil)(t)?"":t})),d=(0,i.on)(o.R9,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),u=(0,i.on)(o.Ip,()=>l),p=(0,i.Lq)(l,c,u,d);function g(e,t){return p(e,t)}},1496:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VmStatusModule:()=>On,VmStatusRoutingModule:()=>tn});var i=n(12057),o=n(12021),s=n(62800),a=n(23815),r=(()=>(function(e){e.SetView="[User] [VMs Status] Set view",e.SelectVm="[User] [VMs Status] Select VM link",e.ExportToCsv="[User] [VMs Status] Export to csv"}(r||(r={})),r))();const l=(0,s.PH)(r.SetView,(0,s.Ky)()),c=(0,s.PH)(r.SelectVm,(0,s.Ky)()),d=(0,s.PH)(r.ExportToCsv),u={export:e=>e.dispatch(d())};var p=n(91849);const g="vmsStatus",h=(0,s.Lq)({viewType:p.b.TILE,selectedId:-1},(0,s.on)(l,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),(0,s.on)(c,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedId:(0,a.isNil)(t)?-1:t})));function m(e,t){return h(e,t)}const f=(0,s.ZF)(g),b=(0,s.P1)(f,e=>e.viewType),C=(0,s.P1)(f,e=>e.selectedId),v={getDataSource:e=>e.select(b),toggleView:(e,t)=>t.dispatch(l({payload:e}))};var y=n(88002),S=n(25917),P=n(53898),O=n(39950);const x={toggle:v,export:u,startPolling:e=>e.dispatch(P.Co()),stopPolling:e=>e.dispatch(P.NT()),getDataSource:e=>e.select(O.UN),getSelected:e=>e.select(C).pipe((0,y.U)(e=>e.toString())),getElementId:e=>e.id,getConfiguration:()=>(0,S.of)({}),isFetchingData:e=>e.select(O.ou).pipe((0,y.U)(e=>e)),isLoadingVnfcsData:e=>e.select(O.iu).pipe((0,y.U)(e=>e))};var w=n(13742),A=n(16661),_=n(96141);const T=(e,t)=>n=>e.dispatch((0,w.uX)({routerLink:A.r.parameterEditor,activatedRoute:t,data:new _.q(`VNFC_R-${n}`)}));function I(e,t){return{goToPe:T(e,t)}}var E=n(74788),M=n(74952),k=n(44761),N=n(8701),L=n(65044),D=n(55995),Z=n(63788),R=n(17113),U=n(56177),F=n(94721),j=n(83665),$=n(90460),q=n(62039),B=n(49201),G=n(58373),V=n(96393);const Y=function(){return[]};function J(e,t){if(1&e&&(E._UZ(0,"ui-webem-raised-alarms",13),E.ALo(1,"toActiveAlarms")),2&e){const e=t.ngIf,n=E.oxw();E.Q6J("alarmSeverityType",e)("alarms",E.lcZ(1,3,n.model.alarms||E.DdM(5,Y))),E.uIk("data-alarm-severity-type",e.label)}}var H=(()=>(function(e){e.green="status-green",e.grey="status-grey",e.red="status-red",e.white="status-white",e.orange="status-orange"}(H||(H={})),H))();const W={[R.d.Degraded]:H.orange,[R.d.Dependency]:H.white,[R.d.Failed]:H.red,[R.d.InTest]:H.white,[R.d.LogFull]:H.orange,[R.d.NotInstalled]:H.grey,[R.d.OnLine]:H.green,[R.d.PowerOff]:H.grey,[R.d.OffLine]:H.grey,[R.d.OffDuty]:H.grey,null:H.grey};let Q=(()=>{class e{constructor(e){this.nullableValuePipe=e,this.goToPe=new E.vpe,this.availabilityStatusStyleMap=W,this.GO_TO_PARAMETER_EDITOR_ACTION={label:"Go to PE",icon:"mdi mdi-import",command:()=>this.goToPe.emit()},this.VM_ACTIONS=[this.GO_TO_PARAMETER_EDITOR_ACTION],this.SOFTWARE_VERSION_ICON="assets/bts-status/software_version_icon.svg"}ngOnInit(){this.recalculateTooltipContent()}ngOnChanges(){this.recalculateTooltipContent()}getAvailabilityStatusClass(e){return W[e.availabilityStatus]}recalculateTooltipContent(){this.tooltipPanelContent=[{title:"Hostname",value:this.nullableValuePipe.transform(this.model.hostname)},{title:"Software version",value:this.nullableValuePipe.transform(this.model.softwareVersion)}],this.tooltipPanelContentStatus=[{title:"Availability status",value:(0,a.capitalize)(this.nullableValuePipe.transform(this.model.availabilityStatus))},{title:"Operational state",value:(0,a.capitalize)(this.nullableValuePipe.transform(this.model.operationalState))},{title:"Role",value:(0,a.capitalize)(this.nullableValuePipe.transform(this.model.role))}]}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(U.cP))},e.\u0275cmp=E.Xpm({type:e,selectors:[["vm-status-vm-tile"]],inputs:{model:"model",selected:"selected"},outputs:{goToPe:"goToPe"},features:[E.TTD],decls:24,vars:28,consts:[["tooltipTitleHeader","VNFC name",3,"tooltipTitleValue","tooltipContent","tooltipTileState"],[1,"tile-frame",3,"ngClass"],[1,"inner-radius"],[1,"tile-header"],[1,"tile-title"],["uiWebemToggleParentTooltip","",3,"alarmSeverityType","alarms",4,"ngIf"],[1,"tile-description","hostname"],[1,"tile-content"],["title","Software version",1,"icon-label-pair"],["alt","Software version",3,"src"],[1,"tile-software-version-content"],[1,"tile-role-content"],["uiWebemToggleParentTooltip","",1,"vm-actions-button",3,"menuOptions"],["uiWebemToggleParentTooltip","",3,"alarmSeverityType","alarms"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-tile-tooltip",0),E.TgZ(1,"div",1),E.TgZ(2,"div",2),E.TgZ(3,"div",3),E.TgZ(4,"div",4),E._uU(5),E.ALo(6,"nullableValue"),E.qZA(),E.YNc(7,J,2,6,"ui-webem-raised-alarms",5),E.ALo(8,"findSeverity"),E.qZA(),E.TgZ(9,"div",6),E.TgZ(10,"span"),E._uU(11),E.qZA(),E.qZA(),E.TgZ(12,"div",7),E.TgZ(13,"div"),E.TgZ(14,"div",8),E._UZ(15,"img",9),E.TgZ(16,"span",10),E._uU(17),E.ALo(18,"nullableValue"),E.qZA(),E.qZA(),E.TgZ(19,"div",11),E._uU(20),E.ALo(21,"titlecase"),E.ALo(22,"nullableValue"),E.qZA(),E.qZA(),E._UZ(23,"ui-webem-button-with-menu",12),E.qZA(),E.qZA(),E.qZA(),E.qZA()),2&e&&(E.Q6J("tooltipTitleValue",t.model.name?t.model.name:"")("tooltipContent",t.tooltipPanelContent)("tooltipTileState",t.tooltipPanelContentStatus),E.xp6(1),E.ekj("selected",t.selected),E.Q6J("ngClass",t.getAvailabilityStatusClass(t.model)),E.xp6(3),E.uIk("data-name",t.model.name),E.xp6(1),E.Oqu(E.lcZ(6,17,t.model.name)),E.xp6(2),E.Q6J("ngIf",E.lcZ(8,19,t.model.alarms||E.DdM(27,Y))),E.xp6(2),E.uIk("data-hostname",t.model.hostname),E.xp6(2),E.Oqu(t.model.hostname||""),E.xp6(4),E.Q6J("src",t.SOFTWARE_VERSION_ICON,E.LSH),E.xp6(1),E.uIk("data-software-version",t.model.softwareVersion),E.xp6(1),E.hij(" ",E.lcZ(18,21,t.model.softwareVersion)," "),E.xp6(2),E.uIk("data-role",t.model.role),E.xp6(1),E.hij(" Role: ",E.lcZ(21,23,E.lcZ(22,25,t.model.role))," "),E.xp6(3),E.Q6J("menuOptions",t.VM_ACTIONS))},directives:[F.x,i.mk,i.O5,j.N,$.x,q.V],pipes:[B.c,G.P,i.rS,V.G],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-block;width:160px}.tile-frame[_ngcontent-%COMP%]{cursor:pointer;border-radius:3px;border:1px solid;border-left:5px solid;box-shadow:0 3px 4px rgba(0,0,0,.18)}.tile-frame[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px;padding:8px}.tile-frame.status-white[_ngcontent-%COMP%]{border-color:#4d5766;background-color:#4d5766}.tile-frame.status-white[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#fff}.tile-frame.status-red[_ngcontent-%COMP%]{border-color:#be0006;background-color:#be0006}.tile-frame.status-red[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#ffe1e2}.tile-frame.status-grey[_ngcontent-%COMP%]{border-color:#939eaa;background-color:#939eaa}.tile-frame.status-grey[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#d9e1eb}.tile-frame.status-orange[_ngcontent-%COMP%]{border-color:#f77e00;background-color:#f77e00}.tile-frame.status-orange[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#ffe1c2}.tile-frame.status-green[_ngcontent-%COMP%]{border-color:#3daa00;background-color:#3daa00}.tile-frame.status-green[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#f1fee9}.tile-frame[_ngcontent-%COMP%]:hover{border-color:#00c9ff;background-color:#00c9ff;box-shadow:0 0 0 .5px #00c9ff}.tile-frame.selected[_ngcontent-%COMP%], .tile-frame[_ngcontent-%COMP%]:hover{transition:border-color .2s,box-shadow .2s}.tile-frame.selected[_ngcontent-%COMP%]{border-color:#124191;background-color:#124191;box-shadow:0 0 0 1px #124191}.tile-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between;height:16px}.tile-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){margin-left:8px}.tile-header[_ngcontent-%COMP%]   .tile-title[_ngcontent-%COMP%]{font-weight:700;line-height:1}.tile-description[_ngcontent-%COMP%], .tile-header[_ngcontent-%COMP%]   .tile-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tile-description[_ngcontent-%COMP%]{line-height:14px;font-size:11px}.tile-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;font-size:10px;white-space:nowrap;justify-content:space-between}.tile-content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:10px}.tile-content[_ngcontent-%COMP%]   .tile-role-content[_ngcontent-%COMP%]{margin-top:3px}.icon-label-pair[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;flex-direction:row;align-items:center;line-height:1}.icon-label-pair[_ngcontent-%COMP%]   .tile-software-version-content[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis}.icon-label-pair[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]:before{vertical-align:middle}.icon-label-pair[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:13px}.icon-label-pair[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:3px}.vm-actions-button[_ngcontent-%COMP%]{margin-top:15px}.hostname[_ngcontent-%COMP%]:after{content:"\xa0"}'],changeDetection:0}),e})();const z=[{name:"States",class:"col-status",width:"42px",fixed:!0},{name:"Role",width:"35%",minWidth:"40px"},{name:"VNFC name",width:"122%",minWidth:"43px"},{name:"Hostname",width:"95%",minWidth:"68px"},{name:"Software version",width:"148%",minWidth:"82px"},{name:"Actions",width:"55px"}];var K=n(47702),X=n(40954),ee=n(92798),te=n(52504),ne=n(55644),ie=n(20087),oe=n(67866);function se(e,t){1&e&&E.GkF(0)}const ae=function(e){return{$implicit:e}};function re(e,t){if(1&e){const e=E.EpF();E.ynx(0),E.TgZ(1,"td",6),E.YNc(2,se,1,0,"ng-container",7),E.qZA(),E.TgZ(3,"td",8),E.ALo(4,"titlecase"),E.ALo(5,"nullableValue"),E._uU(6),E.ALo(7,"titlecase"),E.ALo(8,"nullableValue"),E.qZA(),E.TgZ(9,"td",8),E.ALo(10,"nullableValue"),E._uU(11),E.ALo(12,"nullableValue"),E.qZA(),E.TgZ(13,"td",8),E.ALo(14,"nullableValue"),E._uU(15),E.ALo(16,"nullableValue"),E.qZA(),E.TgZ(17,"td",8),E.ALo(18,"nullableValue"),E._uU(19),E.ALo(20,"nullableValue"),E.qZA(),E.TgZ(21,"td",9),E.TgZ(22,"ui-webem-go-to-pe-table-button",10),E.NdJ("action",function(){E.CHM(e);const t=E.oxw().$implicit;return E.oxw().goToPe.emit(t)}),E.qZA(),E.qZA(),E.BQk()}if(2&e){const e=t.ngIf,n=E.oxw().$implicit;E.oxw();const i=E.MAs(8);E.xp6(2),E.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",E.VKq(30,ae,e)),E.xp6(1),E.s9C("title",E.lcZ(4,10,E.lcZ(5,12,n.role))),E.xp6(3),E.Oqu(E.lcZ(7,14,E.lcZ(8,16,n.role))),E.xp6(3),E.s9C("title",E.lcZ(10,18,n.name)),E.xp6(2),E.Oqu(E.lcZ(12,20,n.name)),E.xp6(2),E.s9C("title",E.lcZ(14,22,n.hostname)),E.xp6(2),E.Oqu(E.lcZ(16,24,n.hostname)),E.xp6(2),E.s9C("title",E.lcZ(18,26,n.softwareVersion)),E.xp6(2),E.Oqu(E.lcZ(20,28,n.softwareVersion))}}const le=function(e,t){return{statusIcon:e,alarms:t}};function ce(e,t){if(1&e&&(E.YNc(0,re,23,32,"ng-container",5),E.ALo(1,"mapAvailabilityStatus")),2&e){const e=t.$implicit;E.Q6J("ngIf",E.WLB(3,le,E.lcZ(1,1,e.availabilityStatus),e.alarms))}}function de(e,t){if(1&e&&(E.TgZ(0,"span",11),E._uU(1),E.qZA()),2&e){const e=E.oxw();E.xp6(1),E.Oqu(e.NO_STATUS_TEXT)}}function ue(e,t){1&e&&E._UZ(0,"span",12)}function pe(e,t){if(1&e&&E._UZ(0,"ui-webem-status-icon",17),2&e){const e=E.oxw().$implicit;E.Q6J("type",e.statusIcon.type)("title",e.statusIcon.title)}}function ge(e,t){if(1&e&&(E._UZ(0,"ui-webem-raised-alarms",18),E.ALo(1,"getHighestAlarmSeverity")),2&e){const e=E.oxw().$implicit;E.Q6J("alarms",e.alarms)("alarmSeverityType",E.lcZ(1,2,e.alarms))}}function he(e,t){if(1&e&&(E.TgZ(0,"table",13),E.TgZ(1,"tr"),E.TgZ(2,"td"),E.YNc(3,pe,1,2,"ui-webem-status-icon",14),E.qZA(),E.TgZ(4,"td"),E.YNc(5,ge,2,4,"ui-webem-raised-alarms",15),E.ALo(6,"hasAlarms"),E.qZA(),E.qZA(),E.TgZ(7,"tr",16),E._UZ(8,"td"),E._UZ(9,"td"),E.qZA(),E.qZA()),2&e){const e=t.$implicit;E.oxw();const n=E.MAs(4),i=E.MAs(6);E.xp6(3),E.Q6J("ngIf",e.statusIcon.title)("ngIfElse",n),E.xp6(2),E.Q6J("ngIf",E.lcZ(6,4,e))("ngIfElse",i)}}let me=(()=>{class e{constructor(){this.select=new E.vpe,this.goToPe=new E.vpe,this.VM_TABLE_VIEW_COLUMNS=z,this.AVAILABILITY_STATUS=R.d,this.STATUS_ICON_TYPE=K.Zm,this.NO_STATUS_TEXT=B.v}get selected(){return this._selected||null}set selected(e){this.select.emit(e)}ngOnInit(){}ngOnChanges(e){(e.vms||e.selectedId)&&(this._selected=this.findVm(this.selectedId,this.vms))}findVm(e,t){if(t)return e?t.find(t=>t.id===e):void 0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["vm-status-vm-table-view"]],inputs:{vms:"vms",selectedId:"selectedId"},outputs:{select:"select",goToPe:"goToPe"},features:[E.TTD],decls:9,vars:4,consts:[["dataKey","id",1,"vm-table",3,"items","columns","loading","selected","selectedChange"],["row",""],["noAvailabilityStatus",""],["noAlarms",""],["statusCell",""],[4,"ngIf"],[1,"status-icons"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"title"],[1,"operations"],[3,"action"],["title","No status"],[1,"no-alarms"],[1,"inner-table"],[3,"type","title",4,"ngIf","ngIfElse"],[3,"alarms","alarmSeverityType",4,"ngIf","ngIfElse"],[1,"stretch"],[3,"type","title"],[3,"alarms","alarmSeverityType"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-table-view",0),E.NdJ("selectedChange",function(e){return t.selected=e}),E.YNc(1,ce,2,6,"ng-template",null,1,E.W1O),E.qZA(),E.YNc(3,de,2,1,"ng-template",null,2,E.W1O),E.YNc(5,ue,1,0,"ng-template",null,3,E.W1O),E.YNc(7,he,10,6,"ng-template",null,4,E.W1O)),2&e&&E.Q6J("items",t.vms)("columns",t.VM_TABLE_VIEW_COLUMNS)("loading",!t.vms)("selected",t.selected)},directives:[X.x,i.O5,i.tP,ee.C,te.m,q.V],pipes:[ne.I,i.rS,B.c,ie.U,oe.W],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 54px)}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]    {--status-icon-font-size:13px}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     th.col-status{text-align:center;padding-left:0;padding-right:0}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     td.status-icons{padding:0;position:relative;background-color:transparent}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table{width:100%;height:100%;position:absolute;top:0}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr>td{padding-left:0;padding-right:0;text-align:center}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr>td+td{border-left:1px solid #bec8d2}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr:first-of-type>td{height:26px}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr:not(:first-of-type)>td{padding:0}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     td{vertical-align:center}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     td.operations{text-align:center}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     td.operations>span{min-width:0;flex:1 1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     td.operations>.operations-button{flex:0 0}[_nghost-%COMP%]   .vm-table[_ngcontent-%COMP%]     cdk-virtual-scroll-viewport{overflow-y:scroll}"]}),e})();var fe=n(19230),be=n(87519),Ce=n(17923),ve=n(27605);const ye=(0,s.ZF)(ve.Yx),Se=(0,s.P1)(ye,e=>e.selectedId),Pe=(0,s.P1)(ye,e=>e.viewType);var Oe=n(9112),xe=n(60697),we=n(33346),Ae=n(36900),_e=n(44501),Te=n(41146),Ie=n(88361),Ee=n(75107),Me=n(60698),ke=n(34306);function Ne(e){return"off line"!==e&&"on line"!==e?e:e.replace(/\s/,"")}const Le=new U.cP;let De=(()=>{class e{constructor(e){this.vnfcSharedService=e}transform(e){return e?this.vnfcSharedService.isVcu()?[{key:"POD name",value:Le.transform(e.name)},{key:"Instance ID",value:e.instance},{key:"Availability status",value:e.availabilityStatus?(0,a.startCase)(Ne(e.availabilityStatus)):Le.transform(e.availabilityStatus)},{key:"Operational state",value:e.operationalState?(0,a.startCase)(e.operationalState):Le.transform(e.operationalState)},{key:"Role",value:e.role?(0,a.startCase)(e.role):Le.transform(e.role)}]:[{key:"POD name",value:Le.transform(e.name)},{key:"Instance ID",value:e.instance},{key:"Availability status",value:e.availabilityStatus?(0,a.startCase)(Ne(e.availabilityStatus)):Le.transform(e.availabilityStatus)},{key:"Operational state",value:e.operationalState?(0,a.startCase)(e.operationalState):Le.transform(e.operationalState)}]:[]}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(ke.Z9,16))},e.\u0275pipe=E.Yjl({name:"toPodDetailsProperties",type:e,pure:!0}),e})();var Ze=n(80288);function Re(e,t){if(1&e){const e=E.EpF();E.ynx(0),E.TgZ(1,"div",5,6),E.TgZ(3,"ui-webem-button",7),E.NdJ("action",function(){E.CHM(e);const t=E.oxw().ngIf;return E.oxw().goToParameterEditor(t.instance)}),E.qZA(),E.qZA(),E.TgZ(4,"div",8),E._UZ(5,"ui-webem-details-section",9),E.ALo(6,"toPodDetailsProperties"),E._UZ(7,"ui-webem-details-section",10),E.ALo(8,"toIpInterfacesDetailsProperties"),E.qZA(),E.BQk()}if(2&e){const e=E.oxw().ngIf,t=E.oxw();E.xp6(3),E.Q6J("id",t.goToParameterEditorButton.name)("model",t.goToParameterEditorButton.model)("options",t.goToParameterEditorButton.options),E.xp6(2),E.Q6J("data",E.lcZ(6,5,e)),E.xp6(2),E.Q6J("data",E.lcZ(8,7,e))}}function Ue(e,t){if(1&e){const e=E.EpF();E.ynx(0),E.TgZ(1,"div",5,6),E.TgZ(3,"ui-webem-button",7),E.NdJ("action",function(){E.CHM(e);const t=E.oxw().ngIf;return E.oxw().goToParameterEditor(t.instance)}),E.qZA(),E.qZA(),E._UZ(4,"status-shared-details-panel-parameters",11),E.BQk()}if(2&e){const e=E.oxw().ngIf,t=E.oxw();E.xp6(3),E.Q6J("id",t.goToParameterEditorButton.name)("model",t.goToParameterEditorButton.model)("options",t.goToParameterEditorButton.options),E.xp6(1),E.Q6J("distNames",e.distNames)}}function Fe(e,t){1&e&&(E.TgZ(0,"webem-details-panel",2),E.TgZ(1,"webem-status-tabbed-panel"),E.YNc(2,Re,9,9,"ng-container",3),E.YNc(3,Ue,5,4,"ng-container",4),E.qZA(),E.qZA()),2&e&&E.Q6J("showActions",!1)}function je(e,t){1&e&&(E.TgZ(0,"webem-details-panel"),E._UZ(1,"ui-webem-no-selected-message",12),E.qZA())}let $e=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.goToParameterEditorButton={name:"go-to-pe-button",model:{title:"Go to Parameter Editor",label:"Go to PE",icon:"mdi mdi-exit-to-app",length:xe.Wmq.Short},action:"",options:{minWidth:"70px"}}}ngOnInit(){this.pod$=(0,Oe.aj)([this.store.select(Se),this.store.select(O.UN)]).pipe((0,y.U)(([e,t])=>t.find(t=>t.id===e)))}goToParameterEditor(e){this.store.dispatch((0,w.uX)({routerLink:A.r.parameterEditor,activatedRoute:this.activatedRoute,data:new _.q(e)}))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(s.yh),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["vdu-shared-infrastructure-status-details"]],decls:4,vars:4,consts:[[3,"showActions",4,"ngIf","ngIfElse"],["noSelection",""],[3,"showActions"],[4,"webemOverviewContent"],[4,"webemParametersContent"],["actions","","id","infrastructure-status-details-buttons",1,"details-buttons"],["buttonsMenu",""],[1,"details-button",3,"id","model","options","action"],[1,"details-section"],["id","pod-properties","title","POD properties",3,"data"],["id","pod-ip-addresses","title","IP addresses",3,"data"],[3,"distNames"],["message","Select POD to see details"]],template:function(e,t){if(1&e&&(E.YNc(0,Fe,4,1,"webem-details-panel",0),E.ALo(1,"async"),E.YNc(2,je,2,0,"ng-template",null,1,E.W1O)),2&e){const e=E.MAs(3);E.Q6J("ngIf",E.lcZ(1,2,t.pod$))("ngIfElse",e)}},directives:[i.O5,we.V,Ae.Y,_e.r,Te.w,Ie.r,Ee.h,Me.h,fe.G],pipes:[i.Ov,De,Ze.w],styles:["#pod-properties[_ngcontent-%COMP%]{margin-top:15px}.details-buttons[_ngcontent-%COMP%]{padding-bottom:10px;border-bottom:1px solid #98a2ae}.details-buttons[_ngcontent-%COMP%]     #go-to-pe-button .ui-button-text{padding-left:32px}.details-section[_ngcontent-%COMP%]{overflow-y:auto;height:100%}"],changeDetection:0}),e})();var qe=n(41956),Be=n(79765),Ge=n(46782),Ve=n(5724),Ye=n(39088);function Je(e,t){if(1&e){const e=E.EpF();E.ynx(0),E.TgZ(1,"ui-webem-button",2),E.NdJ("action",function(){const t=E.CHM(e).ngIf;return E.oxw().toggleView(t)}),E.qZA(),E._UZ(2,"ui-webem-vertical-html-line",3),E.TgZ(3,"ui-webem-button",4),E.NdJ("action",function(){return E.CHM(e),E.oxw().exportToCsv()}),E.qZA(),E.BQk()}if(2&e){const e=t.ngIf,n=E.oxw();E.xp6(1),E.Q6J("model","table"===e?n.widgetButton.model:n.tableButton.model)("options",n.buttonOptions),E.xp6(2),E.Q6J("model",n.exportButton.model)("options",n.exportButton.options)}}let He=(()=>{class e{constructor(e){this.store=e,this.widgetButton=qe.SL,this.tableButton=qe.S,this.exportButton=qe.Co,this.buttonOptions=qe.nl,this.ngUnsubscribe=new Be.xQ}ngOnInit(){this.selectedView$=this.store.select(Pe),this.store.select(O.q9).pipe((0,Ge.R)(this.ngUnsubscribe)).subscribe(e=>this.vnfcType=e)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}toggleView(e){this.store.dispatch((0,Ce.R9)(e===ve.Py.table?{payload:ve.Py.tile}:{payload:ve.Py.table}))}exportToCsv(){this.store.dispatch("vCu"===this.vnfcType?(0,Ve.$)():(0,Ve.F)())}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(s.yh))},e.\u0275cmp=E.Xpm({type:e,selectors:[["infrastructure-status-menu"]],decls:3,vars:3,consts:[[1,"infrastructure-status-menu"],[4,"ngIf"],["id","toggle-view-button",3,"model","options","action"],[1,"vertical-line"],["id","export-button",3,"model","options","action"]],template:function(e,t){1&e&&(E.TgZ(0,"div",0),E.YNc(1,Je,4,4,"ng-container",1),E.ALo(2,"async"),E.qZA()),2&e&&(E.xp6(1),E.Q6J("ngIf",E.lcZ(2,1,t.selectedView$)))},directives:[i.O5,Ie.r,Ye.y],pipes:[i.Ov],styles:[".infrastructure-status-menu[_ngcontent-%COMP%]{padding-bottom:10px;display:flex;flex-flow:row;height:35px;align-items:center;border-bottom:1px solid #ccc}.infrastructure-status-menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:8px}.infrastructure-status-menu[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]{height:36px;padding-left:7px;padding-right:7px;--vertical-line-thickness:1px}.infrastructure-status-menu[_ngcontent-%COMP%]   #export-button[_ngcontent-%COMP%]{--button-icon-size:16px}.infrastructure-status-menu[_ngcontent-%COMP%]   #toggle-view-button[_ngcontent-%COMP%]{--button-icon-size:17px}"]}),e})();var We=n(99088);const Qe=function(){return[]};function ze(e,t){if(1&e&&(E._UZ(0,"ui-webem-raised-alarms",14),E.ALo(1,"toActiveAlarms")),2&e){const e=t.ngIf,n=E.oxw(2);E.Q6J("alarmSeverityType",e)("alarms",E.lcZ(1,2,n.pod.alarms||E.DdM(4,Qe)))}}function Ke(e,t){if(1&e&&(E.TgZ(0,"div",15),E.TgZ(1,"span"),E._uU(2),E.ALo(3,"titlecase"),E.ALo(4,"nullableValue"),E.qZA(),E.qZA()),2&e){const e=E.oxw(2);E.uIk("data-role",e.pod.role),E.xp6(2),E.hij(" Role: ",E.lcZ(3,2,E.lcZ(4,4,e.pod.role))," ")}}function Xe(e,t){if(1&e&&(E.TgZ(0,"span",16),E._uU(1),E.qZA()),2&e){const e=E.oxw(2);E.uIk("data-pod-operational-state",e.pod.operationalState),E.xp6(1),E.hij(" ",e.pod.operationalState," ")}}function et(e,t){if(1&e&&(E.TgZ(0,"div",2),E.ALo(1,"getClassExtension"),E.TgZ(2,"div",3),E.TgZ(3,"div",4),E.TgZ(4,"div",5),E._uU(5),E.ALo(6,"nullableValue"),E.qZA(),E.YNc(7,ze,2,5,"ui-webem-raised-alarms",6),E.ALo(8,"findSeverity"),E.qZA(),E.TgZ(9,"div",7),E.TgZ(10,"span"),E._uU(11),E.qZA(),E.qZA(),E.YNc(12,Ke,5,6,"div",8),E.TgZ(13,"div",9),E.TgZ(14,"div",10),E.YNc(15,Xe,2,2,"span",11),E.qZA(),E.TgZ(16,"div",12),E._UZ(17,"ui-webem-button-with-menu",13),E.qZA(),E.qZA(),E.qZA(),E.qZA()),2&e){const e=t.ngIf,n=E.oxw();E.Q6J("ngClass",e.class+E.lcZ(1,10,n.isSelected)),E.uIk("data-pod-name",n.pod.name),E.xp6(5),E.hij(" ",E.lcZ(6,12,n.pod.name)," "),E.xp6(2),E.Q6J("ngIf",E.lcZ(8,14,n.pod.alarms||E.DdM(16,Qe))),E.xp6(2),E.uIk("data-pod-instance",n.pod.instance),E.xp6(2),E.hij(" ",n.pod.instance," "),E.xp6(1),E.Q6J("ngIf",n.isVcuPod),E.xp6(3),E.Q6J("ngIf",n.pod.operationalState),E.xp6(2),E.Q6J("buttonConfig",n.operationsButton)("menuOptions",n.operationsActions)}}const tt=new U.cP;let nt=(()=>{class e{constructor(e,t,n){this.store=e,this.activatedRoute=t,this.vnfcSharedService=n,this.operationsButton={title:"Operations",icon:"mdi mdi-dots-vertical",theme:xe.bnJ.Secondary,length:xe.Wmq.Long},this.operationsActions=[{label:"Go to PE",icon:"mdi mdi-import",command:this.goToPe.bind(this)}]}ngOnInit(){this.isVcuPod=this.vnfcSharedService.isVcu(),this.recalculateTooltipContent()}ngOnChanges(){this.recalculateTooltipContent()}goToPe(){this.store.dispatch((0,w.uX)({routerLink:A.r.parameterEditor,activatedRoute:this.activatedRoute,data:new _.q(this.pod.instance)}))}recalculateTooltipContent(){this.tooltipPanelContent=[{title:"Instance ID",value:this.pod.instance}],this.tooltipPanelContentStatus=this.isVcuPod?[{title:"Availability status",value:(0,a.capitalize)(tt.transform(this.pod.availabilityStatus))},{title:"Operational state",value:(0,a.capitalize)(tt.transform(this.pod.operationalState))},{title:"Role",value:(0,a.capitalize)(tt.transform(this.pod.role))}]:[{title:"Availability status",value:(0,a.capitalize)(tt.transform(this.pod.availabilityStatus))},{title:"Operational state",value:(0,a.capitalize)(tt.transform(this.pod.operationalState))}]}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(s.yh),E.Y36(o.gz),E.Y36(ke.Z9))},e.\u0275cmp=E.Xpm({type:e,selectors:[["infrastructure-status-pod-tile"]],inputs:{pod:"pod",isSelected:"isSelected"},features:[E.TTD],decls:3,vars:6,consts:[["tooltipTitleHeader","POD name",3,"tooltipTitleValue","tooltipContent","tooltipTileState"],["class","tile-frame",3,"ngClass",4,"ngIf"],[1,"tile-frame",3,"ngClass"],[1,"inner-radius"],[1,"tile-header"],[1,"tile-title"],["uiWebemToggleParentTooltip","",3,"alarmSeverityType","alarms",4,"ngIf"],[1,"tile-description"],["class","tile-role-content",4,"ngIf"],[1,"tile-content"],[1,"pod-badges"],["class","badge-item operational-state",4,"ngIf"],[1,"pod-operations-container"],["uiWebemToggleParentTooltip","",3,"buttonConfig","menuOptions"],["uiWebemToggleParentTooltip","",3,"alarmSeverityType","alarms"],[1,"tile-role-content"],[1,"badge-item","operational-state"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-tile-tooltip",0),E.YNc(1,et,18,17,"div",1),E.ALo(2,"mapAvailabilityStatus"),E.qZA()),2&e&&(E.Q6J("tooltipTitleValue",t.pod.name?t.pod.name:"")("tooltipContent",t.tooltipPanelContent)("tooltipTileState",t.tooltipPanelContentStatus),E.xp6(1),E.Q6J("ngIf",E.lcZ(2,4,t.pod.availabilityStatus)))},directives:[F.x,i.O5,i.mk,j.N,$.x,q.V],pipes:[ne.I,We.X,B.c,G.P,V.G,i.rS],styles:["[_nghost-%COMP%]{display:inline-block}.tile-frame[_ngcontent-%COMP%]{cursor:pointer;border-radius:3px;border:1px solid;border-left:5px solid;box-shadow:0 3px 4px rgba(0,0,0,.18)}.tile-frame.online[_ngcontent-%COMP%]{background-color:#3daa00}.tile-frame.online[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#f1fee9}.tile-frame.online[_ngcontent-%COMP%]:not(:hover):not(.selected):not(.highlighted){border-color:#3daa00}.tile-frame.failed[_ngcontent-%COMP%]{background-color:#be0006}.tile-frame.failed[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#ffe1e2}.tile-frame.failed[_ngcontent-%COMP%]:not(:hover):not(.selected):not(.highlighted){border-color:#be0006}.tile-frame.degraded[_ngcontent-%COMP%]{background-color:#f77e00}.tile-frame.degraded[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#ffe1c2}.tile-frame.degraded[_ngcontent-%COMP%]:not(:hover):not(.selected):not(.highlighted){border-color:#f77e00}.tile-frame.dependency[_ngcontent-%COMP%]{background-color:#4d5766}.tile-frame.dependency[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#fff}.tile-frame.dependency[_ngcontent-%COMP%]:not(:hover):not(.selected):not(.highlighted){border-color:#4d5766}.tile-frame.intest[_ngcontent-%COMP%]{background-color:#1b1b1b}.tile-frame.intest[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#98a2ae}.tile-frame.intest[_ngcontent-%COMP%]:not(:hover):not(.selected):not(.highlighted){border-color:#1b1b1b}.tile-frame.poweroff[_ngcontent-%COMP%]{background-color:#d9e1eb}.tile-frame.poweroff[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#939eaa}.tile-frame.poweroff[_ngcontent-%COMP%]:not(:hover):not(.selected):not(.highlighted){border-color:#d9e1eb}.tile-frame.offduty[_ngcontent-%COMP%]{background-color:#1b1b1b}.tile-frame.offduty[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#98a2ae}.tile-frame.offduty[_ngcontent-%COMP%]:not(:hover):not(.selected):not(.highlighted){border-color:#1b1b1b}.tile-frame.notinstalled[_ngcontent-%COMP%]{background-color:#98a2ae}.tile-frame.notinstalled[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#edf2f5}.tile-frame.notinstalled[_ngcontent-%COMP%]:not(:hover):not(.selected):not(.highlighted){border-color:#98a2ae}.tile-frame.logfull[_ngcontent-%COMP%]{background-color:#1b1b1b}.tile-frame.logfull[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#98a2ae}.tile-frame.logfull[_ngcontent-%COMP%]:not(:hover):not(.selected):not(.highlighted){border-color:#1b1b1b}.tile-frame.offline[_ngcontent-%COMP%]{background-color:#4d5766}.tile-frame.offline[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#d9e1eb}.tile-frame.offline[_ngcontent-%COMP%]:not(:hover):not(.selected):not(.highlighted){border-color:#4d5766}.tile-frame[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px;padding:8px}.tile-frame[_ngcontent-%COMP%]:hover{border-color:#00c9ff;background-color:#00c9ff;box-shadow:0 0 0 .5px #00c9ff}.tile-frame.selected[_ngcontent-%COMP%], .tile-frame[_ngcontent-%COMP%]:hover{transition:border-color .2s,box-shadow .2s}.tile-frame.selected[_ngcontent-%COMP%]{border-color:#124191;background-color:#124191;box-shadow:0 0 0 1px #124191}.tile-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between;height:16px}.tile-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){margin-left:8px}.tile-header[_ngcontent-%COMP%]   .tile-title[_ngcontent-%COMP%]{font-weight:700;line-height:1}.tile-description[_ngcontent-%COMP%]{line-height:14px;font-size:11px}.tile-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;font-size:10px;white-space:nowrap;align-items:flex-end;justify-content:space-between}.tile-content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:10px}.tile-content[_ngcontent-%COMP%] > .pod-badges[_ngcontent-%COMP%]{display:flex;margin-top:4px;width:max-content}.tile-content[_ngcontent-%COMP%] > .pod-badges[_ngcontent-%COMP%]   .badge-item[_ngcontent-%COMP%]{background-color:#4d5766;display:flex;align-items:center;justify-content:center;color:#fff;font-size:8px;border-radius:3px;height:14px;padding:0 5px;margin-right:5px}.tile-content[_ngcontent-%COMP%] > .pod-badges[_ngcontent-%COMP%]   .badge-item.operational-state[_ngcontent-%COMP%]{text-transform:capitalize;background-color:#fff;border:1px solid #4d5766;color:#1b1b1b}.tile-content[_ngcontent-%COMP%]   .pod-operations-container[_ngcontent-%COMP%]{flex:0 1 auto;justify-content:flex-end;place-self:flex-end;margin:8px 0 0 8px;min-width:32px;min-height:26px}"],changeDetection:0}),e})();function it(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"infrastructure-status-pod-tile",1),E.NdJ("click",function(){const t=E.CHM(e).$implicit;return E.oxw().selectPod.emit(t)}),E.qZA()}if(2&e){const e=t.$implicit,n=E.oxw();E.Q6J("pod",e)("isSelected",e.id===n.viewModel.selectedId)}}let ot=(()=>{class e{constructor(){this.selectPod=new E.vpe,this.pods=[]}ngOnInit(){this.pods=this.viewModel.pods}trackById(e,t){return t.id}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=E.Xpm({type:e,selectors:[["infrastructure-status-tile-view"]],inputs:{viewModel:"viewModel"},outputs:{selectPod:"selectPod"},decls:1,vars:2,consts:[[3,"pod","isSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"pod","isSelected","click"]],template:function(e,t){1&e&&E.YNc(0,it,1,2,"infrastructure-status-pod-tile",0),2&e&&E.Q6J("ngForOf",t.pods)("ngForTrackBy",t.trackById)},directives:[i.sg,nt],styles:["[_nghost-%COMP%]{margin-left:-5px;margin-right:-5px;display:flex;flex-flow:row wrap;align-content:flex-start;padding-top:5px;padding-bottom:5px;height:calc(100% - 40px);overflow:auto}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{margin:5px}"]}),e})();const st=[{name:"States",class:"col-status",width:"120px",fixed:!0},{name:"POD name",width:"10%",minWidth:"50px"},{name:"Instance ID",width:"90%",minWidth:"68px",fixed:!0},{name:"Action",class:"col-action",width:"60px",fixed:!0}],at=[{name:"States",class:"col-status",width:"120px",fixed:!0},{name:"Role",width:"10%",minWidth:"50px"},{name:"POD name",width:"10%",minWidth:"50px"},{name:"Instance ID",width:"80%",minWidth:"68px",fixed:!0},{name:"Action",class:"col-action",width:"60px",fixed:!0}];var rt=n(11127);function lt(e,t){1&e&&E.GkF(0)}function ct(e,t){if(1&e&&(E.TgZ(0,"td",9),E.ALo(1,"formatTitle"),E.ALo(2,"titlecase"),E.ALo(3,"nullableValue"),E._uU(4),E.ALo(5,"titlecase"),E.ALo(6,"nullableValue"),E.qZA()),2&e){const e=E.oxw(2).$implicit;E.Q6J("title",E.lcZ(1,2,E.lcZ(2,4,E.lcZ(3,6,e.role)))),E.xp6(4),E.Oqu(E.lcZ(5,8,E.lcZ(6,10,e.role)))}}const dt=function(e){return{$implicit:e}};function ut(e,t){if(1&e){const e=E.EpF();E.ynx(0),E.TgZ(1,"td",6),E.YNc(2,lt,1,0,"ng-container",7),E.qZA(),E.YNc(3,ct,7,12,"td",8),E.TgZ(4,"td",9),E.ALo(5,"nullableValue"),E._uU(6),E.ALo(7,"nullableValue"),E.qZA(),E.TgZ(8,"td"),E._uU(9),E.qZA(),E.TgZ(10,"td"),E.TgZ(11,"ui-webem-button",10),E.NdJ("action",function(){E.CHM(e);const t=E.oxw().$implicit;return E.oxw().goToParameterEditor(t.instance)}),E.qZA(),E.qZA(),E.BQk()}if(2&e){const e=t.ngIf,n=E.oxw().$implicit,i=E.oxw(),o=E.MAs(8);E.xp6(2),E.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",E.VKq(12,dt,e)),E.xp6(1),E.Q6J("ngIf",i.isVcuPod),E.xp6(1),E.Q6J("title",E.lcZ(5,8,n.name)),E.xp6(2),E.Oqu(E.lcZ(7,10,n.name)),E.xp6(3),E.Oqu(n.instance),E.xp6(2),E.Q6J("disabled",!1)("model",i.GO_TO_PE_BUTTON)}}const pt=function(e,t,n){return{statusIcon:e,alarms:t,operationalState:n}};function gt(e,t){if(1&e&&(E.YNc(0,ut,12,14,"ng-container",5),E.ALo(1,"mapAvailabilityStatus")),2&e){const e=t.$implicit;E.Q6J("ngIf",E.kEZ(3,pt,E.lcZ(1,1,e.availabilityStatus),e.alarms,e.operationalState))}}function ht(e,t){1&e&&E._UZ(0,"span",11)}function mt(e,t){1&e&&(E.TgZ(0,"td",12),E.TgZ(1,"span",13),E._uU(2,"\u2013"),E.qZA(),E.qZA())}function ft(e,t){if(1&e&&(E._UZ(0,"ui-webem-raised-alarms",20),E.ALo(1,"getHighestAlarmSeverity")),2&e){const e=E.oxw().$implicit;E.Q6J("alarms",e.alarms)("alarmSeverityType",E.lcZ(1,2,e.alarms))}}function bt(e,t){if(1&e&&(E.TgZ(0,"td",21),E.TgZ(1,"span",22),E._uU(2),E.qZA(),E.qZA()),2&e){const e=E.oxw().$implicit;E.xp6(2),E.hij(" ",e.operationalState," ")}}function Ct(e,t){if(1&e&&(E.TgZ(0,"table",14),E.TgZ(1,"tr"),E.TgZ(2,"td",15),E._UZ(3,"ui-webem-status-icon",16),E.qZA(),E.TgZ(4,"td",15),E.YNc(5,ft,2,4,"ui-webem-raised-alarms",17),E.ALo(6,"hasAlarms"),E.qZA(),E.YNc(7,bt,3,1,"td",18),E.qZA(),E.TgZ(8,"tr",19),E._UZ(9,"td"),E._UZ(10,"td"),E.qZA(),E.qZA()),2&e){const e=t.$implicit;E.oxw();const n=E.MAs(4),i=E.MAs(6);E.xp6(3),E.Q6J("type",e.statusIcon.type)("title",e.statusIcon.title),E.xp6(2),E.Q6J("ngIf",E.lcZ(6,6,e))("ngIfElse",n),E.xp6(2),E.Q6J("ngIf",e.operationalState)("ngIfElse",i)}}let vt=(()=>{class e{constructor(e,t,n){this.store=e,this.activatedRoute=t,this.vnfcSharedService=n,this.selectPod=new E.vpe,this.STATUS_ICON_TYPE=K.Zm,this.parameterEditorRouteLink=A.r.parameterEditor,this.GO_TO_PE_BUTTON={title:"Go to Parameter Editor",icon:"mdi mdi-login-variant",theme:xe.bnJ.Default,thickness:xe.NOb.Thin}}get selectedPod(){return this._selectedPod}set selectedPod(e){this.selectPod.emit(e)}ngOnInit(){this.isVcuPod=this.vnfcSharedService.isVcu(),this.VmTableViewColumns=this.isVcuPod?at:st}ngOnChanges(e){e.viewModel&&e.viewModel.currentValue&&(this._selectedPod=this.findPod(e.viewModel.currentValue.selectedId,this.viewModel.pods))}goToParameterEditor(e){this.store.dispatch((0,w.uX)({routerLink:this.parameterEditorRouteLink,activatedRoute:this.activatedRoute,data:new _.q(e)}))}findPod(e,t){return e?t.find(t=>t.id===e):void 0}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(s.yh),E.Y36(o.gz),E.Y36(ke.Z9))},e.\u0275cmp=E.Xpm({type:e,selectors:[["infrastructure-status-table-view"]],inputs:{viewModel:"viewModel"},outputs:{selectPod:"selectPod"},features:[E.TTD],decls:9,vars:4,consts:[["dataKey","id",1,"pod-table",3,"items","columns","loading","selected","selectedChange"],["row",""],["noAlarms",""],["noOperationalState",""],["status",""],[4,"ngIf"],[1,"status-icons"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"title",4,"ngIf"],[3,"title"],[1,"action-button",3,"disabled","model","action"],[1,"no-alarms"],[1,"icon","pod-badges"],["title","No state"],[1,"inner-table"],[1,"icon"],[3,"type","title"],[3,"alarms","alarmSeverityType",4,"ngIf","ngIfElse"],["class","pod-badges",4,"ngIf","ngIfElse"],[1,"stretch"],[3,"alarms","alarmSeverityType"],[1,"pod-badges"],[1,"badge-item","operational-state"]],template:function(e,t){1&e&&(E.TgZ(0,"ui-webem-table-view",0),E.NdJ("selectedChange",function(e){return t.selectedPod=e}),E.YNc(1,gt,2,7,"ng-template",null,1,E.W1O),E.qZA(),E.YNc(3,ht,1,0,"ng-template",null,2,E.W1O),E.YNc(5,mt,3,0,"ng-template",null,3,E.W1O),E.YNc(7,Ct,11,8,"ng-template",null,4,E.W1O)),2&e&&E.Q6J("items",t.viewModel.pods)("columns",t.VmTableViewColumns)("loading",!t.viewModel.pods)("selected",t.selectedPod)},directives:[X.x,i.O5,i.tP,Ie.r,te.m,q.V],pipes:[ne.I,B.c,rt.H,i.rS,ie.U,oe.W],styles:["[_nghost-%COMP%]{display:block;margin-top:10px;height:calc(100% - 54px)}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]    {--status-icon-font-size:13px}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     cdk-virtual-scroll-viewport{overflow-y:scroll}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     th.col-status{text-align:center;padding-left:0;padding-right:0}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     th.col-action{text-align:center;padding-left:0;padding-right:0}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     td.status-icons{padding:0;position:relative;background-color:transparent}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table{width:100%;height:100%;position:absolute;top:0}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr>td{padding-left:0;padding-right:0;text-align:center}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr>td+td{border-left:1px solid #bec8d2}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr:first-of-type>td{height:26px}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr:not(:first-of-type)>td{padding:0}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     td{vertical-align:top}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     .icon{width:15px}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     .pod-badges{width:35px}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     .pod-badges .badge-item{background-color:#4d5766;align-items:center;justify-content:center;color:#fff;font-size:8px;border-radius:3px;height:14px;width:39px;padding:0 4px;margin-top:2px}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     .pod-badges .badge-item.operational-state{text-transform:capitalize;background-color:#fff;border:1px solid #4d5766;color:#1b1b1b}[_nghost-%COMP%]   .pod-table[_ngcontent-%COMP%]     .action-button{display:flex;align-items:center;justify-content:center;height:18px}"],changeDetection:0}),e})();var yt=n(43286);function St(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"infrastructure-status-tile-view",7),E.NdJ("selectPod",function(t){return E.CHM(e),E.oxw(5).selectPod(t)}),E.qZA()}if(2&e){const e=E.oxw(3).ngIf;E.Q6J("viewModel",e)}}function Pt(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"infrastructure-status-table-view",7),E.NdJ("selectPod",function(t){return E.CHM(e),E.oxw(5).selectPod(t)}),E.qZA()}if(2&e){const e=E.oxw(3).ngIf;E.Q6J("viewModel",e)}}function Ot(e,t){1&e&&(E.ynx(0),E.YNc(1,St,1,1,"infrastructure-status-tile-view",6),E.YNc(2,Pt,1,1,"infrastructure-status-table-view",6),E.BQk()),2&e&&(E.xp6(1),E.Q6J("ngSwitchCase","tile"),E.xp6(1),E.Q6J("ngSwitchCase","table"))}function xt(e,t){if(1&e&&(E.ynx(0),E.YNc(1,Ot,3,2,"ng-container",5),E.BQk()),2&e){const e=E.oxw().ngIf;E.oxw(2);const t=E.MAs(3);E.xp6(1),E.Q6J("ngIf",e&&e.pods&&0!==e.pods.length)("ngIfElse",t)}}function wt(e,t){if(1&e&&(E.ynx(0,4),E.ALo(1,"async"),E.YNc(2,xt,2,2,"ng-container",5),E.BQk()),2&e){const e=t.ngIf,n=E.oxw(2),i=E.MAs(5);E.Q6J("ngSwitch",E.lcZ(1,3,n.infrastructureStatusViewType$)),E.xp6(2),E.Q6J("ngIf",!e.isLoading)("ngIfElse",i)}}const At=function(e,t,n){return{pods:e,selectedId:t,isLoading:n}};function _t(e,t){if(1&e&&(E.ynx(0),E._UZ(1,"infrastructure-status-menu"),E.YNc(2,wt,3,5,"ng-container",3),E.ALo(3,"async"),E.ALo(4,"async"),E.BQk()),2&e){const e=t.ngIf,n=E.oxw();E.xp6(2),E.Q6J("ngIf",E.kEZ(5,At,e,E.lcZ(3,1,n.selectedPodId$),E.lcZ(4,3,n.isLoadingPodsData$)))}}function Tt(e,t){1&e&&E._UZ(0,"ui-webem-no-selected-message",8)}function It(e,t){1&e&&E._UZ(0,"ui-webem-spinner",9)}let Et=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.store.dispatch((0,P.Co)()),this.isLoadingPodsData$=this.store.pipe((0,s.Ys)(O.iu)),this.isFetchingData$=this.store.pipe((0,s.Ys)(O.ou)),this.pods$=this.store.pipe((0,s.Ys)(O.UN),(0,be.x)()),this.infrastructureStatusViewType$=this.store.pipe((0,s.Ys)(Pe),(0,be.x)()),this.selectedPodId$=this.store.pipe((0,s.Ys)(Se),(0,be.x)())}ngOnDestroy(){this.store.dispatch((0,P.NT)())}selectPod(e){this.store.dispatch((0,Ce.HO)({id:null==e?void 0:e.id}))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(s.yh))},e.\u0275cmp=E.Xpm({type:e,selectors:[["vm-status-infrastructure-status"]],decls:6,vars:3,consts:[[4,"ngIf"],["noData",""],["isLoading",""],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngIf","ngIfElse"],[3,"viewModel","selectPod",4,"ngSwitchCase"],[3,"viewModel","selectPod"],["message","No PODs to display",1,"status-empty-data"],[1,"data-loading-spinner"]],template:function(e,t){1&e&&(E.YNc(0,_t,5,9,"ng-container",0),E.ALo(1,"async"),E.YNc(2,Tt,1,0,"ng-template",null,1,E.W1O),E.YNc(4,It,1,0,"ng-template",null,2,E.W1O)),2&e&&E.Q6J("ngIf",E.lcZ(1,1,t.pods$))},directives:[i.O5,He,i.RF,i.n9,ot,vt,fe.G,yt.O],pipes:[i.Ov],styles:["[_nghost-%COMP%]{padding:10px 10px 0 15px;display:block;height:100%}"]}),e})();function Mt(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"vm-status-vm-tile",11),E.NdJ("goToPe",function(){const t=E.CHM(e).$implicit;return E.oxw(4).operations.goToPe(t.data.id)})("click",function(){const t=E.CHM(e).$implicit;return E.oxw(4).selectVm(t.data.id)}),E.qZA()}if(2&e){const e=t.$implicit;E.Q6J("model",e.data)("selected",e.selected)}}function kt(e,t){1&e&&(E.TgZ(0,"status-shared-tile-grid",9),E.YNc(1,Mt,1,2,"vm-status-vm-tile",10),E.qZA()),2&e&&E.Q6J("model",t.$implicit.model)}function Nt(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"vm-status-vm-table-view",12),E.NdJ("goToPe",function(t){return E.CHM(e),E.oxw(3).operations.goToPe(t.id)})("select",function(t){return E.CHM(e),E.oxw(3).selectVm(t)}),E.ALo(1,"async"),E.qZA()}if(2&e){const e=t.$implicit;E.Q6J("vms",E.lcZ(1,2,e.model.data))("selectedId",e.model.selected+"")}}function Lt(e,t){1&e&&E._UZ(0,"ui-webem-no-selected-message",13)}function Dt(e,t){if(1&e&&(E.TgZ(0,"status-shared-operations-view",5),E.YNc(1,kt,2,1,"status-shared-tile-grid",6),E.YNc(2,Nt,2,4,"vm-status-vm-table-view",7),E.YNc(3,Lt,1,0,"ui-webem-no-selected-message",8),E.qZA()),2&e){const e=E.oxw(2);E.Q6J("model",e.VIEW_MODEL)("useLoadingSpinner",!0)}}function Zt(e,t){1&e&&E._UZ(0,"vm-status-infrastructure-status")}function Rt(e,t){if(1&e&&(E.TgZ(0,"div",2),E.YNc(1,Dt,4,2,"status-shared-operations-view",3),E.YNc(2,Zt,1,0,"vm-status-infrastructure-status",4),E.qZA()),2&e){const e=t.ngIf,n=E.oxw();E.xp6(1),E.Q6J("ngIf",e===n.vnfcTypeModel.vms),E.xp6(1),E.Q6J("ngIf",e===n.vnfcTypeModel.pods)}}function Ut(e,t){1&e&&E._UZ(0,"ui-webem-spinner",14)}let Ft=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.vnfcTypeModel={vms:"vmCu",pods:"vCu"},this.VIEW_MODEL=x,this.operations=I(this.store,this.activatedRoute)}ngOnInit(){this.store.dispatch((0,P.Co)()),this.ActiveVnfcType$=this.store.pipe((0,s.Ys)(O.q9)),this.isLoadingVnfcsData$=this.store.pipe((0,s.Ys)(O.iu))}ngOnDestroy(){this.store.dispatch((0,P.NT)())}selectVm(e){const t=(0,a.isObject)(e)?e.id:(0,a.isString)(e)?e:null;this.store.dispatch(c({payload:t?parseInt(t,10):null}))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(s.yh),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["vm-status"]],decls:4,vars:4,consts:[["class","vnfc-main-content",4,"ngIf","ngIfElse"],["loadingData",""],[1,"vnfc-main-content"],[3,"model","useLoadingSpinner",4,"ngIf"],[4,"ngIf"],[3,"model","useLoadingSpinner"],["trackByPath","id",3,"model",4,"statusSharedTileGridComponent"],[3,"vms","selectedId","goToPe","select",4,"statusSharedTableComponent"],["class","status-empty-data","message","No VMs to display",4,"statusSharedEmptyData"],["trackByPath","id",3,"model"],[3,"model","selected","goToPe","click",4,"statusSharedTileComponent"],[3,"model","selected","goToPe","click"],[3,"vms","selectedId","goToPe","select"],["message","No VMs to display",1,"status-empty-data"],[1,"data-loading-spinner"]],template:function(e,t){if(1&e&&(E.YNc(0,Rt,3,2,"div",0),E.ALo(1,"async"),E.YNc(2,Ut,1,0,"ng-template",null,1,E.W1O)),2&e){const e=E.MAs(3);E.Q6J("ngIf",E.lcZ(1,2,t.ActiveVnfcType$))("ngIfElse",e)}},directives:[i.O5,M.E,k.j,N.a,L.Z,D.P,Z.E,Q,me,fe.G,Et,yt.O],pipes:[i.Ov],styles:[".vnfc-main-content[_ngcontent-%COMP%]{padding:0 15px 15px 0;display:block;height:100%}.vnfc-main-content[_ngcontent-%COMP%]   status-shared-operations-view[_ngcontent-%COMP%]{padding:10px 10px 0 15px}.vnfc-main-content[_ngcontent-%COMP%]   vm-status-vm-table-view[_ngcontent-%COMP%]{padding-top:10px}"]}),e})();const jt="goToPE",$t=[{name:"go-to-pe-button",model:{icon:"mdi mdi-exit-to-app",theme:xe.bnJ.Default,iconPosition:"left",label:"Go to PE",title:"Go to Parameter Editor",length:xe.Wmq.Short},action:jt,options:{minWidth:"70px"}}];function qt(e,t){if(1&e){const e=E.EpF();E.TgZ(0,"span"),E.TgZ(1,"ui-webem-button",2),E.NdJ("action",function(){const t=E.CHM(e).$implicit,n=E.oxw();return n.clickButton(t.action,n.vm)}),E.qZA(),E.qZA()}if(2&e){const e=t.$implicit;E.xp6(1),E.Q6J("id",e.name)("model",e.model)("options",e.options)}}let Bt=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.buttons=$t,this.operations=I(this.store,this.activatedRoute)}ngOnInit(){}clickButton(e,{id:t}){e===jt&&this.operations.goToPe(t)}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(s.yh),E.Y36(o.gz))},e.\u0275cmp=E.Xpm({type:e,selectors:[["vm-status-vm-operations-buttons"]],inputs:{vm:"vm"},decls:2,vars:1,consts:[["actions","","id","vm-details-buttons",1,"details-buttons"],[4,"ngFor","ngForOf"],[3,"id","model","options","action"]],template:function(e,t){1&e&&(E.TgZ(0,"div",0),E.YNc(1,qt,2,3,"span",1),E.qZA()),2&e&&(E.xp6(1),E.Q6J("ngForOf",t.buttons))},directives:[i.sg,Ie.r],styles:[".details-button[_ngcontent-%COMP%]{margin-right:8px;display:inline-block}.details-buttons[_ngcontent-%COMP%]{border-bottom:1px solid #98a2ae;padding-bottom:10px;margin-bottom:15px}"]}),e})(),Gt=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){return e?[{key:"VNFC name",value:this.nullableValuePipe.transform(e.name)},{key:"Hostname",value:this.nullableValuePipe.transform(e.hostname)},{key:"Software version",value:this.nullableValuePipe.transform(e.softwareVersion)}]:[]}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(B.c,16))},e.\u0275pipe=E.Yjl({name:"toVmDetailsProperties",type:e,pure:!0}),e})(),Vt=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){return e?[{key:"Availability status",value:e.availabilityStatus?(0,a.startCase)(e.availabilityStatus):this.nullableValuePipe.transform(e.availabilityStatus)},{key:"Operational state",value:e.operationalState?(0,a.startCase)(e.operationalState):this.nullableValuePipe.transform(e.operationalState)},{key:"Role",value:e.role?(0,a.startCase)(e.role):this.nullableValuePipe.transform(e.role)}]:[]}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(U.cP,16))},e.\u0275pipe=E.Yjl({name:"toVmStatesDetailsProperties",type:e,pure:!0}),e})();function Yt(e,t){1&e&&E._UZ(0,"vdu-shared-infrastructure-status-details")}function Jt(e,t){if(1&e&&(E.ynx(0),E._UZ(1,"vm-status-vm-operations-buttons",5),E.TgZ(2,"div",6),E._UZ(3,"ui-webem-details-section",7),E.ALo(4,"toVmDetailsProperties"),E._UZ(5,"ui-webem-details-section",8),E.ALo(6,"toVmStatesDetailsProperties"),E._UZ(7,"ui-webem-details-section",9),E.ALo(8,"toIpInterfacesDetailsProperties"),E.qZA(),E.BQk()),2&e){const e=E.oxw().ngIf;E.xp6(1),E.Q6J("vm",e),E.xp6(2),E.Q6J("data",E.lcZ(4,4,e)),E.xp6(2),E.Q6J("data",E.lcZ(6,6,e)),E.xp6(2),E.Q6J("data",E.lcZ(8,8,e))}}function Ht(e,t){if(1&e&&(E.ynx(0),E._UZ(1,"vm-status-vm-operations-buttons",5),E._UZ(2,"status-shared-details-panel-parameters",10),E.BQk()),2&e){const e=E.oxw().ngIf;E.xp6(1),E.Q6J("vm",e),E.xp6(1),E.Q6J("distNames",e.distNames)}}function Wt(e,t){1&e&&(E.TgZ(0,"webem-status-tabbed-panel"),E.YNc(1,Jt,9,10,"ng-container",3),E.YNc(2,Ht,3,2,"ng-container",4),E.qZA())}function Qt(e,t){1&e&&E._UZ(0,"ui-webem-no-selected-message",11)}function zt(e,t){if(1&e&&(E.TgZ(0,"webem-details-panel"),E.YNc(1,Wt,3,0,"webem-status-tabbed-panel",1),E.ALo(2,"async"),E.YNc(3,Qt,1,0,"ng-template",null,2,E.W1O),E.qZA()),2&e){const e=E.MAs(4),t=E.oxw(2);E.xp6(1),E.Q6J("ngIf",E.lcZ(2,2,t.vm$))("ngIfElse",e)}}function Kt(e,t){if(1&e&&(E.TgZ(0,"div"),E.YNc(1,Yt,1,0,"vdu-shared-infrastructure-status-details",0),E.YNc(2,zt,5,4,"webem-details-panel",0),E.qZA()),2&e){const e=t.ngIf,n=E.oxw();E.xp6(1),E.Q6J("ngIf",e===n.vnfcTypeModel.pods),E.xp6(1),E.Q6J("ngIf",e===n.vnfcTypeModel.vms)}}let Xt=(()=>{class e{constructor(e){this.store=e,this.vnfcTypeModel={vms:"vmCu",pods:"vCu"}}ngOnInit(){this.store.dispatch((0,P.Bj)()),this.ActiveVnfcType$=this.store.pipe((0,s.Ys)(O.q9)),this.vm$=(0,Oe.aj)([this.store.select(O.UN),this.store.select(C)]).pipe((0,y.U)(([e,t])=>e.find(e=>e.id===t.toString())))}}return e.\u0275fac=function(t){return new(t||e)(E.Y36(s.yh))},e.\u0275cmp=E.Xpm({type:e,selectors:[["vm-status-vm-status-details"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["noSelection",""],[4,"webemOverviewContent"],[4,"webemParametersContent"],[3,"vm"],[1,"vm-details-section"],["id","vm-properties","title","VNFC properties",3,"data"],["id","vm-states","title","VNFC states",3,"data"],["id","vm-ip-addresses","title","VNFC IP address",3,"data"],[3,"distNames"],["message","Select VNFC to see details"]],template:function(e,t){1&e&&(E.YNc(0,Kt,3,2,"div",0),E.ALo(1,"async")),2&e&&E.Q6J("ngIf",E.lcZ(1,1,t.ActiveVnfcType$))},directives:[i.O5,$e,we.V,Ae.Y,_e.r,Te.w,Bt,Ee.h,Me.h,fe.G],pipes:[i.Ov,Gt,Vt,Ze.w],styles:[".vm-details-section[_ngcontent-%COMP%]{overflow-y:auto;height:100%}#vm-properties[_ngcontent-%COMP%]{margin-top:0}"]}),e})();const en=[{path:"",component:n(47712).O,outlet:"content_menu"},{path:"",component:Ft,outlet:"content_center"},{path:"",component:Xt,outlet:"content_right"}];let tn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E.oAB({type:e}),e.\u0275inj=E.cJS({imports:[[i.ez,o.Bz.forChild(en)],o.Bz]}),e})();var nn=n(17513),on=n(94612),sn=n(57057),an=n(68307),rn=n(64699),ln=n(1429);let cn=(()=>{class e{constructor(e,t){this.store=e,this.actions$=t,this.PREFIX="VNFCs_status",this.LABELS=["VNFC name","Hostname","Software version","IP address","Status","Role","Alarms"],this.exportVmsToCsv$=(0,nn.GW)(()=>this.actions$.pipe((0,nn.l4)(d),(0,on.b)(e=>(0,S.of)(e).pipe((0,sn.M)(this.store.pipe((0,s.Ys)(O.UN)),this.store.pipe((0,s.Ys)(rn.K1))))),(0,y.U)(([e,t,n])=>[t.map(e=>this.mapVm(e)),this.getFilename(n)]),(0,an.b)(([e,t])=>(0,ln.m1)(e,t,this.LABELS))),{dispatch:!1})}mapVm(e){return[e.name?e.name:"",e.hostname||"",e.softwareVersion||"",e.ipInterfaces?e.ipInterfaces.map(this.mapIpInterface).join("\n"):"",e.availabilityStatus||"",(0,a.capitalize)(e.role||""),(0,ln.C1)(e.alarms)]}mapIpInterface(e){return`${e.interfaceName}: ${e.ipAddress}`}getFilename(e){return`${this.PREFIX}${(0,ln.cs)(e)}`}}return e.\u0275fac=function(t){return new(t||e)(E.LFG(s.yh),E.LFG(nn.eX))},e.\u0275prov=E.Yz7({token:e,factory:e.\u0275fac}),e})();var dn=n(60203),un=n(28061),pn=n(46239),gn=n(46763),hn=n(30845),mn=n(69484),fn=n(94437),bn=n(43420),Cn=n(23860),vn=n(44748),yn=n(72634),Sn=n(97759),Pn=n(23481);let On=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E.oAB({type:e}),e.\u0275inj=E.cJS({imports:[[fn.J,tn,i.ez,vn.LU,xe.gkd,bn.J,xe.Xn,xe.a9S,xe.EJq,dn.x,xe.upY,xe.hZC,gn.U,hn.R,mn.p,un.L,xe.g3K,pn.E,s.Aw.forFeature(g,m),nn.sQ.forFeature([cn]),xe.hXG,Cn.I,U.oS,yn.z,Sn.Us,K.IZ,xe.Fme,Pn.rJ]]}),e})()},60203:(e,t,n)=>{"use strict";n.d(t,{x:()=>y});var i=n(12057),o=n(62800),s=n(17513),a=n(25917),r=n(33637),l=n(87479),c=n(19773),d=n(5304),u=n(46782),p=n(88002),g=n(74298),h=n(89651),m=n(55823),f=n(53898),b=n(74788);let C=(()=>{class e{constructor(e,t,n){this.pollingService=e,this.actions$=t,this.statusService=n,this.unsubscribeVnfcsPolling$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(f.NT)),{dispatch:!1}),this.fetchVnfcs$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(f.Bj),(0,l.z)(()=>this.statusService.getVnfcs$Response().pipe((0,c.zg)(e=>{const t=(0,m.z)(e);return[(0,f.Nu)({payload:e.body}),(0,f.ZD)({payload:e.body.length}),(0,f.sc)({payload:t}),(0,f.yR)({isLoadingVnfcsData:!1})]}),(0,d.K)(e=>(0,a.of)((0,f.Gf)(e),(0,f.yR)({isLoadingVnfcsData:!0}))))))),this.subscribeVnfcsPolling$=(0,s.GW)(()=>({scheduler:e=r.P}={})=>this.actions$.pipe((0,s.l4)(f.Co),(0,c.zg)(()=>this.pollingService.getTimer(e).pipe((0,u.R)(this.unsubscribeVnfcsPolling$),(0,c.zg)(()=>(0,a.of)((0,f.Bj)())))))),this.TurnSpinnerOn$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(f.Co),(0,p.U)(()=>(0,f.yR)({isLoadingVnfcsData:!0}))))}}return e.\u0275fac=function(t){return new(t||e)(b.LFG(h.x),b.LFG(s.eX),b.LFG(g.B))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac}),e})();var v=n(18285);let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[i.ez,s.sQ.forFeature([C]),o.Aw.forFeature(v.UN,v.I6)]]}),e})()},53898:(e,t,n)=>{"use strict";n.d(t,{Co:()=>s,NT:()=>a,Gf:()=>r,Bj:()=>l,Nu:()=>c,sc:()=>d,oO:()=>u,ZD:()=>p,yR:()=>g});var i=n(62800),o=(()=>(function(e){e.PollingSubscribe="[Vnfcs] Subscribe to vnfcs status polling",e.PollingUnsubscribe="[Vnfcs] Unsubscribe from vnfcs status polling",e.VnfcsFetchError="[Vnfcs] Fetch vnfcs error",e.VnfcsFetch="[Vnfcs] Vnfcs fetch request",e.VnfcsSet="[Vnfcs] Set vnfcs",e.VnfcSetType="[Vnfcs] Set vnfc type",e.ChangePage="[User] [Vnfcs] Change Vnfcs page",e.SetTotalOfItems="[Virtual Machines] Set number of total Virtual Machines`",e.IsLoadingVnfcsData="[User] [Vnfcs] Is loading Vnfcs data"}(o||(o={})),o))();const s=(0,i.PH)(o.PollingSubscribe),a=(0,i.PH)(o.PollingUnsubscribe),r=(0,i.PH)(o.VnfcsFetchError,(0,i.Ky)()),l=(0,i.PH)(o.VnfcsFetch),c=(0,i.PH)(o.VnfcsSet,(0,i.Ky)()),d=(0,i.PH)(o.VnfcSetType,(0,i.Ky)()),u=(0,i.PH)(o.ChangePage,(0,i.Ky)()),p=(0,i.PH)(o.SetTotalOfItems,(0,i.Ky)()),g=(0,i.PH)(o.IsLoadingVnfcsData,(0,i.Ky)())},18285:(e,t,n)=>{"use strict";n.d(t,{UN:()=>a,VL:()=>r,I6:()=>d});var i=n(62800),o=n(23607),s=n(53898);const a="vnfcs",r=(0,o.H)({selectId:e=>e.id}),l=r.getInitialState({itemsPerPage:6,activePage:1,total:0,vnfcType:"",isLoadingVnfcsData:!1,isFetching:!0}),c=(0,i.Lq)(l,(0,i.on)(s.Nu,(e,{payload:t})=>r.setAll(t,Object.assign(Object.assign({},e),{isFetching:!1}))),(0,i.on)(s.sc,(e,{payload:t})=>Object.assign(Object.assign({},e),{vnfcType:t})),(0,i.on)(s.oO,(e,{payload:t})=>Object.assign(Object.assign({},e),{activePage:t})),(0,i.on)(s.ZD,(e,{payload:t})=>Object.assign(Object.assign({},e),{total:t})),(0,i.on)(s.yR,(e,t)=>Object.assign(Object.assign({},e),{isLoadingVnfcsData:t.isLoadingVnfcsData})),(0,i.on)(s.Gf,e=>r.removeAll(e)));function d(e,t){return c(e,t)}},39950:(e,t,n)=>{"use strict";n.d(t,{UN:()=>r,p9:()=>l,j8:()=>c,UR:()=>d,q9:()=>u,iu:()=>p,ou:()=>g});var i=n(62800),o=n(18285);const{selectAll:s}=o.VL.getSelectors(),a=(0,i.ZF)(o.UN),r=(0,i.P1)(a,s),l=(0,i.P1)(a,e=>e.itemsPerPage),c=(0,i.P1)(a,e=>e.total),d=(0,i.P1)(a,e=>e.activePage),u=(0,i.P1)(a,e=>e.vnfcType),p=(0,i.P1)(a,e=>e.isLoadingVnfcsData),g=(0,i.P1)(a,e=>e.isFetching)},88195:(e,t,n)=>{"use strict";n.d(t,{PL:()=>s,$g:()=>a,Ir:()=>r,$s:()=>l,rq:()=>c,Rn:()=>d,Kp:()=>u,EY:()=>p,O4:()=>g,Nn:()=>h,lS:()=>m,Zv:()=>f,nG:()=>b,_x:()=>C,o8:()=>v,Wq:()=>y,xv:()=>S,uB:()=>P,Bj:()=>O});var i=n(62800),o=(()=>(function(e){e.unlockX2LinkFailure="[Effect] Unlock X2 Links operation failure",e.unlockX2LinkHttpError="[Effect] Unlock X2 Links operation http error",e.unlockX2LinkActionOngoing="[Effect] Unlock X2 Links operation ongoing",e.x2LinkStoreError="[Effect] X2 Links store error",e.lockX2LinkFailure="[Effect] Lock X2 Links failure",e.lockX2LinkHttpError="[Effect] Lock X2 Links http error",e.lockX2LinkActionOngoing="[Effect] Lock X2 Links action ongoing",e.lockX2LinkActionSuccess="[Effect] Lock X2 Links operation success",e.unlockX2LinkActionSuccess="[Effect] Unlock X2 Links operation success",e.x2LinksPollingError="[Effect] X2 Links polling error",e.lockX2Links="[User] lock X2 Links",e.lockX2Link="[Effect] lock X2 Links",e.unlockX2Links="[User] unlock X2 Links",e.unlockX2Link="[Effect] unlock X2 Links",e.unlockX2LinksFinished="[Effect] Unlock X2 Links finished",e.lockX2LinksFinished="[Effect] Lock X2 Links finished",e.updateX2Links="[Effect] Update X2 Links in store",e.startX2LinksPolling="[User] Start x2Links polling",e.stopX2LinksPolling="[Effect] Stop x2Links polling",e.x2LinksRequest="[Effect] X2Links request",e.x2LinksRequestError="[Effect] X2Links error",e.resetX2LinksAction="[Effect] resetX2LinksAction",e.x2LinkSelected="[Effect] X2 link selected"}(o||(o={})),o))();const s=(0,i.PH)(o.resetX2LinksAction),a=(0,i.PH)(o.updateX2Links,(0,i.Ky)()),r=(0,i.PH)(o.startX2LinksPolling),l=(0,i.PH)(o.stopX2LinksPolling),c=(0,i.PH)(o.x2LinksRequest),d=((0,i.PH)(o.x2LinksPollingError,(0,i.Ky)()),(0,i.PH)(o.x2LinkStoreError,(0,i.Ky)())),u=(0,i.PH)(o.unlockX2LinkActionSuccess,(0,i.Ky)()),p=(0,i.PH)(o.lockX2LinkActionOngoing,(0,i.Ky)()),g=(0,i.PH)(o.lockX2LinkHttpError,(0,i.Ky)()),h=(0,i.PH)(o.lockX2LinkFailure,(0,i.Ky)()),m=(0,i.PH)(o.unlockX2LinkActionOngoing,(0,i.Ky)()),f=(0,i.PH)(o.unlockX2LinkHttpError,(0,i.Ky)()),b=(0,i.PH)(o.unlockX2LinkFailure,(0,i.Ky)()),C=(0,i.PH)(o.unlockX2Links,(0,i.Ky)()),v=(0,i.PH)(o.unlockX2Link,(0,i.Ky)()),y=(0,i.PH)(o.lockX2Links,(0,i.Ky)()),S=(0,i.PH)(o.lockX2Link,(0,i.Ky)()),P=((0,i.PH)(o.lockX2LinksFinished,(0,i.Ky)()),(0,i.PH)(o.unlockX2LinksFinished,(0,i.Ky)()),(0,i.PH)(o.x2LinksRequestError)),O=(0,i.PH)(o.lockX2LinkActionSuccess,(0,i.Ky)())},22642:(e,t,n)=>{"use strict";n.d(t,{VL:()=>a,E3:()=>r,I6:()=>p});var i=n(62800),o=n(23607),s=n(88195);const a=(0,o.H)({selectId:e=>e.id}),r=a.getInitialState({updateVersion:""}),l=(0,i.on)(s.PL,()=>r),c=(0,i.on)(s.$g,(e,{payload:{created:t,removed:n,revision:i,updated:o}})=>(e=a.removeMany(n,e),e=a.addMany(t,e),a.upsertMany(o,Object.assign(Object.assign({},e),{updateVersion:i})))),d=(0,i.on)(s.$s,()=>r),u=(0,i.Lq)(r,c,d,l);function p(e,t){return u(e,t)}},61656:(e,t,n)=>{"use strict";n.d(t,{L1:()=>l,WF:()=>c});var i=n(62800),o=n(26902),s=n(22642);const a=(0,i.ZF)(o.I),r=(0,i.P1)(a,e=>e.x2LinksState),l=(0,i.P1)(r,e=>e.updateVersion),c=(0,i.P1)(r,s.VL.getSelectors().selectAll);(0,i.P1)(r,s.VL.getSelectors().selectEntities)},26902:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});const i="x2Links"},42347:(e,t,n)=>{"use strict";n.d(t,{i:()=>U});var i=n(12057),o=n(62800),s=n(22642),a=n(26902),r=n(17513),l=n(88195),c=n(41838),d=n(33637),u=n(25917),p=n(88002),g=n(19773),h=n(46782),m=n(96736),f=n(57057),b=n(87479),C=n(5304),v=n(61656),y=n(2413),S=n(44364),P=n(74788);let O=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.pollingService=t,this.statusService=n,this.store=i,this.x2LinkRequestErrorAddNotification$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.uB),(0,p.U)(()=>(0,S.wN)({payload:{severity:"error",summary:"Updating X2 links list failed"}})))),this.x2LinkRequestErrorResetAction$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.uB),(0,p.U)(()=>(0,l.PL)()))),this.stopX2LinksPolling$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.$s)),{dispatch:!1}),this.startX2LinksPolling$=(0,r.GW)((e=d.P)=>this.actions$.pipe((0,r.l4)(l.Ir),(0,g.zg)(()=>this.pollingService.getTimer(e).pipe((0,h.R)(this.stopX2LinksPolling$),(0,m.h)((0,l.rq)()))))),this.x2LinksRequest$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.rq),(0,f.M)(this.store.select(v.L1)),(0,b.z)(([,e])=>(e!==s.E3.updateVersion?this.statusService.getX2LinksDiff({oldRevision:e}):this.statusService.getX2LinksDiff()).pipe((0,p.U)(e=>(0,l.$g)({payload:e})),(0,C.K)(()=>(0,u.of)((0,l.uB)()))))))}}return e.\u0275fac=function(t){return new(t||e)(P.LFG(r.eX),P.LFG(c.xj),P.LFG(y.Bj),P.LFG(o.yh))},e.\u0275prov=P.Yz7({token:e,factory:e.\u0275fac}),e})();var x=n(94612),w=n(77267);const A="X2 Link Lock",_="LTEENB-",T="X2 Link Unlock",I=e=>({payload:{severity:"info",summary:A,detail:(0,w.R)(e,"lock operation started",_)}}),E=e=>({payload:{severity:"error",summary:A,detail:(0,w.R)(e,"lock operation failed",_)}}),M=e=>({payload:{severity:"info",summary:T,detail:(0,w.R)(e,"unlock operation started",_)}}),k=e=>({payload:{severity:"error",summary:T,detail:(0,w.R)(e,"unlock operation failed",_)}});var N=n(89651),L=n(6546);let D=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.lockX2LinkHttpError$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.O4),(0,x.b)(({additionalData:{x2LinkIds:e}})=>[(0,S.wN)(E(e)),(0,L.R)()]))),this.lockX2LinkSuccess$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.Bj),(0,x.b)(({additionalData:{x2LinkIds:e}})=>{return[(0,S.wN)((t=e,{payload:{severity:"success",summary:A,detail:(0,w.R)(t,"lock operation finished",_)}})),(0,L.R)()];var t}))),this.lockX2LinkFailed$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.Nn),(0,x.b)(({additionalData:{x2LinkIds:e}})=>[(0,S.wN)(E(e)),(0,L.R)()]))),this.lockX2Links$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.Wq),(0,g.zg)(({x2LinkIds:e})=>this.executeLock(e,!0).pipe((0,C.K)(e=>(0,u.of)((0,l.Rn)({error:e}))))))),this.lockX2LinksStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.Wq),(0,x.b)(({x2LinkIds:e})=>[(0,S.wN)(I(e)),(0,L.h)()]))),this.lockX2LinkStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.xv),(0,x.b)(({x2LinkId:e})=>[(0,S.wN)(I([e])),(0,L.h)()]))),this.lockX2Link$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.xv),(0,g.zg)(({x2LinkId:e})=>this.executeLock([e],!0).pipe((0,C.K)(e=>(0,u.of)((0,l.Rn)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.lockX2Links({body:e}),this.executeLock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getX2LinksLock({operationId:e}),additionalData:{x2LinkIds:e},onActionSuccess:t?l.Bj:void 0,onActionFailure:l.Nn,onActionError:l.O4,onActionOngoing:l.EY})}}return e.\u0275fac=function(t){return new(t||e)(P.LFG(r.eX),P.LFG(N.x),P.LFG(y.Bj))},e.\u0275prov=P.Yz7({token:e,factory:e.\u0275fac}),e})(),Z=(()=>{class e{constructor(e,t,n){this.actions$=e,this.pollingService=t,this.statusService=n,this.unlockX2LinkHttpError$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.Zv),(0,x.b)(({additionalData:{x2LinkIds:e}})=>[(0,S.wN)(k(e)),(0,L.R)()]))),this.unlockX2LinkSuccess$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.Kp),(0,x.b)(({additionalData:{x2LinkIds:e}})=>{return[(0,S.wN)((t=e,{payload:{severity:"success",summary:T,detail:(0,w.R)(t,"unlock operation finished",_)}})),(0,L.R)()];var t}))),this.unlockX2LinkFailed$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.nG),(0,x.b)(({additionalData:{x2LinkIds:e}})=>[(0,S.wN)(k(e)),(0,L.R)()]))),this.unlockX2Links$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l._x),(0,g.zg)(({x2LinkIds:e})=>this.executeUnlock(e,!0).pipe((0,C.K)(e=>(0,u.of)((0,l.Rn)({error:e}))))))),this.unlockX2LinksStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l._x),(0,x.b)(({x2LinkIds:e})=>[(0,S.wN)(M(e)),(0,L.h)()]))),this.unlockX2LinkStarted$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.o8),(0,x.b)(({x2LinkId:e})=>[(0,S.wN)(M([e])),(0,L.h)()]))),this.unlockX2Link$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(l.o8),(0,g.zg)(({x2LinkId:e})=>this.executeUnlock([e],!0).pipe((0,C.K)(e=>(0,u.of)((0,l.Rn)({error:e}))))))),this.endpointResponseSerializer=({id:e,errorMessage:t,detailedStatuses:n,status:i})=>({actionId:e,status:i,detailedStatuses:n,errorMessage:t}),this.requestEndpoint=({body:e})=>this.statusService.unlockX2Links({body:e}),this.executeUnlock=(e,t)=>this.pollingService.executeAction({requestEndpoint:this.requestEndpoint,requestParams:{body:{ids:e}},endpointResponseSerializer:this.endpointResponseSerializer,pollingEndpoint:({actionId:e})=>this.statusService.getX2LinksUnlock({operationId:e}),additionalData:{x2LinkIds:e},onActionSuccess:t?l.Kp:void 0,onActionFailure:l.nG,onActionError:l.Zv,onActionOngoing:l.lS})}}return e.\u0275fac=function(t){return new(t||e)(P.LFG(r.eX),P.LFG(N.x),P.LFG(y.Bj))},e.\u0275prov=P.Yz7({token:e,factory:e.\u0275fac}),e})();var R=n(98795);let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=P.oAB({type:e}),e.\u0275inj=P.cJS({imports:[[i.ez,R.d,o.Aw.forFeature(a.I,{x2LinksState:s.I6}),r.sQ.forFeature([O,D,Z])]]}),e})()},65206:(e,t,n)=>{"use strict";n.r(t),n.d(t,{X2LinksSortType:()=>y.U,X2StatusModule:()=>cn,X2StatusRoutingModule:()=>qt,fromX2LinksStatus:()=>o,x2LinksStatusActions:()=>i});var i={};n.r(i),n.d(i,{changeFilter:()=>h,changeSortType:()=>g,exportToCsv:()=>f,restoreView:()=>m,selectX2Link:()=>u,setDisplayConfiguration:()=>p,setFreeSearchText:()=>b,setView:()=>d});var o={};n.r(o),n.d(o,{featureKey:()=>S,initialState:()=>P,reducer:()=>x});var s=n(12057),a=n(12021),r=n(62800),l=n(23815),c=(()=>(function(e){e.SetView="[User] [X2 Links Status] Set view",e.SelectX2Link="[User] [X2 Links Status] Select X2 link",e.setDisplayConfiguration="[User] [X2 Links Status] Set visible X2 link parameters",e.ChangeSortType="[User] [X2 Links Status] Change sort type",e.ChangeFilter="[User] [X2 Links Status] Change filter",e.RestoreView="[User] [X2 Links Status] Restore view",e.ExportToCsv="[User] [X2 Links Status] Export to csv",e.SetFreeSearchText="[User] [X2 Links Status] Set free search text"}(c||(c={})),c))();const d=(0,r.PH)(c.SetView,(0,r.Ky)()),u=(0,r.PH)(c.SelectX2Link,(0,r.Ky)()),p=(0,r.PH)(c.setDisplayConfiguration,(0,r.Ky)()),g=(0,r.PH)(c.ChangeSortType,(0,r.Ky)()),h=(0,r.PH)(c.ChangeFilter,(0,r.Ky)()),m=(0,r.PH)(c.RestoreView),f=(0,r.PH)(c.ExportToCsv),b=(0,r.PH)(c.SetFreeSearchText,(0,r.Ky)());var C=n(91849),v=(()=>(function(e){e.BY_LTEENB_ID="id",e.BY_ENODEB_ID="eNodebId",e.BY_LINK_STATUS="x2LinkStatus",e.BY_LOCK_STATE="x2LinkLock"}(v||(v={})),v))(),y=n(9894);const S="x2LinksStatus",P={viewType:C.b.TILE,freeSearchText:"",selectedId:-1,sortType:y.U.BY_LTEENB_ID,filterState:{[v.BY_LTEENB_ID]:"",[v.BY_ENODEB_ID]:"",[v.BY_LINK_STATUS]:[],[v.BY_LOCK_STATE]:[]},displayConfiguration:{actions:!0,eNodebId:!0,ipAddress:!0,mccMnc:!0}},O=(0,r.Lq)(P,(0,r.on)(d,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),(0,r.on)(u,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedId:(0,l.isNil)(t)?-1:t})),(0,r.on)(p,(e,{payload:t})=>Object.assign(Object.assign({},e),{displayConfiguration:t})),(0,r.on)(g,(e,{payload:t})=>Object.assign(Object.assign({},e),{sortType:t})),(0,r.on)(b,(e,{payload:t})=>Object.assign(Object.assign({},e),{freeSearchText:t})),(0,r.on)(h,(e,{payload:t})=>Object.assign(Object.assign({},e),{filterState:Object.assign(Object.assign({},e.filterState),t)})),(0,r.on)(m,e=>Object.assign(Object.assign({},P),{viewType:e.viewType,selectedId:e.selectedId})));function x(e,t){return O(e,t)}const w=(0,r.ZF)(S),A=(0,r.P1)(w,e=>e.viewType),_=(0,r.P1)(w,e=>e.selectedId),T=(0,r.P1)(w,e=>e.displayConfiguration),I=(0,r.P1)(w,e=>e.sortType),E=(0,r.P1)(w,e=>e.freeSearchText),M=(0,r.P1)(w,e=>e.filterState),k=(0,r.P1)(I,E,T,M,(e,t,n,i)=>e===P.sortType&&t===P.freeSearchText&&(0,l.isEqual)(P.displayConfiguration,n)&&(0,l.isEqual)(i,P.filterState)),N=(0,r.P1)(w,e=>Object.keys(e.displayConfiguration).every(t=>e.displayConfiguration[t]));var L=n(88002);const D=e=>(0,l.mapValues)(P.displayConfiguration,()=>e),Z=[{localStorageKey:"x2-links-x2-links-status",initialConfig:["actions","eNodebId","ipAddress","mccMnc"],description:"Present the following data on X2 widget:",options:[{label:"eNodeB ID",value:"eNodebId"},{label:"MCC / MNC",value:"mccMnc"},{label:"IP address",value:"ipAddress"},{label:"Actions",value:"actions"}],getDataSource:e=>e.select(T).pipe((0,L.U)(e=>Object.keys(e).filter(t=>e[t]))),onFilterChange:(e,t)=>{t.dispatch(p({payload:e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),D(!1))}))},selectAllInput:{selectAll:e=>e.dispatch(p({payload:D(!0)})),deselectAll:e=>e.dispatch(p({payload:D(!1)})),isAllSelected:e=>e.select(N)}}],R={export:e=>e.dispatch(f())},U={areFiltersDefault:e=>e.select(k),resetFilters:e=>e.dispatch(m())},F=(e,t)=>{t.dispatch(g({payload:e}))},j={description:"Sort X2 links by:",defaultSort:y.U.BY_LTEENB_ID,options:[{label:"LTEENB ID",hint:"Ascending order",value:y.U.BY_LTEENB_ID,onChange:F},{label:"X2 link status",hint:"Unavailable X2 links will be displayed as first",value:y.U.BY_LINK_STATUS,onChange:F},{label:"Locking state",hint:"Locked X2 links will be displayed as first",value:y.U.BY_LOCK_STATE,onChange:F}],groupName:"",getDataSource:e=>e.select(I)},$={getDataSource:e=>e.select(E),filterChange:(e,t)=>t.dispatch(b({payload:e}))};var q=n(65202),B=n(58016);const G=(e,t,n)=>{n.dispatch(h({payload:{[e]:t}}))},V=(e,t,n)=>{n.dispatch(h({payload:{[e]:t}}))},Y=[{description:"Filter X2 links by:",inputs:[{id:v.BY_LTEENB_ID,label:"LTEENB ID:",setInputFilter:G},{id:v.BY_ENODEB_ID,label:"eNodeB ID:",setInputFilter:G}],checkboxes:[{id:v.BY_LINK_STATUS,label:"X2 link status:",options:[{label:"Available",value:q.f.Available},{label:"Unavailable",value:q.f.Unavailable}],setCheckboxFilter:V},{id:v.BY_LOCK_STATE,label:"Locking state:",options:[{label:"Locked",value:B.j.Locked},{label:"Unlocked",value:B.j.Unlocked}],setCheckboxFilter:V}],getDataSource:e=>e.select(M)}],J={getDataSource:e=>e.select(A),toggleView:(e,t)=>t.dispatch(d({payload:e}))};var H=n(9112),W=n(29920),Q=n(70593);const z=[(e,t)=>!!e.eNodebId&&e.eNodebId.toLowerCase().includes(t),(e,t)=>!!e.ipAddress&&e.ipAddress.toLowerCase().includes(t),(e,t)=>`${e.mcc} ${e.mnc}`.includes(t),(e,t)=>`LTEENB-${e.id}`.toLowerCase().includes(t),(e,t)=>e.x2LinkLock.toLowerCase()===t.toLowerCase(),(e,t)=>!!e.x2LinkStatus&&e.x2LinkStatus.toLowerCase()===t.toLowerCase()];var K=n(88195),X=n(61656);const ee={configure:Z,filter:Y,sort:j,freeSearch:$,reset:U,toggle:J,export:R,startPolling:e=>e.dispatch(K.Ir()),stopPolling:e=>e.dispatch(K.$s()),getDataSource:e=>(0,H.aj)([e.select(X.WF),e.select(M),e.select(I),e.select(E)]).pipe((0,L.U)(([e,t,n,i])=>(0,W.h)(function(e,t,n){return e.filter(e=>function(e,t){return!t||(0,Q.q)("lteenb",/lteenb-/,t,`LTEENB-${e.id}`)}(e,t[v.BY_LTEENB_ID])&&function(e,t){return!t||(0,Q.q)("enodeb",/enodeb-/,t,`enodeb-${e.eNodebId}`)}(e,t[v.BY_ENODEB_ID])&&function(e,t){return!t.length||t.some(t=>e.x2LinkStatus===t)}(e,t[v.BY_LINK_STATUS])&&function(e,t){return!t.length||t.some(t=>e.x2LinkLock===t)}(e,t[v.BY_LOCK_STATE])&&function(e,t){return!t||z.some(n=>n(e,t.toLowerCase()))}(e,n.trim()))}(e,t,i),n))),getSelected:e=>e.select(_).pipe((0,L.U)(e=>e.toString())),getConfiguration:e=>e.select(T),getElementId:e=>e.id,isFetchingData:e=>e.select(X.L1).pipe((0,L.U)(e=>!e))};var te=n(55585),ne=n(79765),ie=n(46782),oe=n(42488),se=n(54618),ae=n(16661),re=n(13742),le=n(96141);const ce=(e,t)=>n=>t.confirm({message:"You are about to lock selected X2 Link\n\nDo you want to proceed?",header:"Lock X2 Link",acceptLabel:"OK",rejectLabel:"Cancel",icon:se.Wf,accept:()=>e.dispatch(K.xv({x2LinkId:n}))}),de=(e,t)=>n=>{e.dispatch((0,re.uX)({routerLink:ae.r.parameterEditor,activatedRoute:t,data:new le.q(`LTEENB-${n}`)}))},ue=(e,t)=>n=>t.confirm({message:"You are about to unlock selected X2 Link\n\nDo you want to proceed?",header:"Unlock X2 Link",acceptLabel:"OK",rejectLabel:"Cancel",icon:se.Wf,accept:()=>e.dispatch(K.o8({x2LinkId:n}))});function pe(e,t,n){return{goToPe:de(e,n),lockX2Link:ce(e,t),unlockX2Link:ue(e,t)}}var ge=n(8678),he=n(74788),me=n(33013),fe=n(74952),be=n(44761),Ce=n(8701),ve=n(65044),ye=n(83473),Se=n(65159),Pe=n(63788),Oe=n(60697),xe=n(56177),we=n(22730),Ae=n(49201),_e=n(94721),Te=n(62039),Ie=n(90460),Ee=n(83665),Me=n(58373),ke=n(96393);function Ne(e,t){if(1&e&&(he.ynx(0),he.TgZ(1,"span"),he._uU(2,"/"),he.qZA(),he.TgZ(3,"span"),he._uU(4),he.ALo(5,"nullableValue"),he.qZA(),he.BQk()),2&e){const e=he.oxw();he.xp6(3),he.uIk("data-enodebid",e.model.eNodebId),he.xp6(1),he.AsE("",e.model.eNodebId&&"eNodeB-","",he.lcZ(5,3,e.model.eNodebId),"")}}const Le=function(){return[]};function De(e,t){if(1&e&&(he._UZ(0,"ui-webem-raised-alarms",16),he.ALo(1,"findSeverity"),he.ALo(2,"toActiveAlarms")),2&e){const e=he.oxw();he.Q6J("alarmSeverityType",he.lcZ(1,2,e.model.alarms||he.DdM(6,Le)))("alarms",he.lcZ(2,4,e.model.alarms||he.DdM(7,Le)))}}function Ze(e,t){1&e&&he._UZ(0,"i",17)}function Re(e,t){if(1&e&&(he.TgZ(0,"span",18),he.TgZ(1,"span",19),he._uU(2),he.ALo(3,"nullableValue"),he.ALo(4,"nullableValue"),he.qZA(),he.qZA()),2&e){const e=he.oxw();he.xp6(2),he.AsE(" MCC / MNC: ",he.lcZ(3,2,e.model.mcc)," / ",he.lcZ(4,4,e.model.mnc)," ")}}function Ue(e,t){if(1&e&&(he.TgZ(0,"span",20),he._uU(1),he.ALo(2,"nullableValue"),he.qZA()),2&e){const e=he.oxw();he.xp6(1),he.hij("IP: ",he.lcZ(2,1,e.model.ipAddress),"")}}function Fe(e,t){1&e&&he.GkF(0)}function je(e,t){1&e&&he._UZ(0,"i",21)}function $e(e,t){if(1&e){const e=he.EpF();he.TgZ(0,"div",22),he.TgZ(1,"ui-webem-button-with-menu",23),he.NdJ("click",function(){return he.CHM(e),he.oxw().menuToggle.emit()}),he.qZA(),he.qZA()}if(2&e){const e=he.oxw();he.xp6(1),he.Q6J("buttonConfig",e.ACTIONS_BUTTON_MODEL)("menuOptions",e.model.x2LinkLock===e.X2_LINK_LOCK.Locked?e.lockedX2LinkActions:e.unlockedX2LinkActions)("scrollableContainer",e.container)}}const qe=function(e){return{"display-none":e}};let Be=(()=>{class e{constructor(e){this.nullableValuePipe=e,this.lock=new he.vpe,this.unlock=new he.vpe,this.goToPe=new he.vpe,this.menuToggle=new he.vpe,this.X2_LINK_LOCK=B.j,this.ACTIONS_BUTTON_MODEL={title:"Actions",icon:"mdi mdi-dots-vertical",theme:Oe.bnJ.Secondary,length:Oe.Wmq.Long},this.GO_TO_PARAMETER_EDITOR_ACTION={label:"Go to PE",icon:"mdi mdi-import",command:()=>this.goToPe.emit()}}ngOnInit(){this.recalculateTooltipContent()}ngOnChanges(){this.recalculateTooltipContent(),this.setMenu()}recalculateTooltipContent(){const e=`${this.nullableValuePipe.transform(this.model.mcc)}/${this.nullableValuePipe.transform(this.model.mnc)}`;this.tooltipPanelContent=[{title:"eNodeB ID",value:this.model.eNodebId?`eNodeB-${this.model.eNodebId}`:Ae.v},{title:"MCC/MNC",value:e},{title:"IP address",value:this.nullableValuePipe.transform(this.model.ipAddress)}],this.tooltipPanelContentStatus=[{title:"X2 link status",value:(0,l.capitalize)(this.nullableValuePipe.transform(this.model.x2LinkStatus))},{title:"Locking state",value:(0,l.capitalize)(this.model.x2LinkLock)}]}setMenu(){this.unlockedX2LinkActions=[{label:"Lock X2 Link",icon:"mdi mdi-lock mdi-16px",command:()=>this.lock.emit(),disabled:this.isCommissioningInProgress,roleAccessFlag:we.M.LOCK_UNLOCK},this.GO_TO_PARAMETER_EDITOR_ACTION],this.lockedX2LinkActions=[{label:"Unlock X2 Link",icon:"mdi mdi-lock-open-variant-outline mdi-16px",command:()=>this.unlock.emit(),disabled:this.isCommissioningInProgress,roleAccessFlag:we.M.LOCK_UNLOCK},this.GO_TO_PARAMETER_EDITOR_ACTION]}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(xe.cP))},e.\u0275cmp=he.Xpm({type:e,selectors:[["x2-status-x2-link-tile"]],inputs:{model:"model",selected:"selected",visibleParameters:"visibleParameters",container:"container",isCommissioningInProgress:"isCommissioningInProgress"},outputs:{lock:"lock",unlock:"unlock",goToPe:"goToPe",menuToggle:"menuToggle"},features:[he.TTD],decls:20,vars:22,consts:[["tooltipTitleHeader","LTEENB ID",3,"tooltipTitleValue","tooltipContent","tooltipTileState"],[1,"tile-frame",3,"ngClass"],[1,"inner-radius"],[1,"tile-header"],[1,"status-title"],[4,"ngIf"],[1,"icons"],["uiWebemToggleParentTooltip","",3,"alarmSeverityType","alarms",4,"ngIf"],["class","lock-icon mdi mdi-lock mdi-16px","title","Locked",4,"ngIf","ngIfElse"],[1,"tile-content",3,"ngClass"],[1,"x2-link-content"],["class","x2-link-parameter",4,"ngIf"],["class","x2-link-parameter x2-link-parameter-ipaddress",4,"ngIf"],[4,"ngIf","ngIfThen"],["unLock",""],["operationsButton",""],["uiWebemToggleParentTooltip","",3,"alarmSeverityType","alarms"],["title","Locked",1,"lock-icon","mdi","mdi-lock","mdi-16px"],[1,"x2-link-parameter"],[1,"x2-link-parameter-mcc-mnc"],[1,"x2-link-parameter","x2-link-parameter-ipaddress"],["title","Unlocked",1,"unlocked"],[1,"operations-button-container"],["uiWebemToggleParentTooltip","",1,"actions-button",3,"buttonConfig","menuOptions","scrollableContainer","click"]],template:function(e,t){if(1&e&&(he.TgZ(0,"ui-webem-tile-tooltip",0),he.TgZ(1,"div",1),he.TgZ(2,"div",2),he.TgZ(3,"div",3),he.TgZ(4,"div",4),he.TgZ(5,"span"),he._uU(6),he.qZA(),he.YNc(7,Ne,6,5,"ng-container",5),he.qZA(),he.TgZ(8,"div",6),he.YNc(9,De,3,8,"ui-webem-raised-alarms",7),he.YNc(10,Ze,1,0,"i",8),he.qZA(),he.qZA(),he.TgZ(11,"div",9),he.TgZ(12,"div",10),he.YNc(13,Re,5,6,"span",11),he.YNc(14,Ue,3,3,"span",12),he.qZA(),he.YNc(15,Fe,1,0,"ng-container",13),he.qZA(),he.qZA(),he.qZA(),he.YNc(16,je,1,0,"ng-template",null,14,he.W1O),he.YNc(18,$e,2,3,"ng-template",null,15,he.W1O),he.qZA()),2&e){const e=he.MAs(17),n=he.MAs(19);he.Q6J("tooltipTitleValue","LTEENB-"+t.model.id)("tooltipContent",t.tooltipPanelContent)("tooltipTileState",t.tooltipPanelContentStatus),he.xp6(1),he.ekj("selected",t.selected),he.Q6J("ngClass",t.model.x2LinkStatus?t.model.x2LinkStatus:""),he.uIk("data-name","LTEENB-"+t.model.id),he.xp6(4),he.uIk("data-id",t.model.id),he.xp6(1),he.hij("LTEENB-",t.model.id,""),he.xp6(1),he.Q6J("ngIf",t.visibleParameters.eNodebId),he.xp6(1),he.uIk("data-x2-link-status",t.model.x2LinkStatus)("data-x2-link-locked",t.model.x2LinkLock),he.xp6(1),he.Q6J("ngIf",!(null==t.model.alarms||!t.model.alarms.length)),he.xp6(1),he.Q6J("ngIf",t.model.x2LinkLock===t.X2_LINK_LOCK.Locked)("ngIfElse",e),he.xp6(1),he.Q6J("ngClass",he.VKq(20,qe,!(t.visibleParameters.mccMnc||t.visibleParameters.ipAddress||t.visibleParameters.actions))),he.xp6(2),he.Q6J("ngIf",t.visibleParameters.mccMnc),he.xp6(1),he.Q6J("ngIf",t.visibleParameters.ipAddress),he.xp6(1),he.Q6J("ngIf",t.visibleParameters.actions)("ngIfThen",n)}},directives:[_e.x,s.mk,s.O5,Te.V,Ie.x,Ee.N],pipes:[Ae.c,Me.P,ke.G],styles:['@charset "UTF-8";.data-loading-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;font-size:40px;width:40px;height:40px;margin:auto;top:0;left:0;right:0;bottom:0;overflow:visible;color:#98a2ae}.data-loading-spinner.embedded[_ngcontent-%COMP%]{position:absolute;color:#4d5766}.data-loading-spinner.embedded-no-background[_ngcontent-%COMP%]{position:absolute}.unlocked[_ngcontent-%COMP%]:before{content:"\uffe7";display:inline-block;font:normal normal normal 24px/1 Material Design Icons,sans-serif;font-size:16px;line-height:16px}[_nghost-%COMP%]{display:inline-block;width:180px}.tile-frame[_ngcontent-%COMP%]{border-radius:3px;border:1px solid;border-left:5px solid;box-shadow:0 3px 4px rgba(0,0,0,.18);cursor:pointer}.tile-frame[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px;padding:8px}.tile-frame.available[_ngcontent-%COMP%]{background-color:#3daa00}.tile-frame.available[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#f1fee9}.tile-frame.available[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#3daa00}.tile-frame.unavailable[_ngcontent-%COMP%]{background-color:#da1914}.tile-frame.unavailable[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#ffe1e2}.tile-frame.unavailable[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#da1914}.tile-frame[_ngcontent-%COMP%]:hover{border-color:#00c9ff;background-color:#00c9ff;box-shadow:0 0 0 .5px #00c9ff}.tile-frame.selected[_ngcontent-%COMP%], .tile-frame[_ngcontent-%COMP%]:hover{transition:border-color .2s,box-shadow .2s}.tile-frame.selected[_ngcontent-%COMP%]{border-color:#124191;background-color:#124191;box-shadow:0 0 0 1px #124191}.tile-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) max-content;grid-column-gap:8px;column-gap:8px}.tile-header[_ngcontent-%COMP%]   .status-title[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;font-weight:700;font-size:12px}.tile-header[_ngcontent-%COMP%]   .status-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tile-header[_ngcontent-%COMP%]   .status-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{flex-shrink:0}.tile-header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.tile-header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]:before{vertical-align:text-bottom}.tile-header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:2px}.x2-link-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;padding-right:8px;white-space:nowrap}.x2-link-parameter[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tile-content[_ngcontent-%COMP%]{margin-top:8px;display:grid;grid-template-columns:minmax(0,1fr) max-content;align-items:end;font-size:10px;line-height:15px}.tile-options[_ngcontent-%COMP%]{display:grid;align-items:center}.tile-content.display-none[_ngcontent-%COMP%], .tile-options.display-none[_ngcontent-%COMP%]{display:none}.operations-button-container[_ngcontent-%COMP%]{min-width:32px;min-height:26px;justify-content:flex-end;display:flex;height:100%;flex-direction:column}'],changeDetection:0}),e})();const Ge=[{name:"Status",width:"64px",class:"col-status",fixed:!0},{name:"LTEENB ID",width:"112%",minWidth:"70px"},{name:"eNodeB ID",width:"112%",minWidth:"70px",parameterGroup:"eNodebId"},{name:"MCC / MNC",width:"126%",minWidth:"70px",parameterGroup:"mccMnc"},{name:"IP address",width:"350%",minWidth:"70px",parameterGroup:"ipAddress"},{name:"Actions",width:"75px",fixed:!0,parameterGroup:"actions"}];var Ve=n(47702),Ye=n(40954),Je=n(52504),He=n(88361),We=n(2069),Qe=n(92798),ze=n(20087),Ke=n(67866);function Xe(e,t){if(1&e&&he._UZ(0,"ui-webem-status-icon",14),2&e){const e=he.oxw().ngIf,t=he.oxw(2);he.Q6J("type",e.available?t.STATUS_ICON_TYPE.Success:t.STATUS_ICON_TYPE.Danger)("title",e.available?"Available":"Unavailable")}}function et(e,t){1&e&&he._UZ(0,"i",15)}function tt(e,t){if(1&e&&(he._UZ(0,"ui-webem-raised-alarms",16),he.ALo(1,"getHighestAlarmSeverity")),2&e){const e=he.oxw(2).$implicit;he.Q6J("alarms",e.alarms)("alarmSeverityType",he.lcZ(1,2,e.alarms))}}function nt(e,t){if(1&e&&(he.TgZ(0,"td"),he._uU(1),he.ALo(2,"nullableValue"),he.qZA()),2&e){const e=he.oxw(2).$implicit;he.xp6(1),he.AsE("",e.eNodebId&&"eNodeB-","",he.lcZ(2,2,e.eNodebId),"")}}function it(e,t){if(1&e&&(he.TgZ(0,"td"),he.ALo(1,"nullableValue"),he.ALo(2,"nullableValue"),he._uU(3),he.ALo(4,"nullableValue"),he.ALo(5,"nullableValue"),he.qZA()),2&e){const e=he.oxw(2).$implicit;he.uIk("title",he.lcZ(1,3,e.mcc)+" / "+he.lcZ(2,5,e.mnc)),he.xp6(3),he.AsE(" ",he.lcZ(4,7,e.mcc)," / ",he.lcZ(5,9,e.mnc),"")}}function ot(e,t){if(1&e&&(he.TgZ(0,"td"),he.ALo(1,"nullableValue"),he._uU(2),he.ALo(3,"nullableValue"),he.qZA()),2&e){const e=he.oxw(2).$implicit;he.uIk("title",he.lcZ(1,2,e.ipAddress)),he.xp6(2),he.Oqu(he.lcZ(3,4,e.ipAddress))}}function st(e,t){if(1&e){const e=he.EpF();he.TgZ(0,"td",17),he.TgZ(1,"ui-webem-button",18,19),he.NdJ("action",function(){he.CHM(e);const t=he.oxw().ngIf,n=he.oxw().$implicit,i=he.oxw();return t.locked?i.unlock.emit(n):i.lock.emit(n)}),he.qZA(),he.TgZ(3,"ui-webem-go-to-pe-table-button",20),he.NdJ("action",function(){he.CHM(e);const t=he.oxw(2).$implicit;return he.oxw().goToPe.emit(t)}),he.qZA(),he.qZA()}if(2&e){const e=he.MAs(2),t=he.oxw().ngIf,n=he.oxw(2);he.xp6(1),he.Q6J("oamRoleAccessControl","LOCK_UNLOCK")("hostInstance",e)("model",t.locked?n.UNLOCK_BUTTON_MODEL:n.LOCK_BUTTON_MODEL)("disabled",n.isCommissioningInProgress)}}function at(e,t){if(1&e&&(he.ynx(0),he.TgZ(1,"td",6),he.TgZ(2,"div",7),he.TgZ(3,"div",8),he.YNc(4,Xe,1,2,"ui-webem-status-icon",9),he.qZA(),he.TgZ(5,"div",8),he.YNc(6,et,1,0,"i",10),he.qZA(),he.TgZ(7,"div",8),he.YNc(8,tt,2,4,"ui-webem-raised-alarms",11),he.ALo(9,"hasAlarms"),he.qZA(),he.qZA(),he.qZA(),he.TgZ(10,"td",12),he._uU(11),he.qZA(),he.YNc(12,nt,3,4,"td",5),he.YNc(13,it,6,11,"td",5),he.YNc(14,ot,4,6,"td",5),he.YNc(15,st,4,4,"td",13),he.BQk()),2&e){const e=t.ngIf,n=he.oxw().$implicit,i=he.oxw(),o=he.MAs(8),s=he.MAs(4),a=he.MAs(6);he.xp6(4),he.Q6J("ngIf",n.x2LinkStatus)("ngIfElse",o),he.xp6(2),he.Q6J("ngIf",e.locked)("ngIfElse",s),he.xp6(2),he.Q6J("ngIf",he.lcZ(9,12,n))("ngIfElse",a),he.xp6(2),he.MGl("title","LTEENB-",n.id,""),he.xp6(1),he.hij("LTEENB-",n.id,""),he.xp6(1),he.Q6J("ngIf",i.visibleParameters.eNodebId),he.xp6(1),he.Q6J("ngIf",i.visibleParameters.mccMnc),he.xp6(1),he.Q6J("ngIf",i.visibleParameters.ipAddress),he.xp6(1),he.Q6J("ngIf",i.visibleParameters.actions)}}const rt=function(e,t){return{locked:e,available:t}};function lt(e,t){if(1&e&&he.YNc(0,at,16,14,"ng-container",5),2&e){const e=t.$implicit,n=he.oxw();he.Q6J("ngIf",he.WLB(1,rt,e.x2LinkLock===n.X2_LINK_LOCK.Locked,e.x2LinkStatus===n.X2_LINK_STATUS.Available))}}function ct(e,t){1&e&&he._UZ(0,"i",21)}function dt(e,t){1&e&&he._UZ(0,"span",22)}function ut(e,t){if(1&e&&(he.TgZ(0,"span",23),he._uU(1),he.qZA()),2&e){const e=he.oxw();he.xp6(1),he.Oqu(e.EMPTY_PLACEHOLDER)}}let pt=(()=>{class e{constructor(){this.goToPe=new he.vpe,this.lock=new he.vpe,this.unlock=new he.vpe,this.select=new he.vpe,this.ROWS_BUFFER=40,this.X2_LINK_LOCK=B.j,this.X2_LINK_STATUS=q.f,this.STATUS_ICON_TYPE=Ve.Zm,this.X2_LINK_TABLE_VIEW_COLUMNS=Ge,this.LOCK_BUTTON_MODEL={title:"Lock X2 Link",icon:"mdi mdi-lock",thickness:Oe.NOb.Thin},this.UNLOCK_BUTTON_MODEL={title:"Unlock X2 Link",icon:"mdi mdi-lock-open-variant-outline",thickness:Oe.NOb.Thin},this.EMPTY_PLACEHOLDER=Ae.v}get selected(){return this._selected||null}set selected(e){this.select.emit(e)}ngOnInit(){}ngOnChanges(e){(e.x2Links||e.selectedId)&&(this._selected=this.findX2Link(this.selectedId,this.x2Links))}findX2Link(e,t){if(t)return e?t.find(t=>t.id===e):void 0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=he.Xpm({type:e,selectors:[["x2-status-x2-link-table-view"]],inputs:{x2Links:"x2Links",selectedId:"selectedId",visibleParameters:"visibleParameters",isCommissioningInProgress:"isCommissioningInProgress"},outputs:{goToPe:"goToPe",lock:"lock",unlock:"unlock",select:"select"},features:[he.TTD],decls:9,vars:7,consts:[["dataKey","id",1,"du-table",3,"items","columns","visibleParameterGroupColumns","selected","loading","virtual","minBuffer","selectedChange"],["row",""],["unlocked",""],["noAlarms",""],["noStatus",""],[4,"ngIf"],[1,"status-icons"],[1,"fake-cell-group"],[1,"fake-cell"],[3,"type","title",4,"ngIf","ngIfElse"],["class","mdi mdi-lock locked mdi-16px","title","Locked",4,"ngIf","ngIfElse"],[3,"alarms","alarmSeverityType",4,"ngIf","ngIfElse"],[3,"title"],["class","col-actions",4,"ngIf"],[3,"type","title"],["title","Locked",1,"mdi","mdi-lock","locked","mdi-16px"],[3,"alarms","alarmSeverityType"],[1,"col-actions"],[3,"oamRoleAccessControl","hostInstance","model","disabled","action"],["LOCK_UNLOCK",""],[3,"action"],["title","Unlocked",1,"unlocked"],[1,"no-alarms"],["title","No status"]],template:function(e,t){1&e&&(he.TgZ(0,"ui-webem-table-view",0),he.NdJ("selectedChange",function(e){return t.selected=e}),he.YNc(1,lt,1,4,"ng-template",null,1,he.W1O),he.qZA(),he.YNc(3,ct,1,0,"ng-template",null,2,he.W1O),he.YNc(5,dt,1,0,"ng-template",null,3,he.W1O),he.YNc(7,ut,2,1,"ng-template",null,4,he.W1O)),2&e&&he.Q6J("items",t.x2Links)("columns",t.X2_LINK_TABLE_VIEW_COLUMNS)("visibleParameterGroupColumns",t.visibleParameters)("selected",t.selected)("loading",!t.x2Links)("virtual",!0)("minBuffer",t.ROWS_BUFFER)},directives:[Ye.x,s.O5,Je.m,Te.V,He.r,We.h,Qe.C],pipes:[ze.U,Ke.W,Ae.c],styles:['@charset "UTF-8";.data-loading-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;font-size:40px;width:40px;height:40px;margin:auto;top:0;left:0;right:0;bottom:0;overflow:visible;color:#98a2ae}.data-loading-spinner.embedded[_ngcontent-%COMP%]{position:absolute;color:#4d5766}.data-loading-spinner.embedded-no-background[_ngcontent-%COMP%]{position:absolute}.unlocked[_ngcontent-%COMP%]:before{content:"\uffe7";display:inline-block;font:normal normal normal 24px/1 Material Design Icons,sans-serif;font-size:16px;line-height:16px}[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]    {--status-icon-font-size:13px}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     th.col-status{text-align:center}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.status-icons{padding:0}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group{display:grid;grid-template-columns:1fr 1fr 1fr;width:100%;height:100%}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group>.fake-cell{display:flex;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]   .du-table[_ngcontent-%COMP%]     td.status-icons>.fake-cell-group>*+*{border-left:1px solid #bec8d2}.col-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:4px}'],changeDetection:0}),e})();var gt=n(19230);function ht(e,t){if(1&e){const e=he.EpF();he.TgZ(0,"x2-status-x2-link-tile",7),he.NdJ("goToPe",function(){const t=he.CHM(e).$implicit;return he.oxw(2).operations.goToPe(t.data.id)})("lock",function(){const t=he.CHM(e).$implicit;return he.oxw(2).operations.lockX2Link(t.data.id)})("unlock",function(){const t=he.CHM(e).$implicit;return he.oxw(2).operations.unlockX2Link(t.data.id)})("click",function(){const t=he.CHM(e).$implicit;return he.oxw(2).selectX2Link(t.data.id)}),he.qZA()}if(2&e){const e=t.$implicit;he.oxw();const n=he.MAs(1),i=he.oxw();he.Q6J("model",e.data)("isCommissioningInProgress",i.isCommissioningInProgress)("visibleParameters",e.configuration)("selected",e.selected)("container",null==n?null:n.virtualScrollerRef)}}function mt(e,t){1&e&&(he.TgZ(0,"status-shared-virtual-tile-grid",4,5),he.YNc(2,ht,1,5,"x2-status-x2-link-tile",6),he.qZA()),2&e&&he.Q6J("model",t.$implicit.model)}function ft(e,t){if(1&e){const e=he.EpF();he.TgZ(0,"x2-status-x2-link-table-view",8),he.NdJ("goToPe",function(t){return he.CHM(e),he.oxw().operations.goToPe(t.id)})("lock",function(t){return he.CHM(e),he.oxw().operations.lockX2Link(t.id)})("unlock",function(t){return he.CHM(e),he.oxw().operations.unlockX2Link(t.id)})("select",function(t){return he.CHM(e),he.oxw().selectX2Link(t)}),he.ALo(1,"async"),he.qZA()}if(2&e){const e=t.$implicit,n=he.oxw();he.Q6J("x2Links",he.lcZ(1,4,e.model.data))("isCommissioningInProgress",n.isCommissioningInProgress)("selectedId",e.model.selected+"")("visibleParameters",e.model.configuration)}}function bt(e,t){1&e&&he._UZ(0,"ui-webem-no-selected-message",9)}const Ct=function(){return{width:"350px"}};let vt=(()=>{class e{constructor(e,t,n){this.store=e,this.confirmationService=t,this.activatedRoute=n,this.ngUnsubscribe=new ne.xQ,this.VIEW_MODEL=ee,this.operations=pe(this.store,this.confirmationService,this.activatedRoute)}ngOnInit(){this.loadStateFromRedirect(),this.commissioningSubscription=this.store.pipe((0,ie.R)(this.ngUnsubscribe),(0,r.Ys)(oe.f)).subscribe(e=>{this.isCommissioningInProgress=e})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}selectX2Link(e){const t=(0,l.isObject)(e)?e.id:(0,l.isString)(e)?e:null;this.store.dispatch(u({payload:t?parseInt(t,10):null}))}loadStateFromRedirect(){var e;if((null===(e=history.state)||void 0===e?void 0:e.data)&&history.state.data.type===ge.b.X2_LINKS){this.store.dispatch(m());const e={[te.U.LINK_STATUS]:y.U.BY_LINK_STATUS,[te.U.LOCK_STATE]:y.U.BY_LOCK_STATE,[te.U.LTEENB_ID]:y.U.BY_LTEENB_ID}[history.state.data.sortType];this.store.dispatch(g({payload:e}))}}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(r.yh),he.Y36(me.YP),he.Y36(a.gz))},e.\u0275cmp=he.Xpm({type:e,selectors:[["x2-status"]],decls:5,vars:4,consts:[[3,"model"],["trackByPath","id",3,"model",4,"statusSharedTileGridComponent"],[3,"x2Links","isCommissioningInProgress","selectedId","visibleParameters","goToPe","lock","unlock","select",4,"statusSharedTableComponent"],["class","status-empty-data","message","No X2 Links to display",4,"statusSharedEmptyData"],["trackByPath","id",3,"model"],["virtualTileGrid",""],[3,"model","isCommissioningInProgress","visibleParameters","selected","container","goToPe","lock","unlock","click",4,"statusSharedTileComponent"],[3,"model","isCommissioningInProgress","visibleParameters","selected","container","goToPe","lock","unlock","click"],[3,"x2Links","isCommissioningInProgress","selectedId","visibleParameters","goToPe","lock","unlock","select"],["message","No X2 Links to display",1,"status-empty-data"]],template:function(e,t){1&e&&(he.TgZ(0,"status-shared-operations-view",0),he.YNc(1,mt,3,1,"status-shared-virtual-tile-grid",1),he.YNc(2,ft,2,6,"x2-status-x2-link-table-view",2),he.YNc(3,bt,1,0,"ui-webem-no-selected-message",3),he.qZA(),he._UZ(4,"p-confirmDialog")),2&e&&(he.Q6J("model",t.VIEW_MODEL),he.xp6(4),he.Akn(he.DdM(3,Ct)))},directives:[fe.E,be.j,Ce.a,ve.Z,ye.Q,Se.h,Pe.E,Be,pt,gt.G],pipes:[s.Ov],styles:["[_nghost-%COMP%]{padding:10px 15px 15px;display:block;height:100%}status-shared-virtual-tile-grid[_ngcontent-%COMP%]{padding-top:5px}x2-status-x2-link-table-view[_ngcontent-%COMP%]{padding-top:10px}"]}),e})();var yt=n(33346),St=n(36900),Pt=n(44501),Ot=n(41146);const xt="lock",wt="unlock",At="goToPE",_t=[{name:"lock button",model:{icon:"mdi mdi-lock",theme:Oe.bnJ.Default,iconPosition:"left",label:"Lock X2 Link",length:Oe.Wmq.Short},action:xt,roleAccessFlag:we.M.LOCK_UNLOCK},{name:"unlock button",model:{icon:"mdi mdi-lock-open-variant-outline",theme:Oe.bnJ.Default,iconPosition:"left",label:"Unlock X2 Link",length:Oe.Wmq.Short},action:wt,roleAccessFlag:we.M.LOCK_UNLOCK},{name:"go-to-pe-button",model:{icon:"mdi mdi-exit-to-app",theme:Oe.bnJ.Default,iconPosition:"left",label:"Go to PE",title:"Go to Parameter Editor",length:Oe.Wmq.Short},action:At}];let Tt=(()=>{class e{transform(e,t){switch(t){case xt:return e===B.j.Unlocked;case wt:return e===B.j.Locked;default:return!0}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=he.Yjl({name:"isButtonVisibleByX2LinksState",type:e,pure:!0}),e})();function It(e,t){if(1&e){const e=he.EpF();he.TgZ(0,"ui-webem-button",3,4),he.NdJ("action",function(){he.CHM(e);const t=he.oxw().$implicit,n=he.oxw();return n.buttonClick(t.action,n.x2Link)}),he.qZA()}if(2&e){const e=he.MAs(1),t=he.oxw().$implicit,n=he.oxw();he.Q6J("oamRoleAccessControl",t.roleAccessFlag)("hostInstance",e)("id",t.name)("model",t.model)("options",t.options)("disabled",(t.name===n.buttonNames.lockButton||t.name===n.buttonNames.unlockButton)&&n.isCommissioningInProgress)}}function Et(e,t){if(1&e&&(he.ynx(0),he.YNc(1,It,2,6,"ui-webem-button",2),he.ALo(2,"isButtonVisibleByX2LinksState"),he.BQk()),2&e){const e=t.$implicit,n=he.oxw();he.xp6(1),he.Q6J("ngIf",he.xi3(2,1,n.x2Link.x2LinkLock,e.action))}}let Mt=(()=>{class e{constructor(e,t,n){this.store=e,this.confirmationService=t,this.activatedRoute=n,this.commissioningSubject=new ne.xQ,this.operations=pe(this.store,this.confirmationService,this.activatedRoute),this.buttons=(0,l.cloneDeep)(_t),this.buttonNames={lockButton:"lock button",unlockButton:"unlock button"}}ngOnInit(){this.commissioningSubscription=this.store.pipe((0,ie.R)(this.commissioningSubject),(0,r.Ys)(oe.f)).subscribe(e=>{this.isCommissioningInProgress=e})}ngOnDestroy(){this.commissioningSubject.next(),this.commissioningSubject.complete()}buttonClick(e,t){switch(e){case xt:this.operations.lockX2Link(t.id);break;case wt:this.operations.unlockX2Link(t.id);break;case At:this.operations.goToPe(t.id)}}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(r.yh),he.Y36(me.YP),he.Y36(a.gz))},e.\u0275cmp=he.Xpm({type:e,selectors:[["x2-status-x2-links-operations-buttons"]],inputs:{x2Link:"x2Link"},decls:2,vars:1,consts:[["actions","","id","x2-links-details-buttons",1,"details-buttons"],[4,"ngFor","ngForOf"],["class","details-button",3,"oamRoleAccessControl","hostInstance","id","model","options","disabled","action",4,"ngIf"],[1,"details-button",3,"oamRoleAccessControl","hostInstance","id","model","options","disabled","action"],["btn",""]],template:function(e,t){1&e&&(he.TgZ(0,"div",0),he.YNc(1,Et,3,4,"ng-container",1),he.qZA()),2&e&&(he.xp6(1),he.Q6J("ngForOf",t.buttons))},directives:[s.sg,s.O5,He.r,We.h],pipes:[Tt],styles:[".details-button[_ngcontent-%COMP%]{margin-right:8px;display:inline-block}.details-buttons[_ngcontent-%COMP%]{border-bottom:1px solid #98a2ae;padding-bottom:10px;margin-bottom:15px}"]}),e})();var kt=n(75107),Nt=n(60698);let Lt=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){return e?[{key:"LTEENB ID",value:`LTEENB-${e.id}`},{key:"eNodeB ID",value:e.eNodebId?`eNodeB-${e.eNodebId}`:Ae.v},{key:"MCC / MNC",value:`${this.nullableValuePipe.transform(e.mcc)} / ${this.nullableValuePipe.transform(e.mnc)}`},{key:"IP address",value:this.nullableValuePipe.transform(e.ipAddress)}]:[]}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(xe.cP,16))},e.\u0275pipe=he.Yjl({name:"toX2LinkDetailsProperties",type:e,pure:!0}),e})(),Dt=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){return e?[{key:"X2 link status",value:(0,l.capitalize)(this.nullableValuePipe.transform(e.x2LinkStatus))},{key:"Locking state",value:(0,l.capitalize)(e.x2LinkLock)}]:[]}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(xe.cP,16))},e.\u0275pipe=he.Yjl({name:"toX2LinkStatesDetailsProperties",type:e,pure:!0}),e})();function Zt(e,t){if(1&e&&(he.ynx(0),he._UZ(1,"x2-status-x2-links-operations-buttons",4),he.TgZ(2,"div",5),he._UZ(3,"ui-webem-details-section",6),he.ALo(4,"toX2LinkDetailsProperties"),he._UZ(5,"ui-webem-details-section",7),he.ALo(6,"toX2LinkStatesDetailsProperties"),he.qZA(),he.BQk()),2&e){const e=he.oxw().ngIf;he.xp6(1),he.Q6J("x2Link",e),he.xp6(2),he.Q6J("data",he.lcZ(4,3,e)),he.xp6(2),he.Q6J("data",he.lcZ(6,5,e))}}function Rt(e,t){if(1&e&&(he.ynx(0),he._UZ(1,"x2-status-x2-links-operations-buttons",4),he._UZ(2,"status-shared-details-panel-parameters",8),he.BQk()),2&e){const e=he.oxw().ngIf;he.xp6(1),he.Q6J("x2Link",e),he.xp6(1),he.Q6J("distNames",e.distNames)}}function Ut(e,t){1&e&&(he.TgZ(0,"webem-status-tabbed-panel"),he.YNc(1,Zt,7,7,"ng-container",2),he.YNc(2,Rt,3,2,"ng-container",3),he.qZA())}function Ft(e,t){1&e&&he._UZ(0,"ui-webem-no-selected-message",9)}let jt=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.selectedX2Link$=(0,H.aj)([this.store.select(X.WF),this.store.select(_)]).pipe((0,L.U)(([e,t])=>e.find(e=>e.id===t.toString())))}}return e.\u0275fac=function(t){return new(t||e)(he.Y36(r.yh))},e.\u0275cmp=he.Xpm({type:e,selectors:[["x2-status-x2-status-details"]],decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["noSelection",""],[4,"webemOverviewContent"],[4,"webemParametersContent"],[3,"x2Link"],[1,"x2-details-section"],["id","x2-link-properties","title","X2 link properties",3,"data"],["id","x2-link-states","title","X2 link states",3,"data"],[3,"distNames"],["message","Select X2 link to see details"]],template:function(e,t){if(1&e&&(he.TgZ(0,"webem-details-panel"),he.YNc(1,Ut,3,0,"webem-status-tabbed-panel",0),he.ALo(2,"async"),he.YNc(3,Ft,1,0,"ng-template",null,1,he.W1O),he.qZA()),2&e){const e=he.MAs(4);he.xp6(1),he.Q6J("ngIf",he.lcZ(2,2,t.selectedX2Link$))("ngIfElse",e)}},directives:[yt.V,s.O5,St.Y,Pt.r,Ot.w,Mt,kt.h,Nt.h,gt.G],pipes:[s.Ov,Lt,Dt],styles:[".x2-details-section[_ngcontent-%COMP%]{overflow-y:auto;height:100%}status-shared-details-panel-parameters[_ngcontent-%COMP%]{overflow-y:auto}#x2-link-properties[_ngcontent-%COMP%]{margin-top:0}"]}),e})();const $t=[{path:"",component:n(47712).O,outlet:"content_menu"},{path:"",component:vt,outlet:"content_center"},{path:"",component:jt,outlet:"content_right"}];let qt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=he.oAB({type:e}),e.\u0275inj=he.cJS({imports:[[s.ez,a.Bz.forChild($t)],a.Bz]}),e})();var Bt=n(21499),Gt=n(28061),Vt=n(46239),Yt=n(24751),Jt=n(17513),Ht=n(94612),Wt=n(57057),Qt=n(68307),zt=n(25917),Kt=n(64699),Xt=n(1429);let en=(()=>{class e{constructor(e,t){this.store=e,this.actions$=t,this.PREFIX="X2_links_status",this.LABELS=["LTEENB ID","eNodeB ID","MCC","MNC","IP address","Status","Locked","Alarms"],this.exportX2LinksToCsv$=(0,Jt.GW)(()=>this.actions$.pipe((0,Jt.l4)(f),(0,Ht.b)(e=>(0,zt.of)(e).pipe((0,Wt.M)(this.store.pipe((0,r.Ys)(X.WF)),this.store.pipe((0,r.Ys)(Kt.K1))))),(0,L.U)(([e,t,n])=>[t.map(e=>this.mapX2Link(e)),this.getFilename(n)]),(0,Qt.b)(([e,t])=>(0,Xt.m1)(e,t,this.LABELS))),{dispatch:!1})}mapX2Link(e){return[`LTEENB-${e.id}`,e.eNodebId?`eNodeB-${e.eNodebId}`:"",e.mcc?e.mcc.toString():"",e.mnc?e.mnc.toString():"",e.ipAddress||"",e.x2LinkStatus||"",e.x2LinkLock.toString(),(0,Xt.C1)(e.alarms)]}getFilename(e){return`${this.PREFIX}${(0,Xt.cs)(e)}`}}return e.\u0275fac=function(t){return new(t||e)(he.LFG(r.yh),he.LFG(Jt.eX))},e.\u0275prov=he.Yz7({token:e,factory:e.\u0275fac}),e})();var tn=n(94437),nn=n(30845),on=n(44748),sn=n(72634),an=n(42347),rn=n(97759),ln=n(25616);let cn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=he.oAB({type:e}),e.\u0275inj=he.cJS({providers:[me.YP],imports:[[tn.J,Ve.f_,qt,s.ez,Oe.gkd,Oe.Jaz,on.LU,ye.D,Oe.Xn,Oe.EJq,Gt.L,nn.R,Vt.E,an.i,Oe.g3K,Oe.a9S,Yt.u5,Oe.upY,Oe.hZC,Bt.F,r.Aw.forFeature(S,x),Jt.sQ.forFeature([en]),Oe.hXG,Oe.I67,xe.oS,sn.z,rn.Us,ln.FZ]]}),e})()},29920:(e,t,n)=>{"use strict";n.d(t,{h:()=>c});var i=n(65202),o=n(58016),s=n(9894);const a={[i.f.Unavailable]:0,[i.f.Available]:1,null:2},r={[o.j.Locked]:0,[o.j.Unlocked]:1},l={[s.U.BY_LTEENB_ID]:(e,t)=>d(e.id)-d(t.id),[s.U.BY_LINK_STATUS]:(e,t)=>a[e.x2LinkStatus]-a[t.x2LinkStatus],[s.U.BY_LOCK_STATE]:(e,t)=>r[e.x2LinkLock]-r[t.x2LinkLock]};function c(e,t){return e.sort(l[t])}function d(e){return Number.parseInt(e,10)}},9894:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var i=(()=>(function(e){e.BY_LTEENB_ID="BY_LTEENB_ID",e.BY_LINK_STATUS="BY_LINK_STATUS",e.BY_LOCK_STATE="BY_LOCK_STATE"}(i||(i={})),i))()},6049:(e,t,n)=>{"use strict";n.d(t,{Ad:()=>s,c:()=>a,v:()=>r,D2:()=>l,d2:()=>c,EK:()=>d,Qw:()=>u,lo:()=>p,mH:()=>g,nY:()=>h,w3:()=>m,Lw:()=>f,W2:()=>b,Yl:()=>C,t2:()=>v,X8:()=>y,VA:()=>S,gi:()=>P,$1:()=>O});var i=n(62800),o=(()=>(function(e){e.unlockXnLinkFailure="[Effect] Unlock Xn Links operation failure",e.unlockXnLinkHttpError="[Effect] Unlock Xn Links operation http error",e.unlockXnLinkActionOngoing="[Effect] Unlock Xn Links operation ongoing",e.unlockXnLinkActionSuccess="[Effect] Unlock Xn Links operation success",e.unlockXnLinksFinished="[Effect] Unlock Xn Links finished",e.lockXnLinkFailure="[Effect] Lock Xn Links failure",e.lockXnLinkHttpError="[Effect] Lock Xn Links http error",e.lockXnLinkActionOngoing="[Effect] Lock Xn Links action ongoing",e.lockXnLinkActionSuccess="[Effect] Lock Xn Links operation success",e.lockXnLinksFinished="[Effect] Lock Xn Links finished",e.lockXnLinks="[User] Lock Xn Links",e.lockXnLink="[Effect] Lock Xn Links",e.unlockXnLinks="[User] Unlock Xn Links",e.unlockXnLink="[Effect] Unlock Xn Links",e.xnLinkStoreError="[Effect] Xn Links store error",e.xnLinksPollingError="[Effect] Xn Links polling error",e.xnLinkSelected="[Effect] Xn link selected",e.startXnLinksPolling="[User] Start Xn Links polling",e.stopXnLinksPolling="[Effect] Stop Xn Links polling",e.xnLinksRequest="[Effect] Xn Links request",e.xnLinksRequestError="[Effect] Xn Links error",e.resetXnLinksAction="[Effect] Reset Xn Links action",e.updateXnLinks="[Effect] Update Xn Links in store"}(o||(o={})),o))();const s=(0,i.PH)(o.resetXnLinksAction),a=(0,i.PH)(o.updateXnLinks,(0,i.Ky)()),r=(0,i.PH)(o.startXnLinksPolling),l=(0,i.PH)(o.stopXnLinksPolling),c=(0,i.PH)(o.xnLinksRequest),d=((0,i.PH)(o.xnLinksPollingError,(0,i.Ky)()),(0,i.PH)(o.xnLinkStoreError,(0,i.Ky)())),u=(0,i.PH)(o.unlockXnLinkActionSuccess,(0,i.Ky)()),p=(0,i.PH)(o.lockXnLinkActionOngoing,(0,i.Ky)()),g=(0,i.PH)(o.lockXnLinkHttpError,(0,i.Ky)()),h=(0,i.PH)(o.lockXnLinkFailure,(0,i.Ky)()),m=(0,i.PH)(o.unlockXnLinkActionOngoing,(0,i.Ky)()),f=(0,i.PH)(o.unlockXnLinkHttpError,(0,i.Ky)()),b=(0,i.PH)(o.unlockXnLinkFailure,(0,i.Ky)()),C=(0,i.PH)(o.unlockXnLinks,(0,i.Ky)()),v=(0,i.PH)(o.unlockXnLink,(0,i.Ky)()),y=(0,i.PH)(o.lockXnLinks,(0,i.Ky)()),S=(0,i.PH)(o.lockXnLink,(0,i.Ky)()),P=((0,i.PH)(o.lockXnLinksFinished,(0,i.Ky)()),(0,i.PH)(o.unlockXnLinksFinished,(0,i.Ky)()),(0,i.PH)(o.xnLinksRequestError)),O=(0,i.PH)(o.lockXnLinkActionSuccess,(0,i.Ky)())},94537:(e,t,n)=>{"use strict";n.d(t,{VL:()=>a,E3:()=>r,I6:()=>p});var i=n(62800),o=n(23607),s=n(6049);const a=(0,o.H)({selectId:e=>e.xnLinkId}),r=a.getInitialState({updateVersion:""}),l=(0,i.on)(s.Ad,()=>r),c=(0,i.on)(s.c,(e,{payload:{created:t,removed:n,revision:i,updated:o}})=>(e=a.removeMany(n,e),e=a.addMany(t,e),a.upsertMany(o,Object.assign(Object.assign({},e),{updateVersion:i})))),d=(0,i.on)(s.D2,()=>r),u=(0,i.Lq)(r,c,d,l);function p(e,t){return u(e,t)}},63815:(e,t,n)=>{"use strict";n.d(t,{Fx:()=>l,Ph:()=>c});var i=n(62800),o=n(79495),s=n(94537);const a=(0,i.ZF)(o.v),r=(0,i.P1)(a,e=>e.xnLinksState),l=(0,i.P1)(r,e=>e.updateVersion),c=(0,i.P1)(r,s.VL.getSelectors().selectAll);(0,i.P1)(r,s.VL.getSelectors().selectEntities)},79495:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});const i="xnLinks"},43120:(e,t,n)=>{"use strict";n.r(t),n.d(t,{XnLinksStatusModule:()=>un,XnLinksStatusRoutingModule:()=>dn});var i=n(17513),o=n(62800),s=n(25917),a=n(94612),r=n(57057),l=n(88002),c=n(68307),d=n(1429),u=n(64699),p=n(63815),g=(()=>(function(e){e.SetXnLinkSelectedId="[User] [Xn Links Status] Set Xn link selected Id",e.SetDisplayConfiguration="[User] [Xn Links Status] Set Xn link properties to be displayed",e.SetFilter="[User] [Xn Links Status] Set Xn link filtering criteria",e.SetSortType="[User] [Xn Links Status] Set Xn link sorting criteria",e.RestoreView="[User] [Xn Links Status] Restore Xn links status view to default settings",e.SetViewType="[User] [Xn Links Status] Set Xn links status view",e.ExportXnLinksStatusToCsv="[User] [Xn Links Status] Export Xn links status view to CSV file",e.SetFreeSearchText="[User] [Xn Links Status] Set free search text"}(g||(g={})),g))();const h=(0,o.PH)(g.SetXnLinkSelectedId,(0,o.Ky)()),m=(0,o.PH)(g.SetDisplayConfiguration,(0,o.Ky)()),f=(0,o.PH)(g.SetFilter,(0,o.Ky)()),b=(0,o.PH)(g.SetSortType,(0,o.Ky)()),C=(0,o.PH)(g.RestoreView),v=(0,o.PH)(g.SetViewType,(0,o.Ky)()),y=(0,o.PH)(g.ExportXnLinksStatusToCsv),S=(0,o.PH)(g.SetFreeSearchText,(0,o.Ky)());var P=n(49201),O=n(23815),x=n(74788);let w=(()=>{class e{constructor(e,t){this.store=e,this.actions$=t,this.fileNamePrefix="Xn_links_status",this.xnLinksStatusLabel=["XNLINK ID","NRADJGNB ID","C-Plane IP address","C-Plane IP address control","Xn link status","Administrative state","Alarms"],this.exportXnLinksStatusToCsv$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(y),(0,a.b)(e=>(0,s.of)(e).pipe((0,r.M)(this.store.pipe((0,o.Ys)(p.Ph)),this.store.pipe((0,o.Ys)(u.M4))))),(0,l.U)(([e,t,n])=>[t.map(e=>this.mapXnLinks(e)),this.getFilename(n)]),(0,c.b)(([e,t])=>(0,d.m1)(e,t,this.xnLinksStatusLabel))),{dispatch:!1})}mapXnLinks(e){return[e.xnLinkId?`XNLINK-${e.xnLinkId}`:P.v,e.nrAdjGnbId?`NRADJGNB-${e.nrAdjGnbId}`:P.v,e.cPlaneIpAddr||P.v,e.cPlaneIpAddrCtrl||P.v,e.xnLinkStatus?(0,O.capitalize)(e.xnLinkStatus):P.v,e.administrativeState,(0,d.C1)(e.alarms)]}getFilename(e){return`${this.fileNamePrefix}${(0,d.cs)(e)}`}}return e.\u0275fac=function(t){return new(t||e)(x.LFG(o.yh),x.LFG(i.eX))},e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac}),e})();var A=n(91849),_=n(86394),T=(()=>(function(e){e.ByXnLinkId="xnLinkId",e.ByNrAdjGnbId="nrAdjGnbId",e.ByXnLinkStatus="xnLinkStatus",e.ByAdministrativeState="administrativeState"}(T||(T={})),T))(),I=(()=>(function(e){e.NrAdjGnbId="nrAdjGnbId",e.CPlaneIpAddr="cPlaneIpAddr",e.CPlaneIpAddrCtrl="cPlaneIpAddrCtrl",e.Actions="actions"}(I||(I={})),I))();const E="xnLinksStatusToolBar",M={selectedId:"",displayConfiguration:{[I.NrAdjGnbId]:!0,[I.CPlaneIpAddr]:!0,[I.CPlaneIpAddrCtrl]:!0,[I.Actions]:!0},filterState:{[T.ByXnLinkId]:"",[T.ByNrAdjGnbId]:"",[T.ByXnLinkStatus]:[],[T.ByAdministrativeState]:[]},sortType:_.p.ByXnLinkId,viewType:A.b.TILE,freeSearchText:""},k=(0,o.Lq)(M,(0,o.on)(h,(e,{payload:t})=>Object.assign(Object.assign({},e),{selectedId:t})),(0,o.on)(m,(e,{payload:t})=>Object.assign(Object.assign({},e),{displayConfiguration:t})),(0,o.on)(f,(e,{payload:t})=>Object.assign(Object.assign({},e),{filterState:Object.assign(Object.assign({},e.filterState),t)})),(0,o.on)(b,(e,{payload:t})=>Object.assign(Object.assign({},e),{sortType:t})),(0,o.on)(C,e=>Object.assign(Object.assign({},M),{viewType:e.viewType,selectedId:e.selectedId})),(0,o.on)(v,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewType:t})),(0,o.on)(S,(e,{payload:t})=>Object.assign(Object.assign({},e),{freeSearchText:t})));function N(e,t){return k(e,t)}var L=n(12057),D=n(83473),Z=n(94437),R=n(60697),U=n(47702),F=n(28061),j=n(56177),$=n(97721),q=n(97759),B=n(25616),G=n(12021),V=n(47712),Y=n(79765),J=n(42488),H=n(9112),W=n(70593);const Q=[{name:"xnLinkId",prefix:"XNLINK"},{name:"nrAdjGnbId",prefix:"NRADJGNB"},{name:"cPlaneIpAddr",prefix:""},{name:"cPlaneIpAddrCtrl",prefix:""},{name:"xnLinkStatus",prefix:""},{name:"administrativeState",prefix:""},{name:"xnTnlId",prefix:""}],z={xnLink:new RegExp("xnlink"),nrAdjGnb:new RegExp("nradjgnb")};function K(e,t,n){return!(0,O.isEmpty)(e)&&(t===e||(0,W.q)(n.toLowerCase(),z[n],t,`${n}-${e}`))}function X(e,t){return!(0,O.isEmpty)(e)&&t.some(t=>t===e)}var ee=n(61445);const te=(0,o.ZF)(E),ne=(0,o.P1)(te,e=>e.selectedId),ie=(0,o.P1)(te,e=>e.displayConfiguration),oe=(0,o.P1)(te,e=>e.filterState),se=(0,o.P1)(te,e=>e.sortType),ae=(0,o.P1)(te,e=>e.viewType),re=(0,o.P1)(te,e=>e.freeSearchText),le=(0,o.P1)(te,e=>(0,O.isEqualWith)([e.sortType,e.displayConfiguration,e.filterState,e.freeSearchText],[M.sortType,M.displayConfiguration,M.filterState,M.freeSearchText],(e,t)=>(0,O.isEqual)(e,t))),ce=(0,o.P1)(te,e=>Object.keys(e.displayConfiguration).every(t=>e.displayConfiguration[t])),de=(e,t)=>{t.dispatch(b({payload:e}))},ue={description:"Sort Xn links by:",defaultSort:_.p.ByXnLinkId,options:[{label:"XNLINK ID",hint:"Ascending order",value:_.p.ByXnLinkId,onChange:de},{label:"Xn link status",hint:"Conflicting Xn links will be displayed as first",value:_.p.ByXnLinkStatus,onChange:de},{label:"Administrative state",hint:"Locked Xn links will be displayed as first",value:_.p.ByAdministrativeState,onChange:de}],groupName:"",getDataSource:e=>e.select(se)},pe=e=>(0,O.mapValues)(M.displayConfiguration,()=>e),ge=[{localStorageKey:"xn-links-status",initialConfig:[I.NrAdjGnbId,I.CPlaneIpAddr,I.CPlaneIpAddrCtrl,I.Actions],description:"Present the following data on Xn link widget:",options:[{label:"NRADJGNB ID",value:I.NrAdjGnbId},{label:"C-Plane IP address",value:I.CPlaneIpAddr},{label:"C-Plane IP address control",value:I.CPlaneIpAddrCtrl},{label:"Actions",value:I.Actions}],getDataSource:e=>e.select(ie).pipe((0,l.U)(e=>Object.keys(e).filter(t=>e[t]))),onFilterChange:(e,t)=>{t.dispatch(m({payload:{[I.NrAdjGnbId]:e.includes(I.NrAdjGnbId),[I.CPlaneIpAddr]:e.includes(I.CPlaneIpAddr),[I.CPlaneIpAddrCtrl]:e.includes(I.CPlaneIpAddrCtrl),[I.Actions]:e.includes(I.Actions)}}))},selectAllInput:{selectAll:e=>e.dispatch(m({payload:pe(!0)})),deselectAll:e=>e.dispatch(m({payload:pe(!1)})),isAllSelected:e=>e.select(ce)}}],he={areFiltersDefault:e=>e.select(le),resetFilters:e=>e.dispatch(C())},me={getDataSource:e=>e.select(re),filterChange:(e,t)=>t.dispatch(S({payload:e}))};var fe=n(85642),be=n(51001);const Ce=(e,t,n)=>{n.dispatch(f({payload:{[e]:t}}))},ve=(e,t,n)=>{n.dispatch(f({payload:{[e]:t}}))},ye=[{description:"Filter Xn links by:",inputs:[{id:T.ByXnLinkId,label:"XNLINK ID:",setInputFilter:Ce},{id:T.ByNrAdjGnbId,label:"NRADJGNB ID:",setInputFilter:Ce}],checkboxes:[{label:"Xn link status:",id:T.ByXnLinkStatus,options:[{label:"Available",value:fe.R.Available},{label:"Unavailable",value:fe.R.Unavailable},{label:"Conflicting",value:fe.R.Conflicting}],setCheckboxFilter:ve},{label:"Administrative state:",id:T.ByAdministrativeState,options:[{label:"Locked",value:be.G.Locked},{label:"Unlocked",value:be.G.Unlocked},{label:"Unknown",value:be.G.Unknown}],setCheckboxFilter:ve}],getDataSource:e=>e.select(oe)}],Se={getDataSource:e=>e.select(ae),toggleView:(e,t)=>t.dispatch(v({payload:e}))},Pe={export:e=>e.dispatch(y())};var Oe=n(6049);const xe={configure:ge,filter:ye,sort:ue,reset:he,toggle:Se,export:Pe,freeSearch:me,startPolling:e=>e.dispatch((0,Oe.v)()),stopPolling:e=>e.dispatch((0,Oe.D2)()),getDataSource:e=>(0,H.aj)([e.select(p.Ph),e.select(oe),e.select(se),e.select(re)]).pipe((0,l.U)(([e,t,n,i])=>(0,ee.H)(function(e,t,n){return e.filter(e=>function(e,t){return!t||K(e.xnLinkId,t,"xnLink")}(e,t[T.ByXnLinkId])&&function(e,t){return!t||K(e.nrAdjGnbId,t,"nrAdjGnb")}(e,t[T.ByNrAdjGnbId])&&function(e,t){return!!(0,O.isEmpty)(t)||X(e.xnLinkStatus,t)}(e,t[T.ByXnLinkStatus])&&function(e,t){return!!(0,O.isEmpty)(t)||X(e.administrativeState,t)}(e,t[T.ByAdministrativeState])&&function(e,t){return!t||function(e,t){return!!Q.find(n=>{const i=n.prefix?`${n.prefix}-${e[n.name]}`:e[n.name];return!!i&&i.toLowerCase().includes(t)})}(e,t)}(e,n.trim().toLowerCase()))}(e,t,i),n))),getSelected:e=>e.select(ne).pipe((0,l.U)(e=>e)),getConfiguration:e=>e.select(ie),getElementId:e=>e.xnLinkId,isFetchingData:e=>e.select(p.Fx).pipe((0,l.U)(e=>!e))};var we=n(8678),Ae=n(11101),_e=n(13742),Te=n(16661),Ie=n(96141),Ee=n(54618);const Me=(e,t)=>n=>t.confirm({message:"You are about to lock selected Xn link\n\nDo you want to proceed?",header:"Lock Xn Link",acceptLabel:"OK",rejectLabel:"Cancel",icon:Ee.Wf,accept:()=>e.dispatch((0,Oe.VA)({xnLinkId:n}))}),ke=(e,t)=>n=>t.confirm({message:"You are about to unlock selected Xn link\n\nDo you want to proceed?",header:"Unlock Xn Link",acceptLabel:"OK",rejectLabel:"Cancel",icon:Ee.Wf,accept:()=>e.dispatch((0,Oe.t2)({xnLinkId:n}))}),Ne=(e,t)=>n=>{e.dispatch((0,_e.uX)({routerLink:Te.r.parameterEditor,activatedRoute:t,data:new Ie.q(`XNLINK-${n}`)}))};function Le(e,t,n){return{goToPe:Ne(e,n),lockXnLink:Me(e,t),unlockXnLink:ke(e,t)}}var De=n(33013),Ze=n(74952),Re=n(44761),Ue=n(8701),Fe=n(65044),je=n(65159),$e=n(63788),qe=n(22730);let Be=(()=>{class e{transform(e){return(0,O.isEmpty)(e)?P.v:`NRADJGNB-${e}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=x.Yjl({name:"mapNradjgnbId",type:e,pure:!0}),e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ge=n(94721),Ve=n(62039),Ye=n(90460),Je=n(83665);let He=(()=>{class e{transform(e){return(0,O.isEmpty)(e)?P.v:`XNLINK-${e}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=x.Yjl({name:"mapXnLinkId",type:e,pure:!0}),e})();var We=n(20087),Qe=n(96393),ze=n(67866);function Ke(e,t){if(1&e&&(x.ynx(0),x.TgZ(1,"span"),x._uU(2,"/"),x.qZA(),x.TgZ(3,"span"),x.ALo(4,"mapNradjgnbId"),x._uU(5),x.ALo(6,"mapNradjgnbId"),x.qZA(),x.BQk()),2&e){const e=x.oxw();x.xp6(3),x.uIk("data-nradjgnb-id",x.lcZ(4,2,e.xnLink.nrAdjGnbId)),x.xp6(2),x.Oqu(x.lcZ(6,4,e.xnLink.nrAdjGnbId))}}function Xe(e,t){if(1&e&&(x._UZ(0,"ui-webem-raised-alarms",13),x.ALo(1,"toActiveAlarms"),x.ALo(2,"getHighestAlarmSeverity")),2&e){const e=x.oxw();x.Q6J("alarms",x.lcZ(1,2,e.xnLink.alarms))("alarmSeverityType",x.lcZ(2,4,e.xnLink.alarms))}}function et(e,t){if(1&e&&x._UZ(0,"i",14),2&e){const e=x.oxw();x.ekj("xnLinkNotRefToNrAdjGnb",e.isXnLinkNotRefToNrAdjGnb),x.Q6J("title",e.isXnLinkNotRefToNrAdjGnb?"Unknown":"Locked")}}function tt(e,t){if(1&e&&(x.TgZ(0,"span"),x.ALo(1,"nullableValue"),x._uU(2),x.ALo(3,"nullableValue"),x.qZA()),2&e){const e=x.oxw();x.uIk("data-cplane-ip",x.lcZ(1,2,e.xnLink.cPlaneIpAddr)),x.xp6(2),x.hij(" C-Plane IP: ",x.lcZ(3,4,e.xnLink.cPlaneIpAddr)," ")}}function nt(e,t){if(1&e&&(x.TgZ(0,"span"),x.ALo(1,"nullableValue"),x._uU(2),x.ALo(3,"nullableValue"),x.qZA()),2&e){const e=x.oxw();x.uIk("data-cplane-ip-control",x.lcZ(1,2,e.xnLink.cPlaneIpAddrCtrl)),x.xp6(2),x.hij(" C-Plane IP control: ",x.lcZ(3,4,e.xnLink.cPlaneIpAddrCtrl)," ")}}function it(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"div",15),x.TgZ(1,"ui-webem-button-with-menu",16),x.NdJ("click",function(){return x.CHM(e),x.oxw().toggleMenu.emit()}),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(1),x.Q6J("buttonConfig",e.operationsModel)("menuOptions",e.xnLinkActionItems)("scrollableContainer",e.container)}}function ot(e,t){1&e&&x._UZ(0,"i",17),2&e&&x.Q6J("title","Unlocked")}let st=(()=>{class e{constructor(e,t){this.nullableValuePipe=e,this.mapNradjgnbIdPipe=t,this.toggleMenu=new x.vpe,this.lockXnLink=new x.vpe,this.unlockXnLink=new x.vpe,this.goToPe=new x.vpe,this.operationsModel={title:"Operations",icon:"mdi mdi-dots-vertical",theme:R.bnJ.Secondary,length:R.Wmq.Long},this.goToPeAction={label:"Go to PE",icon:"mdi mdi-import",command:()=>this.goToPe.emit()}}ngOnInit(){this.recalculateStateForXnLinks(),this.calculateTooltipContent()}ngOnChanges(){this.recalculateStateForXnLinks(),this.calculateTooltipContent()}calculateTooltipContent(){this.tooltipPanelContent=[{title:"NRADJGNB ID",value:this.mapNradjgnbIdPipe.transform(this.xnLink.nrAdjGnbId)},{title:"C-Plane IP address",value:this.nullableValuePipe.transform(this.xnLink.cPlaneIpAddr)},{title:"C-Plane IP address control",value:this.nullableValuePipe.transform(this.xnLink.cPlaneIpAddrCtrl)}],this.tooltipPanelContentStatus=[{title:"Xn link status",value:(0,O.capitalize)(this.nullableValuePipe.transform(this.xnLink.xnLinkStatus))},{title:"Administrative state",value:this.xnLink.administrativeState}]}recalculateStateForXnLinks(){this.checkAdministrativeState(),this.setMenu()}setMenu(){const e=this.getLockUnlockAction();this.xnLinkActionItems=[e,this.goToPeAction]}checkAdministrativeState(){this.isXnLinkLocked=this.xnLink&&this.xnLink.administrativeState===be.G.Locked,this.isXnLinkNotRefToNrAdjGnb=this.xnLink&&this.xnLink.administrativeState===be.G.Unknown}getLockUnlockAction(){return this.isXnLinkLocked||this.isXnLinkNotRefToNrAdjGnb?{label:"Unlock Xn Link",icon:"mdi mdi-lock-open-variant-outline mdi-16px",command:()=>this.unlockXnLink.emit(),disabled:this.isXnLinkNotRefToNrAdjGnb||this.isCommissioningInProgress,roleAccessFlag:qe.M.LOCK_UNLOCK}:{label:"Lock Xn Link",icon:"mdi mdi-lock mdi-16px",command:()=>this.lockXnLink.emit(),disabled:this.isCommissioningInProgress,roleAccessFlag:qe.M.LOCK_UNLOCK}}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(j.cP),x.Y36(Be))},e.\u0275cmp=x.Xpm({type:e,selectors:[["xn-links-status-tile"]],inputs:{xnLink:"xnLink",isXnLinkSelected:"isXnLinkSelected",visibleXnLinkParameters:"visibleXnLinkParameters",container:"container",isCommissioningInProgress:"isCommissioningInProgress"},outputs:{toggleMenu:"toggleMenu",lockXnLink:"lockXnLink",unlockXnLink:"unlockXnLink",goToPe:"goToPe"},features:[x.TTD],decls:21,vars:24,consts:[["tooltipTitleHeader","XNLINK ID",3,"tooltipTitleValue","tooltipContent","tooltipTileState"],[1,"xn-links-tile-view",3,"ngClass"],[1,"inner-radius"],[1,"tile-header"],[1,"title-container"],[4,"ngIf"],[1,"icons-container"],["uiWebemToggleParentTooltip","",3,"alarms","alarmSeverityType",4,"ngIf"],["class","mdi mdi-lock mdi-16px",3,"title","xnLinkNotRefToNrAdjGnb",4,"ngIf","ngIfElse"],[1,"tile-body"],[1,"parameters-container"],["class","operations-button-container","uiWebemToggleParentTooltip","",4,"ngIf"],["xnLinkUnLocked",""],["uiWebemToggleParentTooltip","",3,"alarms","alarmSeverityType"],[1,"mdi","mdi-lock","mdi-16px",3,"title"],["uiWebemToggleParentTooltip","",1,"operations-button-container"],[3,"buttonConfig","menuOptions","scrollableContainer","click"],[1,"unlocked",3,"title"]],template:function(e,t){if(1&e&&(x.TgZ(0,"ui-webem-tile-tooltip",0),x.ALo(1,"mapXnLinkId"),x.TgZ(2,"div",1),x.ALo(3,"mapXnLinkId"),x.TgZ(4,"div",2),x.TgZ(5,"div",3),x.TgZ(6,"span",4),x.TgZ(7,"span"),x._uU(8),x.qZA(),x.YNc(9,Ke,7,6,"ng-container",5),x.qZA(),x.TgZ(10,"span",6),x.YNc(11,Xe,3,6,"ui-webem-raised-alarms",7),x.ALo(12,"hasAlarms"),x.YNc(13,et,1,3,"i",8),x.qZA(),x.qZA(),x.TgZ(14,"div",9),x.TgZ(15,"div",10),x.YNc(16,tt,4,6,"span",5),x.YNc(17,nt,4,6,"span",5),x.qZA(),x.YNc(18,it,2,3,"div",11),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.YNc(19,ot,1,1,"ng-template",null,12,x.W1O)),2&e){const e=x.MAs(20);x.Q6J("tooltipTitleValue",x.lcZ(1,18,t.xnLink.xnLinkId))("tooltipContent",t.tooltipPanelContent)("tooltipTileState",t.tooltipPanelContentStatus),x.xp6(2),x.ekj("selected",t.isXnLinkSelected),x.Q6J("ngClass",t.xnLink.xnLinkStatus?t.xnLink.xnLinkStatus:"unknown"),x.uIk("data-name",x.lcZ(3,20,t.xnLink.xnLinkId)),x.xp6(5),x.uIk("data-xn-link-id",t.xnLink.xnLinkId),x.xp6(1),x.hij("XNLINK-",t.xnLink.xnLinkId,""),x.xp6(1),x.Q6J("ngIf",t.visibleXnLinkParameters.nrAdjGnbId),x.xp6(1),x.uIk("data-xn-link-status",t.xnLink.xnLinkStatus)("data-xn-link-administrative-state",t.xnLink.administrativeState),x.xp6(1),x.Q6J("ngIf",x.lcZ(12,22,t.xnLink)),x.xp6(2),x.Q6J("ngIf",t.isXnLinkLocked||t.isXnLinkNotRefToNrAdjGnb)("ngIfElse",e),x.xp6(3),x.Q6J("ngIf",t.visibleXnLinkParameters.cPlaneIpAddr),x.xp6(1),x.Q6J("ngIf",t.visibleXnLinkParameters.cPlaneIpAddrCtrl),x.xp6(1),x.Q6J("ngIf",t.visibleXnLinkParameters.actions)}},directives:[Ge.x,L.mk,L.O5,Ve.V,Ye.x,Je.N],pipes:[He,We.U,Be,Qe.G,ze.W,P.c],styles:['@charset "UTF-8";.data-loading-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;font-size:40px;width:40px;height:40px;margin:auto;top:0;left:0;right:0;bottom:0;overflow:visible;color:#98a2ae}.data-loading-spinner.embedded[_ngcontent-%COMP%]{position:absolute;color:#4d5766}.data-loading-spinner.embedded-no-background[_ngcontent-%COMP%]{position:absolute}.unlocked[_ngcontent-%COMP%]:before{content:"\uffe7";display:inline-block;font:normal normal normal 24px/1 Material Design Icons,sans-serif;font-size:16px;line-height:16px}[_nghost-%COMP%]{display:inline-block;width:180px}.xn-links-tile-view[_ngcontent-%COMP%]{border-radius:3px;border:1px solid;border-left:5px solid;box-shadow:0 3px 4px rgba(0,0,0,.18);cursor:pointer}.xn-links-tile-view[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px;padding:8px}.xn-links-tile-view.available[_ngcontent-%COMP%]{background-color:#3daa00}.xn-links-tile-view.available[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#e7f5e0}.xn-links-tile-view.available[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#3daa00}.xn-links-tile-view.conflicting[_ngcontent-%COMP%]{background-color:#d9070a}.xn-links-tile-view.conflicting[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#fbe0e1}.xn-links-tile-view.conflicting[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#d9070a}.xn-links-tile-view.unavailable[_ngcontent-%COMP%]{background-color:#98a2ae}.xn-links-tile-view.unavailable[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#f3f4f5}.xn-links-tile-view.unavailable[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#98a2ae}.xn-links-tile-view.unknown[_ngcontent-%COMP%]{background-color:#273142}.xn-links-tile-view.unknown[_ngcontent-%COMP%]   .inner-radius[_ngcontent-%COMP%]{background-color:#b9bcc2}.xn-links-tile-view.unknown[_ngcontent-%COMP%]:not(.selected):not(:hover){border-color:#273142}.xn-links-tile-view[_ngcontent-%COMP%]:hover{border-color:#00c9ff;background-color:#00c9ff;box-shadow:0 0 0 .5px #00c9ff;transition:border-color .2s,box-shadow .2s}.xn-links-tile-view.selected[_ngcontent-%COMP%]{border-color:#124191;background-color:#124191;box-shadow:0 0 0 1px #124191;transition:border-color .2s,box-shadow .2s}.tile-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) max-content;grid-column-gap:8px;column-gap:8px}.tile-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;font-weight:700;font-size:12px}.tile-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tile-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{flex-shrink:0}.tile-header[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;height:16px}.tile-header[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]:before{vertical-align:text-bottom}.tile-header[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%]   .xnLinkNotRefToNrAdjGnb[_ngcontent-%COMP%]{color:#bec8d2}.tile-header[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:2px}.tile-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) max-content;align-items:end;font-size:10px;line-height:15px;margin-top:8px}.tile-body[_ngcontent-%COMP%]   .parameters-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-right:8px}.tile-body[_ngcontent-%COMP%]   .parameters-container[_ngcontent-%COMP%], .tile-body[_ngcontent-%COMP%]   .parameters-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tile-body[_ngcontent-%COMP%]   .tile-content.display-none[_ngcontent-%COMP%]{display:none}.tile-body[_ngcontent-%COMP%]   .operations-button-container[_ngcontent-%COMP%]{min-width:32px;min-height:26px;justify-content:flex-end;display:flex;height:100%;flex-direction:column}'],changeDetection:0}),e})();const at=[{name:"Status",width:"64px",class:"col-status",fixed:!0},{name:"XNLINK ID",width:"112%",minWidth:"70px"},{name:"NRADJGNB ID",width:"112%",minWidth:"70px",parameterGroup:I.NrAdjGnbId},{name:"C-Plane IP address",width:"350%",minWidth:"70px",parameterGroup:I.CPlaneIpAddr},{name:"C-Plane IP address control",width:"126%",minWidth:"70px",parameterGroup:I.CPlaneIpAddrCtrl},{name:"Actions",width:"75px",fixed:!0,parameterGroup:I.Actions}];var rt=n(40954),lt=n(52504),ct=n(88361),dt=n(2069),ut=n(92798);const pt={[fe.R.Available]:[fe.R.Available,U.Zm.Success],[fe.R.Unavailable]:[fe.R.Unavailable,U.Zm.Dark],[fe.R.Conflicting]:[fe.R.Conflicting,U.Zm.Danger]};let gt=(()=>{class e{transform(e){if(!e)return null;const t=pt[e];return t?{title:(0,O.capitalize)(t[0]),type:t[1]}:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=x.Yjl({name:"mapXnLinkStatusPipe",type:e,pure:!0}),e})();function ht(e,t){1&e&&x.GkF(0)}function mt(e,t){1&e&&x.GkF(0)}const ft=function(e){return{$implicit:e}};function bt(e,t){if(1&e&&(x.TgZ(0,"td",7),x.YNc(1,ht,1,0,"ng-container",8),x.qZA(),x.TgZ(2,"td",9),x._uU(3),x.qZA(),x.TgZ(4,"td"),x.ALo(5,"mapNradjgnbId"),x._uU(6),x.ALo(7,"mapNradjgnbId"),x.qZA(),x.TgZ(8,"td"),x.ALo(9,"nullableValue"),x._uU(10),x.ALo(11,"nullableValue"),x.qZA(),x.TgZ(12,"td"),x.ALo(13,"nullableValue"),x._uU(14),x.ALo(15,"nullableValue"),x.qZA(),x.TgZ(16,"td",10),x.YNc(17,mt,1,0,"ng-container",8),x.qZA()),2&e){const e=t.$implicit;x.oxw();const n=x.MAs(4),i=x.MAs(6);x.xp6(1),x.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",x.VKq(24,ft,e)),x.xp6(1),x.MGl("title","XNLINK-",e.xnLinkId,""),x.xp6(1),x.hij("XNLINK-",e.xnLinkId,""),x.xp6(1),x.uIk("title",x.lcZ(5,12,e.nrAdjGnbId)),x.xp6(2),x.hij(" ",x.lcZ(7,14,e.nrAdjGnbId),""),x.xp6(2),x.uIk("title",x.lcZ(9,16,e.cPlaneIpAddr)),x.xp6(2),x.Oqu(x.lcZ(11,18,e.cPlaneIpAddr)),x.xp6(2),x.uIk("title",x.lcZ(13,20,e.cPlaneIpAddrCtrl)),x.xp6(2),x.Oqu(x.lcZ(15,22,e.cPlaneIpAddrCtrl)),x.xp6(3),x.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",x.VKq(26,ft,e))}}function Ct(e,t){if(1&e&&(x.TgZ(0,"ui-webem-status-icon",15),x._uU(1,"> "),x.qZA()),2&e){const e=t.ngIf;x.Q6J("type",e.type)("title",e.title)}}function vt(e,t){if(1&e&&x._UZ(0,"i",16),2&e){const e=x.oxw().$implicit,t=x.oxw();x.ekj("xnLinkNotRefToNrAdjGnb",t.isXnLinkNotRefToNrAdjGnb(e)),x.Q6J("title",t.isXnLinkNotRefToNrAdjGnb(e)?"Unknown":"Locked")}}function yt(e,t){if(1&e&&(x._UZ(0,"ui-webem-raised-alarms",17),x.ALo(1,"toActiveAlarms"),x.ALo(2,"getHighestAlarmSeverity")),2&e){const e=x.oxw().$implicit;x.Q6J("alarms",x.lcZ(1,2,e.alarms))("alarmSeverityType",x.lcZ(2,4,e.alarms))}}function St(e,t){if(1&e&&(x.TgZ(0,"table",11),x.TgZ(1,"tr"),x.TgZ(2,"td"),x.YNc(3,Ct,2,2,"ui-webem-status-icon",12),x.ALo(4,"mapXnLinkStatusPipe"),x.qZA(),x.TgZ(5,"td"),x.YNc(6,vt,1,3,"i",13),x.qZA(),x.TgZ(7,"td"),x.YNc(8,yt,3,6,"ui-webem-raised-alarms",14),x.ALo(9,"hasAlarms"),x.qZA(),x.qZA(),x.qZA()),2&e){const e=t.$implicit,n=x.oxw(),i=x.MAs(12),o=x.MAs(8),s=x.MAs(10);x.xp6(3),x.Q6J("ngIf",x.lcZ(4,6,e.xnLinkStatus))("ngIfElse",i),x.xp6(3),x.Q6J("ngIf",n.isXnLinkLocked(e)||n.isXnLinkNotRefToNrAdjGnb(e))("ngIfElse",o),x.xp6(2),x.Q6J("ngIf",x.lcZ(9,8,e))("ngIfElse",s)}}function Pt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"ui-webem-button",18,19),x.NdJ("action",function(){const t=x.CHM(e).$implicit,n=x.oxw();return n.isXnLinkLocked(t)?n.unlockXnLink.emit(t):n.lockXnLink.emit(t)}),x.qZA(),x.TgZ(2,"ui-webem-go-to-pe-table-button",20),x.NdJ("action",function(){const t=x.CHM(e).$implicit;return x.oxw().goToPe.emit(t)}),x.qZA()}if(2&e){const e=t.$implicit,n=x.MAs(1),i=x.oxw();x.Q6J("oamRoleAccessControl","LOCK_UNLOCK")("hostInstance",n)("model",i.isXnLinkLocked(e)||i.isXnLinkNotRefToNrAdjGnb(e)?i.UNLOCK_BUTTON_MODEL:i.LOCK_BUTTON_MODEL)("disabled",i.isXnLinkNotRefToNrAdjGnb(e)||i.isCommissioningInProgress)}}function Ot(e,t){1&e&&x._UZ(0,"i",21),2&e&&x.Q6J("title","Unlocked")}function xt(e,t){1&e&&x._UZ(0,"span",22)}function wt(e,t){if(1&e&&(x.TgZ(0,"span",23),x._uU(1),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.Oqu(e.NO_STATE_TEXT)}}let At=(()=>{class e{constructor(){this.lockXnLink=new x.vpe,this.unlockXnLink=new x.vpe,this.goToPe=new x.vpe,this.selectXnLink=new x.vpe,this.Xn_LINK_TABLE_VIEW_COLUMNS=at,this.LOCK_BUTTON_MODEL={title:"Lock Xn Link",icon:"mdi mdi-lock",thickness:R.NOb.Thin},this.UNLOCK_BUTTON_MODEL={title:"Unlock Xn Link",icon:"mdi mdi-lock-open-variant-outline",thickness:R.NOb.Thin},this.NO_STATE_TEXT=P.v}get selected(){return this._selectedXnLink||void 0}set selected(e){this.selectXnLink.emit(e)}ngOnChanges(e){e.xnLinks&&(this._selectedXnLink=this.findXnLink(this.selectedXnLinkId,this.xnLinks))}isXnLinkLocked(e){return!!e&&e.administrativeState===be.G.Locked}isXnLinkNotRefToNrAdjGnb(e){return!!e&&e.administrativeState===be.G.Unknown}findXnLink(e,t){if(t)return e?t.find(t=>t.xnLinkId===e):void 0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Xpm({type:e,selectors:[["xn-links-table-view"]],inputs:{xnLinks:"xnLinks",selectedXnLinkId:"selectedXnLinkId",visibleXnLinkParameters:"visibleXnLinkParameters",isCommissioningInProgress:"isCommissioningInProgress"},outputs:{lockXnLink:"lockXnLink",unlockXnLink:"unlockXnLink",goToPe:"goToPe",selectXnLink:"selectXnLink"},features:[x.TTD],decls:13,vars:7,consts:[[1,"xn-links-table",3,"items","columns","visibleParameterGroupColumns","dataKey","virtual","loading","selected","selectedChange"],["row",""],["xnLinkStatus",""],["xnLinkActions",""],["xnLinkUnLocked",""],["noAlarms",""],["noIcon",""],[1,"status-icons"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"title"],[1,"status-actions"],[1,"inner-table"],[3,"type","title",4,"ngIf","ngIfElse"],["class","mdi mdi-lock mdi-16px",3,"title","xnLinkNotRefToNrAdjGnb",4,"ngIf","ngIfElse"],[3,"alarms","alarmSeverityType",4,"ngIf","ngIfElse"],[3,"type","title"],[1,"mdi","mdi-lock","mdi-16px",3,"title"],[3,"alarms","alarmSeverityType"],[3,"oamRoleAccessControl","hostInstance","model","disabled","action"],["LOCK_UNLOCK",""],[3,"action"],[1,"unlocked",3,"title"],[1,"no-alarms"],["title","No state"]],template:function(e,t){1&e&&(x.TgZ(0,"ui-webem-table-view",0),x.NdJ("selectedChange",function(e){return t.selected=e}),x.YNc(1,bt,18,28,"ng-template",null,1,x.W1O),x.qZA(),x.YNc(3,St,10,10,"ng-template",null,2,x.W1O),x.YNc(5,Pt,3,4,"ng-template",null,3,x.W1O),x.YNc(7,Ot,1,1,"ng-template",null,4,x.W1O),x.YNc(9,xt,1,0,"ng-template",null,5,x.W1O),x.YNc(11,wt,2,1,"ng-template",null,6,x.W1O)),2&e&&x.Q6J("items",t.xnLinks)("columns",t.Xn_LINK_TABLE_VIEW_COLUMNS)("visibleParameterGroupColumns",t.visibleXnLinkParameters)("dataKey","xnLinkId")("virtual",!0)("loading",!t.xnLinks)("selected",t.selected)},directives:[rt.x,L.tP,L.O5,lt.m,Ve.V,ct.r,dt.h,ut.C],pipes:[Be,P.c,gt,We.U,Qe.G,ze.W],styles:['@charset "UTF-8";.data-loading-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;font-size:40px;width:40px;height:40px;margin:auto;top:0;left:0;right:0;bottom:0;overflow:visible;color:#98a2ae}.data-loading-spinner.embedded[_ngcontent-%COMP%]{position:absolute;color:#4d5766}.data-loading-spinner.embedded-no-background[_ngcontent-%COMP%]{position:absolute}.unlocked[_ngcontent-%COMP%]:before{content:"\uffe7";display:inline-block;font:normal normal normal 24px/1 Material Design Icons,sans-serif;font-size:16px;line-height:16px}[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .xn-links-table[_ngcontent-%COMP%]    {--status-icon-font-size:13px}[_nghost-%COMP%]   .xn-links-table[_ngcontent-%COMP%]     th.col-status{text-align:center}[_nghost-%COMP%]   .xn-links-table[_ngcontent-%COMP%]     td.status-icons{padding:0}[_nghost-%COMP%]   .xn-links-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table{width:100%;height:100%}[_nghost-%COMP%]   .xn-links-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr>td{padding-left:0;padding-right:0;text-align:center}[_nghost-%COMP%]   .xn-links-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table tr>td+td{border-left:1px solid #bec8d2}[_nghost-%COMP%]   .xn-links-table[_ngcontent-%COMP%]     td.status-icons>table.inner-table .xnLinkNotRefToNrAdjGnb{color:#bec8d2}.status-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:4px}'],changeDetection:0}),e})();var _t=n(19230);function Tt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"xn-links-status-tile",7),x.NdJ("lockXnLink",function(){const t=x.CHM(e).$implicit;return x.oxw(2).operations.lockXnLink(t.data.xnLinkId)})("unlockXnLink",function(){const t=x.CHM(e).$implicit;return x.oxw(2).operations.unlockXnLink(t.data.xnLinkId)})("goToPe",function(){const t=x.CHM(e).$implicit;return x.oxw(2).operations.goToPe(t.data.xnLinkId)})("click",function(){const t=x.CHM(e).$implicit;return x.oxw(2).selectXnLink(t.data)}),x.ALo(1,"async"),x.qZA()}if(2&e){const e=t.$implicit;x.oxw();const n=x.MAs(1),i=x.oxw();x.Q6J("xnLink",e.data)("isXnLinkSelected",e.selected)("visibleXnLinkParameters",e.configuration)("container",null==n?null:n.virtualScrollerRef)("isCommissioningInProgress",x.lcZ(1,5,i.isCommissioningInProgress$))}}function It(e,t){1&e&&(x.TgZ(0,"status-shared-virtual-tile-grid",4,5),x.YNc(2,Tt,2,7,"xn-links-status-tile",6),x.qZA()),2&e&&x.Q6J("model",t.$implicit.model)}function Et(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"xn-links-table-view",8),x.NdJ("lockXnLink",function(t){return x.CHM(e),x.oxw().operations.lockXnLink(t.xnLinkId)})("unlockXnLink",function(t){return x.CHM(e),x.oxw().operations.unlockXnLink(t.xnLinkId)})("goToPe",function(t){return x.CHM(e),x.oxw().operations.goToPe(t.xnLinkId)})("selectXnLink",function(t){return x.CHM(e),x.oxw().selectXnLink(t)}),x.ALo(1,"async"),x.ALo(2,"async"),x.qZA()}if(2&e){const e=t.$implicit,n=x.oxw();x.Q6J("xnLinks",x.lcZ(1,4,e.model.data))("selectedXnLinkId",e.model.selected)("visibleXnLinkParameters",e.model.configuration)("isCommissioningInProgress",x.lcZ(2,6,n.isCommissioningInProgress$))}}function Mt(e,t){1&e&&x._UZ(0,"ui-webem-no-selected-message",9)}const kt=function(){return{width:"350px"}};let Nt=(()=>{class e{constructor(e,t,n){this.store=e,this.confirmationService=t,this.activatedRoute=n,this.ngUnsubscribe=new Y.xQ,this.XN_LINKS_MODEL=xe,this.operations=Le(this.store,this.confirmationService,this.activatedRoute)}ngOnInit(){this.loadStateFromRedirect(),this.isCommissioningInProgress$=this.store.pipe((0,o.Ys)(J.f))}selectXnLink(e){this.store.dispatch(h({payload:e?e.xnLinkId:""}))}loadStateFromRedirect(){var e;if((null===(e=history.state)||void 0===e?void 0:e.data)&&history.state.data.type===we.b.XN_LINKS){this.store.dispatch(C());const e={[Ae.P.ByXnLinkId]:_.p.ByXnLinkId,[Ae.P.ByXnLinkStatus]:_.p.ByXnLinkStatus,[Ae.P.ByAdministrativeState]:_.p.ByAdministrativeState}[history.state.data.sortType];this.store.dispatch(b({payload:e}))}}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(o.yh),x.Y36(De.YP),x.Y36(G.gz))},e.\u0275cmp=x.Xpm({type:e,selectors:[["xn-links-status"]],decls:5,vars:4,consts:[[3,"model"],["trackByPath","xnLinkId",3,"model",4,"statusSharedTileGridComponent"],[3,"xnLinks","selectedXnLinkId","visibleXnLinkParameters","isCommissioningInProgress","lockXnLink","unlockXnLink","goToPe","selectXnLink",4,"statusSharedTableComponent"],["class","status-empty-data","message","No Xn links to display",4,"statusSharedEmptyData"],["trackByPath","xnLinkId",3,"model"],["virtualTileGrid",""],[3,"xnLink","isXnLinkSelected","visibleXnLinkParameters","container","isCommissioningInProgress","lockXnLink","unlockXnLink","goToPe","click",4,"statusSharedTileComponent"],[3,"xnLink","isXnLinkSelected","visibleXnLinkParameters","container","isCommissioningInProgress","lockXnLink","unlockXnLink","goToPe","click"],[3,"xnLinks","selectedXnLinkId","visibleXnLinkParameters","isCommissioningInProgress","lockXnLink","unlockXnLink","goToPe","selectXnLink"],["message","No Xn links to display",1,"status-empty-data"]],template:function(e,t){1&e&&(x.TgZ(0,"status-shared-operations-view",0),x.YNc(1,It,3,1,"status-shared-virtual-tile-grid",1),x.YNc(2,Et,3,8,"xn-links-table-view",2),x.YNc(3,Mt,1,0,"ui-webem-no-selected-message",3),x.qZA(),x._UZ(4,"p-confirmDialog")),2&e&&(x.Q6J("model",t.XN_LINKS_MODEL),x.xp6(4),x.Akn(x.DdM(3,kt)))},directives:[Ze.E,Re.j,Ue.a,Fe.Z,D.Q,je.h,$e.E,st,At,_t.G],pipes:[L.Ov],styles:["[_nghost-%COMP%]{padding:10px 10px 15px 15px;display:block;height:100%}status-shared-virtual-tile-grid[_ngcontent-%COMP%]{padding-top:5px}xn-links-table-view[_ngcontent-%COMP%]{padding-top:10px}"]}),e})();const Lt={icon:"mdi mdi-lock",theme:R.bnJ.Default,iconPosition:"left",label:"Lock Xn Link",length:R.Wmq.Short},Dt={icon:"mdi mdi-lock-open-variant-outline",theme:R.bnJ.Default,iconPosition:"left",label:"Unlock Xn Link",length:R.Wmq.Short},Zt={icon:"mdi mdi-exit-to-app",theme:R.bnJ.Default,iconPosition:"left",label:"Go to PE",title:"Go to Parameter Editor",length:R.Wmq.Short};var Rt=(()=>(function(e){e.LockButton="lock-button",e.UnlockButton="unlock-button",e.GoToPeButton="go-to-pe-button"}(Rt||(Rt={})),Rt))();const Ut="lock",Ft="unlock",jt="goToPE",$t=[{name:Rt.LockButton,model:Lt,action:Ut,roleAccessFlag:qe.M.LOCK_UNLOCK},{name:"unlock-button",model:Dt,action:Ft,roleAccessFlag:qe.M.LOCK_UNLOCK},{name:"go-to-pe-button",model:Zt,action:jt}];var qt=n(33346),Bt=n(36900),Gt=n(44501),Vt=n(41146),Yt=n(75107),Jt=n(60698);let Ht=(()=>{class e{constructor(e,t){this.nullableValuePipe=e,this.mapNradjgnbIdPipe=t}transform(e){return e?[{key:"XNLINK ID",value:`XNLINK-${e.xnLinkId}`},{key:"NRADJGNB ID",value:this.mapNradjgnbIdPipe.transform(e.nrAdjGnbId)},{key:"C-Plane IP address",value:this.nullableValuePipe.transform(e.cPlaneIpAddr)},{key:"C-Plane IP address control",value:this.nullableValuePipe.transform(e.cPlaneIpAddrCtrl)},{key:"Xn control plane transport network layer identifier",value:this.nullableValuePipe.transform(e.xnTnlId)}]:[]}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(j.cP,16),x.Y36(Be,16))},e.\u0275pipe=x.Yjl({name:"toXnLinkPropertiesInDetails",type:e,pure:!0}),e})(),Wt=(()=>{class e{constructor(e){this.nullableValuePipe=e}transform(e){return e?[{key:"Xn link status",value:(0,O.capitalize)(this.nullableValuePipe.transform(e.xnLinkStatus))},{key:"Administrative state",value:this.nullableValuePipe.transform(e.administrativeState)}]:[]}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(j.cP,16))},e.\u0275pipe=x.Yjl({name:"toXnLinkStatesInDetails",type:e,pure:!0}),e})(),Qt=(()=>{class e{transform(e,t){switch(t){case Ut:return e===be.G.Unlocked;case Ft:return e===be.G.Locked||e===be.G.Unknown;default:return!0}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=x.Yjl({name:"isButtonVisibleByXnLinksState",type:e,pure:!0}),e})(),zt=(()=>{class e{transform(e,t,n){return(t===Rt.LockButton||t===Rt.UnlockButton)&&(e.administrativeState===be.G.Unknown||n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=x.Yjl({name:"isXnLinkButtonDisabled",type:e,pure:!0}),e})();function Kt(e,t){1&e&&x.GkF(0)}const Xt=function(e){return{$implicit:e}};function en(e,t){if(1&e&&(x.ynx(0),x.YNc(1,Kt,1,0,"ng-container",5),x.TgZ(2,"div",6),x._UZ(3,"ui-webem-details-section",7),x.ALo(4,"toXnLinkPropertiesInDetails"),x._UZ(5,"ui-webem-details-section",8),x.ALo(6,"toXnLinkStatesInDetails"),x.qZA(),x.BQk()),2&e){const e=x.oxw().ngIf;x.oxw();const t=x.MAs(4);x.xp6(1),x.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",x.VKq(8,Xt,e)),x.xp6(2),x.Q6J("data",x.lcZ(4,4,e)),x.xp6(2),x.Q6J("data",x.lcZ(6,6,e))}}function tn(e,t){1&e&&x.GkF(0)}function nn(e,t){if(1&e&&(x.ynx(0),x.YNc(1,tn,1,0,"ng-container",5),x._UZ(2,"status-shared-details-panel-parameters",9),x.BQk()),2&e){const e=x.oxw().ngIf;x.oxw();const t=x.MAs(4);x.xp6(1),x.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",x.VKq(3,Xt,e)),x.xp6(1),x.Q6J("distNames",e.distNames)}}function on(e,t){1&e&&(x.TgZ(0,"webem-status-tabbed-panel"),x.YNc(1,en,7,10,"ng-container",3),x.YNc(2,nn,3,5,"ng-container",4),x.qZA())}function sn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"ui-webem-button",13,14),x.NdJ("action",function(){x.CHM(e);const t=x.oxw().$implicit,n=x.oxw().$implicit;return x.oxw().clickButton(t.action,n)}),x.ALo(2,"isXnLinkButtonDisabled"),x.ALo(3,"async"),x.qZA()}if(2&e){const e=x.MAs(1),t=x.oxw().$implicit,n=x.oxw().$implicit,i=x.oxw();x.Q6J("oamRoleAccessControl",t.roleAccessFlag)("hostInstance",e)("id",t.name)("model",t.model)("options",t.options)("disabled",x.Dn7(2,6,n,t.name,x.lcZ(3,10,i.isCommissioningInProgress$)))}}function an(e,t){if(1&e&&(x.TgZ(0,"span"),x.YNc(1,sn,4,12,"ui-webem-button",12),x.ALo(2,"isButtonVisibleByXnLinksState"),x.qZA()),2&e){const e=t.$implicit,n=x.oxw().$implicit;x.xp6(1),x.Q6J("ngIf",x.xi3(2,1,n.administrativeState,e.action))}}function rn(e,t){if(1&e&&(x.TgZ(0,"div",10),x.YNc(1,an,3,4,"span",11),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.Q6J("ngForOf",e.buttons)}}function ln(e,t){1&e&&x._UZ(0,"ui-webem-no-selected-message",15)}const cn=[{path:"",component:V.O,outlet:"content_menu"},{path:"",component:Nt,outlet:"content_center"},{path:"",component:(()=>{class e{constructor(e,t,n){this.store=e,this.confirmationService=t,this.activatedRoute=n,this.buttons=(0,O.cloneDeep)($t),this.operations=Le(this.store,this.confirmationService,this.activatedRoute)}ngOnInit(){this.selectedXnLink$=(0,H.aj)([this.store.select(p.Ph),this.store.select(ne)]).pipe((0,l.U)(([e,t])=>e.find(e=>e.xnLinkId===t))),this.isCommissioningInProgress$=this.store.pipe((0,o.Ys)(J.f))}clickButton(e,t){switch(e){case Ut:this.operations.lockXnLink(t.xnLinkId);break;case Ft:this.operations.unlockXnLink(t.xnLinkId);break;case jt:this.operations.goToPe(t.xnLinkId)}}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(o.yh),x.Y36(De.YP),x.Y36(G.gz))},e.\u0275cmp=x.Xpm({type:e,selectors:[["xn-links-status-details-panel"]],decls:7,vars:4,consts:[[4,"ngIf","ngIfElse"],["detailsPanelWithButtons",""],["noXnLinkSelection",""],[4,"webemOverviewContent"],[4,"webemParametersContent"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"xn-link-details-section"],["id","xn-link-properties","title","Xn link properties",3,"data"],["id","xn-link-states","title","Xn link states",3,"data"],[3,"distNames"],["id","xn-link-details-buttons",1,"details-buttons"],[4,"ngFor","ngForOf"],["class","details-button",3,"oamRoleAccessControl","hostInstance","id","model","options","disabled","action",4,"ngIf"],[1,"details-button",3,"oamRoleAccessControl","hostInstance","id","model","options","disabled","action"],["btn",""],["message","Select Xn link from the list to see details"]],template:function(e,t){if(1&e&&(x.TgZ(0,"webem-details-panel"),x.YNc(1,on,3,0,"webem-status-tabbed-panel",0),x.ALo(2,"async"),x.qZA(),x.YNc(3,rn,2,1,"ng-template",null,1,x.W1O),x.YNc(5,ln,1,0,"ng-template",null,2,x.W1O)),2&e){const e=x.MAs(6);x.xp6(1),x.Q6J("ngIf",x.lcZ(2,2,t.selectedXnLink$))("ngIfElse",e)}},directives:[qt.V,L.O5,Bt.Y,Gt.r,Vt.w,L.tP,Yt.h,Jt.h,L.sg,ct.r,dt.h,_t.G],pipes:[L.Ov,Ht,Wt,Qt,zt],styles:[".xn-link-details-section[_ngcontent-%COMP%]{overflow-y:auto;height:100%}status-shared-details-panel-parameters[_ngcontent-%COMP%]{overflow-y:hidden}#xn-link-properties[_ngcontent-%COMP%]{margin-top:15px}.details-button[_ngcontent-%COMP%]{display:inline-block;margin-right:8px}.details-buttons[_ngcontent-%COMP%]{border-bottom:1px solid #98a2ae;padding-bottom:10px}"]}),e})(),outlet:"content_right"}];let dn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({imports:[[L.ez,G.Bz.forChild(cn)],G.Bz]}),e})(),un=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({imports:[[L.ez,j.oS,Z.J,R.I67,R.upY,R.gkd,D.D,$.E,R.g3K,R.hZC,R.EJq,R.Xn,R.a9S,R.Jaz,q.Us,U.R7,F.L,R.hXG,dn,o.Aw.forFeature(E,N),i.sQ.forFeature([w]),B.FZ]]}),e})()},61445:(e,t,n)=>{"use strict";n.d(t,{H:()=>d});var i=n(23815),o=n(85642),s=n(51001),a=n(86394);const r={[o.R.Conflicting]:0,[o.R.Unavailable]:1,[o.R.Available]:2},l={[s.G.Locked]:0,[s.G.Unlocked]:1,[s.G.Unknown]:2},c={[a.p.ByXnLinkId]:e=>parseInt(e.xnLinkId,10),[a.p.ByXnLinkStatus]:e=>r[e.xnLinkStatus],[a.p.ByAdministrativeState]:e=>l[e.administrativeState]};function d(e,t){return(0,i.sortBy)(e,e=>c[t](e))}},86394:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var i=(()=>(function(e){e.ByXnLinkId="xnLinkId",e.ByXnLinkStatus="xnLinkStatus",e.ByAdministrativeState="administrativeState"}(i||(i={})),i))()},87422:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSymbol=t.isEmpty=t.isNil=t.isConstructor=t.isString=t.isFunction=t.validatePath=t.isPlainObject=t.isObject=t.isUndefined=void 0,t.isUndefined=e=>void 0===e,t.isObject=e=>!t.isNil(e)&&"object"==typeof e,t.isPlainObject=e=>{if(!t.isObject(e))return!1;const n=Object.getPrototypeOf(e);if(null===n)return!0;const i=Object.prototype.hasOwnProperty.call(n,"constructor")&&n.constructor;return"function"==typeof i&&i instanceof i&&Function.prototype.toString.call(i)===Function.prototype.toString.call(Object)},t.validatePath=e=>e?"/"!==e.charAt(0)?"/"+e:e:"",t.isFunction=e=>"function"==typeof e,t.isString=e=>"string"==typeof e,t.isConstructor=e=>"constructor"===e,t.isNil=e=>t.isUndefined(e)||null===e,t.isEmpty=e=>!(e&&e.length>0),t.isSymbol=e=>"symbol"==typeof e},80729:function(e,t){var n,i=function(){this._tweens={},this._tweensAddedDuringUpdate={}};i.prototype={getAll:function(){return Object.keys(this._tweens).map((function(e){return this._tweens[e]}).bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(e=void 0!==e?e:s.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var o=this._tweens[n[i]];o&&!1===o.update(e)&&(o._isPlaying=!1,t||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var o,s=new i;s.Group=i,s._nextId=0,s.nextId=function(){return s._nextId++},s.now="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},s.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=s.Easing.Linear.None,this._interpolationFunction=s.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||s,this._id=s.nextId()},s.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},duration:function(e){return this._duration=e,this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?"string"==typeof e?s.now()+parseFloat(e):e:s.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array==0&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},group:function(e){return this._group=e,this},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onRepeat:function(e){return this._onRepeatCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,n,i;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,i=this._easingFunction(n=0===this._duration||n>1?1:n),this._valuesEnd)if(void 0!==this._valuesStart[t]){var o=this._valuesStart[t]||0,s=this._valuesEnd[t];s instanceof Array?this._object[t]=this._interpolationFunction(s,i):("string"==typeof s&&(s="+"===s.charAt(0)||"-"===s.charAt(0)?o+parseFloat(s):parseFloat(s)),"number"==typeof s&&(this._object[t]=o+(s-o)*i))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo){var a=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=a}this._valuesStart[t]=this._valuesStartRepeat[t]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?e+this._repeatDelayTime:e+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var r=0,l=this._chainedTweens.length;r<l;r++)this._chainedTweens[r].start(this._startTime+this._duration);return!1}return!0}},s.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-s.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*s.Easing.Bounce.In(2*e):.5*s.Easing.Bounce.Out(2*e-1)+.5}}},s.Interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i),a=s.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],i):t>1?a(e[n],e[n-1],n-i):a(e[o],e[o+1>n?n:o+1],i-o)},Bezier:function(e,t){for(var n=0,i=e.length-1,o=Math.pow,a=s.Interpolation.Utils.Bernstein,r=0;r<=i;r++)n+=o(1-t,i-r)*o(t,r)*e[r]*a(i,r);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i),a=s.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(i=n*(1+t))),a(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],i-o)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],i-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=s.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(o=[1],function(e){var t=1;if(o[e])return o[e];for(var n=e;n>1;n--)t*=n;return o[e]=t,t}),CatmullRom:function(e,t,n,i,o){var s=.5*(n-e),a=.5*(i-t),r=o*o;return(2*t-2*n+s+a)*(o*r)+(-3*t+3*n-2*s-a)*r+s*o+t}}},void 0===(n=(function(){return s}).apply(t,[]))||(e.exports=n)},60070:()=>{!function(){"use strict";var e,t,n,i,o,s,a,r,l,c,d,u,p,g="leader-line",h={top:1,right:2,bottom:3,left:4},m={straight:1,arc:2,fluid:3,magnet:4,grid:5},f="behind",b={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},C={behind:f,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},v={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},y=[1,2,3,4],S="auto",P={x:"left",y:"top",width:"width",height:"height"},O=10,x=30,w=.5522847,A=.25*Math.PI,_=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,T="http://www.w3.org/2000/svg",I="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,E=!I&&!!document.uniqueID,M="MozAppearance"in document.documentElement.style,k=!(I||M||!window.chrome||!window.CSS),N=!(I||E||M||k||window.chrome||!("WebkitAppearance"in document.documentElement.style)),L=E||I?.2:.1,D={path:3,lineColor:"coral",lineSize:4,plugSE:[f,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},Z=(d={}.toString,p=(u={}.hasOwnProperty.toString).call(Object),function(e){var t,n;return e&&"[object Object]"===d.call(e)&&(!(t=Object.getPrototypeOf(e))||(n=t.hasOwnProperty("constructor")&&t.constructor)&&"function"==typeof n&&u.call(n)===p)}),R=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},U=function(){var e,t={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},n=1e3/60/2,i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,n)},o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},s=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},a=[],r=0;function l(){var t=Date.now(),s=!1;e&&(o.call(window,e),e=null),a.forEach(function(e){var i,o,a;if(e.framesStart){if((i=t-e.framesStart)>=e.duration&&e.count&&e.loopsLeft<=1)return a=e.frames[e.lastFrame=e.reverse?0:e.frames.length-1],e.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(e.framesStart=null);if(i>e.duration){if(o=Math.floor(i/e.duration),e.count){if(o>=e.loopsLeft)return a=e.frames[e.lastFrame=e.reverse?0:e.frames.length-1],e.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(e.framesStart=null);e.loopsLeft-=o}e.framesStart+=e.duration*o,i=t-e.framesStart}e.reverse&&(i=e.duration-i),a=e.frames[e.lastFrame=Math.round(i/n)],!1!==e.frameCallback(a.value,!1,a.timeRatio,a.outputRatio)?s=!0:e.framesStart=null}}),s&&(e=i.call(window,l))}function c(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,l()}return{add:function(e,i,o,s,l,d,u){var p,g,h,m,f,b,C,v,y,S,P,O,x,w=++r;function A(t,n){return{value:e(n),timeRatio:t,outputRatio:n}}if("string"==typeof l&&(l=t[l]),e=e||function(){},o<n)g=[A(0,0),A(1,1)];else{if(h=n/o,g=[A(0,0)],0===l[0]&&0===l[1]&&1===l[2]&&1===l[3])for(f=h;f<=1;f+=h)g.push(A(f,f));else for(b=m=(f=h)/10;b<=1;b+=m)S=(y=(v=b)*v)*v,x=3*(P=1-v)*y,f<=(C={x:(O=P*P*3*v)*l[0]+x*l[2]+S,y:O*l[1]+x*l[3]+S}).x&&(g.push(A(C.x,C.y)),f+=h);g.push(A(1,1))}return a.push(p={animId:w,frameCallback:i,duration:o,count:s,frames:g,reverse:!!d}),!1!==u&&c(p,u),w},remove:function(e){var t;a.some(function(n,i){return n.animId===e&&(t=i,!(n.framesStart=null))})&&a.splice(t,1)},start:function(e,t,n){a.some(function(i){return i.animId===e&&(i.reverse=!!t,c(i,n),!0)})},stop:function(e,t){var n;return a.some(function(i){return i.animId===e&&(t?null!=i.lastFrame&&(n=i.frames[i.lastFrame].timeRatio):(n=(Date.now()-i.framesStart)/i.duration,i.reverse&&(n=1-n),n<0?n=0:1<n&&(n=1)),!(i.framesStart=null))}),n},validTiming:function(e){return"string"==typeof e?t[e]:Array.isArray(e)&&[0,1,2,3].every(function(t){return s(e[t])&&0<=e[t]&&e[t]<=1})?[e[0],e[1],e[2],e[3]]:null}}}(),F=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n.r(t);var i=[],o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return clearTimeout(e)},a=void 0,r=Date.now();function l(){var e=void 0,t=void 0;a&&(s.call(window,a),a=null),i.forEach(function(t){t.event&&(t.listener(t.event),t.event=null,e=!0)}),e?(r=Date.now(),t=!0):Date.now()-r<500&&(t=!0),t&&(a=o.call(window,l))}function c(e){var t=-1;return i.some(function(n,i){return n.listener===e&&(t=i,!0)}),t}var d={add:function(e){var t=void 0;return-1===c(e)?(i.push(t={listener:e}),function(e){t.event=e,a||l()}):null},remove:function(e){var t;-1<(t=c(e))&&(i.splice(t,1),!i.length&&a&&(s.call(window,a),a=null))}};t.default=d}]).default,j={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:f},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:f},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:f},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},$={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},q="fade",B=[],G={},V=0,Y={},J=0;function H(e,t){var n,i;return typeof e!=typeof t||(n=Z(e)?"obj":Array.isArray(e)?"array":"")!=(Z(t)?"obj":Array.isArray(t)?"array":"")||("obj"===n?H(i=Object.keys(e).sort(),Object.keys(t).sort())||i.some(function(n){return H(e[n],t[n])}):"array"===n?e.length!==t.length||e.some(function(e,n){return H(e,t[n])}):e!==t)}function W(e){return e?Z(e)?Object.keys(e).reduce(function(t,n){return t[n]=W(e[n]),t},{}):Array.isArray(e)?e.map(W):e:e}function Q(e){var t,n,i,o=1,s=e=(e+"").trim();function a(e){var t=1,n=_.exec(e);return n&&(t=parseFloat(n[1]),n[2]?t=0<=t&&t<=100?t/100:1:(t<0||1<t)&&(t=1)),t}return(t=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(n=t[1].toLowerCase(),i=t[2].trim().split(/\s*,\s*/),"rgba"===n&&4===i.length?(o=a(i[3]),s="rgb("+i.slice(0,3).join(", ")+")"):"hsla"===n&&4===i.length?(o=a(i[3]),s="hsl("+i.slice(0,3).join(", ")+")"):"hwb"===n&&4===i.length?(o=a(i[3]),s="hwb("+i.slice(0,3).join(", ")+")"):"gray"===n&&2===i.length?(o=a(i[1]),s="gray("+i[0]+")"):"device-cmyk"===n&&5<=i.length&&(o=a(i[4]),s="device-cmyk("+i.slice(0,4).join(", ")+")")):(t=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?t[1]?(o=parseInt(t[2],16)/255,s="#"+t[1]):(o=parseInt(t[4]+t[4],16)/255,s="#"+t[3]):"transparent"===e.toLocaleLowerCase()&&(o=0),[o,s]}function z(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function K(e,t){var n,i,o,s,a={};if(!(o=e.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(e.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(i in n=e.getBoundingClientRect())a[i]=n[i];if(!t){if(!(s=o.defaultView))return console.error("Cannot get window that contains the element."),null;a.left+=s.pageXOffset,a.right+=s.pageXOffset,a.top+=s.pageYOffset,a.bottom+=s.pageYOffset}return a}function X(e,t){var n,i,o=[],s=e;for(t=t||window;;){if(!(n=s.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(i=n.defaultView))return console.error("Cannot get window that contains the element."),null;if(i===t)break;if(!(s=i.frameElement))return console.error("`baseWindow` was not found."),null;o.unshift(s)}return o}function ee(e,t){var n,i,o=0,s=0;return(i=X(e,t=t||window))?i.length?(i.forEach(function(e,t){var n,i,a=K(e,0<t);o+=a.left,s+=a.top,i=(n=e).ownerDocument.defaultView.getComputedStyle(n,""),a={left:n.clientLeft+parseFloat(i.paddingLeft),top:n.clientTop+parseFloat(i.paddingTop)},o+=a.left,s+=a.top}),(n=K(e,!0)).left+=o,n.right+=o,n.top+=s,n.bottom+=s,n):K(e):null}function te(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function ne(e,t,n){var i=t.x-e.x,o=t.y-e.y;return{x:e.x+i*n,y:e.y+o*n,angle:Math.atan2(o,i)/(Math.PI/180)}}function ie(e,t,n){var i=Math.atan2(e.y-t.y,t.x-e.x);return{x:t.x+Math.cos(i)*n,y:t.y+Math.sin(i)*n*-1}}function oe(e,t,n,i,o){var s=o*o,a=s*o,r=1-o,l=r*r,c=l*r,d=c*e.x+3*l*o*t.x+3*r*s*n.x+a*i.x,u=c*e.y+3*l*o*t.y+3*r*s*n.y+a*i.y,p=e.x+2*o*(t.x-e.x)+s*(n.x-2*t.x+e.x),g=e.y+2*o*(t.y-e.y)+s*(n.y-2*t.y+e.y),h=t.x+2*o*(n.x-t.x)+s*(i.x-2*n.x+t.x),m=t.y+2*o*(n.y-t.y)+s*(i.y-2*n.y+t.y),f=r*e.x+o*t.x,b=r*e.y+o*t.y,C=r*n.x+o*i.x,v=r*n.y+o*i.y,y=90-180*Math.atan2(p-h,g-m)/Math.PI;return{x:d,y:u,fromP2:{x:p,y:g},toP1:{x:h,y:m},fromP1:{x:f,y:b},toP2:{x:C,y:v},angle:y+=180<y?-180:180}}function se(e,t,n,i,o){function s(e,t,n,i,o){return e*(e*(-3*t+9*n-9*i+3*o)+6*t-12*n+6*i)-3*t+3*n}var a,r,l,c,d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],u=0;return a=(o=null==o||1<o?1:o<0?0:o)/2,[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(o,p){l=s(r=a*o+a,e.x,t.x,n.x,i.x),c=s(r,e.y,t.y,n.y,i.y),u+=d[p]*Math.sqrt(l*l+c*c)}),a*u}function ae(e,t,n,i,o){for(var s,a=.5,r=1-a;s=se(e,t,n,i,r),!(Math.abs(s-o)<=.01);)r+=(s<o?1:-1)*(a/=2);return r}function re(e,t){var n;return e.forEach(function(e){var i=t?e.map(function(e){var n={x:e.x,y:e.y};return t(n),n}):e;n||(n=[{type:"M",values:[i[0].x,i[0].y]}]),n.push(i.length?2===i.length?{type:"L",values:[i[1].x,i[1].y]}:{type:"C",values:[i[1].x,i[1].y,i[2].x,i[2].y,i[3].x,i[3].y]}:{type:"Z",values:[]})}),n}function le(e){var t=[],n=0;return e.forEach(function(e){var i=(2===e.length?te:se).apply(null,e);t.push(i),n+=i}),{segsLen:t,lenAll:n}}function ce(e,t){return null==e||null==t||e.length!==t.length||e.some(function(e,n){var i=t[n];return e.type!==i.type||e.values.some(function(e,t){return e!==i.values[t]})})}function de(e,t,n){e.events[t]?e.events[t].indexOf(n)<0&&e.events[t].push(n):e.events[t]=[n]}function ue(e,t,n){var i;e.events[t]&&-1<(i=e.events[t].indexOf(n))&&e.events[t].splice(i,1)}function pe(e){a&&clearTimeout(a),B.push(e),a=setTimeout(function(){B.forEach(function(e){e()}),B=[]},0)}function ge(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function he(e){e.reflowTargets.forEach(function(e){var t;t=e,setTimeout(function(){var e=t.parentNode,n=t.nextSibling;e.insertBefore(e.removeChild(t),n)},0)}),e.reflowTargets=[]}function me(e,t,n,i,o,s,a){var l,c,d;"auto-start-reverse"===n?("boolean"!=typeof r&&(t.setAttribute("orient","auto-start-reverse"),r=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),r?t.setAttribute("orient",n):((l=o.createSVGTransform()).setRotate(180,0,0),s.transform.baseVal.appendItem(l),t.setAttribute("orient","auto"),d=!0)):(t.setAttribute("orient",n),!1===r&&s.transform.baseVal.clear()),c=t.viewBox.baseVal,d?(c.x=-i.right,c.y=-i.bottom):(c.x=i.left,c.y=i.top),c.width=i.width,c.height=i.height,E&&ge(e,a)}function fe(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function be(e,t){Object.keys(t).forEach(function(n){var i=t[n];e[n]=null!=i.iniValue?i.hasSE?[i.iniValue,i.iniValue]:i.iniValue:i.hasSE?i.hasProps?[{},{}]:[]:i.hasProps?{}:null})}function Ce(e,t,n,i,o){return i!==t[n]&&(t[n]=i,o&&o.forEach(function(t){t(e,i,n)}),!0)}function ve(e){function t(e,t){return e+parseFloat(t)}var n=e.document,i=e.getComputedStyle(n.documentElement,""),o=e.getComputedStyle(n.body,""),s={x:0,y:0};return"static"!==o.position?(s.x-=[i.marginLeft,i.borderLeftWidth,i.paddingLeft,o.marginLeft,o.borderLeftWidth].reduce(t,0),s.y-=[i.marginTop,i.borderTopWidth,i.paddingTop,o.marginTop,o.borderTopWidth].reduce(t,0)):"static"!==i.position&&(s.x-=[i.marginLeft,i.borderLeftWidth].reduce(t,0),s.y-=[i.marginTop,i.borderTopWidth].reduce(t,0)),s}function ye(e){var t,n=e.document;n.getElementById("leader-line-defs")||(t=(new e.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',"image/svg+xml"),n.body.appendChild(t.documentElement),function(e){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData||function(){var t={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},n=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()},i=-1!==e.navigator.userAgent.indexOf("MSIE ");n.prototype={parseSegment:function(){var e=this._string[this._currentIndex],n=t[e]?t[e]:null;if(null===n){if(null===this._prevCommand)return null;if(null===(n=("+"===e||"-"===e||"."===e||"0"<=e&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var i=null,o=(this._prevCommand=n).toUpperCase();return"H"===o||"V"===o?i=[this._parseNumber()]:"M"===o||"L"===o||"T"===o?i=[this._parseNumber(),this._parseNumber()]:"S"===o||"Q"===o?i=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===o?i=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===o?i=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===o&&(this._skipOptionalSpaces(),i=[]),null===i||0<=i.indexOf(null)?null:{type:n,values:i}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return t[e]?t[e]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,n=1,i=0,o=1,s=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,o=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var r=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==r)for(var l=this._currentIndex-1,c=1;r<=l;)t+=c*(this._string[l]-"0"),l-=1,c*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)n*=10,i+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==a&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,s=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var d=t+i;return d*=o,e&&(d*=Math.pow(10,s*e)),a===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),d)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};var o=function(e){if(!e||0===e.length)return[];var t=new n(e),i=[];if(t.initialCommandIsMoveTo())for(;t.hasMoreData();){var o=t.parseSegment();if(null===o)break;i.push(o)}return i},s=e.SVGPathElement.prototype.setAttribute,a=e.SVGPathElement.prototype.removeAttribute,r=e.Symbol?e.Symbol():"__cachedPathData",l=e.Symbol?e.Symbol():"__cachedNormalizedPathData",c=function(e,t,n,i,o,s,a,r,l,d){var u,p,g,h,m=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}},f=Math.PI*a/180,b=[];if(d)u=d[0],p=d[1],g=d[2],h=d[3];else{var C=m(e,t,-f);e=C.x,t=C.y;var v=m(n,i,-f),y=(e-(n=v.x))/2,S=(t-(i=v.y))/2,P=y*y/(o*o)+S*S/(s*s);1<P&&(o*=P=Math.sqrt(P),s*=P);var O=o*o,x=s*s,w=(r===l?-1:1)*Math.sqrt(Math.abs((O*x-O*S*S-x*y*y)/(O*S*S+x*y*y)));g=w*o*S/s+(e+n)/2,h=w*-s*y/o+(t+i)/2,u=Math.asin(parseFloat(((t-h)/s).toFixed(9))),p=Math.asin(parseFloat(((i-h)/s).toFixed(9))),e<g&&(u=Math.PI-u),n<g&&(p=Math.PI-p),u<0&&(u=2*Math.PI+u),p<0&&(p=2*Math.PI+p),l&&p<u&&(u-=2*Math.PI),!l&&u<p&&(p-=2*Math.PI)}var A=p-u;if(Math.abs(A)>120*Math.PI/180){var _=p,T=n,I=i;p=l&&u<p?u+120*Math.PI/180*1:u+120*Math.PI/180*-1,n=g+o*Math.cos(p),i=h+s*Math.sin(p),b=c(n,i,T,I,o,s,a,0,l,[p,_,g,h])}A=p-u;var E=Math.cos(u),M=Math.sin(u),k=Math.cos(p),N=Math.sin(p),L=Math.tan(A/4),D=4/3*o*L,Z=4/3*s*L,R=[e,t],U=[e+D*M,t-Z*E],F=[n+D*N,i-Z*k],j=[n,i];if(U[0]=2*R[0]-U[0],U[1]=2*R[1]-U[1],d)return[U,F,j].concat(b);b=[U,F,j].concat(b).join().split(",");var $=[],q=[];return b.forEach(function(e,t){q.push(t%2?m(b[t-1],b[t],f).y:m(b[t],b[t+1],f).x),6===q.length&&($.push(q),q=[])}),$},d=function(e){return e.map(function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}})},u=function(e){var t=[],n=null,i=null,o=null,s=null,a=null,r=null,l=null;return e.forEach(function(e){if("M"===e.type){var d=e.values[0],u=e.values[1];t.push({type:"M",values:[d,u]}),s=r=d,a=l=u}else if("C"===e.type){var p=e.values[0],g=e.values[1],h=e.values[2],m=e.values[3];t.push({type:"C",values:[p,g,h,m,d=e.values[4],u=e.values[5]]}),i=h,o=m,s=d,a=u}else if("L"===e.type)t.push({type:"L",values:[d=e.values[0],u=e.values[1]]}),s=d,a=u;else if("H"===e.type)t.push({type:"L",values:[d=e.values[0],a]}),s=d;else if("V"===e.type)t.push({type:"L",values:[s,u=e.values[0]]}),a=u;else if("S"===e.type)"C"===n||"S"===n?(f=s+(s-i),b=a+(a-o)):(f=s,b=a),t.push({type:"C",values:[f,b,h=e.values[0],m=e.values[1],d=e.values[2],u=e.values[3]]}),i=h,o=m,s=d,a=u;else if("T"===e.type){"Q"===n||"T"===n?(p=s+(s-i),g=a+(a-o)):(p=s,g=a);var f=s+2*(p-s)/3,b=a+2*(g-a)/3,C=(d=e.values[0])+2*(p-d)/3,v=(u=e.values[1])+2*(g-u)/3;t.push({type:"C",values:[f,b,C,v,d,u]}),i=p,o=g,s=d,a=u}else if("Q"===e.type)t.push({type:"C",values:[f=s+2*((p=e.values[0])-s)/3,b=a+2*((g=e.values[1])-a)/3,C=(d=e.values[2])+2*(p-d)/3,v=(u=e.values[3])+2*(g-u)/3,d,u]}),i=p,o=g,s=d,a=u;else if("A"===e.type){var y=e.values[0],S=e.values[1],P=e.values[2],O=e.values[3],x=e.values[4];d=e.values[5],u=e.values[6],0===y||0===S?(t.push({type:"C",values:[s,a,d,u,d,u]}),s=d,a=u):s===d&&a===u||c(s,a,d,u,y,S,P,O,x).forEach(function(e){t.push({type:"C",values:e}),s=d,a=u})}else"Z"===e.type&&(t.push(e),s=r,a=l);n=e.type}),t};e.SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[r]=null,this[l]=null),s.call(this,e,t)},e.SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[r]=null,this[l]=null),a.call(this,e)},e.SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize){if(this[l])return d(this[l]);this[r]?p=d(this[r]):(p=o(this.getAttribute("d")||""),this[r]=d(p));var t=u((n=[],c=a=s=i=null,p.forEach(function(e){var t=e.type;if("M"===t){var o=e.values[0],r=e.values[1];n.push({type:"M",values:[o,r]}),i=a=o,s=c=r}else if("m"===t)n.push({type:"M",values:[o=i+e.values[0],r=s+e.values[1]]}),i=a=o,s=c=r;else if("L"===t)n.push({type:"L",values:[o=e.values[0],r=e.values[1]]}),i=o,s=r;else if("l"===t)n.push({type:"L",values:[o=i+e.values[0],r=s+e.values[1]]}),i=o,s=r;else if("C"===t){var l=e.values[0],d=e.values[1],u=e.values[2],p=e.values[3];n.push({type:"C",values:[l,d,u,p,o=e.values[4],r=e.values[5]]}),i=o,s=r}else"c"===t?(n.push({type:"C",values:[l=i+e.values[0],d=s+e.values[1],u=i+e.values[2],p=s+e.values[3],o=i+e.values[4],r=s+e.values[5]]}),i=o,s=r):"Q"===t?(n.push({type:"Q",values:[l=e.values[0],d=e.values[1],o=e.values[2],r=e.values[3]]}),i=o,s=r):"q"===t?(n.push({type:"Q",values:[l=i+e.values[0],d=s+e.values[1],o=i+e.values[2],r=s+e.values[3]]}),i=o,s=r):"A"===t?(n.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o=e.values[5],r=e.values[6]]}),i=o,s=r):"a"===t?(n.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o=i+e.values[5],r=s+e.values[6]]}),i=o,s=r):"H"===t?(n.push({type:"H",values:[o=e.values[0]]}),i=o):"h"===t?(n.push({type:"H",values:[o=i+e.values[0]]}),i=o):"V"===t?(n.push({type:"V",values:[r=e.values[0]]}),s=r):"v"===t?(n.push({type:"V",values:[r=s+e.values[0]]}),s=r):"S"===t?(n.push({type:"S",values:[u=e.values[0],p=e.values[1],o=e.values[2],r=e.values[3]]}),i=o,s=r):"s"===t?(n.push({type:"S",values:[u=i+e.values[0],p=s+e.values[1],o=i+e.values[2],r=s+e.values[3]]}),i=o,s=r):"T"===t?(n.push({type:"T",values:[o=e.values[0],r=e.values[1]]}),i=o,s=r):"t"===t?(n.push({type:"T",values:[o=i+e.values[0],r=s+e.values[1]]}),i=o,s=r):"Z"!==t&&"z"!==t||(n.push({type:"Z",values:[]}),i=a,s=c)}),n));return this[l]=d(t),t}if(this[r])return d(this[r]);var n,i,s,a,c,p=o(this.getAttribute("d")||"");return this[r]=d(p),p},e.SVGPathElement.prototype.setPathData=function(e){if(0===e.length)i?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",n=0,o=e.length;n<o;n+=1){var s=e[n];0<n&&(t+=" "),t+=s.type,s.values&&0<s.values.length&&(t+=" "+s.values.join(" "))}this.setAttribute("d",t)}},e.SVGRectElement.prototype.getPathData=function(e){var t=this.x.baseVal.value,n=this.y.baseVal.value,i=this.width.baseVal.value,o=this.height.baseVal.value,s=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,a=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;i/2<s&&(s=i/2),o/2<a&&(a=o/2);var r=[{type:"M",values:[t+s,n]},{type:"H",values:[t+i-s]},{type:"A",values:[s,a,0,0,1,t+i,n+a]},{type:"V",values:[n+o-a]},{type:"A",values:[s,a,0,0,1,t+i-s,n+o]},{type:"H",values:[t+s]},{type:"A",values:[s,a,0,0,1,t,n+o-a]},{type:"V",values:[n+a]},{type:"A",values:[s,a,0,0,1,t+s,n]},{type:"Z",values:[]}];return r=r.filter(function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]}),e&&!0===e.normalize&&(r=u(r)),r},e.SVGCircleElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,i=this.r.baseVal.value,o=[{type:"M",values:[t+i,n]},{type:"A",values:[i,i,0,0,1,t,n+i]},{type:"A",values:[i,i,0,0,1,t-i,n]},{type:"A",values:[i,i,0,0,1,t,n-i]},{type:"A",values:[i,i,0,0,1,t+i,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(o=u(o)),o},e.SVGEllipseElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,i=this.rx.baseVal.value,o=this.ry.baseVal.value,s=[{type:"M",values:[t+i,n]},{type:"A",values:[i,o,0,0,1,t,n+o]},{type:"A",values:[i,o,0,0,1,t-i,n]},{type:"A",values:[i,o,0,0,1,t,n-o]},{type:"A",values:[i,o,0,0,1,t+i,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(s=u(s)),s},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e},e.SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e.push({type:"Z",values:[]}),e}}()}(e))}function Se(e){var t,n,i,o,s,a,r,l,c,d,u,p,g,h,m,f,b,C,v=e.options,S=e.curStats,P=e.aplStats,_=S.position_socketXYSE,T=!1;function I(e,t){var n=1===t?{x:e.left+e.width/2,y:e.top}:2===t?{x:e.right,y:e.top+e.height/2}:3===t?{x:e.left+e.width/2,y:e.bottom}:{x:e.left,y:e.top+e.height/2};return n.socketId=t,n}function E(e){return{x:e.x,y:e.y}}if(S.position_path=v.path,S.position_lineStrokeWidth=S.line_strokeWidth,S.position_socketGravitySE=t=W(v.socketGravitySE),n=[0,1].map(function(t){var n,i,o,s=v.anchorSE[t],a=e.optionIsAttach.anchorSE[t],r=!1!==a?Y[s._id]:null,l=!1!==a&&r.conf.getStrokeWidth?r.conf.getStrokeWidth(r,e):0,c=!1!==a&&r.conf.getBBoxNest?r.conf.getBBoxNest(r,e,l):ee(s,e.baseWindow);return S.capsMaskAnchor_pathDataSE[t]=!1!==a&&r.conf.getPathData?r.conf.getPathData(r,e,l):(i=null!=(n=c).right?n.right:n.left+n.width,[{type:"M",values:[n.left,n.top]},{type:"L",values:[i,n.top]},{type:"L",values:[i,o=null!=n.bottom?n.bottom:n.top+n.height]},{type:"L",values:[n.left,o]},{type:"Z",values:[]}]),S.capsMaskAnchor_strokeWidthSE[t]=l,c}),r=-1,v.socketSE[0]&&v.socketSE[1]?(_[0]=I(n[0],v.socketSE[0]),_[1]=I(n[1],v.socketSE[1])):(v.socketSE[0]||v.socketSE[1]?(v.socketSE[0]?(s=0,a=1):(s=1,a=0),_[s]=I(n[s],v.socketSE[s]),(o=y.map(function(e){return I(n[a],e)})).forEach(function(e){var t=te(e,_[s]);(t<r||-1===r)&&(_[a]=e,r=t)})):(o=y.map(function(e){return I(n[1],e)}),y.map(function(e){return I(n[0],e)}).forEach(function(e){o.forEach(function(t){var n=te(e,t);(n<r||-1===r)&&(_[0]=e,_[1]=t,r=n)})})),[0,1].forEach(function(e){var t,i;v.socketSE[e]||(n[e].width||n[e].height?n[e].width||4!==_[e].socketId&&2!==_[e].socketId?n[e].height||1!==_[e].socketId&&3!==_[e].socketId||(_[e].socketId=0<=_[e?0:1].y-n[e].top?3:1):_[e].socketId=0<=_[e?0:1].x-n[e].left?2:4:(t=_[e?0:1].x-n[e].left,i=_[e?0:1].y-n[e].top,_[e].socketId=Math.abs(t)>=Math.abs(i)?0<=t?2:4:0<=i?3:1))})),S.position_path!==P.position_path||S.position_lineStrokeWidth!==P.position_lineStrokeWidth||[0,1].some(function(e){return S.position_plugOverheadSE[e]!==P.position_plugOverheadSE[e]||(s=_[e]).x!==(a=P.position_socketXYSE[e]).x||s.y!==a.y||s.socketId!==a.socketId||(i=P.position_socketGravitySE[e],(o=null==(n=t[e])?"auto":Array.isArray(n)?"array":"number")!=(null==i?"auto":Array.isArray(i)?"array":"number")||("array"===o?n[0]!==i[0]||n[1]!==i[1]:n!==i));var n,i,o,s,a})){switch(e.pathList.baseVal=i=[],e.pathList.animVal=null,S.position_path){case 1:i.push([E(_[0]),E(_[1])]);break;case 2:p=A*("number"==typeof t[0]&&0<t[0]||"number"==typeof t[1]&&0<t[1]?-1:1),h=-(g=Math.atan2(_[1].y-_[0].y,_[1].x-_[0].x))+p,m=Math.PI-g-p,f=te(_[0],_[1])/Math.sqrt(2)*w,b={x:_[0].x+Math.cos(h)*f,y:_[0].y+Math.sin(h)*f*-1},C={x:_[1].x+Math.cos(m)*f,y:_[1].y+Math.sin(m)*f*-1},i.push([E(_[0]),b,C,E(_[1])]);break;case 3:case 4:c=[t[0],4===S.position_path?0:t[1]],d=[],u=[],_.forEach(function(e,t){var n,i,o,s,a,r=c[t];Array.isArray(r)?n={x:r[0],y:r[1]}:"number"==typeof r?n=1===e.socketId?{x:0,y:-r}:2===e.socketId?{x:r,y:0}:3===e.socketId?{x:0,y:r}:{x:-r,y:0}:(i=_[t?0:1],s=0<(o=S.position_plugOverheadSE[t])?120+(8<o?3.75*(o-8):0):80+(S.position_lineStrokeWidth>4?5*(S.position_lineStrokeWidth-4):0),1===e.socketId?((a=(e.y-i.y)/2)<s&&(a=s),n={x:0,y:-a}):2===e.socketId?((a=(i.x-e.x)/2)<s&&(a=s),n={x:a,y:0}):3===e.socketId?((a=(i.y-e.y)/2)<s&&(a=s),n={x:0,y:a}):((a=(e.x-i.x)/2)<s&&(a=s),n={x:-a,y:0})),d[t]=e.x+n.x,u[t]=e.y+n.y}),i.push([E(_[0]),{x:d[0],y:u[0]},{x:d[1],y:u[1]},E(_[1])]);break;case 5:!function(){var e,n=[[],[]],o=[];function s(e){return 1===e?3:2===e?4:3===e?1:2}function a(e){return 2===e||4===e?"x":"y"}function r(e,t,n){var i={x:e.x,y:e.y};if(n){if(n===s(e.dirId))throw new Error("Invalid dirId: "+n);i.dirId=n}else i.dirId=e.dirId;return 1===i.dirId?i.y-=t:2===i.dirId?i.x+=t:3===i.dirId?i.y+=t:i.x-=t,i}function l(e,t){return 1===t.dirId?e.y<=t.y:2===t.dirId?e.x>=t.x:3===t.dirId?e.y>=t.y:e.x<=t.x}function c(e,t){return 1===t.dirId||3===t.dirId?e.x===t.x:e.y===t.y}function d(e){return e[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function u(e,t,n){return Math.abs(t[n]-e[n])}function p(e,t,n){return"x"===n?e.x<t.x?2:4:e.y<t.y?3:1}function g(){var e,t,i,s,g=[l(o[1],o[0]),l(o[0],o[1])],h=[a(o[0].dirId),a(o[1].dirId)];if(h[0]===h[1]){if(g[0]&&g[1])return c(o[1],o[0])||(o[0][h[0]]===o[1][h[1]]?(n[0].push(o[0]),n[1].push(o[1])):(e=o[0][h[0]]+(o[1][h[1]]-o[0][h[0]])/2,n[0].push(r(o[0],Math.abs(e-o[0][h[0]]))),n[1].push(r(o[1],Math.abs(e-o[1][h[1]]))))),!1;g[0]!==g[1]?(t=d(g),(i=u(o[t.notContain],o[t.contain],h[t.notContain]))<x&&(o[t.notContain]=r(o[t.notContain],x-i)),n[t.notContain].push(o[t.notContain]),o[t.notContain]=r(o[t.notContain],x,c(o[t.contain],o[t.notContain])?"x"===h[t.notContain]?3:2:p(o[t.notContain],o[t.contain],"x"===h[t.notContain]?"y":"x"))):(i=u(o[0],o[1],"x"===h[0]?"y":"x"),n.forEach(function(e,t){var n=0===t?1:0;e.push(o[t]),o[t]=r(o[t],x,60<=i?p(o[t],o[n],"x"===h[t]?"y":"x"):"x"===h[t]?3:2)}))}else{if(g[0]&&g[1])return c(o[1],o[0])?n[1].push(o[1]):c(o[0],o[1])?n[0].push(o[0]):n[0].push("x"===h[0]?{x:o[1].x,y:o[0].y}:{x:o[0].x,y:o[1].y}),!1;g[0]!==g[1]?(t=d(g),n[t.notContain].push(o[t.notContain]),o[t.notContain]=r(o[t.notContain],x,u(o[t.notContain],o[t.contain],h[t.contain])>=x?p(o[t.notContain],o[t.contain],h[t.contain]):o[t.contain].dirId)):(s=[{x:o[0].x,y:o[0].y},{x:o[1].x,y:o[1].y}],n.forEach(function(e,t){var n=0===t?1:0,i=u(s[t],s[n],h[t]);i<x&&(o[t]=r(o[t],x-i)),e.push(o[t]),o[t]=r(o[t],x,p(o[t],o[n],h[n]))}))}return!0}for(_.forEach(function(e,i){var a,l=E(e),c=t[i];a=Array.isArray(c)?c[0]<0?[4,-c[0]]:0<c[0]?[2,c[0]]:c[1]<0?[1,-c[1]]:0<c[1]?[3,c[1]]:[e.socketId,0]:"number"!=typeof c?[e.socketId,x]:0<=c?[e.socketId,c]:[s(e.socketId),-c],l.dirId=a[0],c=a[1],n[i].push(l),o[i]=r(l,c)});g(););n[1].reverse(),n[0].concat(n[1]).forEach(function(t,n){var o={x:t.x,y:t.y};0<n&&i.push([e,o]),e=o})}()}l=[],S.position_plugOverheadSE.forEach(function(e,t){var o,s,a,r,c,d,u,p,g,h,m,f=!t;0<e?2===(o=i[s=f?0:i.length-1]).length?(l[s]=l[s]||te.apply(null,o),l[s]>O&&(l[s]-e<O&&(e=l[s]-O),a=ne(o[0],o[1],(f?e:l[s]-e)/l[s]),i[s]=f?[a,o[1]]:[o[0],a],l[s]-=e)):(l[s]=l[s]||se.apply(null,o),l[s]>O&&(l[s]-e<O&&(e=l[s]-O),a=oe(o[0],o[1],o[2],o[3],ae(o[0],o[1],o[2],o[3],f?e:l[s]-e)),f?(r=o[0],c=a.toP1):(r=o[3],c=a.fromP2),d=Math.atan2(r.y-a.y,a.x-r.x),u=te(a,c),a.x=r.x+Math.cos(d)*e,a.y=r.y+Math.sin(d)*e*-1,c.x=a.x+Math.cos(d)*u,c.y=a.y+Math.sin(d)*u*-1,i[s]=f?[a,a.toP1,a.toP2,o[3]]:[o[0],a.fromP1,a.fromP2,a],l[s]=null)):e<0&&(o=i[s=f?0:i.length-1],e<(m=-n[t]["x"==(g=4===(p=_[t].socketId)||2===p?"x":"y")?"width":"height"])&&(e=m),h=e*(4===p||1===p?-1:1),2===o.length?o[f?0:o.length-1][g]+=h:(f?[0,1]:[o.length-2,o.length-1]).forEach(function(e){o[e][g]+=h}),l[s]=null)}),P.position_socketXYSE=W(_),P.position_plugOverheadSE=W(S.position_plugOverheadSE),P.position_path=S.position_path,P.position_lineStrokeWidth=S.position_lineStrokeWidth,P.position_socketGravitySE=W(t),T=!0,e.events.apl_position&&e.events.apl_position.forEach(function(t){t(e,i)})}return T}function Pe(e,t){t!==e.isShown&&(!!t!=!!e.isShown&&(e.svg.style.visibility=t?"":"hidden"),e.isShown=t,e.events&&e.events.svgShow&&e.events.svgShow.forEach(function(n){n(e,t)}))}function Oe(t,n){var i,o,s,a,r,l,c,d,u,p,g,h,m,C,y,S,O,x,w,A,_,T,I,Z,R,U,F,j,$,q,B,G,V,Y,J,z,K,X,ee,te,ne,ie,oe,se,ae,le,de,ue,pe,be,ve,ye={};n.line&&(ye.line=(o=(i=t).options,r=!1,r=Ce(i,s=i.curStats,"line_color",o.lineColor,(a=i.events).cur_line_color)||r,r=Ce(i,s,"line_colorTra",Q(s.line_color)[0]<1)||r,r=Ce(i,s,"line_strokeWidth",o.lineSize,a.cur_line_strokeWidth)||r)),(n.plug||ye.line)&&(ye.plug=(c=(l=t).options,d=l.curStats,u=l.events,p=!1,[0,1].forEach(function(e){var t,n,i,o,s,a,r,g,h=c.plugSE[e];p=Ce(l,d.plug_enabledSE,e,h!==f)||p,p=Ce(l,d.plug_plugSE,e,h)||p,p=Ce(l,d.plug_colorSE,e,g=c.plugColorSE[e]||d.line_color,u.cur_plug_colorSE)||p,p=Ce(l,d.plug_colorTraSE,e,Q(g)[0]<1)||p,h!==f&&(o=n=(t=b[v[h]]).widthR*c.plugSizeSE[e],s=i=t.heightR*c.plugSizeSE[e],N&&(o*=d.line_strokeWidth,s*=d.line_strokeWidth),p=Ce(l,d.plug_markerWidthSE,e,o)||p,p=Ce(l,d.plug_markerHeightSE,e,s)||p,d.capsMaskMarker_markerWidthSE[e]=n,d.capsMaskMarker_markerHeightSE[e]=i),d.plugOutline_plugSE[e]=d.capsMaskMarker_plugSE[e]=h,d.plug_enabledSE[e]?(d.position_plugOverheadSE[e]=t.overhead*(g=d.line_strokeWidth/D.lineSize*c.plugSizeSE[e]),d.viewBox_plugBCircleSE[e]=t.bCircle*g,a=t.sideLen*g,r=t.backLen*g):(d.position_plugOverheadSE[e]=-d.line_strokeWidth/2,d.viewBox_plugBCircleSE[e]=a=r=0),Ce(l,d.attach_plugSideLenSE,e,a,u.cur_attach_plugSideLenSE),Ce(l,d.attach_plugBackLenSE,e,r,u.cur_attach_plugBackLenSE),d.capsMaskAnchor_enabledSE[e]=!d.plug_enabledSE[e]}),p=Ce(l,d,"plug_enabled",d.plug_enabledSE[0]||d.plug_enabledSE[1])||p)),(n.lineOutline||ye.line)&&(ye.lineOutline=(m=(g=t).options,y=!1,y=Ce(g,C=g.curStats,"lineOutline_enabled",m.lineOutlineEnabled)||y,y=Ce(g,C,"lineOutline_color",m.lineOutlineColor)||y,y=Ce(g,C,"lineOutline_colorTra",Q(C.lineOutline_color)[0]<1)||y,y=Ce(g,C,"lineOutline_strokeWidth",C.line_strokeWidth-2*(h=C.line_strokeWidth*m.lineOutlineSize))||y,y=Ce(g,C,"lineOutline_inStrokeWidth",C.lineOutline_colorTra?C.lineOutline_strokeWidth+2*L:C.line_strokeWidth-h)||y)),(n.plugOutline||ye.line||ye.plug||ye.lineOutline)&&(ye.plugOutline=(O=(S=t).options,x=S.curStats,w=!1,[0,1].forEach(function(e){var t,n=x.plugOutline_plugSE[e],i=n!==f?b[v[n]]:null;w=Ce(S,x.plugOutline_enabledSE,e,O.plugOutlineEnabledSE[e]&&x.plug_enabled&&x.plug_enabledSE[e]&&!!i&&!!i.outlineBase)||w,w=Ce(S,x.plugOutline_colorSE,e,t=O.plugOutlineColorSE[e]||x.lineOutline_color)||w,w=Ce(S,x.plugOutline_colorTraSE,e,Q(t)[0]<1)||w,i&&i.outlineBase&&((t=O.plugOutlineSizeSE[e])>i.outlineMax&&(t=i.outlineMax),w=Ce(S,x.plugOutline_strokeWidthSE,e,t*=2*i.outlineBase)||w,w=Ce(S,x.plugOutline_inStrokeWidthSE,e,x.plugOutline_colorTraSE[e]?t-L/(x.line_strokeWidth/D.lineSize)/O.plugSizeSE[e]*2:t/2)||w)}),w)),(n.faces||ye.line||ye.plug||ye.lineOutline||ye.plugOutline)&&(ye.faces=(T=(A=t).curStats,I=A.aplStats,Z=A.events,R=!1,!T.line_altColor&&Ce(A,I,"line_color",_=T.line_color,Z.apl_line_color)&&(A.lineFace.style.stroke=_,R=!0),Ce(A,I,"line_strokeWidth",_=T.line_strokeWidth,Z.apl_line_strokeWidth)&&(A.lineShape.style.strokeWidth=_+"px",R=!0,(M||E)&&(ge(A,A.lineShape),E&&(ge(A,A.lineFace),ge(A,A.lineMaskCaps)))),Ce(A,I,"lineOutline_enabled",_=T.lineOutline_enabled,Z.apl_lineOutline_enabled)&&(A.lineOutlineFace.style.display=_?"inline":"none",R=!0),T.lineOutline_enabled&&(Ce(A,I,"lineOutline_color",_=T.lineOutline_color,Z.apl_lineOutline_color)&&(A.lineOutlineFace.style.stroke=_,R=!0),Ce(A,I,"lineOutline_strokeWidth",_=T.lineOutline_strokeWidth,Z.apl_lineOutline_strokeWidth)&&(A.lineOutlineMaskShape.style.strokeWidth=_+"px",R=!0,E&&(ge(A,A.lineOutlineMaskCaps),ge(A,A.lineOutlineFace))),Ce(A,I,"lineOutline_inStrokeWidth",_=T.lineOutline_inStrokeWidth,Z.apl_lineOutline_inStrokeWidth)&&(A.lineMaskShape.style.strokeWidth=_+"px",R=!0,E&&(ge(A,A.lineOutlineMaskCaps),ge(A,A.lineOutlineFace)))),Ce(A,I,"plug_enabled",_=T.plug_enabled,Z.apl_plug_enabled)&&(A.plugsFace.style.display=_?"inline":"none",R=!0),T.plug_enabled&&[0,1].forEach(function(e){var t=T.plug_plugSE[e],n=t!==f?b[v[t]]:null,i=fe(e,n);Ce(A,I.plug_enabledSE,e,_=T.plug_enabledSE[e],Z.apl_plug_enabledSE)&&(A.plugsFace.style[i.prop]=_?"url(#"+A.plugMarkerIdSE[e]+")":"none",R=!0),T.plug_enabledSE[e]&&(Ce(A,I.plug_plugSE,e,t,Z.apl_plug_plugSE)&&(A.plugFaceSE[e].href.baseVal="#"+n.elmId,me(A,A.plugMarkerSE[e],i.orient,n.bBox,A.svg,A.plugMarkerShapeSE[e],A.plugsFace),R=!0,M&&ge(A,A.plugsFace)),Ce(A,I.plug_colorSE,e,_=T.plug_colorSE[e],Z.apl_plug_colorSE)&&(A.plugFaceSE[e].style.fill=_,R=!0,(k||N||E)&&!T.line_colorTra&&ge(A,E?A.lineMaskCaps:A.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(t){var n="plug_"+t+"SE";Ce(A,I[n],e,_=T[n][e],Z["apl_"+n])&&(A.plugMarkerSE[e][t].baseVal.value=_,R=!0)}),Ce(A,I.plugOutline_enabledSE,e,_=T.plugOutline_enabledSE[e],Z.apl_plugOutline_enabledSE)&&(_?(A.plugFaceSE[e].style.mask="url(#"+A.plugMaskIdSE[e]+")",A.plugOutlineFaceSE[e].style.display="inline"):(A.plugFaceSE[e].style.mask="none",A.plugOutlineFaceSE[e].style.display="none"),R=!0),T.plugOutline_enabledSE[e]&&(Ce(A,I.plugOutline_plugSE,e,t,Z.apl_plugOutline_plugSE)&&(A.plugOutlineFaceSE[e].href.baseVal=A.plugMaskShapeSE[e].href.baseVal=A.plugOutlineMaskShapeSE[e].href.baseVal="#"+n.elmId,[A.plugMaskSE[e],A.plugOutlineMaskSE[e]].forEach(function(e){e.x.baseVal.value=n.bBox.left,e.y.baseVal.value=n.bBox.top,e.width.baseVal.value=n.bBox.width,e.height.baseVal.value=n.bBox.height}),R=!0),Ce(A,I.plugOutline_colorSE,e,_=T.plugOutline_colorSE[e],Z.apl_plugOutline_colorSE)&&(A.plugOutlineFaceSE[e].style.fill=_,R=!0,E&&(ge(A,A.lineMaskCaps),ge(A,A.lineOutlineMaskCaps))),Ce(A,I.plugOutline_strokeWidthSE,e,_=T.plugOutline_strokeWidthSE[e],Z.apl_plugOutline_strokeWidthSE)&&(A.plugOutlineMaskShapeSE[e].style.strokeWidth=_+"px",R=!0),Ce(A,I.plugOutline_inStrokeWidthSE,e,_=T.plugOutline_inStrokeWidthSE[e],Z.apl_plugOutline_inStrokeWidthSE)&&(A.plugMaskShapeSE[e].style.strokeWidth=_+"px",R=!0)))}),R)),(n.position||ye.line||ye.plug)&&(ye.position=Se(t)),(n.path||ye.position)&&(ye.path=(j=(U=t).curStats,$=U.aplStats,B=j.path_edge,G=!1,(q=U.pathList.animVal||U.pathList.baseVal)&&(B.x1=B.x2=q[0][0].x,B.y1=B.y2=q[0][0].y,j.path_pathData=F=re(q,function(e){e.x<B.x1&&(B.x1=e.x),e.y<B.y1&&(B.y1=e.y),e.x>B.x2&&(B.x2=e.x),e.y>B.y2&&(B.y2=e.y)}),ce(F,$.path_pathData)&&(U.linePath.setPathData(F),$.path_pathData=F,G=!0,E?(ge(U,U.plugsFace),ge(U,U.lineMaskCaps)):M&&ge(U,U.linePath),U.events.apl_path&&U.events.apl_path.forEach(function(e){e(U,F)}))),G)),ye.viewBox=(K=(z=(V=t).curStats).path_edge,X=z.viewBox_bBox,ee=V.aplStats.viewBox_bBox,te=V.svg.viewBox.baseVal,ne=V.svg.style,ie=!1,Y=Math.max(z.line_strokeWidth/2,z.viewBox_plugBCircleSE[0]||0,z.viewBox_plugBCircleSE[1]||0),J={x1:K.x1-Y,y1:K.y1-Y,x2:K.x2+Y,y2:K.y2+Y},V.events.new_edge4viewBox&&V.events.new_edge4viewBox.forEach(function(e){e(V,J)}),X.x=z.lineMask_x=z.lineOutlineMask_x=z.maskBGRect_x=J.x1,X.y=z.lineMask_y=z.lineOutlineMask_y=z.maskBGRect_y=J.y1,X.width=J.x2-J.x1,X.height=J.y2-J.y1,["x","y","width","height"].forEach(function(e){var t;(t=X[e])!==ee[e]&&(te[e]=ee[e]=t,ne[P[e]]=t+("x"===e||"y"===e?V.bodyOffset[e]:0)+"px",ie=!0)}),ie),ye.mask=(ae=(oe=t).curStats,le=oe.aplStats,de=!1,ae.plug_enabled?[0,1].forEach(function(e){ae.capsMaskMarker_enabledSE[e]=ae.plug_enabledSE[e]&&ae.plug_colorTraSE[e]||ae.plugOutline_enabledSE[e]&&ae.plugOutline_colorTraSE[e]}):ae.capsMaskMarker_enabledSE[0]=ae.capsMaskMarker_enabledSE[1]=!1,ae.capsMaskMarker_enabled=ae.capsMaskMarker_enabledSE[0]||ae.capsMaskMarker_enabledSE[1],ae.lineMask_outlineMode=ae.lineOutline_enabled,ae.caps_enabled=ae.capsMaskMarker_enabled||ae.capsMaskAnchor_enabledSE[0]||ae.capsMaskAnchor_enabledSE[1],ae.lineMask_enabled=ae.caps_enabled||ae.lineMask_outlineMode,(ae.lineMask_enabled&&!ae.lineMask_outlineMode||ae.lineOutline_enabled)&&["x","y"].forEach(function(e){var t="maskBGRect_"+e;Ce(oe,le,t,se=ae[t])&&(oe.maskBGRect[e].baseVal.value=se,de=!0)}),Ce(oe,le,"lineMask_enabled",se=ae.lineMask_enabled)&&(oe.lineFace.style.mask=se?"url(#"+oe.lineMaskId+")":"none",de=!0,N&&ge(oe,oe.lineMask)),ae.lineMask_enabled&&(Ce(oe,le,"lineMask_outlineMode",se=ae.lineMask_outlineMode)&&(se?(oe.lineMaskBG.style.display="none",oe.lineMaskShape.style.display="inline"):(oe.lineMaskBG.style.display="inline",oe.lineMaskShape.style.display="none"),de=!0),["x","y"].forEach(function(e){var t="lineMask_"+e;Ce(oe,le,t,se=ae[t])&&(oe.lineMask[e].baseVal.value=se,de=!0)}),Ce(oe,le,"caps_enabled",se=ae.caps_enabled)&&(oe.lineMaskCaps.style.display=oe.lineOutlineMaskCaps.style.display=se?"inline":"none",de=!0,N&&ge(oe,oe.capsMaskLine)),ae.caps_enabled&&([0,1].forEach(function(e){var t;Ce(oe,le.capsMaskAnchor_enabledSE,e,se=ae.capsMaskAnchor_enabledSE[e])&&(oe.capsMaskAnchorSE[e].style.display=se?"inline":"none",de=!0,N&&ge(oe,oe.lineMask)),ae.capsMaskAnchor_enabledSE[e]&&(ce(t=ae.capsMaskAnchor_pathDataSE[e],le.capsMaskAnchor_pathDataSE[e])&&(oe.capsMaskAnchorSE[e].setPathData(t),le.capsMaskAnchor_pathDataSE[e]=t,de=!0),Ce(oe,le.capsMaskAnchor_strokeWidthSE,e,se=ae.capsMaskAnchor_strokeWidthSE[e])&&(oe.capsMaskAnchorSE[e].style.strokeWidth=se+"px",de=!0))}),Ce(oe,le,"capsMaskMarker_enabled",se=ae.capsMaskMarker_enabled)&&(oe.capsMaskLine.style.display=se?"inline":"none",de=!0),ae.capsMaskMarker_enabled&&[0,1].forEach(function(e){var t=ae.capsMaskMarker_plugSE[e],n=t!==f?b[v[t]]:null,i=fe(e,n);Ce(oe,le.capsMaskMarker_enabledSE,e,se=ae.capsMaskMarker_enabledSE[e])&&(oe.capsMaskLine.style[i.prop]=se?"url(#"+oe.lineMaskMarkerIdSE[e]+")":"none",de=!0),ae.capsMaskMarker_enabledSE[e]&&(Ce(oe,le.capsMaskMarker_plugSE,e,t)&&(oe.capsMaskMarkerShapeSE[e].href.baseVal="#"+n.elmId,me(oe,oe.capsMaskMarkerSE[e],i.orient,n.bBox,oe.svg,oe.capsMaskMarkerShapeSE[e],oe.capsMaskLine),de=!0,M&&(ge(oe,oe.capsMaskLine),ge(oe,oe.lineFace))),["markerWidth","markerHeight"].forEach(function(t){var n="capsMaskMarker_"+t+"SE";Ce(oe,le[n],e,se=ae[n][e])&&(oe.capsMaskMarkerSE[e][t].baseVal.value=se,de=!0)}))}))),ae.lineOutline_enabled&&["x","y"].forEach(function(e){var t="lineOutlineMask_"+e;Ce(oe,le,t,se=ae[t])&&(oe.lineOutlineMask[e].baseVal.value=se,de=!0)}),de),n.effect&&(be=(ue=t).curStats,ve=ue.aplStats,Object.keys(e).forEach(function(t){var n=e[t],i=t+"_enabled",o=t+"_options",s=be[o];Ce(ue,ve,i,pe=be[i])?(pe&&(ve[o]=W(s)),n[pe?"init":"remove"](ue)):pe&&H(s,ve[o])&&(n.remove(ue),ve[i]=!0,ve[o]=W(s),n.init(ue))})),(k||N)&&ye.line&&!ye.path&&ge(t,t.lineShape),k&&ye.plug&&!ye.line&&ge(t,t.plugsFace),he(t)}function xe(e,t){return{duration:R(e.duration)&&0<e.duration?e.duration:t.duration,timing:U.validTiming(e.timing)?e.timing:W(t.timing)}}function we(e,n,i,o){var s,a=e.curStats,r=e.aplStats,l={};function c(){["show_on","show_effect","show_animOptions"].forEach(function(e){r[e]=a[e]})}a.show_on=n,i&&t[i]&&(a.show_effect=i,a.show_animOptions=xe(Z(o)?o:{},t[i].defaultAnimOptions)),l.show_on=a.show_on!==r.show_on,l.show_effect=a.show_effect!==r.show_effect,l.show_animOptions=H(a.show_animOptions,r.show_animOptions),l.show_effect||l.show_animOptions?a.show_inAnim?(s=l.show_effect?t[r.show_effect].stop(e,!0,!0):t[r.show_effect].stop(e),c(),t[r.show_effect].init(e,s)):l.show_on&&(r.show_effect&&l.show_effect&&t[r.show_effect].stop(e,!0,!0),c(),t[r.show_effect].init(e)):l.show_on&&(c(),t[r.show_effect].start(e))}function Ae(e,t,n){var i={props:e,optionName:n};return!(!(e.attachments.indexOf(t)<0)||t.conf.bind&&!t.conf.bind(t,i)||(e.attachments.push(t),t.boundTargets.push(i),0))}function _e(e,t,n){var i=e.attachments.indexOf(t);-1<i&&e.attachments.splice(i,1),t.boundTargets.some(function(n,o){return n.props===e&&(t.conf.unbind&&t.conf.unbind(t,n),i=o,!0)})&&(t.boundTargets.splice(i,1),n||pe(function(){t.boundTargets.length||s(t)}))}function Te(s,a){var r,l,c=s.options,d={};function u(e,t,n,i,o){var s={};return n?null!=i?(s.container=e[n],s.key=i):(s.container=e,s.key=n):(s.container=e,s.key=t),s.default=o,s.acceptsAuto=null==s.default,s}function p(e,t,n,i,o,s,a){var r,l,c,d=u(e,n,o,s,a);return null!=t[n]&&(l=(t[n]+"").toLowerCase())&&(d.acceptsAuto&&l===S||(c=i[l]))&&c!==d.container[d.key]&&(d.container[d.key]=c,r=!0),null!=d.container[d.key]||d.acceptsAuto||(d.container[d.key]=d.default,r=!0),r}function f(e,t,n,i,o,s,a,r,l){var c,d,p,g,h=u(e,n,o,s,a);if(!i){if(null==h.default)throw new Error("Invalid `type`: "+n);i=typeof h.default}return null!=t[n]&&(h.acceptsAuto&&(t[n]+"").toLowerCase()===S||(p=d=t[n],("number"===(g=i)?R(p):typeof p===g)&&(d=l&&"string"===i&&d?d.trim():d,1)&&(!r||r(d))))&&d!==h.container[h.key]&&(h.container[h.key]=d,c=!0),null!=h.container[h.key]||h.acceptsAuto||(h.container[h.key]=h.default,c=!0),c}if(a=a||{},["start","end"].forEach(function(e,t){var n=a[e],i=!1;if(n&&(z(n)||(i=o(n,"anchor")))&&n!==c.anchorSE[t]){if(!1!==s.optionIsAttach.anchorSE[t]&&_e(s,Y[c.anchorSE[t]._id]),i&&!Ae(s,Y[n._id],e))throw new Error("Can't bind attachment");c.anchorSE[t]=n,s.optionIsAttach.anchorSE[t]=i,l=d.position=!0}}),!c.anchorSE[0]||!c.anchorSE[1]||c.anchorSE[0]===c.anchorSE[1])throw new Error("`start` and `end` are required.");l&&(r=function(e,t){var n,i,o;if(!(n=X(e))||!(i=X(t)))throw new Error("Cannot get frames.");return n.length&&i.length&&(n.reverse(),i.reverse(),n.some(function(e){return i.some(function(t){return t===e&&(o=t.contentWindow,!0)})})),o||window}(!1!==s.optionIsAttach.anchorSE[0]?Y[c.anchorSE[0]._id].element:c.anchorSE[0],!1!==s.optionIsAttach.anchorSE[1]?Y[c.anchorSE[1]._id].element:c.anchorSE[1]))!==s.baseWindow&&(function(n,i){var s,a,r,l,c,d,u,p,h,m,f=n.aplStats,b=i.document,C=g+"-"+n._id;function v(e){var t=a.appendChild(b.createElementNS(T,"mask"));return t.id=e,t.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x,t.y,t.width,t.height].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),t}function y(e){var t=a.appendChild(b.createElementNS(T,"marker"));return t.id=e,t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),t}function S(e){return[e.width,e.height].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),e}n.pathList={},be(f,j),Object.keys(e).forEach(function(t){var i=t+"_enabled";f[i]&&(e[t].remove(n),f[i]=!1)}),n.baseWindow&&n.svg&&n.baseWindow.document.body.removeChild(n.svg),ye(n.baseWindow=i),n.bodyOffset=ve(i),n.svg=s=b.createElementNS(T,"svg"),s.className.baseVal=g,s.viewBox.baseVal||s.setAttribute("viewBox","0 0 0 0"),n.defs=a=s.appendChild(b.createElementNS(T,"defs")),n.linePath=l=a.appendChild(b.createElementNS(T,"path")),l.id=c=C+"-line-path",l.className.baseVal=g+"-line-path",N&&(l.style.fill="none"),n.lineShape=l=a.appendChild(b.createElementNS(T,"use")),l.id=d=C+"-line-shape",l.href.baseVal="#"+c,(r=a.appendChild(b.createElementNS(T,"g"))).id=u=C+"-caps",n.capsMaskAnchorSE=[0,1].map(function(){var e=r.appendChild(b.createElementNS(T,"path"));return e.className.baseVal=g+"-caps-mask-anchor",e}),n.lineMaskMarkerIdSE=[C+"-caps-mask-marker-0",C+"-caps-mask-marker-1"],n.capsMaskMarkerSE=[0,1].map(function(e){return y(n.lineMaskMarkerIdSE[e])}),n.capsMaskMarkerShapeSE=[0,1].map(function(e){var t=n.capsMaskMarkerSE[e].appendChild(b.createElementNS(T,"use"));return t.className.baseVal=g+"-caps-mask-marker-shape",t}),n.capsMaskLine=l=r.appendChild(b.createElementNS(T,"use")),l.className.baseVal=g+"-caps-mask-line",l.href.baseVal="#"+d,n.maskBGRect=l=S(a.appendChild(b.createElementNS(T,"rect"))),l.id=p=C+"-mask-bg-rect",l.className.baseVal=g+"-mask-bg-rect",N&&(l.style.fill="white"),n.lineMask=S(v(n.lineMaskId=C+"-line-mask")),n.lineMaskBG=l=n.lineMask.appendChild(b.createElementNS(T,"use")),l.href.baseVal="#"+p,n.lineMaskShape=l=n.lineMask.appendChild(b.createElementNS(T,"use")),l.className.baseVal=g+"-line-mask-shape",l.href.baseVal="#"+c,l.style.display="none",n.lineMaskCaps=l=n.lineMask.appendChild(b.createElementNS(T,"use")),l.href.baseVal="#"+u,n.lineOutlineMask=S(v(h=C+"-line-outline-mask")),(l=n.lineOutlineMask.appendChild(b.createElementNS(T,"use"))).href.baseVal="#"+p,n.lineOutlineMaskShape=l=n.lineOutlineMask.appendChild(b.createElementNS(T,"use")),l.className.baseVal=g+"-line-outline-mask-shape",l.href.baseVal="#"+c,n.lineOutlineMaskCaps=l=n.lineOutlineMask.appendChild(b.createElementNS(T,"use")),l.href.baseVal="#"+u,n.face=s.appendChild(b.createElementNS(T,"g")),n.lineFace=l=n.face.appendChild(b.createElementNS(T,"use")),l.href.baseVal="#"+d,n.lineOutlineFace=l=n.face.appendChild(b.createElementNS(T,"use")),l.href.baseVal="#"+d,l.style.mask="url(#"+h+")",l.style.display="none",n.plugMaskIdSE=[C+"-plug-mask-0",C+"-plug-mask-1"],n.plugMaskSE=[0,1].map(function(e){return v(n.plugMaskIdSE[e])}),n.plugMaskShapeSE=[0,1].map(function(e){var t=n.plugMaskSE[e].appendChild(b.createElementNS(T,"use"));return t.className.baseVal=g+"-plug-mask-shape",t}),m=[],n.plugOutlineMaskSE=[0,1].map(function(e){return v(m[e]=C+"-plug-outline-mask-"+e)}),n.plugOutlineMaskShapeSE=[0,1].map(function(e){var t=n.plugOutlineMaskSE[e].appendChild(b.createElementNS(T,"use"));return t.className.baseVal=g+"-plug-outline-mask-shape",t}),n.plugMarkerIdSE=[C+"-plug-marker-0",C+"-plug-marker-1"],n.plugMarkerSE=[0,1].map(function(e){var t=y(n.plugMarkerIdSE[e]);return N&&(t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),t}),n.plugMarkerShapeSE=[0,1].map(function(e){return n.plugMarkerSE[e].appendChild(b.createElementNS(T,"g"))}),n.plugFaceSE=[0,1].map(function(e){return n.plugMarkerShapeSE[e].appendChild(b.createElementNS(T,"use"))}),n.plugOutlineFaceSE=[0,1].map(function(e){var t=n.plugMarkerShapeSE[e].appendChild(b.createElementNS(T,"use"));return t.style.mask="url(#"+m[e]+")",t.style.display="none",t}),n.plugsFace=l=n.face.appendChild(b.createElementNS(T,"use")),l.className.baseVal=g+"-plugs-face",l.href.baseVal="#"+d,l.style.display="none",n.curStats.show_inAnim?(n.isShown=1,t[f.show_effect].stop(n,!0)):n.isShown||(s.style.visibility="hidden"),b.body.appendChild(s),[0,1,2].forEach(function(e){var t,i=n.options.labelSEM[e];i&&o(i,"label")&&(t=Y[i._id]).conf.initSvg&&t.conf.initSvg(t,n)})}(s,r),d.line=d.plug=d.lineOutline=d.plugOutline=d.faces=d.effect=!0),d.position=p(c,a,"path",m,null,null,D.path)||d.position,d.position=p(c,a,"startSocket",h,"socketSE",0)||d.position,d.position=p(c,a,"endSocket",h,"socketSE",1)||d.position,[a.startSocketGravity,a.endSocketGravity].forEach(function(e,t){var n,i,o=!1;null!=e&&(Array.isArray(e)?R(e[0])&&R(e[1])&&(o=[e[0],e[1]],Array.isArray(c.socketGravitySE[t])&&(n=o).length===(i=c.socketGravitySE[t]).length&&n.every(function(e,t){return e===i[t]})&&(o=!1)):((e+"").toLowerCase()===S?o=null:R(e)&&0<=e&&(o=e),o===c.socketGravitySE[t]&&(o=!1)),!1!==o&&(c.socketGravitySE[t]=o,d.position=!0))}),d.line=f(c,a,"color",null,"lineColor",null,D.lineColor,null,!0)||d.line,d.line=f(c,a,"size",null,"lineSize",null,D.lineSize,function(e){return 0<e})||d.line,["startPlug","endPlug"].forEach(function(e,t){d.plug=p(c,a,e,C,"plugSE",t,D.plugSE[t])||d.plug,d.plug=f(c,a,e+"Color","string","plugColorSE",t,null,null,!0)||d.plug,d.plug=f(c,a,e+"Size",null,"plugSizeSE",t,D.plugSizeSE[t],function(e){return 0<e})||d.plug}),d.lineOutline=f(c,a,"outline",null,"lineOutlineEnabled",null,D.lineOutlineEnabled)||d.lineOutline,d.lineOutline=f(c,a,"outlineColor",null,"lineOutlineColor",null,D.lineOutlineColor,null,!0)||d.lineOutline,d.lineOutline=f(c,a,"outlineSize",null,"lineOutlineSize",null,D.lineOutlineSize,function(e){return 0<e&&e<=.48})||d.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(e,t){d.plugOutline=f(c,a,e,null,"plugOutlineEnabledSE",t,D.plugOutlineEnabledSE[t])||d.plugOutline,d.plugOutline=f(c,a,e+"Color","string","plugOutlineColorSE",t,null,null,!0)||d.plugOutline,d.plugOutline=f(c,a,e+"Size",null,"plugOutlineSizeSE",t,D.plugOutlineSizeSE[t],function(e){return 1<=e})||d.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(e,t){var r,l,d,u=a[e],p=c.labelSEM[t]&&!s.optionIsAttach.labelSEM[t]?Y[c.labelSEM[t]._id].text:c.labelSEM[t],g=!1;if((r="string"==typeof u)&&(u=u.trim()),(r||u&&(g=o(u,"label")))&&u!==p){if(c.labelSEM[t]&&(_e(s,Y[c.labelSEM[t]._id]),c.labelSEM[t]=""),u){if(g?(l=Y[(d=u)._id]).boundTargets.slice().forEach(function(e){l.conf.removeOption(l,e)}):d=new i(n.captionLabel,[u]),!Ae(s,Y[d._id],e))throw new Error("Can't bind attachment");c.labelSEM[t]=d}s.optionIsAttach.labelSEM[t]=g}}),Object.keys(e).forEach(function(t){var n,i,o=e[t],r=t+"_enabled",l=t+"_options";function u(e){var t={};return o.optionsConf.forEach(function(n){var i=n[0],o=n[3];null==n[4]||t[o]||(t[o]=[]),("function"==typeof i?i:"id"===i?p:f).apply(null,[t,e].concat(n.slice(1)))}),t}function g(e){var n,i=t+"_animOptions";return e.hasOwnProperty("animation")?Z(e.animation)?n=s.curStats[i]=xe(e.animation,o.defaultAnimOptions):s.curStats[i]=(n=!!e.animation)?xe({},o.defaultAnimOptions):null:s.curStats[i]=(n=!!o.defaultEnabled)?xe({},o.defaultAnimOptions):null,n}a.hasOwnProperty(t)&&(Z(n=a[t])?(s.curStats[r]=!0,i=s.curStats[l]=u(n),o.anim&&(s.curStats[l].animation=g(n))):(i=s.curStats[r]=!!n)&&(s.curStats[l]=u({}),o.anim&&(s.curStats[l].animation=g({}))),H(i,c[t])&&(c[t]=i,d.effect=!0))}),Oe(s,d)}function Ie(n,i,o){var s={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};be(s.curStats,j),be(s.aplStats,j),Object.keys(e).forEach(function(t){var n=e[t].stats;be(s.curStats,n),be(s.aplStats,n),s.options[t]=!1}),be(s.curStats,$),be(s.aplStats,$),s.curStats.show_effect=q,s.curStats.show_animOptions=W(t[q].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++V}),s._id=this._id,G[this._id]=s,1===arguments.length&&(o=n,n=null),o=o||{},(n||i)&&(o=W(o),n&&(o.start=n),i&&(o.end=i)),s.isShown=s.aplStats.show_on=!o.hide,this.setOptions(o)}e={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(t){de(t,"apl_line_strokeWidth",e.dash.update),t.lineFace.style.strokeDashoffset=0,e.dash.update(t)},remove:function(t){var n=t.curStats;ue(t,"apl_line_strokeWidth",e.dash.update),n.dash_animId&&(U.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDasharray="none",t.lineFace.style.strokeDashoffset=0,be(t.aplStats,e.dash.stats)},update:function(e){var t,n=e.curStats,i=e.aplStats,o=i.dash_options,s=!1;n.dash_len=o.len||2*i.line_strokeWidth,n.dash_gap=o.gap||i.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,s=Ce(e,i,"dash_len",n.dash_len)||s,(s=Ce(e,i,"dash_gap",n.dash_gap)||s)&&(e.lineFace.style.strokeDasharray=i.dash_len+","+i.dash_gap),n.dash_animOptions?(s=Ce(e,i,"dash_maxOffset",n.dash_maxOffset),i.dash_animOptions&&(s||H(n.dash_animOptions,i.dash_animOptions))&&(n.dash_animId&&(t=U.stop(n.dash_animId),U.remove(n.dash_animId)),i.dash_animOptions=null),i.dash_animOptions||(n.dash_animId=U.add(function(e){return(1-e)*i.dash_maxOffset+"px"},function(t){e.lineFace.style.strokeDashoffset=t},n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,t),i.dash_animOptions=W(n.dash_animOptions))):i.dash_animOptions&&(n.dash_animId&&(U.remove(n.dash_animId),n.dash_animId=null),e.lineFace.style.strokeDashoffset=0,i.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(t){var n,i=t.baseWindow.document,o=g+"-"+t._id+"-gradient";t.efc_gradient_gradient=n=t.defs.appendChild(i.createElementNS(T,"linearGradient")),n.id=o,n.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[n.x1,n.y1,n.x2,n.y2].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),t.efc_gradient_stopSE=[0,1].map(function(e){var n=t.efc_gradient_gradient.appendChild(i.createElementNS(T,"stop"));try{n.offset.baseVal=e}catch(t){if(t.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw t;n.setAttribute("offset",e)}return n}),de(t,"cur_plug_colorSE",e.gradient.update),de(t,"apl_path",e.gradient.update),t.curStats.line_altColor=!0,t.lineFace.style.stroke="url(#"+o+")",e.gradient.update(t)},remove:function(t){t.efc_gradient_gradient&&(t.defs.removeChild(t.efc_gradient_gradient),t.efc_gradient_gradient=t.efc_gradient_stopSE=null),ue(t,"cur_plug_colorSE",e.gradient.update),ue(t,"apl_path",e.gradient.update),t.curStats.line_altColor=!1,t.lineFace.style.stroke=t.curStats.line_color,be(t.aplStats,e.gradient.stats)},update:function(e){var t,n,i=e.curStats,o=e.aplStats,s=o.gradient_options,a=e.pathList.animVal||e.pathList.baseVal;[0,1].forEach(function(e){i.gradient_colorSE[e]=s.colorSE[e]||i.plug_colorSE[e]}),i.gradient_pointSE[0]={x:(n=a[0][0]).x,y:n.y},n=(t=a[a.length-1])[t.length-1],i.gradient_pointSE[1]={x:n.x,y:n.y},[0,1].forEach(function(t){var n;Ce(e,o.gradient_colorSE,t,n=i.gradient_colorSE[t])&&(N?(n=Q(n),e.efc_gradient_stopSE[t].style.stopColor=n[1],e.efc_gradient_stopSE[t].style.stopOpacity=n[0]):e.efc_gradient_stopSE[t].style.stopColor=n),["x","y"].forEach(function(s){(n=i.gradient_pointSE[t][s])!==o.gradient_pointSE[t][s]&&(e.efc_gradient_gradient[s+(t+1)].baseVal.value=o.gradient_pointSE[t][s]=n)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(t){var n,i,o,s,a,r=t.defs,l=g+"-"+t._id+"-dropShadow",d=(n=t.baseWindow.document,i=l,a={},"boolean"!=typeof c&&(c=!!window.SVGFEDropShadowElement&&!N),a.elmsAppend=[a.elmFilter=o=n.createElementNS(T,"filter")],o.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,o.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.id=i,c?(a.elmOffset=a.elmBlur=s=o.appendChild(n.createElementNS(T,"feDropShadow")),a.styleFlood=s.style):(a.elmBlur=o.appendChild(n.createElementNS(T,"feGaussianBlur")),a.elmOffset=s=o.appendChild(n.createElementNS(T,"feOffset")),s.result.baseVal="offsetblur",s=o.appendChild(n.createElementNS(T,"feFlood")),a.styleFlood=s.style,(s=o.appendChild(n.createElementNS(T,"feComposite"))).in2.baseVal="offsetblur",s.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(s=o.appendChild(n.createElementNS(T,"feMerge"))).appendChild(n.createElementNS(T,"feMergeNode")),s.appendChild(n.createElementNS(T,"feMergeNode")).in1.baseVal="SourceGraphic"),a);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(e){t["efc_dropShadow_"+e]=d[e]}),d.elmsAppend.forEach(function(e){r.appendChild(e)}),t.face.setAttribute("filter","url(#"+l+")"),de(t,"new_edge4viewBox",e.dropShadow.adjustEdge),e.dropShadow.update(t)},remove:function(t){var n=t.defs;t.efc_dropShadow_elmsAppend&&(t.efc_dropShadow_elmsAppend.forEach(function(e){n.removeChild(e)}),t.efc_dropShadow_elmFilter=t.efc_dropShadow_elmOffset=t.efc_dropShadow_elmBlur=t.efc_dropShadow_styleFlood=t.efc_dropShadow_elmsAppend=null),ue(t,"new_edge4viewBox",e.dropShadow.adjustEdge),Oe(t,{}),t.face.removeAttribute("filter"),be(t.aplStats,e.dropShadow.stats)},update:function(e){var t,n,i=e.curStats,o=e.aplStats,s=o.dropShadow_options;i.dropShadow_dx=t=s.dx,Ce(e,o,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,n=!0),i.dropShadow_dy=t=s.dy,Ce(e,o,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,n=!0),i.dropShadow_blur=t=s.blur,Ce(e,o,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),n=!0),n&&Oe(e,{}),i.dropShadow_color=t=s.color,Ce(e,o,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),i.dropShadow_opacity=t=s.opacity,Ce(e,o,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(e,t){var n,i,o=e.curStats,s=e.aplStats;null!=o.dropShadow_dx&&((i={x1:t.x1-(n=3*o.dropShadow_blur)+o.dropShadow_dx,y1:t.y1-n+o.dropShadow_dy,x2:t.x2+n+o.dropShadow_dx,y2:t.y2+n+o.dropShadow_dy}).x1<t.x1&&(t.x1=i.x1),i.y1<t.y1&&(t.y1=i.y1),i.x2>t.x2&&(t.x2=i.x2),i.y2>t.y2&&(t.y2=i.y2),["x","y"].forEach(function(n){var i,a="dropShadow_"+n;o[a]=i=t[n+"1"],Ce(e,s,a,i)&&(e.efc_dropShadow_elmFilter[n].baseVal.value=i)}))}}},Object.keys(e).forEach(function(t){var n=e[t],i=n.stats;i[t+"_enabled"]={iniValue:!1},i[t+"_options"]={hasProps:!0},n.anim&&(i[t+"_animOptions"]={},i[t+"_animId"]={})}),t={none:{defaultAnimOptions:{},init:function(e,n){var i=e.curStats;i.show_animId&&(U.remove(i.show_animId),i.show_animId=null),t.none.start(e,n)},start:function(e,n){t.none.stop(e,!0)},stop:function(e,t,n){return n=null!=n?n:e.aplStats.show_on,e.curStats.show_inAnim=!1,t&&Pe(e,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(e,n){var i=e.curStats,o=e.aplStats;i.show_animId&&U.remove(i.show_animId),i.show_animId=U.add(function(e){return e},function(n,i){i?t.fade.stop(e,!0):(e.svg.style.opacity=n+"",E&&(ge(e,e.svg),he(e)))},o.show_animOptions.duration,1,o.show_animOptions.timing,null,!1),t.fade.start(e,n)},start:function(e,t){var n,i=e.curStats;i.show_inAnim&&(n=U.stop(i.show_animId)),Pe(e,1),i.show_inAnim=!0,U.start(i.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var i,o=e.curStats;return n=null!=n?n:e.aplStats.show_on,i=o.show_inAnim?U.stop(o.show_animId):n?1:0,o.show_inAnim=!1,t&&(e.svg.style.opacity=n?"":"0",Pe(e,n)),i}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(e,n){var i=e.curStats,o=e.aplStats,s=e.pathList.baseVal,a=le(s),r=a.segsLen,l=a.lenAll;i.show_animId&&U.remove(i.show_animId),i.show_animId=U.add(function(e){var t,n,i,o,a=-1;if(0===e)n=[[s[0][0],s[0][0]]];else if(1===e)n=s;else{for(t=l*e,n=[];t>=r[++a];)n.push(s[a]),t-=r[a];t&&(2===(i=s[a]).length?n.push([i[0],ne(i[0],i[1],t/r[a])]):(o=oe(i[0],i[1],i[2],i[3],ae(i[0],i[1],i[2],i[3],t)),n.push([i[0],o.fromP1,o.fromP2,o])))}return n},function(n,i){i?t.draw.stop(e,!0):(e.pathList.animVal=n,Oe(e,{path:!0}))},o.show_animOptions.duration,1,o.show_animOptions.timing,null,!1),t.draw.start(e,n)},start:function(e,n){var i,o=e.curStats;o.show_inAnim&&(i=U.stop(o.show_animId)),Pe(e,1),o.show_inAnim=!0,de(e,"apl_position",t.draw.update),U.start(o.show_animId,!e.aplStats.show_on,null!=n?n:i)},stop:function(e,t,n){var i,o=e.curStats;return n=null!=n?n:e.aplStats.show_on,i=o.show_inAnim?U.stop(o.show_animId):n?1:0,o.show_inAnim=!1,t&&(e.pathList.animVal=n?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],Oe(e,{path:!0}),Pe(e,n)),i},update:function(e){ue(e,"apl_position",t.draw.update),e.curStats.show_inAnim?t.draw.init(e,t.draw.stop(e)):e.aplStats.show_animOptions={}}}},function(){function t(e){return function(t){var n={};n[e]=t,this.setOptions(n)}}[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(e){var n=e[0],i=e[1],o=e[2];Object.defineProperty(Ie.prototype,n,{get:function(){var e=null!=o?G[this._id].options[i][o]:i?G[this._id].options[i]:G[this._id].options[n];return null==e?S:W(e)},set:t(n),enumerable:!0})}),[["path",m],["startSocket",h,"socketSE",0],["endSocket",h,"socketSE",1],["startPlug",C,"plugSE",0],["endPlug",C,"plugSE",1]].forEach(function(e){var n=e[0],i=e[1],o=e[2],s=e[3];Object.defineProperty(Ie.prototype,n,{get:function(){var e,t=null!=s?G[this._id].options[o][s]:o?G[this._id].options[o]:G[this._id].options[n];return t?Object.keys(i).some(function(n){return i[n]===t&&(e=n,!0)})?e:new Error("It's broken"):S},set:t(n),enumerable:!0})}),Object.keys(e).forEach(function(n){var i=e[n];Object.defineProperty(Ie.prototype,n,{get:function(){var e,t,o=G[this._id].options[n];return Z(o)?(e=o,t=i.optionsConf.reduce(function(t,n){var i,o=n[1],s=n[2],a=n[3],r=n[4],l=null!=r?e[a][r]:a?e[a]:e[o];return t[o]="id"===n[0]?l?Object.keys(s).some(function(e){return s[e]===l&&(i=e,!0)})?i:new Error("It's broken"):S:null==l?S:W(l),t},{}),i.anim&&(t.animation=W(e.animation)),t):o},set:t(n),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(e,n){Object.defineProperty(Ie.prototype,e,{get:function(){var e=G[this._id],t=e.options;return t.labelSEM[n]&&!e.optionIsAttach.labelSEM[n]?Y[t.labelSEM[n]._id].text:t.labelSEM[n]||""},set:t(e),enumerable:!0})})}(),Ie.prototype.setOptions=function(e){return Te(G[this._id],e),this},Ie.prototype.position=function(){return Oe(G[this._id],{position:!0}),this},Ie.prototype.remove=function(){var t=G[this._id],n=t.curStats;Object.keys(e).forEach(function(e){var t=e+"_animId";n[t]&&U.remove(n[t])}),n.show_animId&&U.remove(n.show_animId),t.attachments.slice().forEach(function(e){_e(t,e)}),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete G[this._id]},Ie.prototype.show=function(e,t){return we(G[this._id],!0,e,t),this},Ie.prototype.hide=function(e,t){return we(G[this._id],!1,e,t),this},s=function(e){e&&Y[e._id]&&(e.boundTargets.slice().forEach(function(t){_e(t.props,e,!0)}),e.conf.remove&&e.conf.remove(e),delete Y[e._id])},i=function(){function e(e,t){var n,i={conf:e,curStats:{},aplStats:{},boundTargets:[]},o={};e.argOptions.every(function(e){return!(!t.length||("string"==typeof e.type?typeof t[0]!==e.type:"function"!=typeof e.type||!e.type(t[0]))||(o[e.optionName]=t.shift(),0))}),n=t.length&&Z(t[0])?W(t[0]):{},Object.keys(o).forEach(function(e){n[e]=o[e]}),e.stats&&(be(i.curStats,e.stats),be(i.aplStats,e.stats)),Object.defineProperty(this,"_id",{value:++J}),Object.defineProperty(this,"isRemoved",{get:function(){return!Y[this._id]}}),i._id=this._id,e.init&&!e.init(i,n)||(Y[this._id]=i)}return e.prototype.remove=function(){var e=this,t=Y[e._id];t&&(t.boundTargets.slice().forEach(function(e){t.conf.removeOption(t,e)}),pe(function(){var t=Y[e._id];t&&(console.error("LeaderLineAttachment was not removed by removeOption"),s(t))}))},e}(),window.LeaderLineAttachment=i,o=function(e,t){return e instanceof i&&(!(e.isRemoved||t&&Y[e._id].conf.type!==t)||null)},n={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:z}],init:function(e,t){return e.element=n.pointAnchor.checkElement(t.element),e.x=n.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=n.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(e,t){var o=t.props,s={},a=e.element,r=o.options.anchorSE["start"===t.optionName?1:0];a===r&&(a=r===document.body?new i(n.pointAnchor,[a]):document.body),s[t.optionName]=a,Te(o,s)},getBBoxNest:function(e,t){var n=ee(e.element,t.baseWindow),i=n.width,o=n.height;return n.width=n.height=0,n.left=n.right=n.left+e.x[0]*(e.x[1]?i:1),n.top=n.bottom=n.top+e.y[0]*(e.y[1]?o:1),n},parsePercent:function(e,t){var n,i,o=!1;return R(e)?i=e:"string"==typeof e&&(n=_.exec(e))&&n[2]&&(o=0!=(i=parseFloat(n[1])/100)),null!=i&&(t||0<=i)?[i,o]:null},checkElement:function(e){if(null==e)e=document.body;else if(!z(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:z},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(e,t){var i,o,s,a=[];return e.element=n.pointAnchor.checkElement(t.element),"string"==typeof t.color&&(e.color=t.color.trim()),"string"==typeof t.fillColor&&(e.fill=t.fillColor.trim()),R(t.size)&&0<=t.size&&(e.size=t.size),t.dash&&(e.dash=!0,R(t.dash.len)&&0<t.dash.len&&(e.dashLen=t.dash.len),R(t.dash.gap)&&0<t.dash.gap&&(e.dashGap=t.dash.gap)),"circle"===t.shape?e.shape=t.shape:"polygon"===t.shape&&Array.isArray(t.points)&&3<=t.points.length&&t.points.every(function(t){var i={};return!(!(i.x=n.pointAnchor.parsePercent(t[0],!0))||!(i.y=n.pointAnchor.parsePercent(t[1],!0))||(a.push(i),(i.x[1]||i.y[1])&&(e.hasRatio=!0),0))})?(e.shape=t.shape,e.points=a):(e.shape="rect",e.radius=R(t.radius)&&0<=t.radius?t.radius:0),"rect"!==e.shape&&"circle"!==e.shape||(e.x=n.pointAnchor.parsePercent(t.x,!0)||[-.05,!0],e.y=n.pointAnchor.parsePercent(t.y,!0)||[-.05,!0],e.width=n.pointAnchor.parsePercent(t.width)||[1.1,!0],e.height=n.pointAnchor.parsePercent(t.height)||[1.1,!0],(e.x[1]||e.y[1]||e.width[1]||e.height[1])&&(e.hasRatio=!0)),e.svg=o=(i=e.element.ownerDocument).createElementNS(T,"svg"),o.className.baseVal=g+"-areaAnchor",o.viewBox.baseVal||o.setAttribute("viewBox","0 0 0 0"),e.path=o.appendChild(i.createElementNS(T,"path")),e.path.style.fill=e.fill||"none",e.isShown=!1,o.style.visibility="hidden",i.body.appendChild(o),ye(s=i.defaultView),e.bodyOffset=ve(s),e.updateColor=function(){var t,n=e.aplStats,i=e.boundTargets.length?e.boundTargets[0].props.curStats:null;e.curStats.color=t=e.color||(i?i.line_color:D.lineColor),Ce(e,n,"color",t)&&(e.path.style.stroke=t)},e.updateShow=function(){Pe(e,e.boundTargets.some(function(e){return!0===e.props.isShown}))},!0},bind:function(e,t){var n=t.props;return e.color||de(n,"cur_line_color",e.updateColor),de(n,"svgShow",e.updateShow),pe(function(){e.updateColor(),e.updateShow()}),!0},unbind:function(e,t){var i=t.props;e.color||ue(i,"cur_line_color",e.updateColor),ue(i,"svgShow",e.updateShow),1<e.boundTargets.length&&pe(function(){e.updateColor(),e.updateShow(),n.areaAnchor.update(e)&&e.boundTargets.forEach(function(e){Oe(e.props,{position:!0})})})},removeOption:function(e,t){n.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){n.areaAnchor.unbind(e,t)})),e.svg.parentNode.removeChild(e.svg)},getStrokeWidth:function(e,t){return n.areaAnchor.update(e)&&1<e.boundTargets.length&&pe(function(){e.boundTargets.forEach(function(e){e.props!==t&&Oe(e.props,{position:!0})})}),e.curStats.strokeWidth},getPathData:function(e,t){var n=ee(e.element,t.baseWindow);return re(e.curStats.pathListRel,function(e){e.x+=n.left,e.y+=n.top})},getBBoxNest:function(e,t){var n=ee(e.element,t.baseWindow),i=e.curStats.bBoxRel;return{left:i.left+n.left,top:i.top+n.top,right:i.right+n.left,bottom:i.bottom+n.top,width:i.width,height:i.height}},update:function(e){var t,n,i,o,s,a,r,l,c,d,u,p,g,h,m,f,b,C,v,y,S,O,x,A,_,T,I,E,M,k,N,L,Z=e.curStats,R=e.aplStats,U=e.boundTargets.length?e.boundTargets[0].props.curStats:null,F={};if(F.strokeWidth=Ce(e,Z,"strokeWidth",null!=e.size?e.size:U?U.line_strokeWidth:D.lineSize),t=K(e.element),F.elementWidth=Ce(e,Z,"elementWidth",t.width),F.elementHeight=Ce(e,Z,"elementHeight",t.height),F.elementLeft=Ce(e,Z,"elementLeft",t.left),F.elementTop=Ce(e,Z,"elementTop",t.top),F.strokeWidth||e.hasRatio&&(F.elementWidth||F.elementHeight)){switch(e.shape){case"rect":(y={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).right=y.left+y.width,y.bottom=y.top+y.height,A=Z.strokeWidth/2,O=(x=Math.min(y.width,y.height))?x/2*Math.SQRT2+A:0,(S=e.radius?e.radius<=O?e.radius:O:0)?(T=S-(_=(S-A)/Math.SQRT2),Z.pathListRel=[[(I=[{x:y.left-T,y:y.top+_},{x:y.left+_,y:y.top-T},{x:y.right-_,y:y.top-T},{x:y.right+T,y:y.top+_},{x:y.right+T,y:y.bottom-_},{x:y.right-_,y:y.bottom+T},{x:y.left+_,y:y.bottom+T},{x:y.left-T,y:y.bottom-_}])[0],{x:I[0].x,y:I[0].y-(E=S*w)},{x:I[1].x-E,y:I[1].y},I[1]]],I[1].x!==I[2].x&&Z.pathListRel.push([I[1],I[2]]),Z.pathListRel.push([I[2],{x:I[2].x+E,y:I[2].y},{x:I[3].x,y:I[3].y-E},I[3]]),I[3].y!==I[4].y&&Z.pathListRel.push([I[3],I[4]]),Z.pathListRel.push([I[4],{x:I[4].x,y:I[4].y+E},{x:I[5].x+E,y:I[5].y},I[5]]),I[5].x!==I[6].x&&Z.pathListRel.push([I[5],I[6]]),Z.pathListRel.push([I[6],{x:I[6].x-E,y:I[6].y},{x:I[7].x,y:I[7].y+E},I[7]]),I[7].y!==I[0].y&&Z.pathListRel.push([I[7],I[0]]),Z.pathListRel.push([]),I=[{x:y.left-(T=S-_+Z.strokeWidth/2),y:y.top-T},{x:y.right+T,y:y.bottom+T}]):(Z.pathListRel=[[(I=[{x:y.left-(T=Z.strokeWidth/2),y:y.top-T},{x:y.right+T,y:y.bottom+T}])[0],{x:I[1].x,y:I[0].y}],[{x:I[1].x,y:I[0].y},I[1]],[I[1],{x:I[0].x,y:I[1].y}],[]],I=[{x:y.left-Z.strokeWidth,y:y.top-Z.strokeWidth},{x:y.right+Z.strokeWidth,y:y.bottom+Z.strokeWidth}]),Z.bBoxRel={left:I[0].x,top:I[0].y,right:I[1].x,bottom:I[1].y,width:I[1].x-I[0].x,height:I[1].y-I[0].y};break;case"circle":(r={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).width||r.height||(r.width=r.height=10),r.width||(r.width=r.height),r.height||(r.height=r.width),r.right=r.left+r.width,r.bottom=r.top+r.height,l=r.left+r.width/2,c=r.top+r.height/2,h=Z.strokeWidth/2,f=r.height/2,d=(m=r.width/2)*Math.SQRT2+h,u=f*Math.SQRT2+h,Z.pathListRel=[[(v=[{x:l-d,y:c},{x:l,y:c-u},{x:l+d,y:c},{x:l,y:c+u}])[0],{x:v[0].x,y:v[0].y-(g=u*w)},{x:v[1].x-(p=d*w),y:v[1].y},v[1]],[v[1],{x:v[1].x+p,y:v[1].y},{x:v[2].x,y:v[2].y-g},v[2]],[v[2],{x:v[2].x,y:v[2].y+g},{x:v[3].x+p,y:v[3].y},v[3]],[v[3],{x:v[3].x-p,y:v[3].y},{x:v[0].x,y:v[0].y+g},v[0]],[]],Z.bBoxRel={left:(v=[{x:r.left-(b=d-m+Z.strokeWidth/2),y:r.top-(C=u-f+Z.strokeWidth/2)},{x:r.right+b,y:r.bottom+C}])[0].x,top:v[0].y,right:v[1].x,bottom:v[1].y,width:v[1].x-v[0].x,height:v[1].y-v[0].y};break;case"polygon":e.points.forEach(function(e){var n=e.x[0]*(e.x[1]?t.width:1),s=e.y[0]*(e.y[1]?t.height:1);i?(n<i.left&&(i.left=n),n>i.right&&(i.right=n),s<i.top&&(i.top=s),s>i.bottom&&(i.bottom=s)):i={left:n,right:n,top:s,bottom:s},o?Z.pathListRel.push([o,{x:n,y:s}]):Z.pathListRel=[],o={x:n,y:s}}),Z.pathListRel.push([]),Z.bBoxRel={left:(a=[{x:i.left-(s=Z.strokeWidth/2),y:i.top-s},{x:i.right+s,y:i.bottom+s}])[0].x,top:a[0].y,right:a[1].x,bottom:a[1].y,width:a[1].x-a[0].x,height:a[1].y-a[0].y}}F.pathListRel=F.bBoxRel=!0}return(F.pathListRel||F.elementLeft||F.elementTop)&&(Z.pathData=re(Z.pathListRel,function(e){e.x+=t.left,e.y+=t.top})),Ce(e,R,"strokeWidth",n=Z.strokeWidth)&&(e.path.style.strokeWidth=n+"px"),ce(n=Z.pathData,R.pathData)&&(e.path.setPathData(n),R.pathData=n,F.pathData=!0),e.dash&&(!F.pathData&&(!F.strokeWidth||e.dashLen&&e.dashGap)||(Z.dashLen=e.dashLen||2*Z.strokeWidth,Z.dashGap=e.dashGap||Z.strokeWidth),F.dash=Ce(e,R,"dashLen",Z.dashLen)||F.dash,F.dash=Ce(e,R,"dashGap",Z.dashGap)||F.dash,F.dash&&(e.path.style.strokeDasharray=R.dashLen+","+R.dashGap)),k=R.viewBoxBBox,N=e.svg.viewBox.baseVal,L=e.svg.style,(M=Z.viewBoxBBox).x=Z.bBoxRel.left+t.left,M.y=Z.bBoxRel.top+t.top,M.width=Z.bBoxRel.width,M.height=Z.bBoxRel.height,["x","y","width","height"].forEach(function(t){(n=M[t])!==k[t]&&(N[t]=k[t]=n,L[P[t]]=n+("x"===t||"y"===t?e.bodyOffset[t]:0)+"px")}),F.strokeWidth||F.pathListRel||F.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:z},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(e,i){var o,s,a,r,l,c,d,u,p,g,h,m=n.mouseHoverAnchor,f={};if(e.element=n.pointAnchor.checkElement(i.element),!((g=(u=e.element).ownerDocument)&&(p=g.defaultView)&&p.HTMLElement&&u instanceof p.HTMLElement))throw new Error("`element` must be HTML element");return m.style.backgroundSize=m.backgroundSize.width+"px "+m.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(t){var n=m[t];e[t]=Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},{})}),"inline"===(o=e.element.ownerDocument.defaultView.getComputedStyle(e.element,"")).display?e.style.display="inline-block":"none"===o.display&&(e.style.display="block"),n.mouseHoverAnchor.dirKeys.forEach(function(t){var n=t[0],i="padding"+t[1];parseFloat(o[i])<m.padding[n]&&(e.style[i]=m.padding[n]+"px")}),e.style.display&&(r=e.element.style.display,e.element.style.display=e.style.display),n.mouseHoverAnchor.dirKeys.forEach(function(t){var n="padding"+t[1];e.style[n]&&(f[n]=e.element.style[n],e.element.style[n]=e.style[n])}),(a=e.element.getBoundingClientRect()).height<m.minHeight&&(E?(h=m.minHeight,"content-box"===o.boxSizing?h-=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)+parseFloat(o.paddingTop)+parseFloat(o.paddingBottom):"padding-box"===o.boxSizing&&(h-=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)),e.style.height=h+"px"):e.style.height=parseFloat(o.height)+(m.minHeight-a.height)+"px"),e.style.backgroundPosition=N?a.width-m.backgroundSize.width-m.backgroundPosition.right+"px "+m.backgroundPosition.top+"px":"right "+m.backgroundPosition.right+"px top "+m.backgroundPosition.top+"px",e.style.display&&(e.element.style.display=r),n.mouseHoverAnchor.dirKeys.forEach(function(t){var n="padding"+t[1];e.style[n]&&(e.element.style[n]=f[n])}),["style","hoverStyle"].forEach(function(t){var n=e[t],o=i[t];Z(o)&&Object.keys(o).forEach(function(e){"string"==typeof o[e]||R(o[e])?n[e]=o[e]:null==o[e]&&delete n[e]})}),"function"==typeof i.onSwitch&&(d=i.onSwitch),i.showEffectName&&t[i.showEffectName]&&(e.showEffectName=l=i.showEffectName),c=i.animOptions,e.elmStyle=s=e.element.style,e.mouseenter=function(t){e.hoverStyleSave=m.getStyles(s,Object.keys(e.hoverStyle)),m.setStyles(s,e.hoverStyle),e.boundTargets.forEach(function(e){we(e.props,!0,l,c)}),d&&d(t)},e.mouseleave=function(t){m.setStyles(s,e.hoverStyleSave),e.boundTargets.forEach(function(e){we(e.props,!1,l,c)}),d&&d(t)},!0},bind:function(e,t){var i,o,s,a,r;return t.props.svg?n.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):pe(function(){n.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)}),e.enabled||(e.styleSave=n.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),n.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(o=e.mouseenter,s=e.mouseleave,"onmouseenter"in(i=e.element)&&"onmouseleave"in i?(i.addEventListener("mouseenter",o,!1),i.addEventListener("mouseleave",s,!1),function(){i.removeEventListener("mouseenter",o,!1),i.removeEventListener("mouseleave",s,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),i.addEventListener("mouseover",a=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||o.apply(this,arguments)}),i.addEventListener("mouseout",r=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||s.apply(this,arguments)}),function(){i.removeEventListener("mouseover",a,!1),i.removeEventListener("mouseout",r,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),n.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),n.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){n.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){n.mouseHoverAnchor.unbind(e,t)}))},getBBoxNest:function(e,t){return ee(e.element,t.baseWindow)},llShow:function(e,n,i){t[i||e.curStats.show_effect].stop(e,!0,n),e.aplStats.show_on=n},getStyles:function(e,t){return t.reduce(function(t,n){return t[n]=e[n],t},{})},setStyles:function(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&R(t.offset[0])&&R(t.offset[1])&&(e.offset={x:t.offset[0],y:t.offset[1]}),R(t.lineOffset)&&(e.lineOffset=t.lineOffset),n.captionLabel.textStyleProps.forEach(function(n){null!=t[n]&&(e[n]=t[n])}),e.updateColor=function(t){n.captionLabel.updateColor(e,t)},e.updateSocketXY=function(t){var n,i,o,s,a=e.curStats,r=e.aplStats,l=t.curStats,c=l.position_socketXYSE[e.socketIndex];null!=c.x&&(e.offset?(a.x=c.x+e.offset.x,a.y=c.y+e.offset.y):(n=e.height/2,i=Math.max(l.attach_plugSideLenSE[e.socketIndex]||0,l.line_strokeWidth/2),o=l.position_socketXYSE[e.socketIndex?0:1],4===c.socketId||2===c.socketId?(a.x=4===c.socketId?c.x-n-e.width:c.x+n,a.y=o.y<c.y?c.y+i+n:c.y-i-n-e.height):(a.x=o.x<c.x?c.x+i+n:c.x-i-n-e.width,a.y=1===c.socketId?c.y-n-e.height:c.y+n)),Ce(e,r,"x",s=a.x)&&(e.elmPosition.x.baseVal.getItem(0).value=s),Ce(e,r,"y",s=a.y)&&(e.elmPosition.y.baseVal.getItem(0).value=s+e.height))},e.updatePath=function(t){var i,o,s=e.curStats,a=e.aplStats,r=t.pathList.animVal||t.pathList.baseVal;r&&(i=n.captionLabel.getMidPoint(r,e.lineOffset),s.x=i.x-e.width/2,s.y=i.y-e.height/2,Ce(e,a,"x",o=s.x)&&(e.elmPosition.x.baseVal.getItem(0).value=o),Ce(e,a,"y",o=s.y)&&(e.elmPosition.y.baseVal.getItem(0).value=o+e.height))},e.updateShow=function(t){n.captionLabel.updateShow(e,t)},N&&(e.adjustEdge=function(t,i){var o=e.curStats;null!=o.x&&n.captionLabel.adjustEdge(i,{x:o.x,y:o.y,width:e.width,height:e.height},e.strokeWidth/2)}),!0)},updateColor:function(e,t){var n,i=e.aplStats;e.curStats.color=n=e.color||t.curStats.line_color,Ce(e,i,"color",n)&&(e.styleFill.fill=n)},updateShow:function(e,t){var n=!0===t.isShown;n!==e.isShown&&(e.styleShow.visibility=n?"":"hidden",e.isShown=n)},adjustEdge:function(e,t,n){var i={x1:t.x-n,y1:t.y-n,x2:t.x+t.width+n,y2:t.y+t.height+n};i.x1<e.x1&&(e.x1=i.x1),i.y1<e.y1&&(e.y1=i.y1),i.x2>e.x2&&(e.x2=i.x2),i.y2>e.y2&&(e.y2=i.y2)},newText:function(e,t,n,i,o){var s,a,r,c,d,u;return(s=t.createElementNS(T,"text")).textContent=e,[s.x,s.y].forEach(function(e){var t=n.createSVGLength();t.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),e.baseVal.initialize(t)}),"boolean"!=typeof l&&(l="paintOrder"in s.style),o&&!l?(r=t.createElementNS(T,"defs"),s.id=i,r.appendChild(s),(d=(a=t.createElementNS(T,"g")).appendChild(t.createElementNS(T,"use"))).href.baseVal="#"+i,(c=a.appendChild(t.createElementNS(T,"use"))).href.baseVal="#"+i,(u=d.style).strokeLinejoin="round",{elmPosition:s,styleText:s.style,styleFill:c.style,styleStroke:u,styleShow:a.style,elmsAppend:[r,a]}):(u=s.style,o&&(u.strokeLinejoin="round",u.paintOrder="stroke"),{elmPosition:s,styleText:u,styleFill:u,styleStroke:o?u:null,styleShow:u,elmsAppend:[s]})},getMidPoint:function(e,t){var n,i,o,s=le(e),a=s.segsLen,r=s.lenAll,l=-1;if((n=r/2+(t||0))<=0)return 2===(i=e[0]).length?ne(i[0],i[1],0):oe(i[0],i[1],i[2],i[3],0);if(r<=n)return 2===(i=e[e.length-1]).length?ne(i[0],i[1],1):oe(i[0],i[1],i[2],i[3],1);for(o=[];n>a[++l];)o.push(e[l]),n-=a[l];return 2===(i=e[l]).length?ne(i[0],i[1],n/a[l]):oe(i[0],i[1],i[2],i[3],ae(i[0],i[1],i[2],i[3],n))},initSvg:function(e,t){var i,o,s=n.captionLabel.newText(e.text,t.baseWindow.document,t.svg,g+"-captionLabel-"+e._id,e.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(t){e[t]=s[t]}),e.isShown=!1,e.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach(function(t){null!=e[t]&&(s.styleText[t]=e[t])}),s.elmsAppend.forEach(function(e){t.svg.appendChild(e)}),i=s.elmPosition.getBBox(),e.width=i.width,e.height=i.height,e.outlineColor&&(o=10<(o=i.height/9)?10:o<2?2:o,s.styleStroke.strokeWidth=o+"px",s.styleStroke.stroke=e.outlineColor),e.strokeWidth=o||0,be(e.aplStats,n.captionLabel.stats),e.updateColor(t),e.refSocketXY?e.updateSocketXY(t):e.updatePath(t),N&&Oe(t,{}),e.updateShow(t)},bind:function(e,t){var i=t.props;return e.color||de(i,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===t.optionName||"endLabel"===t.optionName)?(e.socketIndex="startLabel"===t.optionName?0:1,de(i,"apl_position",e.updateSocketXY),e.offset||(de(i,"cur_attach_plugSideLenSE",e.updateSocketXY),de(i,"cur_line_strokeWidth",e.updateSocketXY))):de(i,"apl_path",e.updatePath),de(i,"svgShow",e.updateShow),N&&de(i,"new_edge4viewBox",e.adjustEdge),n.captionLabel.initSvg(e,i),!0},unbind:function(e,t){var i=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(e){i.svg.removeChild(e)}),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),be(e.curStats,n.captionLabel.stats),be(e.aplStats,n.captionLabel.stats),e.color||ue(i,"cur_line_color",e.updateColor),e.refSocketXY?(ue(i,"apl_position",e.updateSocketXY),e.offset||(ue(i,"cur_attach_plugSideLenSE",e.updateSocketXY),ue(i,"cur_line_strokeWidth",e.updateSocketXY))):ue(i,"apl_path",e.updatePath),ue(i,"svgShow",e.updateShow),N&&(ue(i,"new_edge4viewBox",e.adjustEdge),Oe(i,{}))},removeOption:function(e,t){var n=t.props,i={};i[t.optionName]="",Te(n,i)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){n.captionLabel.unbind(e,t)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",R(t.lineOffset)&&(e.lineOffset=t.lineOffset),n.captionLabel.textStyleProps.forEach(function(n){null!=t[n]&&(e[n]=t[n])}),e.updateColor=function(t){n.captionLabel.updateColor(e,t)},e.updatePath=function(t){var i,o=e.aplStats,s=t.pathList.animVal||t.pathList.baseVal;s&&(e.curStats.pathData=i=n.pathLabel.getOffsetPathData(s,t.curStats.line_strokeWidth/2+e.strokeWidth/2+e.height/4,1.25*e.height),ce(i,o.pathData)&&(e.elmPath.setPathData(i),o.pathData=i,e.bBox=e.elmPosition.getBBox(),e.updateStartOffset(t)))},e.updateStartOffset=function(t){var n,i,o,s,a=e.curStats,r=e.aplStats,l=t.curStats;a.pathData&&(2!==e.semIndex||e.lineOffset)&&(n=a.pathData.reduce(function(e,t){var n,i=t.values;switch(t.type){case"M":s={x:i[0],y:i[1]};break;case"L":n={x:i[0],y:i[1]},s&&(e+=te(s,n)),s=n;break;case"C":n={x:i[4],y:i[5]},s&&(e+=se(s,{x:i[0],y:i[1]},{x:i[2],y:i[3]},n)),s=n}return e},0),o=0===e.semIndex?0:1===e.semIndex?n:n/2,2!==e.semIndex&&(i=Math.max(l.attach_plugBackLenSE[e.semIndex]||0,l.line_strokeWidth/2)+e.strokeWidth/2+e.height/4,o=(o+=0===e.semIndex?i:-i)<0?0:n<o?n:o),e.lineOffset&&(o=(o+=e.lineOffset)<0?0:n<o?n:o),a.startOffset=o,Ce(e,r,"startOffset",o)&&(e.elmOffset.startOffset.baseVal.value=o))},e.updateShow=function(t){n.captionLabel.updateShow(e,t)},N&&(e.adjustEdge=function(t,i){e.bBox&&n.captionLabel.adjustEdge(i,e.bBox,e.strokeWidth/2)}),!0)},getOffsetPathData:function(e,t,n){var i,o,s=[];function a(e,t){return Math.abs(e.x-t.x)<3&&Math.abs(e.y-t.y)<3}return e.forEach(function(e){var n,o,r,l,c,d,u,p,g,h,m,f,b,C,v,y,S,P,O,x,w;2===e.length?(P=e[0],O=e[1],x=t,w=Math.atan2(P.y-O.y,O.x-P.x)+.5*Math.PI,n=[{x:P.x+Math.cos(w)*x,y:P.y+Math.sin(w)*x*-1},{x:O.x+Math.cos(w)*x,y:O.y+Math.sin(w)*x*-1}],i?(r=i.points,0<=(l=Math.atan2(r[1].y-r[0].y,r[0].x-r[1].x)-Math.atan2(e[0].y-e[1].y,e[1].x-e[0].x))&&l<=Math.PI?o={type:"line",points:n,inside:!0}:(d=ie(r[0],r[1],t),c=ie(n[1],n[0],t),f=(g=d).x-(p=r[0]).x,S=((C=(m=n[1]).x-(h=c).x)*(p.y-h.y)-(v=m.y-h.y)*(p.x-h.x))/(-C*(b=g.y-p.y)+f*v),(u=0<=(y=(-b*(p.x-h.x)+f*(p.y-h.y))/(-C*b+f*v))&&y<=1&&0<=S&&S<=1?{x:p.x+S*f,y:p.y+S*b}:null)?o={type:"line",points:[r[1]=u,n[1]]}:(r[1]=a(c,d)?c:d,o={type:"line",points:[c,n[1]]}),i.len=te(r[0],r[1]))):o={type:"line",points:n},o.len=te(o.points[0],o.points[1]),s.push(i=o)):(s.push({type:"cubic",points:function(e,t,n,i,o,s){for(var a,r,l=se(e,t,n,i)/16,c=1/(16<o?l*(o/16):l),d=[],u=0;r=(90-(a=oe(e,t,n,i,u)).angle)*(Math.PI/180),d.push({x:a.x+Math.cos(r)*o,y:a.y+Math.sin(r)*o*-1}),!(1<=u);)1<(u+=c)&&(u=1);return d}(e[0],e[1],e[2],e[3],t)}),i=null)}),i=null,s.forEach(function(e){var o;"line"===e.type?(e.inside&&(i.len>t?((o=i.points)[1]=ie(o[0],o[1],-t),i.len=te(o[0],o[1])):(i.points=null,i.len=0),e.len>t+n?((o=e.points)[0]=ie(o[1],o[0],-(t+n)),e.len=te(o[0],o[1])):(e.points=null,e.len=0)),i=e):i=null}),s.reduce(function(e,t){var n=t.points;return n&&(o&&a(n[0],o)||e.push({type:"M",values:[n[0].x,n[0].y]}),"line"===t.type?e.push({type:"L",values:[n[1].x,n[1].y]}):(n.shift(),n.forEach(function(t){e.push({type:"L",values:[t.x,t.y]})})),o=n[n.length-1]),e},[])},newText:function(e,t,n,i){var o,s,a,r,c,d,u,p,g,h;return(r=(a=t.createElementNS(T,"defs")).appendChild(t.createElementNS(T,"path"))).id=o=n+"-path",(d=(c=t.createElementNS(T,"text")).appendChild(t.createElementNS(T,"textPath"))).href.baseVal="#"+o,d.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),d.textContent=e,"boolean"!=typeof l&&(l="paintOrder"in c.style),i&&!l?(c.id=s=n+"-text",a.appendChild(c),(g=(u=t.createElementNS(T,"g")).appendChild(t.createElementNS(T,"use"))).href.baseVal="#"+s,(p=u.appendChild(t.createElementNS(T,"use"))).href.baseVal="#"+s,(h=g.style).strokeLinejoin="round",{elmPosition:c,elmPath:r,elmOffset:d,styleText:c.style,styleFill:p.style,styleStroke:h,styleShow:u.style,elmsAppend:[a,u]}):(h=c.style,i&&(h.strokeLinejoin="round",h.paintOrder="stroke"),{elmPosition:c,elmPath:r,elmOffset:d,styleText:h,styleFill:h,styleStroke:i?h:null,styleShow:h,elmsAppend:[a,c]})},initSvg:function(e,t){var i,o,s=n.pathLabel.newText(e.text,t.baseWindow.document,g+"-pathLabel-"+e._id,e.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(t){e[t]=s[t]}),e.isShown=!1,e.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach(function(t){null!=e[t]&&(s.styleText[t]=e[t])}),s.elmsAppend.forEach(function(e){t.svg.appendChild(e)}),s.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),i=s.elmPosition.getBBox(),s.styleText.textAnchor=["start","end","middle"][e.semIndex],2!==e.semIndex||e.lineOffset||s.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),e.height=i.height,e.outlineColor&&(o=10<(o=i.height/9)?10:o<2?2:o,s.styleStroke.strokeWidth=o+"px",s.styleStroke.stroke=e.outlineColor),e.strokeWidth=o||0,be(e.aplStats,n.pathLabel.stats),e.updateColor(t),e.updatePath(t),e.updateStartOffset(t),N&&Oe(t,{}),e.updateShow(t)},bind:function(e,t){var i=t.props;return e.color||de(i,"cur_line_color",e.updateColor),de(i,"cur_line_strokeWidth",e.updatePath),de(i,"apl_path",e.updatePath),e.semIndex="startLabel"===t.optionName?0:"endLabel"===t.optionName?1:2,(2!==e.semIndex||e.lineOffset)&&de(i,"cur_attach_plugBackLenSE",e.updateStartOffset),de(i,"svgShow",e.updateShow),N&&de(i,"new_edge4viewBox",e.adjustEdge),n.pathLabel.initSvg(e,i),!0},unbind:function(e,t){var i=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(e){i.svg.removeChild(e)}),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),be(e.curStats,n.pathLabel.stats),be(e.aplStats,n.pathLabel.stats),e.color||ue(i,"cur_line_color",e.updateColor),ue(i,"cur_line_strokeWidth",e.updatePath),ue(i,"apl_path",e.updatePath),(2!==e.semIndex||e.lineOffset)&&ue(i,"cur_attach_plugBackLenSE",e.updateStartOffset),ue(i,"svgShow",e.updateShow),N&&(ue(i,"new_edge4viewBox",e.adjustEdge),Oe(i,{}))},removeOption:function(e,t){var n=t.props,i={};i[t.optionName]="",Te(n,i)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){n.pathLabel.unbind(e,t)}))}}},Object.keys(n).forEach(function(e){Ie[e]=function(){return new i(n[e],Array.prototype.slice.call(arguments))}}),Ie.positionByWindowResize=!0,window.addEventListener("resize",F.add(function(){Ie.positionByWindowResize&&Object.keys(G).forEach(function(e){Oe(G[e],{position:!0})})}),!1)}()},40165:(e,t,n)=>{var i=n(57895).runInContext();e.exports=n(25349)(i,i)},25349:(e,t,n)=>{var i=n(40458),o=n(27557),s=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function r(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function l(e,t){return function(){var n=arguments.length;if(n){for(var i=Array(n);n--;)i[n]=arguments[n];var o=i[0]=t.apply(void 0,i);return e.apply(void 0,i),o}}}e.exports=function e(t,n,c,d){var u="function"==typeof n,p=n===Object(n);if(p&&(d=c,c=n,n=void 0),null==c)throw new TypeError;d||(d={});var g=!("cap"in d)||d.cap,h=!("curry"in d)||d.curry,m=!("fixed"in d)||d.fixed,f=!("immutable"in d)||d.immutable,b=!("rearg"in d)||d.rearg,C=u?c:o,v="curry"in d&&d.curry,y="fixed"in d&&d.fixed,S="rearg"in d&&d.rearg,P=u?c.runInContext():void 0,O=u?c:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},x=O.ary,w=O.assign,A=O.clone,_=O.curry,T=O.forEach,I=O.isArray,E=O.isError,M=O.isFunction,k=O.isWeakMap,N=O.keys,L=O.rearg,D=O.toInteger,Z=O.toPath,R=N(i.aryMethod),U={castArray:function(e){return function(){var t=arguments[0];return I(t)?e(r(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],i=e(t,n),o=i.length;return g&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?i:a(i,n)):i}},mixin:function(e){return function(t){var n=this;if(!M(n))return e(n,Object(t));var i=[];return T(N(t),function(e){M(t[e])&&i.push([e,n.prototype[e]])}),e(n,Object(t)),T(i,function(e){var t=e[1];M(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:D(t)+1;return _(e(t),n)}},rearg:function(e){return function(t,n){var i=n?n.length:0;return _(e(t,n),i)}},runInContext:function(n){return function(i){return e(t,n(i),d)}}};function F(e,t,n){if(m&&(y||!i.skipFixed[e])){var o=i.methodSpread[e],a=o&&o.start;return void 0===a?x(t,n):function(e,t){return function(){for(var n=arguments.length,i=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],r=o.slice(0,t);return a&&s.apply(r,a),t!=i&&s.apply(r,o.slice(t+1)),e.apply(this,r)}}(t,a)}return t}function j(e,t,n){return b&&n>1&&(S||!i.skipRearg[e])?L(t,i.methodRearg[e]||i.aryRearg[n]):t}function $(e,t){for(var n=-1,i=(t=Z(t)).length,o=i-1,s=A(Object(e)),a=s;null!=a&&++n<i;){var r=t[n],l=a[r];null==l||M(l)||E(l)||k(l)||(a[r]=A(n==o?l:Object(l))),a=a[r]}return s}function q(t,n){var o=i.aliasToReal[t]||t,s=i.remap[o]||o,a=d;return function(t){var i=u?P:O,r=u?P[s]:n,l=w(w({},a),t);return e(i,o,r,l)}}function B(e,t){return function(){var n=arguments.length;if(!n)return e();for(var i=Array(n);n--;)i[n]=arguments[n];var o=b?0:n-1;return i[o]=t(i[o]),e.apply(void 0,i)}}function G(e,t,n){var o,s=i.aliasToReal[e]||e,c=t,d=U[s];return d?c=d(t):f&&(i.mutate.array[s]?c=l(t,r):i.mutate.object[s]?c=l(t,function(e){return function(t){return e({},t)}}(t)):i.mutate.set[s]&&(c=l(t,$))),T(R,function(e){return T(i.aryMethod[e],function(t){if(s==t){var n=i.methodSpread[s];return o=n&&n.afterRearg?F(s,j(s,c,e),e):j(s,F(s,c,e),e),o=function(e,t,n){return v||h&&n>1?_(t,n):t}(0,o=function(e,t){if(g){var n=i.iterateeRearg[e];if(n)return function(e,t){return B(e,function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(L(a(e,n),t),n)})}(t,n);var o=!u&&i.iterateeAry[e];if(o)return function(e,t){return B(e,function(e){return"function"==typeof e?a(e,t):e})}(t,o)}return t}(s,o),e),!1}}),!o}),o||(o=c),o==t&&(o=v?_(o,1):function(){return t.apply(this,arguments)}),o.convert=q(s,t),o.placeholder=t.placeholder=n,o}if(!p)return G(n,c,C);var V=c,Y=[];return T(R,function(e){T(i.aryMethod[e],function(e){var t=V[i.remap[e]||e];t&&Y.push([e,G(e,t,V)])})}),T(N(V),function(e){var t=V[e];if("function"==typeof t){for(var n=Y.length;n--;)if(Y[n][0]==e)return;t.convert=q(e,t),Y.push([e,t])}}),T(Y,function(e){V[e[0]]=e[1]}),V.convert=function(e){return V.runInContext.convert(e)(void 0)},V.placeholder=V,T(N(V),function(e){T(i.realToAlias[e]||[],function(t){V[t]=V[e]})}),V}},40458:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,i={};for(var o in n){var s=n[o];e.call(i,s)?i[s].push(o):i[s]=[o]}return i}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},27557:e=>{e.exports={}},57895:function(e,t,n){var i;e=n.nmd(e),(function(){function o(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t,n,i){for(var o=-1,s=null==e?0:e.length;++o<s;){var a=e[o];t(i,a,n(a),e)}return i}function a(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function r(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function c(e,t){for(var n=-1,i=null==e?0:e.length,o=0,s=[];++n<i;){var a=e[n];t(a,n,e)&&(s[o++]=a)}return s}function d(e,t){return!(null==e||!e.length)&&y(e,t,0)>-1}function u(e,t,n){for(var i=-1,o=null==e?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}function p(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}function g(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}function h(e,t,n,i){var o=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++o]);++o<s;)n=t(n,e[o],o,e);return n}function m(e,t,n,i){var o=null==e?0:e.length;for(i&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function f(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function b(e){return e.match(We)||[]}function C(e,t,n){var i;return n(e,function(e,n,o){if(t(e,n,o))return i=n,!1}),i}function v(e,t,n,i){for(var o=e.length,s=n+(i?1:-1);i?s--:++s<o;)if(t(e[s],s,e))return s;return-1}function y(e,t,n){return t==t?function(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}(e,t,n):v(e,P,n)}function S(e,t,n,i){for(var o=n-1,s=e.length;++o<s;)if(i(e[o],t))return o;return-1}function P(e){return e!=e}function O(e,t){var n=null==e?0:e.length;return n?_(e,t)/n:K}function x(e){return function(t){return null==t?G:t[e]}}function w(e){return function(t){return null==e?G:e[t]}}function A(e,t,n,i,o){return o(e,function(e,o,s){n=i?(i=!1,e):t(n,e,o,s)}),n}function _(e,t){for(var n,i=-1,o=e.length;++i<o;){var s=t(e[i]);s!==G&&(n=n===G?s:n+s)}return n}function T(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function I(e){return function(t){return e(t)}}function E(e,t){return p(t,function(t){return e[t]})}function M(e,t){return e.has(t)}function k(e,t){for(var n=-1,i=e.length;++n<i&&y(t,e[n],0)>-1;);return n}function N(e,t){for(var n=e.length;n--&&y(t,e[n],0)>-1;);return n}function L(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}function D(e){return"\\"+Vt[e]}function Z(e){return Ft.test(e)}function R(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function U(e,t){return function(n){return e(t(n))}}function F(e,t){for(var n=-1,i=e.length,o=0,s=[];++n<i;){var a=e[n];a!==t&&a!==J||(e[n]=J,s[o++]=n)}return s}function j(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function $(e){return Z(e)?function(e){for(var t=Rt.lastIndex=0;Rt.test(e);)++t;return t}(e):cn(e)}function q(e){return Z(e)?function(e){return e.match(Rt)||[]}(e):function(e){return e.split("")}(e)}function B(e){return e.match(Ut)||[]}var G,V="Expected a function",Y="__lodash_hash_undefined__",J="__lodash_placeholder__",H=32,W=128,Q=1/0,z=9007199254740991,K=NaN,X=4294967295,ee=[["ary",W],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",H],["partialRight",64],["rearg",256]],te="[object Arguments]",ne="[object Array]",ie="[object Boolean]",oe="[object Date]",se="[object Error]",ae="[object Function]",re="[object GeneratorFunction]",le="[object Map]",ce="[object Number]",de="[object Object]",ue="[object Promise]",pe="[object RegExp]",ge="[object Set]",he="[object String]",me="[object Symbol]",fe="[object WeakMap]",be="[object ArrayBuffer]",Ce="[object DataView]",ve="[object Float32Array]",ye="[object Float64Array]",Se="[object Int8Array]",Pe="[object Int16Array]",Oe="[object Int32Array]",xe="[object Uint8Array]",we="[object Uint8ClampedArray]",Ae="[object Uint16Array]",_e="[object Uint32Array]",Te=/\b__p \+= '';/g,Ie=/\b(__p \+=) '' \+/g,Ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Me=/&(?:amp|lt|gt|quot|#39);/g,ke=/[&<>"']/g,Ne=RegExp(Me.source),Le=RegExp(ke.source),De=/<%-([\s\S]+?)%>/g,Ze=/<%([\s\S]+?)%>/g,Re=/<%=([\s\S]+?)%>/g,Ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/,je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$e=/[\\^$.*+?()[\]{}|]/g,qe=RegExp($e.source),Be=/^\s+|\s+$/g,Ge=/^\s+/,Ve=/\s+$/,Ye=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Je=/\{\n\/\* \[wrapped with (.+)\] \*/,He=/,? & /,We=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qe=/\\(\\)?/g,ze=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ke=/\w*$/,Xe=/^[-+]0x[0-9a-f]+$/i,et=/^0b[01]+$/i,tt=/^\[object .+?Constructor\]$/,nt=/^0o[0-7]+$/i,it=/^(?:0|[1-9]\d*)$/,ot=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,st=/($^)/,at=/['\n\r\u2028\u2029\\]/g,rt="\\ud800-\\udfff",lt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ct="\\u2700-\\u27bf",dt="a-z\\xdf-\\xf6\\xf8-\\xff",ut="A-Z\\xc0-\\xd6\\xd8-\\xde",pt="\\ufe0e\\ufe0f",gt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ht="["+rt+"]",mt="["+gt+"]",ft="["+lt+"]",bt="\\d+",Ct="["+ct+"]",vt="["+dt+"]",yt="[^"+rt+gt+bt+ct+dt+ut+"]",St="\\ud83c[\\udffb-\\udfff]",Pt="[^"+rt+"]",Ot="(?:\\ud83c[\\udde6-\\uddff]){2}",xt="[\\ud800-\\udbff][\\udc00-\\udfff]",wt="["+ut+"]",At="(?:"+vt+"|"+yt+")",_t="(?:"+wt+"|"+yt+")",Tt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",It="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Et="(?:"+ft+"|"+St+")?",Mt="["+pt+"]?",kt=Mt+Et+"(?:\\u200d(?:"+[Pt,Ot,xt].join("|")+")"+Mt+Et+")*",Nt="(?:"+[Ct,Ot,xt].join("|")+")"+kt,Lt="(?:"+[Pt+ft+"?",ft,Ot,xt,ht].join("|")+")",Dt=RegExp("['\u2019]","g"),Zt=RegExp(ft,"g"),Rt=RegExp(St+"(?="+St+")|"+Lt+kt,"g"),Ut=RegExp([wt+"?"+vt+"+"+Tt+"(?="+[mt,wt,"$"].join("|")+")",_t+"+"+It+"(?="+[mt,wt+At,"$"].join("|")+")",wt+"?"+At+"+"+Tt,wt+"+"+It,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bt,Nt].join("|"),"g"),Ft=RegExp("[\\u200d"+rt+lt+pt+"]"),jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qt=-1,Bt={};Bt[ve]=Bt[ye]=Bt[Se]=Bt[Pe]=Bt[Oe]=Bt[xe]=Bt[we]=Bt[Ae]=Bt[_e]=!0,Bt[te]=Bt[ne]=Bt[be]=Bt[ie]=Bt[Ce]=Bt[oe]=Bt[se]=Bt[ae]=Bt[le]=Bt[ce]=Bt[de]=Bt[pe]=Bt[ge]=Bt[he]=Bt[fe]=!1;var Gt={};Gt[te]=Gt[ne]=Gt[be]=Gt[Ce]=Gt[ie]=Gt[oe]=Gt[ve]=Gt[ye]=Gt[Se]=Gt[Pe]=Gt[Oe]=Gt[le]=Gt[ce]=Gt[de]=Gt[pe]=Gt[ge]=Gt[he]=Gt[me]=Gt[xe]=Gt[we]=Gt[Ae]=Gt[_e]=!0,Gt[se]=Gt[ae]=Gt[fe]=!1;var Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=parseFloat,Jt=parseInt,Ht="object"==typeof global&&global&&global.Object===Object&&global,Wt="object"==typeof self&&self&&self.Object===Object&&self,Qt=Ht||Wt||Function("return this")(),zt=t&&!t.nodeType&&t,Kt=zt&&e&&!e.nodeType&&e,Xt=Kt&&Kt.exports===zt,en=Xt&&Ht.process,tn=function(){try{return Kt&&Kt.require&&Kt.require("util").types||en&&en.binding&&en.binding("util")}catch(o){}}(),nn=tn&&tn.isArrayBuffer,on=tn&&tn.isDate,sn=tn&&tn.isMap,an=tn&&tn.isRegExp,rn=tn&&tn.isSet,ln=tn&&tn.isTypedArray,cn=x("length"),dn=w({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),un=w({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),pn=w({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function e(t){function n(e){if(Zo(e)&&!xr(e)&&!(e instanceof We)){if(e instanceof w)return e;if(xs.call(e,"__wrapped__"))return ro(e)}return new w(e)}function i(){}function w(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=G}function We(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function rt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function lt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ct(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function dt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ct;++t<n;)this.add(e[t])}function ut(e){this.size=(this.__data__=new lt(e)).size}function pt(e,t){var n=xr(e),i=!n&&Or(e),o=!n&&!i&&Ar(e),s=!n&&!i&&!o&&Mr(e),a=n||i||o||s,r=a?T(e.length,Cs):[],l=r.length;for(var c in e)!t&&!xs.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Gi(c,l))||r.push(c);return r}function gt(e){var t=e.length;return t?e[_n(0,t-1)]:G}function ht(e,t){return io(oi(e),Ot(t,0,e.length))}function mt(e){return io(oi(e))}function ft(e,t,n){(n===G||To(e[t],n))&&(n!==G||t in e)||St(e,t,n)}function bt(e,t,n){var i=e[t];xs.call(e,t)&&To(i,n)&&(n!==G||t in e)||St(e,t,n)}function Ct(e,t){for(var n=e.length;n--;)if(To(e[n][0],t))return n;return-1}function vt(e,t,n,i){return Pa(e,function(e,o,s){t(i,e,n(e),s)}),i}function yt(e,t){return e&&si(t,Qo(t),e)}function St(e,t,n){"__proto__"==t&&qs?qs(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Pt(e,t){for(var n=-1,i=t.length,o=us(i),s=null==e;++n<i;)o[n]=s?G:Ho(e,t[n]);return o}function Ot(e,t,n){return e==e&&(n!==G&&(e=e<=n?e:n),t!==G&&(e=e>=t?e:t)),e}function xt(e,t,n,i,o,s){var r,l=1&t,c=2&t,d=4&t;if(n&&(r=o?n(e,i,o,s):n(e)),r!==G)return r;if(!Do(e))return e;var u=xr(e);if(u){if(r=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&xs.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return oi(e,r)}else{var p=La(e),g=p==ae||p==re;if(Ar(e))return Kn(e,l);if(p==de||p==te||g&&!o){if(r=c||g?{}:qi(e),!l)return c?function(e,t){return si(e,Na(e),t)}(e,function(e,t){return e&&si(t,zo(t),e)}(r,e)):function(e,t){return si(e,ka(e),t)}(e,yt(r,e))}else{if(!Gt[p])return o?e:{};r=function(e,t,n){var i=e.constructor;switch(t){case be:return Xn(e);case ie:case oe:return new i(+e);case Ce:return function(e,t){return new e.constructor(t?Xn(e.buffer):e.buffer,e.byteOffset,e.byteLength)}(e,n);case ve:case ye:case Se:case Pe:case Oe:case xe:case we:case Ae:case _e:return ei(e,n);case le:return new i;case ce:case he:return new i(e);case pe:return function(e){var t=new e.constructor(e.source,Ke.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ge:return new i;case me:return function(e){return va?fs(va.call(e)):{}}(e)}}(e,p,l)}}s||(s=new ut);var h=s.get(e);if(h)return h;s.set(e,r),Er(e)?e.forEach(function(i){r.add(xt(i,t,n,i,e,s))}):Tr(e)&&e.forEach(function(i,o){r.set(o,xt(i,t,n,o,e,s))});var m=u?G:(d?c?Li:Ni:c?zo:Qo)(e);return a(m||e,function(i,o){m&&(i=e[o=i]),bt(r,o,xt(i,t,n,o,e,s))}),r}function wt(e,t,n){var i=n.length;if(null==e)return!i;for(e=fs(e);i--;){var o=n[i],s=e[o];if(s===G&&!(o in e)||!(0,t[o])(s))return!1}return!0}function At(e,t,n){if("function"!=typeof e)throw new vs(V);return Ra(function(){e.apply(G,n)},t)}function _t(e,t,n,i){var o=-1,s=d,a=!0,r=e.length,l=[],c=t.length;if(!r)return l;n&&(t=p(t,I(n))),i?(s=u,a=!1):t.length>=200&&(s=M,a=!1,t=new dt(t));e:for(;++o<r;){var g=e[o],h=null==n?g:n(g);if(g=i||0!==g?g:0,a&&h==h){for(var m=c;m--;)if(t[m]===h)continue e;l.push(g)}else s(t,h,i)||l.push(g)}return l}function Tt(e,t){var n=!0;return Pa(e,function(e,i,o){return n=!!t(e,i,o)}),n}function It(e,t,n){for(var i=-1,o=e.length;++i<o;){var s=e[i],a=t(s);if(null!=a&&(r===G?a==a&&!jo(a):n(a,r)))var r=a,l=s}return l}function Et(e,t){var n=[];return Pa(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n}function Mt(e,t,n,i,o){var s=-1,a=e.length;for(n||(n=Bi),o||(o=[]);++s<a;){var r=e[s];t>0&&n(r)?t>1?Mt(r,t-1,n,i,o):g(o,r):i||(o[o.length]=r)}return o}function kt(e,t){return e&&xa(e,t,Qo)}function Nt(e,t){return e&&wa(e,t,Qo)}function Lt(e,t){return c(t,function(t){return ko(e[t])})}function Rt(e,t){for(var n=0,i=(t=Qn(t,e)).length;null!=e&&n<i;)e=e[oo(t[n++])];return n&&n==i?e:G}function Ut(e,t,n){var i=t(e);return xr(e)?i:g(i,n(e))}function Ft(e){return null==e?e===G?"[object Undefined]":"[object Null]":$s&&$s in fs(e)?function(e){var t=xs.call(e,$s),n=e[$s];try{e[$s]=G;var i=!0}catch(e){}var o=_s.call(e);return i&&(t?e[$s]=n:delete e[$s]),o}(e):function(e){return _s.call(e)}(e)}function Vt(e,t){return e>t}function Ht(e,t){return null!=e&&xs.call(e,t)}function Wt(e,t){return null!=e&&t in fs(e)}function zt(e,t,n){for(var i=n?u:d,o=e[0].length,s=e.length,a=s,r=us(s),l=1/0,c=[];a--;){var g=e[a];a&&t&&(g=p(g,I(t))),l=ea(g.length,l),r[a]=!n&&(t||o>=120&&g.length>=120)?new dt(a&&g):G}g=e[0];var h=-1,m=r[0];e:for(;++h<o&&c.length<l;){var f=g[h],b=t?t(f):f;if(f=n||0!==f?f:0,!(m?M(m,b):i(c,b,n))){for(a=s;--a;){var C=r[a];if(!(C?M(C,b):i(e[a],b,n)))continue e}m&&m.push(b),c.push(f)}}return c}function Kt(e,t,n){var i=null==(e=Ki(e,t=Qn(t,e)))?e:e[oo(go(t))];return null==i?G:o(i,e,n)}function en(e){return Zo(e)&&Ft(e)==te}function tn(e,t,n,i,o){return e===t||(null==e||null==t||!Zo(e)&&!Zo(t)?e!=e&&t!=t:function(e,t,n,i,o,s){var a=xr(e),r=xr(t),l=a?ne:La(e),c=r?ne:La(t),d=(l=l==te?de:l)==de,u=(c=c==te?de:c)==de,p=l==c;if(p&&Ar(e)){if(!Ar(t))return!1;a=!0,d=!1}if(p&&!d)return s||(s=new ut),a||Mr(e)?Mi(e,t,n,i,o,s):function(e,t,n,i,o,s,a){switch(n){case Ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case be:return!(e.byteLength!=t.byteLength||!s(new Ns(e),new Ns(t)));case ie:case oe:case ce:return To(+e,+t);case se:return e.name==t.name&&e.message==t.message;case pe:case he:return e==t+"";case le:var r=R;case ge:if(r||(r=j),e.size!=t.size&&!(1&i))return!1;var l=a.get(e);if(l)return l==t;i|=2,a.set(e,t);var c=Mi(r(e),r(t),i,o,s,a);return a.delete(e),c;case me:if(va)return va.call(e)==va.call(t)}return!1}(e,t,l,n,i,o,s);if(!(1&n)){var g=d&&xs.call(e,"__wrapped__"),h=u&&xs.call(t,"__wrapped__");if(g||h){var m=g?e.value():e,f=h?t.value():t;return s||(s=new ut),o(m,f,n,i,s)}}return!!p&&(s||(s=new ut),function(e,t,n,i,o,s){var a=1&n,r=Ni(e),l=r.length;if(l!=Ni(t).length&&!a)return!1;for(var c=l;c--;){var d=r[c];if(!(a?d in t:xs.call(t,d)))return!1}var u=s.get(e),p=s.get(t);if(u&&p)return u==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var h=a;++c<l;){var m=e[d=r[c]],f=t[d];if(i)var b=a?i(f,m,d,t,e,s):i(m,f,d,e,t,s);if(!(b===G?m===f||o(m,f,n,i,s):b)){g=!1;break}h||(h="constructor"==d)}if(g&&!h){var C=e.constructor,v=t.constructor;C!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof C&&C instanceof C&&"function"==typeof v&&v instanceof v)&&(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,i,o,s))}(e,t,n,i,tn,o))}function cn(e,t,n,i){var o=n.length,s=o,a=!i;if(null==e)return!s;for(e=fs(e);o--;){var r=n[o];if(a&&r[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1}for(;++o<s;){var l=(r=n[o])[0],c=e[l],d=r[1];if(a&&r[2]){if(c===G&&!(l in e))return!1}else{var u=new ut;if(i)var p=i(c,d,l,e,t,u);if(!(p===G?tn(d,c,3,i,u):p))return!1}}return!0}function hn(e){return!(!Do(e)||function(e){return!!As&&As in e}(e))&&(ko(e)?Es:tt).test(so(e))}function mn(e){return"function"==typeof e?e:null==e?os:"object"==typeof e?xr(e)?yn(e[0],e[1]):vn(e):ls(e)}function fn(e){if(!Hi(e))return Ks(e);var t=[];for(var n in fs(e))xs.call(e,n)&&"constructor"!=n&&t.push(n);return t}function bn(e,t){return e<t}function Cn(e,t){var n=-1,i=Io(e)?us(e.length):[];return Pa(e,function(e,o,s){i[++n]=t(e,o,s)}),i}function vn(e){var t=Fi(e);return 1==t.length&&t[0][2]?Qi(t[0][0],t[0][1]):function(n){return n===e||cn(n,e,t)}}function yn(e,t){return Yi(e)&&Wi(t)?Qi(oo(e),t):function(n){var i=Ho(n,e);return i===G&&i===t?Wo(n,e):tn(t,i,3)}}function Sn(e,t,n,i,o){e!==t&&xa(t,function(s,a){if(o||(o=new ut),Do(s))!function(e,t,n,i,o,s,a){var r=eo(e,n),l=eo(t,n),c=a.get(l);if(c)return ft(e,n,c),G;var d=s?s(r,l,n+"",e,t,a):G,u=d===G;if(u){var p=xr(l),g=!p&&Ar(l),h=!p&&!g&&Mr(l);d=l,p||g||h?xr(r)?d=r:Eo(r)?d=oi(r):g?(u=!1,d=Kn(l,!0)):h?(u=!1,d=ei(l,!0)):d=[]:Uo(l)||Or(l)?(d=r,Or(r)?d=Yo(r):Do(r)&&!ko(r)||(d=qi(l))):u=!1}u&&(a.set(l,d),o(d,l,i,s,a),a.delete(l)),ft(e,n,d)}(e,t,a,n,Sn,i,o);else{var r=i?i(eo(e,a),s,a+"",e,t,o):G;r===G&&(r=s),ft(e,a,r)}},zo)}function Pn(e,t){var n=e.length;if(n)return Gi(t+=t<0?n:0,n)?e[t]:G}function On(e,t,n){t=t.length?p(t,function(e){return xr(e)?function(t){return Rt(t,1===e.length?e[0]:e)}:e}):[os];var i=-1;return t=p(t,I(Ri())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Cn(e,function(e,n,o){return{criteria:p(t,function(t){return t(e)}),index:++i,value:e}}),function(e,t){return function(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,a=o.length,r=n.length;++i<a;){var l=ti(o[i],s[i]);if(l)return i>=r?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)})}function xn(e,t,n){for(var i=-1,o=t.length,s={};++i<o;){var a=t[i],r=Rt(e,a);n(r,a)&&kn(s,Qn(a,e),r)}return s}function wn(e,t,n,i){var o=i?S:y,s=-1,a=t.length,r=e;for(e===t&&(t=oi(t)),n&&(r=p(e,I(n)));++s<a;)for(var l=0,c=t[s],d=n?n(c):c;(l=o(r,d,l,i))>-1;)r!==e&&Us.call(r,l,1),Us.call(e,l,1);return e}function An(e,t){for(var n=e?t.length:0,i=n-1;n--;){var o=t[n];if(n==i||o!==s){var s=o;Gi(o)?Us.call(e,o,1):qn(e,o)}}return e}function _n(e,t){return e+Js(ia()*(t-e+1))}function Tn(e,t){var n="";if(!e||t<1||t>z)return n;do{t%2&&(n+=e),(t=Js(t/2))&&(e+=e)}while(t);return n}function In(e,t){return Ua(zi(e,t,os),e+"")}function En(e){return gt(Xo(e))}function Mn(e,t){var n=Xo(e);return io(n,Ot(t,0,n.length))}function kn(e,t,n,i){if(!Do(e))return e;for(var o=-1,s=(t=Qn(t,e)).length,a=s-1,r=e;null!=r&&++o<s;){var l=oo(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var d=r[l];(c=i?i(d,l,r):G)===G&&(c=Do(d)?d:Gi(t[o+1])?[]:{})}bt(r,l,c),r=r[l]}return e}function Nn(e){return io(Xo(e))}function Ln(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=us(o);++i<o;)s[i]=e[i+t];return s}function Dn(e,t){var n;return Pa(e,function(e,i,o){return!(n=t(e,i,o))}),!!n}function Zn(e,t,n){var i=0,o=null==e?i:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;i<o;){var s=i+o>>>1,a=e[s];null!==a&&!jo(a)&&(n?a<=t:a<t)?i=s+1:o=s}return o}return Rn(e,t,os,n)}function Rn(e,t,n,i){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,r=null===t,l=jo(t),c=t===G;o<s;){var d=Js((o+s)/2),u=n(e[d]),p=u!==G,g=null===u,h=u==u,m=jo(u);if(a)var f=i||h;else f=c?h&&(i||p):r?h&&p&&(i||!g):l?h&&p&&!g&&(i||!m):!g&&!m&&(i?u<=t:u<t);f?o=d+1:s=d}return ea(s,4294967294)}function Un(e,t){for(var n=-1,i=e.length,o=0,s=[];++n<i;){var a=e[n],r=t?t(a):a;if(!n||!To(r,l)){var l=r;s[o++]=0===a?0:a}}return s}function Fn(e){return"number"==typeof e?e:jo(e)?K:+e}function jn(e){if("string"==typeof e)return e;if(xr(e))return p(e,jn)+"";if(jo(e))return ya?ya.call(e):"";var t=e+"";return"0"==t&&1/e==-Q?"-0":t}function $n(e,t,n){var i=-1,o=d,s=e.length,a=!0,r=[],l=r;if(n)a=!1,o=u;else if(s>=200){var c=t?null:Ea(e);if(c)return j(c);a=!1,o=M,l=new dt}else l=t?[]:r;e:for(;++i<s;){var p=e[i],g=t?t(p):p;if(p=n||0!==p?p:0,a&&g==g){for(var h=l.length;h--;)if(l[h]===g)continue e;t&&l.push(g),r.push(p)}else o(l,g,n)||(l!==r&&l.push(g),r.push(p))}return r}function qn(e,t){return null==(e=Ki(e,t=Qn(t,e)))||delete e[oo(go(t))]}function Bn(e,t,n,i){return kn(e,t,n(Rt(e,t)),i)}function Gn(e,t,n,i){for(var o=e.length,s=i?o:-1;(i?s--:++s<o)&&t(e[s],s,e););return n?Ln(e,i?0:s,i?s+1:o):Ln(e,i?s+1:0,i?o:s)}function Vn(e,t){var n=e;return n instanceof We&&(n=n.value()),h(t,function(e,t){return t.func.apply(t.thisArg,g([e],t.args))},n)}function Yn(e,t,n){var i=e.length;if(i<2)return i?$n(e[0]):[];for(var o=-1,s=us(i);++o<i;)for(var a=e[o],r=-1;++r<i;)r!=o&&(s[o]=_t(s[o]||a,e[r],t,n));return $n(Mt(s,1),t,n)}function Jn(e,t,n){for(var i=-1,o=e.length,s=t.length,a={};++i<o;)n(a,e[i],i<s?t[i]:G);return a}function Hn(e){return Eo(e)?e:[]}function Wn(e){return"function"==typeof e?e:os}function Qn(e,t){return xr(e)?e:Yi(e,t)?[e]:Fa(Jo(e))}function zn(e,t,n){var i=e.length;return n=n===G?i:n,!t&&n>=i?e:Ln(e,t,n)}function Kn(e,t){if(t)return e.slice();var n=e.length,i=Ls?Ls(n):new e.constructor(n);return e.copy(i),i}function Xn(e){var t=new e.constructor(e.byteLength);return new Ns(t).set(new Ns(e)),t}function ei(e,t){return new e.constructor(t?Xn(e.buffer):e.buffer,e.byteOffset,e.length)}function ti(e,t){if(e!==t){var n=e!==G,i=null===e,o=e==e,s=jo(e),a=t!==G,r=null===t,l=t==t,c=jo(t);if(!r&&!c&&!s&&e>t||s&&a&&l&&!r&&!c||i&&a&&l||!n&&l||!o)return 1;if(!i&&!s&&!c&&e<t||c&&n&&o&&!i&&!s||r&&n&&o||!a&&o||!l)return-1}return 0}function ni(e,t,n,i){for(var o=-1,s=e.length,a=n.length,r=-1,l=t.length,c=Xs(s-a,0),d=us(l+c),u=!i;++r<l;)d[r]=t[r];for(;++o<a;)(u||o<s)&&(d[n[o]]=e[o]);for(;c--;)d[r++]=e[o++];return d}function ii(e,t,n,i){for(var o=-1,s=e.length,a=-1,r=n.length,l=-1,c=t.length,d=Xs(s-r,0),u=us(d+c),p=!i;++o<d;)u[o]=e[o];for(var g=o;++l<c;)u[g+l]=t[l];for(;++a<r;)(p||o<s)&&(u[g+n[a]]=e[o++]);return u}function oi(e,t){var n=-1,i=e.length;for(t||(t=us(i));++n<i;)t[n]=e[n];return t}function si(e,t,n,i){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var r=t[s],l=i?i(n[r],e[r],r,n,e):G;l===G&&(l=e[r]),o?St(n,r,l):bt(n,r,l)}return n}function ai(e,t){return function(n,i){var o=xr(n)?s:vt,a=t?t():{};return o(n,e,Ri(i,2),a)}}function ri(e){return In(function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:G,a=o>2?n[2]:G;for(s=e.length>3&&"function"==typeof s?(o--,s):G,a&&Vi(n[0],n[1],a)&&(s=o<3?G:s,o=1),t=fs(t);++i<o;){var r=n[i];r&&e(t,r,i,s)}return t})}function li(e,t){return function(n,i){if(null==n)return n;if(!Io(n))return e(n,i);for(var o=n.length,s=t?o:-1,a=fs(n);(t?s--:++s<o)&&!1!==i(a[s],s,a););return n}}function ci(e){return function(t,n,i){for(var o=-1,s=fs(t),a=i(t),r=a.length;r--;){var l=a[e?r:++o];if(!1===n(s[l],l,s))break}return t}}function di(e){return function(t){var n=Z(t=Jo(t))?q(t):G,i=n?n[0]:t.charAt(0),o=n?zn(n,1).join(""):t.slice(1);return i[e]()+o}}function ui(e){return function(t){return h(ns(ts(t).replace(Dt,"")),e,"")}}function pi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Sa(e.prototype),i=e.apply(n,t);return Do(i)?i:n}}function gi(e,t,n){var i=pi(e);return function s(){for(var a=arguments.length,r=us(a),l=a,c=Zi(s);l--;)r[l]=arguments[l];var d=a<3&&r[0]!==c&&r[a-1]!==c?[]:F(r,c);return(a-=d.length)<n?xi(e,t,fi,s.placeholder,G,r,d,G,G,n-a):o(this&&this!==Qt&&this instanceof s?i:e,this,r)}}function hi(e){return function(t,n,i){var o=fs(t);if(!Io(t)){var s=Ri(n,3);t=Qo(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,i);return a>-1?o[s?t[a]:a]:G}}function mi(e){return ki(function(t){var n=t.length,i=n,o=w.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new vs(V);if(o&&!a&&"wrapper"==Di(s))var a=new w([],!0)}for(i=a?i:n;++i<n;){var r=Di(s=t[i]),l="wrapper"==r?Ma(s):G;a=l&&Ji(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Di(l[0])].apply(a,l[3]):1==s.length&&Ji(s)?a[r]():a.thru(s)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&xr(i))return a.plant(i).value();for(var o=0,s=n?t[o].apply(this,e):i;++o<n;)s=t[o].call(this,s);return s}})}function fi(e,t,n,i,o,s,a,r,l,c){var d=t&W,u=1&t,p=2&t,g=24&t,h=512&t,m=p?G:pi(e);return function f(){for(var b=arguments.length,C=us(b),v=b;v--;)C[v]=arguments[v];if(g)var y=Zi(f),S=L(C,y);if(i&&(C=ni(C,i,o,g)),s&&(C=ii(C,s,a,g)),b-=S,g&&b<c)return xi(e,t,fi,f.placeholder,n,C,F(C,y),r,l,c-b);var P=u?n:this,O=p?P[e]:e;return b=C.length,r?C=Xi(C,r):h&&b>1&&C.reverse(),d&&l<b&&(C.length=l),this&&this!==Qt&&this instanceof f&&(O=m||pi(O)),O.apply(P,C)}}function bi(e,t){return function(n,i){return function(e,t,n,i){return kt(e,function(e,o,s){t(i,n(e),o,s)}),i}(n,e,t(i),{})}}function Ci(e,t){return function(n,i){var o;if(n===G&&i===G)return t;if(n!==G&&(o=n),i!==G){if(o===G)return i;"string"==typeof n||"string"==typeof i?(n=jn(n),i=jn(i)):(n=Fn(n),i=Fn(i)),o=e(n,i)}return o}}function vi(e){return ki(function(t){return t=p(t,I(Ri())),In(function(n){var i=this;return e(t,function(e){return o(e,i,n)})})})}function yi(e,t){var n=(t=t===G?" ":jn(t)).length;if(n<2)return n?Tn(t,e):t;var i=Tn(t,Ys(e/$(t)));return Z(t)?zn(q(i),0,e).join(""):i.slice(0,e)}function Si(e,t,n,i){var s=1&t,a=pi(e);return function t(){for(var r=-1,l=arguments.length,c=-1,d=i.length,u=us(d+l),p=this&&this!==Qt&&this instanceof t?a:e;++c<d;)u[c]=i[c];for(;l--;)u[c++]=arguments[++r];return o(p,s?n:this,u)}}function Pi(e){return function(t,n,i){return i&&"number"!=typeof i&&Vi(t,n,i)&&(n=i=G),t=qo(t),n===G?(n=t,t=0):n=qo(n),function(e,t,n,i){for(var o=-1,s=Xs(Ys((t-e)/(n||1)),0),a=us(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,i=i===G?t<n?1:-1:qo(i),e)}}function Oi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Vo(t),n=Vo(n)),e(t,n)}}function xi(e,t,n,i,o,s,a,r,l,c){var d=8&t;t|=d?H:64,4&(t&=~(d?64:H))||(t&=-4);var u=[e,t,o,d?s:G,d?a:G,d?G:s,d?G:a,r,l,c],p=n.apply(G,u);return Ji(e)&&Za(p,u),p.placeholder=i,to(p,e,t)}function wi(e){var t=ms[e];return function(e,n){if(e=Vo(e),(n=null==n?0:ea(Bo(n),292))&&Qs(e)){var i=(Jo(e)+"e").split("e");return+((i=(Jo(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}function Ai(e){return function(t){var n=La(t);return n==le?R(t):n==ge?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return p(t,function(t){return[t,e[t]]})}(t,e(t))}}function _i(e,t,n,i,o,s,a,r){var l=2&t;if(!l&&"function"!=typeof e)throw new vs(V);var c=i?i.length:0;if(c||(t&=-97,i=o=G),a=a===G?a:Xs(Bo(a),0),r=r===G?r:Bo(r),c-=o?o.length:0,64&t){var d=i,u=o;i=o=G}var p=l?G:Ma(e),g=[e,t,n,i,o,d,u,s,a,r];if(p&&function(e,t){var n=e[1],i=t[1],o=n|i;if(!(o<131||i==W&&8==n||i==W&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n))return e;1&i&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var a=e[3];e[3]=a?ni(a,s,t[4]):s,e[4]=a?F(e[3],J):t[4]}(s=t[5])&&(e[5]=(a=e[5])?ii(a,s,t[6]):s,e[6]=a?F(e[5],J):t[6]),(s=t[7])&&(e[7]=s),i&W&&(e[8]=null==e[8]?t[8]:ea(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(g,p),e=g[0],t=g[1],n=g[2],i=g[3],o=g[4],!(r=g[9]=g[9]===G?l?0:e.length:Xs(g[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)h=8==t||16==t?gi(e,t,r):t!=H&&33!=t||o.length?fi.apply(G,g):Si(e,t,n,i);else var h=function(e,t,n){var i=1&t,o=pi(e);return function t(){return(this&&this!==Qt&&this instanceof t?o:e).apply(i?n:this,arguments)}}(e,t,n);return to((p?Aa:Za)(h,g),e,t)}function Ti(e,t,n,i){return e===G||To(e,Ss[n])&&!xs.call(i,n)?t:e}function Ii(e,t,n,i,o,s){return Do(e)&&Do(t)&&(s.set(t,e),Sn(e,t,G,Ii,s),s.delete(t)),e}function Ei(e){return Uo(e)?G:e}function Mi(e,t,n,i,o,s){var a=1&n,r=e.length,l=t.length;if(r!=l&&!(a&&l>r))return!1;var c=s.get(e),d=s.get(t);if(c&&d)return c==t&&d==e;var u=-1,p=!0,g=2&n?new dt:G;for(s.set(e,t),s.set(t,e);++u<r;){var h=e[u],m=t[u];if(i)var b=a?i(m,h,u,t,e,s):i(h,m,u,e,t,s);if(b!==G){if(b)continue;p=!1;break}if(g){if(!f(t,function(e,t){if(!M(g,t)&&(h===e||o(h,e,n,i,s)))return g.push(t)})){p=!1;break}}else if(h!==m&&!o(h,m,n,i,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function ki(e){return Ua(zi(e,G,uo),e+"")}function Ni(e){return Ut(e,Qo,ka)}function Li(e){return Ut(e,zo,Na)}function Di(e){for(var t=e.name+"",n=pa[t],i=xs.call(pa,t)?n.length:0;i--;){var o=n[i],s=o.func;if(null==s||s==e)return o.name}return t}function Zi(e){return(xs.call(n,"placeholder")?n:e).placeholder}function Ri(){var e=n.iteratee||ss;return e=e===ss?mn:e,arguments.length?e(arguments[0],arguments[1]):e}function Ui(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Fi(e){for(var t=Qo(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,Wi(o)]}return t}function ji(e,t){var n=function(e,t){return null==e?G:e[t]}(e,t);return hn(n)?n:G}function $i(e,t,n){for(var i=-1,o=(t=Qn(t,e)).length,s=!1;++i<o;){var a=oo(t[i]);if(!(s=null!=e&&n(e,a)))break;e=e[a]}return s||++i!=o?s:!!(o=null==e?0:e.length)&&Lo(o)&&Gi(a,o)&&(xr(e)||Or(e))}function qi(e){return"function"!=typeof e.constructor||Hi(e)?{}:Sa(Ds(e))}function Bi(e){return xr(e)||Or(e)||!!(Fs&&e&&e[Fs])}function Gi(e,t){var n=typeof e;return!!(t=null==t?z:t)&&("number"==n||"symbol"!=n&&it.test(e))&&e>-1&&e%1==0&&e<t}function Vi(e,t,n){if(!Do(n))return!1;var i=typeof t;return!!("number"==i?Io(n)&&Gi(t,n.length):"string"==i&&t in n)&&To(n[t],e)}function Yi(e,t){if(xr(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!jo(e))||Fe.test(e)||!Ue.test(e)||null!=t&&e in fs(t)}function Ji(e){var t=Di(e),i=n[t];if("function"!=typeof i||!(t in We.prototype))return!1;if(e===i)return!0;var o=Ma(i);return!!o&&e===o[0]}function Hi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ss)}function Wi(e){return e==e&&!Do(e)}function Qi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==G||e in fs(n))}}function zi(e,t,n){return t=Xs(t===G?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=Xs(i.length-t,0),r=us(a);++s<a;)r[s]=i[t+s];s=-1;for(var l=us(t+1);++s<t;)l[s]=i[s];return l[t]=n(r),o(e,this,l)}}function Ki(e,t){return t.length<2?e:Rt(e,Ln(t,0,-1))}function Xi(e,t){for(var n=e.length,i=ea(t.length,n),o=oi(e);i--;){var s=t[i];e[i]=Gi(s,n)?o[s]:G}return e}function eo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function to(e,t,n){var i=t+"";return Ua(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Ye,"{\n/* [wrapped with "+t+"] */\n")}(i,ao(function(e){var t=e.match(Je);return t?t[1].split(He):[]}(i),n)))}function no(e){var t=0,n=0;return function(){var i=ta(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(G,arguments)}}function io(e,t){var n=-1,i=e.length,o=i-1;for(t=t===G?i:t;++n<t;){var s=_n(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}function oo(e){if("string"==typeof e||jo(e))return e;var t=e+"";return"0"==t&&1/e==-Q?"-0":t}function so(e){if(null!=e){try{return Os.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ao(e,t){return a(ee,function(n){var i="_."+n[0];t&n[1]&&!d(e,i)&&e.push(i)}),e.sort()}function ro(e){if(e instanceof We)return e.clone();var t=new w(e.__wrapped__,e.__chain__);return t.__actions__=oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function lo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=null==n?0:Bo(n);return o<0&&(o=Xs(i+o,0)),v(e,Ri(t,3),o)}function co(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==G&&(o=Bo(n),o=n<0?Xs(i+o,0):ea(o,i-1)),v(e,Ri(t,3),o,!0)}function uo(e){return null!=e&&e.length?Mt(e,1):[]}function po(e){return e&&e.length?e[0]:G}function go(e){var t=null==e?0:e.length;return t?e[t-1]:G}function ho(e,t){return e&&e.length&&t&&t.length?wn(e,t):e}function mo(e){return null==e?e:oa.call(e)}function fo(e){if(!e||!e.length)return[];var t=0;return e=c(e,function(e){if(Eo(e))return t=Xs(e.length,t),!0}),T(t,function(t){return p(e,x(t))})}function bo(e,t){if(!e||!e.length)return[];var n=fo(e);return null==t?n:p(n,function(e){return o(t,G,e)})}function Co(e){var t=n(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}function yo(e,t){return(xr(e)?a:Pa)(e,Ri(t,3))}function So(e,t){return(xr(e)?r:Oa)(e,Ri(t,3))}function Po(e,t){return(xr(e)?p:Cn)(e,Ri(t,3))}function Oo(e,t,n){return t=n?G:t,_i(e,W,G,G,G,G,t=e&&null==t?e.length:t)}function xo(e,t){var n;if("function"!=typeof t)throw new vs(V);return e=Bo(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=G),n}}function wo(e,t,n){function i(t){var n=c,i=d;return c=d=G,m=t,p=e.apply(i,n)}function o(e){return m=e,g=Ra(a,t),f?i(e):p}function s(e){var n=e-h;return h===G||n>=t||n<0||b&&e-m>=u}function a(){var e=pr();return s(e)?r(e):(g=Ra(a,function(e){var n=t-(e-h);return b?ea(n,u-(e-m)):n}(e)),G)}function r(e){return g=G,C&&c?i(e):(c=d=G,p)}function l(){var e=pr(),n=s(e);if(c=arguments,d=this,h=e,n){if(g===G)return o(h);if(b)return Ia(g),g=Ra(a,t),i(h)}return g===G&&(g=Ra(a,t)),p}var c,d,u,p,g,h,m=0,f=!1,b=!1,C=!0;if("function"!=typeof e)throw new vs(V);return t=Vo(t)||0,Do(n)&&(f=!!n.leading,u=(b="maxWait"in n)?Xs(Vo(n.maxWait)||0,t):u,C="trailing"in n?!!n.trailing:C),l.cancel=function(){g!==G&&Ia(g),m=0,c=h=d=g=G},l.flush=function(){return g===G?p:r(pr())},l}function Ao(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new vs(V);var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],s=n.cache;if(s.has(o))return s.get(o);var a=e.apply(this,i);return n.cache=s.set(o,a)||s,a};return n.cache=new(Ao.Cache||ct),n}function _o(e){if("function"!=typeof e)throw new vs(V);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function To(e,t){return e===t||e!=e&&t!=t}function Io(e){return null!=e&&Lo(e.length)&&!ko(e)}function Eo(e){return Zo(e)&&Io(e)}function Mo(e){if(!Zo(e))return!1;var t=Ft(e);return t==se||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Uo(e)}function ko(e){if(!Do(e))return!1;var t=Ft(e);return t==ae||t==re||"[object AsyncFunction]"==t||"[object Proxy]"==t}function No(e){return"number"==typeof e&&e==Bo(e)}function Lo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=z}function Do(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Zo(e){return null!=e&&"object"==typeof e}function Ro(e){return"number"==typeof e||Zo(e)&&Ft(e)==ce}function Uo(e){if(!Zo(e)||Ft(e)!=de)return!1;var t=Ds(e);if(null===t)return!0;var n=xs.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Os.call(n)==Ts}function Fo(e){return"string"==typeof e||!xr(e)&&Zo(e)&&Ft(e)==he}function jo(e){return"symbol"==typeof e||Zo(e)&&Ft(e)==me}function $o(e){if(!e)return[];if(Io(e))return Fo(e)?q(e):oi(e);if(js&&e[js])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[js]());var t=La(e);return(t==le?R:t==ge?j:Xo)(e)}function qo(e){return e?(e=Vo(e))===Q||e===-Q?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Bo(e){var t=qo(e),n=t%1;return t==t?n?t-n:t:0}function Go(e){return e?Ot(Bo(e),0,X):0}function Vo(e){if("number"==typeof e)return e;if(jo(e))return K;if(Do(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Do(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Be,"");var n=et.test(e);return n||nt.test(e)?Jt(e.slice(2),n?2:8):Xe.test(e)?K:+e}function Yo(e){return si(e,zo(e))}function Jo(e){return null==e?"":jn(e)}function Ho(e,t,n){var i=null==e?G:Rt(e,t);return i===G?n:i}function Wo(e,t){return null!=e&&$i(e,t,Wt)}function Qo(e){return Io(e)?pt(e):fn(e)}function zo(e){return Io(e)?pt(e,!0):function(e){if(!Do(e))return function(e){var t=[];if(null!=e)for(var n in fs(e))t.push(n);return t}(e);var t=Hi(e),n=[];for(var i in e)("constructor"!=i||!t&&xs.call(e,i))&&n.push(i);return n}(e)}function Ko(e,t){if(null==e)return{};var n=p(Li(e),function(e){return[e]});return t=Ri(t),xn(e,n,function(e,n){return t(e,n[0])})}function Xo(e){return null==e?[]:E(e,Qo(e))}function es(e){return il(Jo(e).toLowerCase())}function ts(e){return(e=Jo(e))&&e.replace(ot,dn).replace(Zt,"")}function ns(e,t,n){return e=Jo(e),(t=n?G:t)===G?function(e){return jt.test(e)}(e)?B(e):b(e):e.match(t)||[]}function is(e){return function(){return e}}function os(e){return e}function ss(e){return mn("function"==typeof e?e:xt(e,1))}function as(e,t,n){var i=Qo(t),o=Lt(t,i);null!=n||Do(t)&&(o.length||!i.length)||(n=t,t=e,e=this,o=Lt(t,Qo(t)));var s=!(Do(n)&&"chain"in n&&!n.chain),r=ko(e);return a(o,function(n){var i=t[n];e[n]=i,r&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=oi(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,g([this.value()],arguments))})}),e}function rs(){}function ls(e){return Yi(e)?x(oo(e)):function(e){return function(t){return Rt(t,e)}}(e)}function cs(){return[]}function ds(){return!1}var us=(t=null==t?Qt:gn.defaults(Qt.Object(),t,gn.pick(Qt,$t))).Array,ps=t.Date,gs=t.Error,hs=t.Function,ms=t.Math,fs=t.Object,bs=t.RegExp,Cs=t.String,vs=t.TypeError,ys=us.prototype,Ss=fs.prototype,Ps=t["__core-js_shared__"],Os=hs.prototype.toString,xs=Ss.hasOwnProperty,ws=0,As=function(){var e=/[^.]+$/.exec(Ps&&Ps.keys&&Ps.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_s=Ss.toString,Ts=Os.call(fs),Is=Qt._,Es=bs("^"+Os.call(xs).replace($e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ms=Xt?t.Buffer:G,ks=t.Symbol,Ns=t.Uint8Array,Ls=Ms?Ms.allocUnsafe:G,Ds=U(fs.getPrototypeOf,fs),Zs=fs.create,Rs=Ss.propertyIsEnumerable,Us=ys.splice,Fs=ks?ks.isConcatSpreadable:G,js=ks?ks.iterator:G,$s=ks?ks.toStringTag:G,qs=function(){try{var e=ji(fs,"defineProperty");return e({},"",{}),e}catch(e){}}(),Bs=t.clearTimeout!==Qt.clearTimeout&&t.clearTimeout,Gs=ps&&ps.now!==Qt.Date.now&&ps.now,Vs=t.setTimeout!==Qt.setTimeout&&t.setTimeout,Ys=ms.ceil,Js=ms.floor,Hs=fs.getOwnPropertySymbols,Ws=Ms?Ms.isBuffer:G,Qs=t.isFinite,zs=ys.join,Ks=U(fs.keys,fs),Xs=ms.max,ea=ms.min,ta=ps.now,na=t.parseInt,ia=ms.random,oa=ys.reverse,sa=ji(t,"DataView"),aa=ji(t,"Map"),ra=ji(t,"Promise"),la=ji(t,"Set"),ca=ji(t,"WeakMap"),da=ji(fs,"create"),ua=ca&&new ca,pa={},ga=so(sa),ha=so(aa),ma=so(ra),fa=so(la),ba=so(ca),Ca=ks?ks.prototype:G,va=Ca?Ca.valueOf:G,ya=Ca?Ca.toString:G,Sa=function(){function e(){}return function(t){if(!Do(t))return{};if(Zs)return Zs(t);e.prototype=t;var n=new e;return e.prototype=G,n}}();n.templateSettings={escape:De,evaluate:Ze,interpolate:Re,variable:"",imports:{_:n}},(n.prototype=i.prototype).constructor=n,(w.prototype=Sa(i.prototype)).constructor=w,(We.prototype=Sa(i.prototype)).constructor=We,rt.prototype.clear=function(){this.__data__=da?da(null):{},this.size=0},rt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},rt.prototype.get=function(e){var t=this.__data__;if(da){var n=t[e];return n===Y?G:n}return xs.call(t,e)?t[e]:G},rt.prototype.has=function(e){var t=this.__data__;return da?t[e]!==G:xs.call(t,e)},rt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=da&&t===G?Y:t,this},lt.prototype.clear=function(){this.__data__=[],this.size=0},lt.prototype.delete=function(e){var t=this.__data__,n=Ct(t,e);return!(n<0||(n==t.length-1?t.pop():Us.call(t,n,1),--this.size,0))},lt.prototype.get=function(e){var t=this.__data__,n=Ct(t,e);return n<0?G:t[n][1]},lt.prototype.has=function(e){return Ct(this.__data__,e)>-1},lt.prototype.set=function(e,t){var n=this.__data__,i=Ct(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ct.prototype.clear=function(){this.size=0,this.__data__={hash:new rt,map:new(aa||lt),string:new rt}},ct.prototype.delete=function(e){var t=Ui(this,e).delete(e);return this.size-=t?1:0,t},ct.prototype.get=function(e){return Ui(this,e).get(e)},ct.prototype.has=function(e){return Ui(this,e).has(e)},ct.prototype.set=function(e,t){var n=Ui(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},dt.prototype.add=dt.prototype.push=function(e){return this.__data__.set(e,Y),this},dt.prototype.has=function(e){return this.__data__.has(e)},ut.prototype.clear=function(){this.__data__=new lt,this.size=0},ut.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ut.prototype.get=function(e){return this.__data__.get(e)},ut.prototype.has=function(e){return this.__data__.has(e)},ut.prototype.set=function(e,t){var n=this.__data__;if(n instanceof lt){var i=n.__data__;if(!aa||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ct(i)}return n.set(e,t),this.size=n.size,this};var Pa=li(kt),Oa=li(Nt,!0),xa=ci(),wa=ci(!0),Aa=ua?function(e,t){return ua.set(e,t),e}:os,_a=qs?function(e,t){return qs(e,"toString",{configurable:!0,enumerable:!1,value:is(t),writable:!0})}:os,Ta=In,Ia=Bs||function(e){return Qt.clearTimeout(e)},Ea=la&&1/j(new la([,-0]))[1]==Q?function(e){return new la(e)}:rs,Ma=ua?function(e){return ua.get(e)}:rs,ka=Hs?function(e){return null==e?[]:(e=fs(e),c(Hs(e),function(t){return Rs.call(e,t)}))}:cs,Na=Hs?function(e){for(var t=[];e;)g(t,ka(e)),e=Ds(e);return t}:cs,La=Ft;(sa&&La(new sa(new ArrayBuffer(1)))!=Ce||aa&&La(new aa)!=le||ra&&La(ra.resolve())!=ue||la&&La(new la)!=ge||ca&&La(new ca)!=fe)&&(La=function(e){var t=Ft(e),n=t==de?e.constructor:G,i=n?so(n):"";if(i)switch(i){case ga:return Ce;case ha:return le;case ma:return ue;case fa:return ge;case ba:return fe}return t});var Da=Ps?ko:ds,Za=no(Aa),Ra=Vs||function(e,t){return Qt.setTimeout(e,t)},Ua=no(_a),Fa=function(e){var t=Ao(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(je,function(e,n,i,o){t.push(i?o.replace(Qe,"$1"):n||e)}),t},function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(),ja=In(function(e,t){return Eo(e)?_t(e,Mt(t,1,Eo,!0)):[]}),$a=In(function(e,t){var n=go(t);return Eo(n)&&(n=G),Eo(e)?_t(e,Mt(t,1,Eo,!0),Ri(n,2)):[]}),qa=In(function(e,t){var n=go(t);return Eo(n)&&(n=G),Eo(e)?_t(e,Mt(t,1,Eo,!0),G,n):[]}),Ba=In(function(e){var t=p(e,Hn);return t.length&&t[0]===e[0]?zt(t):[]}),Ga=In(function(e){var t=go(e),n=p(e,Hn);return t===go(n)?t=G:n.pop(),n.length&&n[0]===e[0]?zt(n,Ri(t,2)):[]}),Va=In(function(e){var t=go(e),n=p(e,Hn);return(t="function"==typeof t?t:G)&&n.pop(),n.length&&n[0]===e[0]?zt(n,G,t):[]}),Ya=In(ho),Ja=ki(function(e,t){var n=null==e?0:e.length,i=Pt(e,t);return An(e,p(t,function(e){return Gi(e,n)?+e:e}).sort(ti)),i}),Ha=In(function(e){return $n(Mt(e,1,Eo,!0))}),Wa=In(function(e){var t=go(e);return Eo(t)&&(t=G),$n(Mt(e,1,Eo,!0),Ri(t,2))}),Qa=In(function(e){var t=go(e);return t="function"==typeof t?t:G,$n(Mt(e,1,Eo,!0),G,t)}),za=In(function(e,t){return Eo(e)?_t(e,t):[]}),Ka=In(function(e){return Yn(c(e,Eo))}),Xa=In(function(e){var t=go(e);return Eo(t)&&(t=G),Yn(c(e,Eo),Ri(t,2))}),er=In(function(e){var t=go(e);return t="function"==typeof t?t:G,Yn(c(e,Eo),G,t)}),tr=In(fo),nr=In(function(e){var t=e.length,n=t>1?e[t-1]:G;return n="function"==typeof n?(e.pop(),n):G,bo(e,n)}),ir=ki(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,o=function(t){return Pt(t,e)};return!(t>1||this.__actions__.length)&&i instanceof We&&Gi(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[o],thisArg:G}),new w(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(G),e})):this.thru(o)}),or=ai(function(e,t,n){xs.call(e,n)?++e[n]:St(e,n,1)}),sr=hi(lo),ar=hi(co),rr=ai(function(e,t,n){xs.call(e,n)?e[n].push(t):St(e,n,[t])}),lr=In(function(e,t,n){var i=-1,s="function"==typeof t,a=Io(e)?us(e.length):[];return Pa(e,function(e){a[++i]=s?o(t,e,n):Kt(e,t,n)}),a}),cr=ai(function(e,t,n){St(e,n,t)}),dr=ai(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ur=In(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Vi(e,t[0],t[1])?t=[]:n>2&&Vi(t[0],t[1],t[2])&&(t=[t[0]]),On(e,Mt(t,1),[])}),pr=Gs||function(){return Qt.Date.now()},gr=In(function(e,t,n){var i=1;if(n.length){var o=F(n,Zi(gr));i|=H}return _i(e,i,t,n,o)}),hr=In(function(e,t,n){var i=3;if(n.length){var o=F(n,Zi(hr));i|=H}return _i(t,i,e,n,o)}),mr=In(function(e,t){return At(e,1,t)}),fr=In(function(e,t,n){return At(e,Vo(t)||0,n)});Ao.Cache=ct;var br=Ta(function(e,t){var n=(t=1==t.length&&xr(t[0])?p(t[0],I(Ri())):p(Mt(t,1),I(Ri()))).length;return In(function(i){for(var s=-1,a=ea(i.length,n);++s<a;)i[s]=t[s].call(this,i[s]);return o(e,this,i)})}),Cr=In(function(e,t){return _i(e,H,G,t,F(t,Zi(Cr)))}),vr=In(function(e,t){return _i(e,64,G,t,F(t,Zi(vr)))}),yr=ki(function(e,t){return _i(e,256,G,G,G,t)}),Sr=Oi(Vt),Pr=Oi(function(e,t){return e>=t}),Or=en(function(){return arguments}())?en:function(e){return Zo(e)&&xs.call(e,"callee")&&!Rs.call(e,"callee")},xr=us.isArray,wr=nn?I(nn):function(e){return Zo(e)&&Ft(e)==be},Ar=Ws||ds,_r=on?I(on):function(e){return Zo(e)&&Ft(e)==oe},Tr=sn?I(sn):function(e){return Zo(e)&&La(e)==le},Ir=an?I(an):function(e){return Zo(e)&&Ft(e)==pe},Er=rn?I(rn):function(e){return Zo(e)&&La(e)==ge},Mr=ln?I(ln):function(e){return Zo(e)&&Lo(e.length)&&!!Bt[Ft(e)]},kr=Oi(bn),Nr=Oi(function(e,t){return e<=t}),Lr=ri(function(e,t){if(Hi(t)||Io(t))return si(t,Qo(t),e),G;for(var n in t)xs.call(t,n)&&bt(e,n,t[n])}),Dr=ri(function(e,t){si(t,zo(t),e)}),Zr=ri(function(e,t,n,i){si(t,zo(t),e,i)}),Rr=ri(function(e,t,n,i){si(t,Qo(t),e,i)}),Ur=ki(Pt),Fr=In(function(e,t){e=fs(e);var n=-1,i=t.length,o=i>2?t[2]:G;for(o&&Vi(t[0],t[1],o)&&(i=1);++n<i;)for(var s=t[n],a=zo(s),r=-1,l=a.length;++r<l;){var c=a[r],d=e[c];(d===G||To(d,Ss[c])&&!xs.call(e,c))&&(e[c]=s[c])}return e}),jr=In(function(e){return e.push(G,Ii),o(Vr,G,e)}),$r=bi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=_s.call(t)),e[t]=n},is(os)),qr=bi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=_s.call(t)),xs.call(e,t)?e[t].push(n):e[t]=[n]},Ri),Br=In(Kt),Gr=ri(function(e,t,n){Sn(e,t,n)}),Vr=ri(function(e,t,n,i){Sn(e,t,n,i)}),Yr=ki(function(e,t){var n={};if(null==e)return n;var i=!1;t=p(t,function(t){return t=Qn(t,e),i||(i=t.length>1),t}),si(e,Li(e),n),i&&(n=xt(n,7,Ei));for(var o=t.length;o--;)qn(n,t[o]);return n}),Jr=ki(function(e,t){return null==e?{}:function(e,t){return xn(e,t,function(t,n){return Wo(e,n)})}(e,t)}),Hr=Ai(Qo),Wr=Ai(zo),Qr=ui(function(e,t,n){return t=t.toLowerCase(),e+(n?es(t):t)}),zr=ui(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Kr=ui(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Xr=di("toLowerCase"),el=ui(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),tl=ui(function(e,t,n){return e+(n?" ":"")+il(t)}),nl=ui(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),il=di("toUpperCase"),ol=In(function(e,t){try{return o(e,G,t)}catch(o){return Mo(o)?o:new gs(o)}}),sl=ki(function(e,t){return a(t,function(t){t=oo(t),St(e,t,gr(e[t],e))}),e}),al=mi(),rl=mi(!0),ll=In(function(e,t){return function(n){return Kt(n,e,t)}}),cl=In(function(e,t){return function(n){return Kt(e,n,t)}}),dl=vi(p),ul=vi(l),pl=vi(f),gl=Pi(),hl=Pi(!0),ml=Ci(function(e,t){return e+t},0),fl=wi("ceil"),bl=Ci(function(e,t){return e/t},1),Cl=wi("floor"),vl=Ci(function(e,t){return e*t},1),yl=wi("round"),Sl=Ci(function(e,t){return e-t},0);return n.after=function(e,t){if("function"!=typeof t)throw new vs(V);return e=Bo(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=Oo,n.assign=Lr,n.assignIn=Dr,n.assignInWith=Zr,n.assignWith=Rr,n.at=Ur,n.before=xo,n.bind=gr,n.bindAll=sl,n.bindKey=hr,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return xr(e)?e:[e]},n.chain=Co,n.chunk=function(e,t,n){t=(n?Vi(e,t,n):t===G)?1:Xs(Bo(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,a=us(Ys(i/t));o<i;)a[s++]=Ln(e,o,o+=t);return a},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,o=[];++t<n;){var s=e[t];s&&(o[i++]=s)}return o},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=us(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return g(xr(n)?oi(n):[n],Mt(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=Ri();return e=t?p(e,function(e){if("function"!=typeof e[1])throw new vs(V);return[n(e[0]),e[1]]}):[],In(function(n){for(var i=-1;++i<t;){var s=e[i];if(o(s[0],this,n))return o(s[1],this,n)}})},n.conforms=function(e){return function(e){var t=Qo(e);return function(n){return wt(n,e,t)}}(xt(e,1))},n.constant=is,n.countBy=or,n.create=function(e,t){var n=Sa(e);return null==t?n:yt(n,t)},n.curry=function e(t,n,i){var o=_i(t,8,G,G,G,G,G,n=i?G:n);return o.placeholder=e.placeholder,o},n.curryRight=function e(t,n,i){var o=_i(t,16,G,G,G,G,G,n=i?G:n);return o.placeholder=e.placeholder,o},n.debounce=wo,n.defaults=Fr,n.defaultsDeep=jr,n.defer=mr,n.delay=fr,n.difference=ja,n.differenceBy=$a,n.differenceWith=qa,n.drop=function(e,t,n){var i=null==e?0:e.length;return i?Ln(e,(t=n||t===G?1:Bo(t))<0?0:t,i):[]},n.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Ln(e,0,(t=i-(t=n||t===G?1:Bo(t)))<0?0:t):[]},n.dropRightWhile=function(e,t){return e&&e.length?Gn(e,Ri(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?Gn(e,Ri(t,3),!0):[]},n.fill=function(e,t,n,i){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Vi(e,t,n)&&(n=0,i=o),function(e,t,n,i){var o=e.length;for((n=Bo(n))<0&&(n=-n>o?0:o+n),(i=i===G||i>o?o:Bo(i))<0&&(i+=o),i=n>i?0:Go(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},n.filter=function(e,t){return(xr(e)?c:Et)(e,Ri(t,3))},n.flatMap=function(e,t){return Mt(Po(e,t),1)},n.flatMapDeep=function(e,t){return Mt(Po(e,t),Q)},n.flatMapDepth=function(e,t,n){return n=n===G?1:Bo(n),Mt(Po(e,t),n)},n.flatten=uo,n.flattenDeep=function(e){return null!=e&&e.length?Mt(e,Q):[]},n.flattenDepth=function(e,t){return null!=e&&e.length?Mt(e,t=t===G?1:Bo(t)):[]},n.flip=function(e){return _i(e,512)},n.flow=al,n.flowRight=rl,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var o=e[t];i[o[0]]=o[1]}return i},n.functions=function(e){return null==e?[]:Lt(e,Qo(e))},n.functionsIn=function(e){return null==e?[]:Lt(e,zo(e))},n.groupBy=rr,n.initial=function(e){return null!=e&&e.length?Ln(e,0,-1):[]},n.intersection=Ba,n.intersectionBy=Ga,n.intersectionWith=Va,n.invert=$r,n.invertBy=qr,n.invokeMap=lr,n.iteratee=ss,n.keyBy=cr,n.keys=Qo,n.keysIn=zo,n.map=Po,n.mapKeys=function(e,t){var n={};return t=Ri(t,3),kt(e,function(e,i,o){St(n,t(e,i,o),e)}),n},n.mapValues=function(e,t){var n={};return t=Ri(t,3),kt(e,function(e,i,o){St(n,i,t(e,i,o))}),n},n.matches=function(e){return vn(xt(e,1))},n.matchesProperty=function(e,t){return yn(e,xt(t,1))},n.memoize=Ao,n.merge=Gr,n.mergeWith=Vr,n.method=ll,n.methodOf=cl,n.mixin=as,n.negate=_o,n.nthArg=function(e){return e=Bo(e),In(function(t){return Pn(t,e)})},n.omit=Yr,n.omitBy=function(e,t){return Ko(e,_o(Ri(t)))},n.once=function(e){return xo(2,e)},n.orderBy=function(e,t,n,i){return null==e?[]:(xr(t)||(t=null==t?[]:[t]),xr(n=i?G:n)||(n=null==n?[]:[n]),On(e,t,n))},n.over=dl,n.overArgs=br,n.overEvery=ul,n.overSome=pl,n.partial=Cr,n.partialRight=vr,n.partition=dr,n.pick=Jr,n.pickBy=Ko,n.property=ls,n.propertyOf=function(e){return function(t){return null==e?G:Rt(e,t)}},n.pull=Ya,n.pullAll=ho,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?wn(e,t,Ri(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?wn(e,t,G,n):e},n.pullAt=Ja,n.range=gl,n.rangeRight=hl,n.rearg=yr,n.reject=function(e,t){return(xr(e)?c:Et)(e,_o(Ri(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,o=[],s=e.length;for(t=Ri(t,3);++i<s;){var a=e[i];t(a,i,e)&&(n.push(a),o.push(i))}return An(e,o),n},n.rest=function(e,t){if("function"!=typeof e)throw new vs(V);return In(e,t=t===G?t:Bo(t))},n.reverse=mo,n.sampleSize=function(e,t,n){return t=(n?Vi(e,t,n):t===G)?1:Bo(t),(xr(e)?ht:Mn)(e,t)},n.set=function(e,t,n){return null==e?e:kn(e,t,n)},n.setWith=function(e,t,n,i){return i="function"==typeof i?i:G,null==e?e:kn(e,t,n,i)},n.shuffle=function(e){return(xr(e)?mt:Nn)(e)},n.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Vi(e,t,n)?(t=0,n=i):(t=null==t?0:Bo(t),n=n===G?i:Bo(n)),Ln(e,t,n)):[]},n.sortBy=ur,n.sortedUniq=function(e){return e&&e.length?Un(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?Un(e,Ri(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&Vi(e,t,n)&&(t=n=G),(n=n===G?X:n>>>0)?(e=Jo(e))&&("string"==typeof t||null!=t&&!Ir(t))&&!(t=jn(t))&&Z(e)?zn(q(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new vs(V);return t=null==t?0:Xs(Bo(t),0),In(function(n){var i=n[t],s=zn(n,0,t);return i&&g(s,i),o(e,this,s)})},n.tail=function(e){var t=null==e?0:e.length;return t?Ln(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?Ln(e,0,(t=n||t===G?1:Bo(t))<0?0:t):[]},n.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Ln(e,(t=i-(t=n||t===G?1:Bo(t)))<0?0:t,i):[]},n.takeRightWhile=function(e,t){return e&&e.length?Gn(e,Ri(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?Gn(e,Ri(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new vs(V);return Do(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),wo(e,t,{leading:i,maxWait:t,trailing:o})},n.thru=vo,n.toArray=$o,n.toPairs=Hr,n.toPairsIn=Wr,n.toPath=function(e){return xr(e)?p(e,oo):jo(e)?[e]:oi(Fa(Jo(e)))},n.toPlainObject=Yo,n.transform=function(e,t,n){var i=xr(e),o=i||Ar(e)||Mr(e);if(t=Ri(t,4),null==n){var s=e&&e.constructor;n=o?i?new s:[]:Do(e)&&ko(s)?Sa(Ds(e)):{}}return(o?a:kt)(e,function(e,i,o){return t(n,e,i,o)}),n},n.unary=function(e){return Oo(e,1)},n.union=Ha,n.unionBy=Wa,n.unionWith=Qa,n.uniq=function(e){return e&&e.length?$n(e):[]},n.uniqBy=function(e,t){return e&&e.length?$n(e,Ri(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:G,e&&e.length?$n(e,G,t):[]},n.unset=function(e,t){return null==e||qn(e,t)},n.unzip=fo,n.unzipWith=bo,n.update=function(e,t,n){return null==e?e:Bn(e,t,Wn(n))},n.updateWith=function(e,t,n,i){return i="function"==typeof i?i:G,null==e?e:Bn(e,t,Wn(n),i)},n.values=Xo,n.valuesIn=function(e){return null==e?[]:E(e,zo(e))},n.without=za,n.words=ns,n.wrap=function(e,t){return Cr(Wn(t),e)},n.xor=Ka,n.xorBy=Xa,n.xorWith=er,n.zip=tr,n.zipObject=function(e,t){return Jn(e||[],t||[],bt)},n.zipObjectDeep=function(e,t){return Jn(e||[],t||[],kn)},n.zipWith=nr,n.entries=Hr,n.entriesIn=Wr,n.extend=Dr,n.extendWith=Zr,as(n,n),n.add=ml,n.attempt=ol,n.camelCase=Qr,n.capitalize=es,n.ceil=fl,n.clamp=function(e,t,n){return n===G&&(n=t,t=G),n!==G&&(n=(n=Vo(n))==n?n:0),t!==G&&(t=(t=Vo(t))==t?t:0),Ot(Vo(e),t,n)},n.clone=function(e){return xt(e,4)},n.cloneDeep=function(e){return xt(e,5)},n.cloneDeepWith=function(e,t){return xt(e,5,t="function"==typeof t?t:G)},n.cloneWith=function(e,t){return xt(e,4,t="function"==typeof t?t:G)},n.conformsTo=function(e,t){return null==t||wt(e,t,Qo(t))},n.deburr=ts,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=bl,n.endsWith=function(e,t,n){e=Jo(e),t=jn(t);var i=e.length,o=n=n===G?i:Ot(Bo(n),0,i);return(n-=t.length)>=0&&e.slice(n,o)==t},n.eq=To,n.escape=function(e){return(e=Jo(e))&&Le.test(e)?e.replace(ke,un):e},n.escapeRegExp=function(e){return(e=Jo(e))&&qe.test(e)?e.replace($e,"\\$&"):e},n.every=function(e,t,n){var i=xr(e)?l:Tt;return n&&Vi(e,t,n)&&(t=G),i(e,Ri(t,3))},n.find=sr,n.findIndex=lo,n.findKey=function(e,t){return C(e,Ri(t,3),kt)},n.findLast=ar,n.findLastIndex=co,n.findLastKey=function(e,t){return C(e,Ri(t,3),Nt)},n.floor=Cl,n.forEach=yo,n.forEachRight=So,n.forIn=function(e,t){return null==e?e:xa(e,Ri(t,3),zo)},n.forInRight=function(e,t){return null==e?e:wa(e,Ri(t,3),zo)},n.forOwn=function(e,t){return e&&kt(e,Ri(t,3))},n.forOwnRight=function(e,t){return e&&Nt(e,Ri(t,3))},n.get=Ho,n.gt=Sr,n.gte=Pr,n.has=function(e,t){return null!=e&&$i(e,t,Ht)},n.hasIn=Wo,n.head=po,n.identity=os,n.includes=function(e,t,n,i){e=Io(e)?e:Xo(e),n=n&&!i?Bo(n):0;var o=e.length;return n<0&&(n=Xs(o+n,0)),Fo(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&y(e,t,n)>-1},n.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=null==n?0:Bo(n);return o<0&&(o=Xs(i+o,0)),y(e,t,o)},n.inRange=function(e,t,n){return t=qo(t),n===G?(n=t,t=0):n=qo(n),function(e,t,n){return e>=ea(t,n)&&e<Xs(t,n)}(e=Vo(e),t,n)},n.invoke=Br,n.isArguments=Or,n.isArray=xr,n.isArrayBuffer=wr,n.isArrayLike=Io,n.isArrayLikeObject=Eo,n.isBoolean=function(e){return!0===e||!1===e||Zo(e)&&Ft(e)==ie},n.isBuffer=Ar,n.isDate=_r,n.isElement=function(e){return Zo(e)&&1===e.nodeType&&!Uo(e)},n.isEmpty=function(e){if(null==e)return!0;if(Io(e)&&(xr(e)||"string"==typeof e||"function"==typeof e.splice||Ar(e)||Mr(e)||Or(e)))return!e.length;var t=La(e);if(t==le||t==ge)return!e.size;if(Hi(e))return!fn(e).length;for(var n in e)if(xs.call(e,n))return!1;return!0},n.isEqual=function(e,t){return tn(e,t)},n.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:G)?n(e,t):G;return i===G?tn(e,t,G,n):!!i},n.isError=Mo,n.isFinite=function(e){return"number"==typeof e&&Qs(e)},n.isFunction=ko,n.isInteger=No,n.isLength=Lo,n.isMap=Tr,n.isMatch=function(e,t){return e===t||cn(e,t,Fi(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:G,cn(e,t,Fi(t),n)},n.isNaN=function(e){return Ro(e)&&e!=+e},n.isNative=function(e){if(Da(e))throw new gs("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return hn(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=Ro,n.isObject=Do,n.isObjectLike=Zo,n.isPlainObject=Uo,n.isRegExp=Ir,n.isSafeInteger=function(e){return No(e)&&e>=-z&&e<=z},n.isSet=Er,n.isString=Fo,n.isSymbol=jo,n.isTypedArray=Mr,n.isUndefined=function(e){return e===G},n.isWeakMap=function(e){return Zo(e)&&La(e)==fe},n.isWeakSet=function(e){return Zo(e)&&"[object WeakSet]"==Ft(e)},n.join=function(e,t){return null==e?"":zs.call(e,t)},n.kebabCase=zr,n.last=go,n.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;return n!==G&&(o=(o=Bo(n))<0?Xs(i+o,0):ea(o,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,o):v(e,P,o,!0)},n.lowerCase=Kr,n.lowerFirst=Xr,n.lt=kr,n.lte=Nr,n.max=function(e){return e&&e.length?It(e,os,Vt):G},n.maxBy=function(e,t){return e&&e.length?It(e,Ri(t,2),Vt):G},n.mean=function(e){return O(e,os)},n.meanBy=function(e,t){return O(e,Ri(t,2))},n.min=function(e){return e&&e.length?It(e,os,bn):G},n.minBy=function(e,t){return e&&e.length?It(e,Ri(t,2),bn):G},n.stubArray=cs,n.stubFalse=ds,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=vl,n.nth=function(e,t){return e&&e.length?Pn(e,Bo(t)):G},n.noConflict=function(){return Qt._===this&&(Qt._=Is),this},n.noop=rs,n.now=pr,n.pad=function(e,t,n){e=Jo(e);var i=(t=Bo(t))?$(e):0;if(!t||i>=t)return e;var o=(t-i)/2;return yi(Js(o),n)+e+yi(Ys(o),n)},n.padEnd=function(e,t,n){e=Jo(e);var i=(t=Bo(t))?$(e):0;return t&&i<t?e+yi(t-i,n):e},n.padStart=function(e,t,n){e=Jo(e);var i=(t=Bo(t))?$(e):0;return t&&i<t?yi(t-i,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),na(Jo(e).replace(Ge,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Vi(e,t,n)&&(t=n=G),n===G&&("boolean"==typeof t?(n=t,t=G):"boolean"==typeof e&&(n=e,e=G)),e===G&&t===G?(e=0,t=1):(e=qo(e),t===G?(t=e,e=0):t=qo(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var o=ia();return ea(e+o*(t-e+Yt("1e-"+((o+"").length-1))),t)}return _n(e,t)},n.reduce=function(e,t,n){var i=xr(e)?h:A,o=arguments.length<3;return i(e,Ri(t,4),n,o,Pa)},n.reduceRight=function(e,t,n){var i=xr(e)?m:A,o=arguments.length<3;return i(e,Ri(t,4),n,o,Oa)},n.repeat=function(e,t,n){return t=(n?Vi(e,t,n):t===G)?1:Bo(t),Tn(Jo(e),t)},n.replace=function(){var e=arguments,t=Jo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var i=-1,o=(t=Qn(t,e)).length;for(o||(o=1,e=G);++i<o;){var s=null==e?G:e[oo(t[i])];s===G&&(i=o,s=n),e=ko(s)?s.call(e):s}return e},n.round=yl,n.runInContext=e,n.sample=function(e){return(xr(e)?gt:En)(e)},n.size=function(e){if(null==e)return 0;if(Io(e))return Fo(e)?$(e):e.length;var t=La(e);return t==le||t==ge?e.size:fn(e).length},n.snakeCase=el,n.some=function(e,t,n){var i=xr(e)?f:Dn;return n&&Vi(e,t,n)&&(t=G),i(e,Ri(t,3))},n.sortedIndex=function(e,t){return Zn(e,t)},n.sortedIndexBy=function(e,t,n){return Rn(e,t,Ri(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Zn(e,t);if(i<n&&To(e[i],t))return i}return-1},n.sortedLastIndex=function(e,t){return Zn(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return Rn(e,t,Ri(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Zn(e,t,!0)-1;if(To(e[n],t))return n}return-1},n.startCase=tl,n.startsWith=function(e,t,n){return e=Jo(e),n=null==n?0:Ot(Bo(n),0,e.length),t=jn(t),e.slice(n,n+t.length)==t},n.subtract=Sl,n.sum=function(e){return e&&e.length?_(e,os):0},n.sumBy=function(e,t){return e&&e.length?_(e,Ri(t,2)):0},n.template=function(e,t,i){var o=n.templateSettings;i&&Vi(e,t,i)&&(t=G),e=Jo(e),t=Zr({},t,o,Ti);var s,a,r=Zr({},t.imports,o.imports,Ti),l=Qo(r),c=E(r,l),d=0,u=t.interpolate||st,p="__p += '",g=bs((t.escape||st).source+"|"+u.source+"|"+(u===Re?ze:st).source+"|"+(t.evaluate||st).source+"|$","g"),h="//# sourceURL="+(xs.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qt+"]")+"\n";e.replace(g,function(t,n,i,o,r,l){return i||(i=o),p+=e.slice(d,l).replace(at,D),n&&(s=!0,p+="' +\n__e("+n+") +\n'"),r&&(a=!0,p+="';\n"+r+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),p+="';\n";var m=xs.call(t,"variable")&&t.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(Te,""):p).replace(Ie,"$1").replace(Ee,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var f=ol(function(){return hs(l,h+"return "+p).apply(G,c)});if(f.source=p,Mo(f))throw f;return f},n.times=function(e,t){if((e=Bo(e))<1||e>z)return[];var n=X,i=ea(e,X);t=Ri(t),e-=X;for(var o=T(i,t);++n<e;)t(n);return o},n.toFinite=qo,n.toInteger=Bo,n.toLength=Go,n.toLower=function(e){return Jo(e).toLowerCase()},n.toNumber=Vo,n.toSafeInteger=function(e){return e?Ot(Bo(e),-z,z):0===e?e:0},n.toString=Jo,n.toUpper=function(e){return Jo(e).toUpperCase()},n.trim=function(e,t,n){if((e=Jo(e))&&(n||t===G))return e.replace(Be,"");if(!e||!(t=jn(t)))return e;var i=q(e),o=q(t);return zn(i,k(i,o),N(i,o)+1).join("")},n.trimEnd=function(e,t,n){if((e=Jo(e))&&(n||t===G))return e.replace(Ve,"");if(!e||!(t=jn(t)))return e;var i=q(e);return zn(i,0,N(i,q(t))+1).join("")},n.trimStart=function(e,t,n){if((e=Jo(e))&&(n||t===G))return e.replace(Ge,"");if(!e||!(t=jn(t)))return e;var i=q(e);return zn(i,k(i,q(t))).join("")},n.truncate=function(e,t){var n=30,i="...";if(Do(t)){var o="separator"in t?t.separator:o;n="length"in t?Bo(t.length):n,i="omission"in t?jn(t.omission):i}var s=(e=Jo(e)).length;if(Z(e)){var a=q(e);s=a.length}if(n>=s)return e;var r=n-$(i);if(r<1)return i;var l=a?zn(a,0,r).join(""):e.slice(0,r);if(o===G)return l+i;if(a&&(r+=l.length-r),Ir(o)){if(e.slice(r).search(o)){var c,d=l;for(o.global||(o=bs(o.source,Jo(Ke.exec(o))+"g")),o.lastIndex=0;c=o.exec(d);)var u=c.index;l=l.slice(0,u===G?r:u)}}else if(e.indexOf(jn(o),r)!=r){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+i},n.unescape=function(e){return(e=Jo(e))&&Ne.test(e)?e.replace(Me,pn):e},n.uniqueId=function(e){var t=++ws;return Jo(e)+t},n.upperCase=nl,n.upperFirst=il,n.each=yo,n.eachRight=So,n.first=po,as(n,function(){var e={};return kt(n,function(t,i){xs.call(n.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),n.VERSION="4.17.20",a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),a(["drop","take"],function(e,t){We.prototype[e]=function(n){n=n===G?1:Xs(Bo(n),0);var i=this.__filtered__&&!t?new We(this):this.clone();return i.__filtered__?i.__takeCount__=ea(n,i.__takeCount__):i.__views__.push({size:ea(n,X),type:e+(i.__dir__<0?"Right":"")}),i},We.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),a(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;We.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ri(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),a(["head","last"],function(e,t){var n="take"+(t?"Right":"");We.prototype[e]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");We.prototype[e]=function(){return this.__filtered__?new We(this):this[n](1)}}),We.prototype.compact=function(){return this.filter(os)},We.prototype.find=function(e){return this.filter(e).head()},We.prototype.findLast=function(e){return this.reverse().find(e)},We.prototype.invokeMap=In(function(e,t){return"function"==typeof e?new We(this):this.map(function(n){return Kt(n,e,t)})}),We.prototype.reject=function(e){return this.filter(_o(Ri(e)))},We.prototype.slice=function(e,t){e=Bo(e);var n=this;return n.__filtered__&&(e>0||t<0)?new We(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==G&&(n=(t=Bo(t))<0?n.dropRight(-t):n.take(t-e)),n)},We.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},We.prototype.toArray=function(){return this.take(X)},kt(We.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),s=n[o?"take"+("last"==t?"Right":""):t],a=o||/^find/.test(t);s&&(n.prototype[t]=function(){var t=this.__wrapped__,r=o?[1]:arguments,l=t instanceof We,c=r[0],d=l||xr(t),u=function(e){var t=s.apply(n,g([e],r));return o&&p?t[0]:t};d&&i&&"function"==typeof c&&1!=c.length&&(l=d=!1);var p=this.__chain__,h=!!this.__actions__.length,m=a&&!p,f=l&&!h;if(!a&&d){t=f?t:new We(this);var b=e.apply(t,r);return b.__actions__.push({func:vo,args:[u],thisArg:G}),new w(b,p)}return m&&f?e.apply(this,r):(b=this.thru(u),m?o?b.value()[0]:b.value():b)})}),a(["pop","push","shift","sort","splice","unshift"],function(e){var t=ys[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var n=this.value();return t.apply(xr(n)?n:[],e)}return this[i](function(n){return t.apply(xr(n)?n:[],e)})}}),kt(We.prototype,function(e,t){var i=n[t];if(i){var o=i.name+"";xs.call(pa,o)||(pa[o]=[]),pa[o].push({name:t,func:i})}}),pa[fi(G,2).name]=[{name:"wrapper",func:G}],We.prototype.clone=function(){var e=new We(this.__wrapped__);return e.__actions__=oi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=oi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=oi(this.__views__),e},We.prototype.reverse=function(){if(this.__filtered__){var e=new We(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},We.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=xr(e),i=t<0,o=n?e.length:0,s=function(e,t,n){for(var i=-1,o=n.length;++i<o;){var s=n[i],a=s.size;switch(s.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=ea(t,e+a);break;case"takeRight":e=Xs(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=s.start,r=s.end,l=r-a,c=i?r:a-1,d=this.__iteratees__,u=d.length,p=0,g=ea(l,this.__takeCount__);if(!n||!i&&o==l&&g==l)return Vn(e,this.__actions__);var h=[];e:for(;l--&&p<g;){for(var m=-1,f=e[c+=t];++m<u;){var b=d[m],C=b.type,v=(0,b.iteratee)(f);if(2==C)f=v;else if(!v){if(1==C)continue e;break e}}h[p++]=f}return h},n.prototype.at=ir,n.prototype.chain=function(){return Co(this)},n.prototype.commit=function(){return new w(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===G&&(this.__values__=$o(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?G:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof i;){var o=ro(n);o.__index__=0,o.__values__=G,t?s.__wrapped__=o:t=o;var s=o;n=n.__wrapped__}return s.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof We){var t=e;return this.__actions__.length&&(t=new We(this)),(t=t.reverse()).__actions__.push({func:vo,args:[mo],thisArg:G}),new w(t,this.__chain__)}return this.thru(mo)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Vn(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,js&&(n.prototype[js]=function(){return this}),n}();Qt._=gn,void 0===(i=(function(){return gn}).call(t,n,t,e))||(e.exports=i)}).call(this)},18390:(e,t,n)=>{"use strict";function i(e,t,n,i){var o,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}function o(e,t){return function(n,i){t(n,i,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}n.d(t,{Vw:()=>g,Lr:()=>h});var a=n(74788),r=n(12057),l=n(80729);const c=["header"],d=["container"],u=["content"],p=["invisiblePadding"];let g=class{constructor(e,t,n,i,o,s){this.element=e,this.renderer=t,this.zone=n,this.changeDetectorRef=i,this.window=window,this.executeRefreshOutsideAngularZone=!1,this._enableUnequalChildrenSizes=!1,this.useMarginInsteadOfTranslate=!1,this.ssrViewportWidth=1920,this.ssrViewportHeight=1080,this._bufferAmount=0,this._items=[],this.compareItems=(e,t)=>e===t,this.vsUpdate=new a.vpe,this.vsChange=new a.vpe,this.vsStart=new a.vpe,this.vsEnd=new a.vpe,this.calculatedScrollbarWidth=0,this.calculatedScrollbarHeight=0,this.padding=0,this.previousViewPort={},this.cachedPageSize=0,this.previousScrollNumberElements=0,this.isAngularUniversalSSR=(0,r.PM)(o),this.scrollThrottlingTime=s.scrollThrottlingTime,this.scrollDebounceTime=s.scrollDebounceTime,this.scrollAnimationTime=s.scrollAnimationTime,this.scrollbarWidth=s.scrollbarWidth,this.scrollbarHeight=s.scrollbarHeight,this.checkResizeInterval=s.checkResizeInterval,this.resizeBypassRefreshThreshold=s.resizeBypassRefreshThreshold,this.modifyOverflowStyleOfParentScroll=s.modifyOverflowStyleOfParentScroll,this.stripedTable=s.stripedTable,this.horizontal=!1,this.resetWrapGroupDimensions()}get viewPortInfo(){let e=this.previousViewPort||{};return{startIndex:e.startIndex||0,endIndex:e.endIndex||0,scrollStartPosition:e.scrollStartPosition||0,scrollEndPosition:e.scrollEndPosition||0,maxScrollPosition:e.maxScrollPosition||0,startIndexWithBuffer:e.startIndexWithBuffer||0,endIndexWithBuffer:e.endIndexWithBuffer||0}}get enableUnequalChildrenSizes(){return this._enableUnequalChildrenSizes}set enableUnequalChildrenSizes(e){this._enableUnequalChildrenSizes!==e&&(this._enableUnequalChildrenSizes=e,this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0)}get bufferAmount(){return"number"==typeof this._bufferAmount&&this._bufferAmount>=0?this._bufferAmount:this.enableUnequalChildrenSizes?5:0}set bufferAmount(e){this._bufferAmount=e}get scrollThrottlingTime(){return this._scrollThrottlingTime}set scrollThrottlingTime(e){this._scrollThrottlingTime=e,this.updateOnScrollFunction()}get scrollDebounceTime(){return this._scrollDebounceTime}set scrollDebounceTime(e){this._scrollDebounceTime=e,this.updateOnScrollFunction()}updateOnScrollFunction(){this.onScroll=this.scrollDebounceTime?this.debounce(()=>{this.refresh_internal(!1)},this.scrollDebounceTime):this.scrollThrottlingTime?this.throttleTrailing(()=>{this.refresh_internal(!1)},this.scrollThrottlingTime):()=>{this.refresh_internal(!1)}}get checkResizeInterval(){return this._checkResizeInterval}set checkResizeInterval(e){this._checkResizeInterval!==e&&(this._checkResizeInterval=e,this.addScrollEventHandlers())}get items(){return this._items}set items(e){e!==this._items&&(this._items=e||[],this.refresh_internal(!0))}get horizontal(){return this._horizontal}set horizontal(e){this._horizontal=e,this.updateDirection()}revertParentOverscroll(){const e=this.getScrollElement();e&&this.oldParentScrollOverflow&&(e.style["overflow-y"]=this.oldParentScrollOverflow.y,e.style["overflow-x"]=this.oldParentScrollOverflow.x),this.oldParentScrollOverflow=void 0}get parentScroll(){return this._parentScroll}set parentScroll(e){if(this._parentScroll===e)return;this.revertParentOverscroll(),this._parentScroll=e,this.addScrollEventHandlers();const t=this.getScrollElement();this.modifyOverflowStyleOfParentScroll&&t!==this.element.nativeElement&&(this.oldParentScrollOverflow={x:t.style["overflow-x"],y:t.style["overflow-y"]},t.style["overflow-y"]=this.horizontal?"visible":"auto",t.style["overflow-x"]=this.horizontal?"auto":"visible")}ngOnInit(){this.addScrollEventHandlers()}ngOnDestroy(){this.removeScrollEventHandlers(),this.revertParentOverscroll()}ngOnChanges(e){let t=this.cachedItemsLength!==this.items.length;this.cachedItemsLength=this.items.length,this.refresh_internal(t||!e.items||!e.items.previousValue||0===e.items.previousValue.length)}ngDoCheck(){if(this.cachedItemsLength!==this.items.length)return this.cachedItemsLength=this.items.length,void this.refresh_internal(!0);if(this.previousViewPort&&this.viewPortItems&&this.viewPortItems.length>0){let e=!1;for(let t=0;t<this.viewPortItems.length;++t)if(!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer+t],this.viewPortItems[t])){e=!0;break}e&&this.refresh_internal(!0)}}refresh(){this.refresh_internal(!0)}invalidateAllCachedMeasurements(){this.wrapGroupDimensions={maxChildSizePerWrapGroup:[],numberOfKnownWrapGroupChildSizes:0,sumOfKnownWrapGroupChildWidths:0,sumOfKnownWrapGroupChildHeights:0},this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0,this.refresh_internal(!1)}invalidateCachedMeasurementForItem(e){if(this.enableUnequalChildrenSizes){let t=this.items&&this.items.indexOf(e);t>=0&&this.invalidateCachedMeasurementAtIndex(t)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}invalidateCachedMeasurementAtIndex(e){if(this.enableUnequalChildrenSizes){let t=this.wrapGroupDimensions.maxChildSizePerWrapGroup[e];t&&(this.wrapGroupDimensions.maxChildSizePerWrapGroup[e]=void 0,--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=t.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=t.childHeight||0)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}scrollInto(e,t=!0,n=0,i,o){let s=this.items.indexOf(e);-1!==s&&this.scrollToIndex(s,t,n,i,o)}scrollToIndex(e,t=!0,n=0,i,o){let s=5,a=()=>{if(--s,s<=0)return void(o&&o());let i=this.calculateDimensions(),r=Math.min(Math.max(e,0),i.itemCount-1);this.previousViewPort.startIndex!==r?this.scrollToIndex_internal(e,t,n,0,a):o&&o()};this.scrollToIndex_internal(e,t,n,i,a)}scrollToIndex_internal(e,t=!0,n=0,i,o){i=void 0===i?this.scrollAnimationTime:i;let s=this.calculateDimensions(),a=this.calculatePadding(e,s)+n;t||(a-=s.wrapGroupsPerPage*s[this._childScrollDim]),this.scrollToPosition(a,i,o)}scrollToPosition(e,t,n){e+=this.getElementsOffset(),t=void 0===t?this.scrollAnimationTime:t;let i,o=this.getScrollElement();if(this.currentTween&&(this.currentTween.stop(),this.currentTween=void 0),!t)return this.renderer.setProperty(o,this._scrollType,e),void this.refresh_internal(!1,n);const s={scrollPosition:o[this._scrollType]};let a=new l.Tween(s).to({scrollPosition:e},t).easing(l.Easing.Quadratic.Out).onUpdate(e=>{isNaN(e.scrollPosition)||(this.renderer.setProperty(o,this._scrollType,e.scrollPosition),this.refresh_internal(!1))}).onStop(()=>{cancelAnimationFrame(i)}).start();const r=t=>{a.isPlaying()&&(a.update(t),s.scrollPosition!==e?this.zone.runOutsideAngular(()=>{i=requestAnimationFrame(r)}):this.refresh_internal(!1,n))};r(),this.currentTween=a}getElementSize(e){let t=e.getBoundingClientRect(),n=getComputedStyle(e),i=parseInt(n["margin-top"],10)||0,o=parseInt(n["margin-bottom"],10)||0,s=parseInt(n["margin-left"],10)||0,a=parseInt(n["margin-right"],10)||0;return{top:t.top+i,bottom:t.bottom+o,left:t.left+s,right:t.right+a,width:t.width+s+a,height:t.height+i+o}}checkScrollElementResized(){let e,t=this.getElementSize(this.getScrollElement());if(this.previousScrollBoundingRect){let n=Math.abs(t.width-this.previousScrollBoundingRect.width),i=Math.abs(t.height-this.previousScrollBoundingRect.height);e=n>this.resizeBypassRefreshThreshold||i>this.resizeBypassRefreshThreshold}else e=!0;e&&(this.previousScrollBoundingRect=t,t.width>0&&t.height>0&&this.refresh_internal(!1))}updateDirection(){this.horizontal?(this._invisiblePaddingProperty="width",this._offsetType="offsetLeft",this._pageOffsetType="pageXOffset",this._childScrollDim="childWidth",this._marginDir="margin-left",this._translateDir="translateX",this._scrollType="scrollLeft"):(this._invisiblePaddingProperty="height",this._offsetType="offsetTop",this._pageOffsetType="pageYOffset",this._childScrollDim="childHeight",this._marginDir="margin-top",this._translateDir="translateY",this._scrollType="scrollTop")}debounce(e,t){const n=this.throttleTrailing(e,t),i=function(){n.cancel(),n.apply(this,arguments)};return i.cancel=function(){n.cancel()},i}throttleTrailing(e,t){let n,i=arguments;const o=function(){const o=this;i=arguments,n||(t<=0?e.apply(o,i):n=setTimeout(function(){n=void 0,e.apply(o,i)},t))};return o.cancel=function(){n&&(clearTimeout(n),n=void 0)},o}refresh_internal(e,t,n=2){if(e&&this.previousViewPort&&this.previousViewPort.scrollStartPosition>0){let e=this.previousViewPort,n=this.viewPortItems,i=t;t=()=>{let t=this.previousViewPort.scrollLength-e.scrollLength;if(t>0&&this.viewPortItems){let e=n[0],o=this.items.findIndex(t=>this.compareItems(e,t));if(o>this.previousViewPort.startIndexWithBuffer){let e=!1;for(let t=1;t<this.viewPortItems.length;++t)if(!this.compareItems(this.items[o+t],n[t])){e=!0;break}if(!e)return void this.scrollToPosition(this.previousViewPort.scrollStartPosition+t,0,i)}}i&&i()}}this.zone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e&&this.resetWrapGroupDimensions();let i=this.calculateViewport(),o=e||i.startIndex!==this.previousViewPort.startIndex,s=e||i.endIndex!==this.previousViewPort.endIndex,a=i.scrollLength!==this.previousViewPort.scrollLength,r=i.padding!==this.previousViewPort.padding,l=i.scrollStartPosition!==this.previousViewPort.scrollStartPosition||i.scrollEndPosition!==this.previousViewPort.scrollEndPosition||i.maxScrollPosition!==this.previousViewPort.maxScrollPosition;if(this.previousViewPort=i,a&&this.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement,this._invisiblePaddingProperty,`${i.scrollLength}px`),r&&(this.useMarginInsteadOfTranslate?this.renderer.setStyle(this.contentElementRef.nativeElement,this._marginDir,`${i.padding}px`):(this.renderer.setStyle(this.contentElementRef.nativeElement,"transform",`${this._translateDir}(${i.padding}px)`),this.renderer.setStyle(this.contentElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${i.padding}px)`))),this.headerElementRef){let e=this.getScrollElement()[this._scrollType],t=this.getElementsOffset(),n=Math.max(e-i.padding-t+this.headerElementRef.nativeElement.clientHeight,0);this.renderer.setStyle(this.headerElementRef.nativeElement,"transform",`${this._translateDir}(${n}px)`),this.renderer.setStyle(this.headerElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${n}px)`)}const c=o||s?{startIndex:i.startIndex,endIndex:i.endIndex,scrollStartPosition:i.scrollStartPosition,scrollEndPosition:i.scrollEndPosition,startIndexWithBuffer:i.startIndexWithBuffer,endIndexWithBuffer:i.endIndexWithBuffer,maxScrollPosition:i.maxScrollPosition}:void 0;if(o||s||l){const e=()=>{this.viewPortItems=i.startIndexWithBuffer>=0&&i.endIndexWithBuffer>=0?this.items.slice(i.startIndexWithBuffer,i.endIndexWithBuffer+1):[],this.vsUpdate.emit(this.viewPortItems),o&&this.vsStart.emit(c),s&&this.vsEnd.emit(c),(o||s)&&(this.changeDetectorRef.markForCheck(),this.vsChange.emit(c)),n>0?this.refresh_internal(!1,t,n-1):t&&t()};this.executeRefreshOutsideAngularZone?e():this.zone.run(e)}else{if(n>0&&(a||r))return void this.refresh_internal(!1,t,n-1);t&&t()}})})}getScrollElement(){return this.parentScroll instanceof Window?document.scrollingElement||document.documentElement||document.body:this.parentScroll||this.element.nativeElement}addScrollEventHandlers(){if(this.isAngularUniversalSSR)return;let e=this.getScrollElement();this.removeScrollEventHandlers(),this.zone.runOutsideAngular(()=>{this.parentScroll instanceof Window?(this.disposeScrollHandler=this.renderer.listen("window","scroll",this.onScroll),this.disposeResizeHandler=this.renderer.listen("window","resize",this.onScroll)):(this.disposeScrollHandler=this.renderer.listen(e,"scroll",this.onScroll),this._checkResizeInterval>0&&(this.checkScrollElementResizedTimer=setInterval(()=>{this.checkScrollElementResized()},this._checkResizeInterval)))})}removeScrollEventHandlers(){this.checkScrollElementResizedTimer&&clearInterval(this.checkScrollElementResizedTimer),this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)}getElementsOffset(){if(this.isAngularUniversalSSR)return 0;let e=0;if(this.containerElementRef&&this.containerElementRef.nativeElement&&(e+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll){let t=this.getScrollElement(),n=this.getElementSize(this.element.nativeElement),i=this.getElementSize(t);e+=this.horizontal?n.left-i.left:n.top-i.top,this.parentScroll instanceof Window||(e+=t[this._scrollType])}return e}countItemsPerWrapGroup(){if(this.isAngularUniversalSSR)return Math.round(this.horizontal?this.ssrViewportHeight/this.ssrChildHeight:this.ssrViewportWidth/this.ssrChildWidth);let e=this.horizontal?"offsetLeft":"offsetTop",t=(this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement).children,n=t?t.length:0;if(0===n)return 1;let i=t[0][e],o=1;for(;o<n&&i===t[o][e];)++o;return o}getScrollStartPosition(){let e;return this.parentScroll instanceof Window&&(e=window[this._pageOffsetType]),e||this.getScrollElement()[this._scrollType]||0}resetWrapGroupDimensions(){const e=this.wrapGroupDimensions;if(this.invalidateAllCachedMeasurements(),!this.enableUnequalChildrenSizes||!e||0===e.numberOfKnownWrapGroupChildSizes)return;const t=this.countItemsPerWrapGroup();for(let n=0;n<e.maxChildSizePerWrapGroup.length;++n){const i=e.maxChildSizePerWrapGroup[n];if(!i||!i.items||!i.items.length)continue;if(i.items.length!==t)return;let o=!1,s=t*n;for(let e=0;e<t;++e)if(!this.compareItems(i.items[e],this.items[s+e])){o=!0;break}o||(++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=i.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=i.childHeight||0,this.wrapGroupDimensions.maxChildSizePerWrapGroup[n]=i)}}calculateDimensions(){let e=this.getScrollElement();this.calculatedScrollbarHeight=Math.max(Math.min(e.offsetHeight-e.clientHeight,25),this.calculatedScrollbarHeight),this.calculatedScrollbarWidth=Math.max(Math.min(e.offsetWidth-e.clientWidth,25),this.calculatedScrollbarWidth);let t,n,i,o=e.offsetWidth-(this.scrollbarWidth||this.calculatedScrollbarWidth||(this.horizontal?0:25)),s=e.offsetHeight-(this.scrollbarHeight||this.calculatedScrollbarHeight||(this.horizontal?25:0)),a=this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement,r=this.countItemsPerWrapGroup();if(this.isAngularUniversalSSR){o=this.ssrViewportWidth,s=this.ssrViewportHeight,n=this.ssrChildWidth,i=this.ssrChildHeight;let e=Math.max(Math.ceil(o/n),1),a=Math.max(Math.ceil(s/i),1);t=this.horizontal?e:a}else if(this.enableUnequalChildrenSizes){let l=e[this._scrollType]-(this.previousViewPort?this.previousViewPort.padding:0),c=this.previousViewPort.startIndexWithBuffer||0,d=Math.ceil(c/r),u=0,p=0,g=0,h=0;t=0;for(let e=0;e<a.children.length;++e){++c;let n=this.getElementSize(a.children[e]);if(u=Math.max(u,n.width),p=Math.max(p,n.height),c%r==0){let e=this.wrapGroupDimensions.maxChildSizePerWrapGroup[d];e&&(--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=e.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=e.childHeight||0),++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;const n=this.items.slice(c-r,c);if(this.wrapGroupDimensions.maxChildSizePerWrapGroup[d]={childWidth:u,childHeight:p,items:n},this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=u,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=p,this.horizontal){let e=Math.min(u,Math.max(o-g,0));if(l>0){let t=Math.min(l,e);e-=t,l-=t}g+=e,e>0&&o>=g&&++t}else{let e=Math.min(p,Math.max(s-h,0));if(l>0){let t=Math.min(l,e);e-=t,l-=t}h+=e,e>0&&s>=h&&++t}++d,u=0,p=0}}let m=this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,f=this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;n=this.childWidth||m||o,i=this.childHeight||f||s,this.horizontal?o>g&&(t+=Math.ceil((o-g)/n)):s>h&&(t+=Math.ceil((s-h)/i))}else{if(a.children.length>0){this.childWidth&&this.childHeight||(!this.minMeasuredChildWidth&&o>0&&(this.minMeasuredChildWidth=o),!this.minMeasuredChildHeight&&s>0&&(this.minMeasuredChildHeight=s));let e=this.getElementSize(a.children[0]);this.minMeasuredChildWidth=Math.min(this.minMeasuredChildWidth,e.width),this.minMeasuredChildHeight=Math.min(this.minMeasuredChildHeight,e.height)}n=this.childWidth||this.minMeasuredChildWidth||o,i=this.childHeight||this.minMeasuredChildHeight||s;let e=Math.max(Math.ceil(o/n),1),r=Math.max(Math.ceil(s/i),1);t=this.horizontal?e:r}let l=this.items.length,c=r*t,d=l/c,u=Math.ceil(l/r),p=0,g=this.horizontal?n:i;if(this.enableUnequalChildrenSizes){let e=0;for(let t=0;t<u;++t){let n=this.wrapGroupDimensions.maxChildSizePerWrapGroup[t]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[t][this._childScrollDim];n?p+=n:++e}p+=Math.round(e*g)}else p=u*g;this.headerElementRef&&(p+=this.headerElementRef.nativeElement.clientHeight);let h=this.horizontal?o:s;return{itemCount:l,itemsPerWrapGroup:r,wrapGroupsPerPage:t,itemsPerPage:c,pageCount_fractional:d,childWidth:n,childHeight:i,scrollLength:p,viewportLength:h,maxScrollPosition:Math.max(p-h,0)}}calculatePadding(e,t){if(0===t.itemCount)return 0;let n=t[this._childScrollDim],i=Math.floor(e/t.itemsPerWrapGroup)||0;if(!this.enableUnequalChildrenSizes)return n*i;let o=0,s=0;for(let a=0;a<i;++a){let e=this.wrapGroupDimensions.maxChildSizePerWrapGroup[a]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[a][this._childScrollDim];e?s+=e:++o}return s+=Math.round(o*n),s}calculatePageInfo(e,t){let n=0;if(this.enableUnequalChildrenSizes){const i=Math.ceil(t.itemCount/t.itemsPerWrapGroup);let o=0,s=t[this._childScrollDim];for(let t=0;t<i;++t)if(o+=this.wrapGroupDimensions.maxChildSizePerWrapGroup[t]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[t][this._childScrollDim]||s,e<o){n=t/i;break}}else n=e/t.scrollLength;let i=Math.min(Math.max(n*t.pageCount_fractional,0),t.pageCount_fractional)*t.itemsPerPage,o=t.itemCount-t.itemsPerPage-1,s=Math.min(Math.floor(i),o);if(s-=s%t.itemsPerWrapGroup,this.stripedTable){let e=2*t.itemsPerWrapGroup;s%e!=0&&(s=Math.max(s-s%e,0))}let a=Math.ceil(i)+t.itemsPerPage-1,r=(a+1)%t.itemsPerWrapGroup;r>0&&(a+=t.itemsPerWrapGroup-r),isNaN(s)&&(s=0),isNaN(a)&&(a=0),s=Math.min(Math.max(s,0),t.itemCount-1),a=Math.min(Math.max(a,0),t.itemCount-1);let l=this.bufferAmount*t.itemsPerWrapGroup;return{startIndex:s,endIndex:a,startIndexWithBuffer:Math.min(Math.max(s-l,0),t.itemCount-1),endIndexWithBuffer:Math.min(Math.max(a+l,0),t.itemCount-1),scrollStartPosition:e,scrollEndPosition:e+t.viewportLength,maxScrollPosition:t.maxScrollPosition}}calculateViewport(){let e=this.calculateDimensions(),t=this.getElementsOffset(),n=this.getScrollStartPosition();n>e.scrollLength+t&&!(this.parentScroll instanceof Window)?n=e.scrollLength:n-=t,n=Math.max(0,n);let i=this.calculatePageInfo(n,e),o=this.calculatePadding(i.startIndexWithBuffer,e),s=e.scrollLength;return{startIndex:i.startIndex,endIndex:i.endIndex,startIndexWithBuffer:i.startIndexWithBuffer,endIndexWithBuffer:i.endIndexWithBuffer,padding:Math.round(o),scrollLength:Math.round(s),scrollStartPosition:i.scrollStartPosition,scrollEndPosition:i.scrollEndPosition,maxScrollPosition:i.maxScrollPosition}}};g.\u0275fac=function(e){return new(e||g)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.Lbi),a.Y36("virtual-scroller-default-options",8))},g.\u0275cmp=a.Xpm({type:g,selectors:[["virtual-scroller"],["","virtualScroller",""]],contentQueries:function(e,t,n){if(1&e&&(a.Suo(n,c,5,a.SBq),a.Suo(n,d,5,a.SBq)),2&e){let e;a.iGM(e=a.CRH())&&(t.headerElementRef=e.first),a.iGM(e=a.CRH())&&(t.containerElementRef=e.first)}},viewQuery:function(e,t){if(1&e&&(a.Gf(u,5,a.SBq),a.Gf(p,5,a.SBq)),2&e){let e;a.iGM(e=a.CRH())&&(t.contentElementRef=e.first),a.iGM(e=a.CRH())&&(t.invisiblePaddingElementRef=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&a.ekj("horizontal",t.horizontal)("vertical",!t.horizontal)("selfScroll",!t.parentScroll)},inputs:{executeRefreshOutsideAngularZone:"executeRefreshOutsideAngularZone",useMarginInsteadOfTranslate:"useMarginInsteadOfTranslate",ssrViewportWidth:"ssrViewportWidth",ssrViewportHeight:"ssrViewportHeight",compareItems:"compareItems",scrollThrottlingTime:"scrollThrottlingTime",scrollDebounceTime:"scrollDebounceTime",scrollAnimationTime:"scrollAnimationTime",scrollbarWidth:"scrollbarWidth",scrollbarHeight:"scrollbarHeight",checkResizeInterval:"checkResizeInterval",resizeBypassRefreshThreshold:"resizeBypassRefreshThreshold",modifyOverflowStyleOfParentScroll:"modifyOverflowStyleOfParentScroll",stripedTable:"stripedTable",horizontal:"horizontal",enableUnequalChildrenSizes:"enableUnequalChildrenSizes",bufferAmount:"bufferAmount",items:"items",parentScroll:"parentScroll",childWidth:"childWidth",childHeight:"childHeight",ssrChildWidth:"ssrChildWidth",ssrChildHeight:"ssrChildHeight"},outputs:{vsUpdate:"vsUpdate",vsChange:"vsChange",vsStart:"vsStart",vsEnd:"vsEnd"},exportAs:["virtualScroller"],features:[a.TTD],ngContentSelectors:["*"],decls:5,vars:0,consts:[[1,"total-padding"],["invisiblePadding",""],[1,"scrollable-content"],["content",""]],template:function(e,t){1&e&&(a.F$t(),a._UZ(0,"div",0,1),a.TgZ(2,"div",2,3),a.Hsn(4),a.qZA())},styles:["[_nghost-%COMP%] {\n      position: relative;\n\t  display: block;\n      -webkit-overflow-scrolling: touch;\n    }\n\t\n\t.horizontal.selfScroll[_nghost-%COMP%] {\n      overflow-y: visible;\n      overflow-x: auto;\n\t}\n\t.vertical.selfScroll[_nghost-%COMP%] {\n      overflow-y: auto;\n      overflow-x: visible;\n\t}\n\t\n    .scrollable-content[_ngcontent-%COMP%] {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      max-width: 100vw;\n      max-height: 100vh;\n      position: absolute;\n    }\n\n\t.scrollable-content[_ngcontent-%COMP%]     > * {\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%] {\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%] {\n\t\tdisplay: flex;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]     > * {\n\t\tflex-shrink: 0;\n\t\tflex-grow: 0;\n\t\twhite-space: initial;\n\t}\n\t\n    .total-padding[_ngcontent-%COMP%] {\n      width: 1px;\n      opacity: 0;\n    }\n    \n    .horizontal[_nghost-%COMP%]   .total-padding[_ngcontent-%COMP%] {\n      height: 100%;\n    }"]}),i([(0,a.IIB)(),s("design:type",Boolean)],g.prototype,"executeRefreshOutsideAngularZone",void 0),i([(0,a.IIB)(),s("design:type",Boolean),s("design:paramtypes",[Boolean])],g.prototype,"enableUnequalChildrenSizes",null),i([(0,a.IIB)(),s("design:type",Boolean)],g.prototype,"useMarginInsteadOfTranslate",void 0),i([(0,a.IIB)(),s("design:type",Boolean)],g.prototype,"modifyOverflowStyleOfParentScroll",void 0),i([(0,a.IIB)(),s("design:type",Boolean)],g.prototype,"stripedTable",void 0),i([(0,a.IIB)(),s("design:type",Number)],g.prototype,"scrollbarWidth",void 0),i([(0,a.IIB)(),s("design:type",Number)],g.prototype,"scrollbarHeight",void 0),i([(0,a.IIB)(),s("design:type",Number)],g.prototype,"childWidth",void 0),i([(0,a.IIB)(),s("design:type",Number)],g.prototype,"childHeight",void 0),i([(0,a.IIB)(),s("design:type",Number)],g.prototype,"ssrChildWidth",void 0),i([(0,a.IIB)(),s("design:type",Number)],g.prototype,"ssrChildHeight",void 0),i([(0,a.IIB)(),s("design:type",Number)],g.prototype,"ssrViewportWidth",void 0),i([(0,a.IIB)(),s("design:type",Number)],g.prototype,"ssrViewportHeight",void 0),i([(0,a.IIB)(),s("design:type",Number),s("design:paramtypes",[Number])],g.prototype,"bufferAmount",null),i([(0,a.IIB)(),s("design:type",Number)],g.prototype,"scrollAnimationTime",void 0),i([(0,a.IIB)(),s("design:type",Number)],g.prototype,"resizeBypassRefreshThreshold",void 0),i([(0,a.IIB)(),s("design:type",Number),s("design:paramtypes",[Number])],g.prototype,"scrollThrottlingTime",null),i([(0,a.IIB)(),s("design:type",Number),s("design:paramtypes",[Number])],g.prototype,"scrollDebounceTime",null),i([(0,a.IIB)(),s("design:type",Number),s("design:paramtypes",[Number])],g.prototype,"checkResizeInterval",null),i([(0,a.IIB)(),s("design:type",Array),s("design:paramtypes",[Array])],g.prototype,"items",null),i([(0,a.IIB)(),s("design:type",Function)],g.prototype,"compareItems",void 0),i([(0,a.IIB)(),s("design:type",Boolean),s("design:paramtypes",[Boolean])],g.prototype,"horizontal",null),i([(0,a.IIB)(),s("design:type",Object),s("design:paramtypes",[Object])],g.prototype,"parentScroll",null),i([(0,a.r_U)(),s("design:type",a.vpe)],g.prototype,"vsUpdate",void 0),i([(0,a.r_U)(),s("design:type",a.vpe)],g.prototype,"vsChange",void 0),i([(0,a.r_U)(),s("design:type",a.vpe)],g.prototype,"vsStart",void 0),i([(0,a.r_U)(),s("design:type",a.vpe)],g.prototype,"vsEnd",void 0),i([(0,a.i9L)("content",{read:a.SBq,static:!1}),s("design:type",a.SBq)],g.prototype,"contentElementRef",void 0),i([(0,a.i9L)("invisiblePadding",{read:a.SBq,static:!1}),s("design:type",a.SBq)],g.prototype,"invisiblePaddingElementRef",void 0),i([(0,a.aQ5)("header",{read:a.SBq,static:!1}),s("design:type",a.SBq)],g.prototype,"headerElementRef",void 0),i([(0,a.aQ5)("container",{read:a.SBq,static:!1}),s("design:type",a.SBq)],g.prototype,"containerElementRef",void 0),g=i([o(4,(0,a.tBr)(a.Lbi)),o(5,(0,a.FiY)()),o(5,(0,a.tBr)("virtual-scroller-default-options")),s("design:paramtypes",[a.SBq,a.Qsj,a.R0b,a.sBO,Object,Object])],g);let h=class{};h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({providers:[{provide:"virtual-scroller-default-options",useFactory:function(){return{scrollThrottlingTime:0,scrollDebounceTime:0,scrollAnimationTime:750,checkResizeInterval:1e3,resizeBypassRefreshThreshold:5,modifyOverflowStyleOfParentScroll:!0,stripedTable:!1}}}],imports:[[r.ez]]})},38421:(e,t,n)=>{"use strict";n.d(t,{cL:()=>f,Gg:()=>b});var i=n(74788),o=n(12057),s=n(33013),a=n(13928),r=n(24751);const l=["inputtext"];function c(e,t){1&e&&i.GkF(0)}function d(e,t){if(1&e&&(i.TgZ(0,"span",11),i._uU(1),i.qZA()),2&e){const e=i.oxw().$implicit,t=i.oxw();i.xp6(1),i.Oqu(t.field?t.resolveFieldData(e,t.field):e)}}function u(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"span",12),i.NdJ("click",function(t){i.CHM(e);const n=i.oxw().index;return i.oxw().removeItem(t,n)}),i.qZA()}}const p=function(e){return{$implicit:e}};function g(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"li",6,7),i.NdJ("click",function(t){const n=i.CHM(e).$implicit;return i.oxw().onItemClick(t,n)}),i.YNc(2,c,1,0,"ng-container",8),i.YNc(3,d,2,1,"span",9),i.YNc(4,u,1,0,"span",10),i.qZA()}if(2&e){const e=t.$implicit,n=i.oxw();i.xp6(2),i.Q6J("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",i.VKq(4,p,e)),i.xp6(1),i.Q6J("ngIf",!n.itemTemplate),i.xp6(1),i.Q6J("ngIf",!n.disabled)}}const h=function(e,t){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":e,"p-disabled":t}},m={provide:r.JU,useExisting:(0,i.Gpc)(()=>f),multi:!0};let f=(()=>{class e{constructor(e,t){this.el=e,this.cd=t,this.allowDuplicate=!0,this.onAdd=new i.vpe,this.onRemove=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.onChipClick=new i.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template}})}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(e){this.disabled||(this.separator&&((e.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(t=>{this.addItem(e,t,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(e,t){this.onChipClick.emit({originalEvent:e,value:t})}writeValue(e){this.value=e,this.updateMaxedOut(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}resolveFieldData(e,t){if(e&&t){if(-1==t.indexOf("."))return e[t];{let o=t.split("."),s=e;for(var n=0,i=o.length;n<i;++n)s=s[o[n]];return s}}return null}onInputFocus(e){this.focus=!0,this.onFocus.emit(e)}onInputBlur(e){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(e)}removeItem(e,t){if(this.disabled)return;let n=this.value[t];this.value=this.value.filter((e,n)=>n!=t),this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:n}),this.updateFilledState(),this.updateMaxedOut()}addItem(e,t,n){this.value=this.value||[],t&&t.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(t))&&(this.value=[...this.value,t],this.onModelChange(this.value),this.onAdd.emit({originalEvent:e,value:t})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",n&&e.preventDefault()}onKeydown(e){switch(e.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let t=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:t}),this.updateFilledState()}break;case 13:this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?e.preventDefault():this.separator&&","===this.separator&&188===e.which&&this.addItem(e,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.disabled=!(!this.max||!this.value||this.max!==this.value.length)||this.disabled||!1)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.sBO))},e.\u0275cmp=i.Xpm({type:e,selectors:[["p-chips"]],contentQueries:function(e,t,n){if(1&e&&i.Suo(n,s.jx,4),2&e){let e;i.iGM(e=i.CRH())&&(t.templates=e)}},viewQuery:function(e,t){if(1&e&&i.Gf(l,5),2&e){let e;i.iGM(e=i.CRH())&&(t.inputViewChild=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&i.ekj("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focus)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick"},features:[i._Bn([m])],decls:6,vars:17,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.NdJ("click",function(){return t.onClick()}),i.TgZ(1,"ul",1),i.YNc(2,g,5,6,"li",2),i.TgZ(3,"li",3),i.TgZ(4,"input",4,5),i.NdJ("keydown",function(e){return t.onKeydown(e)})("input",function(){return t.onInput()})("paste",function(e){return t.onPaste(e)})("focus",function(e){return t.onInputFocus(e)})("blur",function(e){return t.onInputBlur(e)}),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.Tol(t.styleClass),i.Q6J("ngClass","p-chips p-component")("ngStyle",t.style),i.xp6(1),i.Q6J("ngClass",i.WLB(14,h,t.focus,t.disabled)),i.xp6(1),i.Q6J("ngForOf",t.value),i.xp6(2),i.Tol(t.inputStyleClass),i.Q6J("disabled",t.disabled)("ngStyle",t.inputStyle),i.uIk("id",t.inputId)("placeholder",t.value&&t.value.length?null:t.placeholder)("tabindex",t.tabindex)("aria-labelledby",t.ariaLabelledBy))},directives:[o.mk,o.PC,o.sg,o.tP,o.O5],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}"],encapsulation:2,changeDetection:0}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[o.ez,a.j,s.m8],a.j,s.m8]}),e})()},70833:(e,t,n)=>{"use strict";n(93576),n(56111),n(54388),n(96232),n(13409),n(76329),n(92900),n(58452),n(37002);var i=n(8642);t.z5=i.async,n(23437),n(83547),n(35226),n(31773),n(43984),n(67241),n(5880),n(23915),n(7786),n(72516),n(82233),n(72974),n(88465),n(25639),n(18574),n(56224),n(39338),n(63611),n(83639),n(61494),n(39351),n(79941),n(93464),n(62225),n(28770),n(10724),n(91647),n(82482),n(47410),n(84128),n(26591),n(98779),n(30787),n(12688),n(97862),n(28598),n(97977),n(18207),n(72408),n(40498),n(58665),n(18516),n(79941),n(26591),n(68273)},39338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(58452),s=n(1156),a=n(15730),r=n(40993),l=n(80130);function c(e){var t=this,n=e.args,i=e.subscriber,s=e.params,a=s.callbackFunc,r=s.context,l=s.scheduler,c=s.subject;if(!c){c=s.subject=new o.AsyncSubject;try{a.apply(r,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.add(l.schedule(d,0,{value:e.length<=1?e[0]:e,subject:c}))}]))}catch(u){c.error(u)}}this.add(c.subscribe(i))}function d(e){var t=e.subject;t.next(e.value),t.complete()}t.bindCallback=function e(t,n,d){if(n){if(!l.isScheduler(n))return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return e(t,d).apply(void 0,i).pipe(s.map(function(e){return r.isArray(e)?n.apply(void 0,e):n(e)}))};d=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s,r=this,l={context:r,subject:s,callbackFunc:t,scheduler:d};return new i.Observable(function(n){if(d)return d.schedule(c,0,{args:e,subscriber:n,params:l});if(!s){s=new o.AsyncSubject;try{t.apply(r,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.next(e.length<=1?e[0]:e),s.complete()}]))}catch(i){a.canReportError(s)?s.error(i):console.warn(i)}}return s.subscribe(n)})}}},63611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(58452),s=n(1156),a=n(15730),r=n(80130),l=n(40993);function c(e){var t=this,n=e.params,i=e.subscriber,s=e.context,a=n.callbackFunc,r=n.args,l=n.scheduler,c=n.subject;if(!c){c=n.subject=new o.AsyncSubject;try{a.apply(s,r.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.shift();t.add(i?l.schedule(u,0,{err:i,subject:c}):l.schedule(d,0,{value:e.length<=1?e[0]:e,subject:c}))}]))}catch(p){this.add(l.schedule(u,0,{err:p,subject:c}))}}this.add(c.subscribe(i))}function d(e){var t=e.subject;t.next(e.value),t.complete()}function u(e){e.subject.error(e.err)}t.bindNodeCallback=function e(t,n,d){if(n){if(!r.isScheduler(n))return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return e(t,d).apply(void 0,i).pipe(s.map(function(e){return l.isArray(e)?n.apply(void 0,e):n(e)}))};d=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s={subject:void 0,args:e,callbackFunc:t,scheduler:d,context:this};return new i.Observable(function(n){var i=s.context,r=s.subject;if(d)return d.schedule(c,0,{params:s,subscriber:n,context:i});if(!r){r=s.subject=new o.AsyncSubject;try{t.apply(i,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?r.error(n):(r.next(e.length<=1?e[0]:e),r.complete())}]))}catch(l){a.canReportError(r)?r.error(l):console.warn(l)}}return r.subscribe(n)})}}},93464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(40993),s=n(1156),a=n(54720),r=n(62225);function l(e,t){return new i.Observable(function(n){var i=e.length;if(0!==i)for(var o=new Array(i),s=0,a=0,l=function(l){var c=r.from(e[l]),d=!1;n.add(c.subscribe({next:function(e){d||(d=!0,a++),o[l]=e},error:function(e){return n.error(e)},complete:function(){++s!==i&&d||(a===i&&n.next(t?t.reduce(function(e,t,n){return e[t]=o[n],e},{}):o),n.complete())}}))},c=0;c<i;c++)l(c);else n.complete()})}t.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(o.isArray(n))return l(n,null);if(a.isObject(n)&&Object.getPrototypeOf(n)===Object.prototype){var i=Object.keys(n);return l(i.map(function(e){return n[e]}),i)}}if("function"==typeof e[e.length-1]){var r=e.pop();return l(e=1===e.length&&o.isArray(e[0])?e[0]:e,null).pipe(s.map(function(e){return r.apply(void 0,e)}))}return l(e,null)}},28770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(40993),s=n(67382),a=n(1156);function r(e,t,n,i,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,o),s=function(){return a.removeEventListener(t,n,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var l=e;e.on(t,n),s=function(){return l.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,n),s=function(){return c.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var d=0,u=e.length;d<u;d++)r(e[d],t,n,i,o)}i.add(s)}t.fromEvent=function e(t,n,l,c){return s.isFunction(l)&&(c=l,l=void 0),c?e(t,n,l).pipe(a.map(function(e){return o.isArray(e)?c.apply(void 0,e):c(e)})):new i.Observable(function(e){r(t,n,function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},e,l)})}},10724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(40993),s=n(67382),a=n(1156);t.fromEventPattern=function e(t,n,r){return r?e(t,n).pipe(a.map(function(e){return o.isArray(e)?r.apply(void 0,e):r(e)})):new i.Observable(function(e){var i,o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1===t.length?t[0]:t)};try{i=t(o)}catch(a){return void e.error(a)}if(s.isFunction(n))return function(){return n(o,i)}})}},91647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(72516),s=n(80130);function a(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(s){return void t.error(s)}else e.needIterate=!0;if(n){var i=void 0;try{i=n(e.state)}catch(s){return void t.error(s)}if(!i)return void t.complete();if(t.closed)return}var o;try{o=e.resultSelector(e.state)}catch(s){return void t.error(s)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}t.generate=function(e,t,n,r,l){var c,d;return 1==arguments.length?(d=e.initialState,t=e.condition,n=e.iterate,c=e.resultSelector||o.identity,l=e.scheduler):void 0===r||s.isScheduler(r)?(d=e,c=o.identity,l=r):(d=e,c=r),new i.Observable(function(e){var i=d;if(l)return l.schedule(a,0,{subscriber:e,iterate:n,condition:t,resultSelector:c,state:i});for(;;){if(t){var o=void 0;try{o=t(i)}catch(r){return void e.error(r)}if(!o){e.complete();break}}var s=void 0;try{s=c(i)}catch(r){return void e.error(r)}if(e.next(s),e.closed)break;try{i=n(i)}catch(r){return void e.error(r)}}})}},82482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(39351),o=n(79941);t.iif=function(e,t,n){return void 0===t&&(t=o.EMPTY),void 0===n&&(n=o.EMPTY),i.defer(function(){return e()?t:n})}},47410:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(8642),s=n(24004);function a(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=o.async),(!s.isNumeric(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=o.async),new i.Observable(function(n){return n.add(t.schedule(a,e,{subscriber:n,counter:0,period:e})),n})}},26591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(7786);t.NEVER=new i.Observable(o.noop),t.never=function(){return t.NEVER}},30787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(62225),s=n(40993),a=n(79941);t.onErrorResumeNext=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return a.EMPTY;var r=t[0],l=t.slice(1);return 1===t.length&&s.isArray(r)?e.apply(void 0,r):new i.Observable(function(t){var n=function(){return t.add(e.apply(void 0,l).subscribe(t))};return o.from(r).subscribe({next:function(e){t.next(e)},error:n,complete:n})})}},12688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(43984);function s(e){var t=e.keys,n=e.index,i=e.subscriber,o=e.subscription,s=e.obj;if(!i.closed)if(n<t.length){var a=t[n];i.next([a,s[a]]),o.add(this.schedule({keys:t,index:n+1,subscriber:i,subscription:o,obj:s}))}else i.complete()}t.pairs=function(e,t){return new i.Observable(t?function(n){var i=Object.keys(e),a=new o.Subscription;return a.add(t.schedule(s,0,{keys:i,index:0,subscriber:n,subscription:a,obj:e})),a}:function(t){for(var n=Object.keys(e),i=0;i<n.length&&!t.closed;i++){var o=n[i];e.hasOwnProperty(o)&&t.next([o,e[o]])}t.complete()})},t.dispatch=s},97862:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12191),o=n(50747),s=n(26179),a=n(93576);t.partition=function(e,t,n){return[s.filter(t,n)(new a.Observable(o.subscribeTo(e))),s.filter(i.not(t,n))(new a.Observable(o.subscribeTo(e)))]}},97977:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576);function o(e){var t=e.start,n=e.index,i=e.subscriber;n>=e.count?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}t.range=function(e,t,n){return void 0===e&&(e=0),new i.Observable(function(i){void 0===t&&(t=e,e=0);var s=0,a=e;if(n)return n.schedule(o,0,{index:s,count:t,start:e,subscriber:i});for(;;){if(s++>=t){i.complete();break}if(i.next(a++),i.closed)break}})},t.dispatch=o},40498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576),o=n(62225),s=n(79941);t.using=function(e,t){return new i.Observable(function(n){var i,a;try{i=e()}catch(l){return void n.error(l)}try{a=t(i)}catch(l){return void n.error(l)}var r=(a?o.from(a):s.EMPTY).subscribe(n);return function(){r.unsubscribe(),i&&i.unsubscribe()}})}},75046:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return o(t,e),t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(n(34592).AsyncAction);t.AnimationFrameAction=s},19897:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<o&&(e=n.shift()));if(this.active=!1,t){for(;++i<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(86226).AsyncScheduler);t.AnimationFrameScheduler=s},35226:function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(34592),a=function(e){function t(t,n){void 0===t&&(t=r),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return o(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,i=this.maxFrames;(t=n[0])&&t.delay<=i&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(n(86226).AsyncScheduler);t.VirtualTimeScheduler=a;var r=function(e){function t(t,n,i){void 0===i&&(i=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return o(t,e),t.prototype.schedule=function(n,i){if(void 0===i&&(i=0),!this.id)return e.prototype.schedule.call(this,n,i);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,i)},t.prototype.requestAsyncId=function(e,n,i){void 0===i&&(i=0),this.delay=e.frame+i;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(s.AsyncAction);t.VirtualAction=r},83547:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(75046),o=n(19897);t.animationFrame=new o.AnimationFrameScheduler(i.AnimationFrameAction)},82233:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(93576);t.isObservable=function(e){return!!e&&(e instanceof i.Observable||"function"==typeof e.lift&&"function"==typeof e.subscribe)}}}]);